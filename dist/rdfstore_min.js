/*
 BSD 3-Clause License
 Copyright (c) 2011-2014 Digital Bazaar, Inc.
 All rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are met:

 Redistributions of source code must retain the above copyright notice,
 this list of conditions and the following disclaimer.

 Redistributions in binary form must reproduce the above copyright
 notice, this list of conditions and the following disclaimer in the
 documentation and/or other materials provided with the distribution.

 Neither the name of the Digital Bazaar, Inc. nor the names of its
 contributors may be used to endorse or promote products derived from
 this software without specific prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
 TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
 PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
 TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/
!function(ia){if("object"==typeof exports)module.exports=ia();else if("function"==typeof define&&define.amd)define(ia);else{var r;"undefined"!=typeof window?r=window:"undefined"!=typeof global?r=global:"undefined"!=typeof self&&(r=self);r.rdfstore=ia()}}(function(){return function r(y,x,k){function n(a,d){if(!x[a]){if(!y[a]){var c="function"==typeof require&&require;if(!d&&c)return c(a,!0);if(b)return b(a,!0);throw Error("Cannot find module '"+a+"'");}c=x[a]={exports:{}};y[a][0].call(c.exports,function(d){var b=
y[a][1][d];return n(b?b:d)},c,c.exports,r,y,x,k)}return x[a].exports}for(var b="function"==typeof require&&require,c=0;c<k.length;c++)n(k[c]);return n}({1:[function(r,y,x){},{}],2:[function(r,y,x){function k(a,d,b){if(!(this instanceof k))return new k(a,d,b);var e=typeof a;if("base64"===d&&"string"===e)for(a=a.trim?a.trim():a.replace(/^\s+|\s+$/g,"");0!==a.length%4;)a+="=";var c;if("number"===e)c=w(a);else if("string"===e)c=k.byteLength(a,d);else if("object"===e)c=w(a.length);else throw Error("First argument needs to be a number, array or string.");
var f;k._useTypedArrays?f=k._augment(new Uint8Array(c)):(f=this,f.length=c,f._isBuffer=!0);if(k._useTypedArrays&&"number"===typeof a.byteLength)f._set(a);else{var h=a;if(F(h)||k.isBuffer(h)||h&&"object"===typeof h&&"number"===typeof h.length)for(d=0;d<c;d++)k.isBuffer(a)?f[d]=a.readUInt8(d):f[d]=a[d];else if("string"===e)f.write(a,0,d);else if("number"===e&&!k._useTypedArrays&&!b)for(d=0;d<c;d++)f[d]=0}return f}function n(a,d,b){var e="";for(b=Math.min(a.length,b);d<b;d++)e+=String.fromCharCode(a[d]);
return e}function b(a,d,b,e){e||(z("boolean"===typeof b,"missing or invalid endian"),z(void 0!==d&&null!==d,"missing offset"),z(d+1<a.length,"Trying to read beyond buffer length"));e=a.length;if(!(d>=e))return b?(b=a[d],d+1<e&&(b|=a[d+1]<<8)):(b=a[d]<<8,d+1<e&&(b|=a[d+1])),b}function c(a,d,b,e){e||(z("boolean"===typeof b,"missing or invalid endian"),z(void 0!==d&&null!==d,"missing offset"),z(d+3<a.length,"Trying to read beyond buffer length"));e=a.length;if(!(d>=e)){var c;b?(d+2<e&&(c=a[d+2]<<16),
d+1<e&&(c|=a[d+1]<<8),c|=a[d],d+3<e&&(c+=a[d+3]<<24>>>0)):(d+1<e&&(c=a[d+1]<<16),d+2<e&&(c|=a[d+2]<<8),d+3<e&&(c|=a[d+3]),c+=a[d]<<24>>>0);return c}}function a(a,d,e,c){c||(z("boolean"===typeof e,"missing or invalid endian"),z(void 0!==d&&null!==d,"missing offset"),z(d+1<a.length,"Trying to read beyond buffer length"));if(!(d>=a.length))return a=b(a,d,e,!0),a&32768?-1*(65535-a+1):a}function d(a,d,b,e){e||(z("boolean"===typeof b,"missing or invalid endian"),z(void 0!==d&&null!==d,"missing offset"),
z(d+3<a.length,"Trying to read beyond buffer length"));if(!(d>=a.length))return a=c(a,d,b,!0),a&2147483648?-1*(4294967295-a+1):a}function f(a,d,b,e){e||(z("boolean"===typeof b,"missing or invalid endian"),z(d+3<a.length,"Trying to read beyond buffer length"));return Z.read(a,d,b,23,4)}function h(a,d,b,e){e||(z("boolean"===typeof b,"missing or invalid endian"),z(d+7<a.length,"Trying to read beyond buffer length"));return Z.read(a,d,b,52,8)}function e(a,d,b,e,c){c||(z(void 0!==d&&null!==d,"missing value"),
z("boolean"===typeof e,"missing or invalid endian"),z(void 0!==b&&null!==b,"missing offset"),z(b+1<a.length,"trying to write beyond buffer length"),q(d,65535));var f=a.length;if(!(b>=f))for(c=0,f=Math.min(f-b,2);c<f;c++)a[b+c]=(d&255<<8*(e?c:1-c))>>>8*(e?c:1-c)}function g(a,d,b,e,c){c||(z(void 0!==d&&null!==d,"missing value"),z("boolean"===typeof e,"missing or invalid endian"),z(void 0!==b&&null!==b,"missing offset"),z(b+3<a.length,"trying to write beyond buffer length"),q(d,4294967295));var f=a.length;
if(!(b>=f))for(c=0,f=Math.min(f-b,4);c<f;c++)a[b+c]=d>>>8*(e?c:3-c)&255}function l(a,d,b,c,f){f||(z(void 0!==d&&null!==d,"missing value"),z("boolean"===typeof c,"missing or invalid endian"),z(void 0!==b&&null!==b,"missing offset"),z(b+1<a.length,"Trying to write beyond buffer length"),C(d,32767,-32768));b>=a.length||(0<=d?e(a,d,b,c,f):e(a,65535+d+1,b,c,f))}function m(a,d,b,e,c){c||(z(void 0!==d&&null!==d,"missing value"),z("boolean"===typeof e,"missing or invalid endian"),z(void 0!==b&&null!==b,"missing offset"),
z(b+3<a.length,"Trying to write beyond buffer length"),C(d,2147483647,-2147483648));b>=a.length||(0<=d?g(a,d,b,e,c):g(a,4294967295+d+1,b,e,c))}function t(a,d,b,e,c){c||(z(void 0!==d&&null!==d,"missing value"),z("boolean"===typeof e,"missing or invalid endian"),z(void 0!==b&&null!==b,"missing offset"),z(b+3<a.length,"Trying to write beyond buffer length"),A(d,3.4028234663852886E38,-3.4028234663852886E38));b>=a.length||Z.write(a,d,b,e,23,4)}function v(a,d,b,e,c){c||(z(void 0!==d&&null!==d,"missing value"),
z("boolean"===typeof e,"missing or invalid endian"),z(void 0!==b&&null!==b,"missing offset"),z(b+7<a.length,"Trying to write beyond buffer length"),A(d,1.7976931348623157E308,-1.7976931348623157E308));b>=a.length||Z.write(a,d,b,e,52,8)}function B(a,d,b){if("number"!==typeof a)return b;a=~~a;if(a>=d)return d;if(0<=a)return a;a+=d;return 0<=a?a:0}function w(a){a=~~Math.ceil(+a);return 0>a?0:a}function F(a){return(Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)})(a)}
function D(a){return 16>a?"0"+a.toString(16):a.toString(16)}function G(a){for(var d=[],b=0;b<a.length;b++){var e=a.charCodeAt(b);if(127>=e)d.push(a.charCodeAt(b));else{var c=b;55296<=e&&57343>=e&&b++;e=encodeURIComponent(a.slice(c,b+1)).substr(1).split("%");for(c=0;c<e.length;c++)d.push(parseInt(e[c],16))}}return d}function K(a){for(var d=[],b=0;b<a.length;b++)d.push(a.charCodeAt(b)&255);return d}function L(a,d,b,e){for(var c=0;c<e&&!(c+b>=d.length||c>=a.length);c++)d[c+b]=a[c];return c}function u(a){try{return decodeURIComponent(a)}catch(d){return String.fromCharCode(65533)}}
function q(a,d){z("number"===typeof a,"cannot write a non-number as a number");z(0<=a,"specified a negative value for writing an unsigned value");z(a<=d,"value is larger than maximum value for type");z(Math.floor(a)===a,"value has a fractional component")}function C(a,d,b){z("number"===typeof a,"cannot write a non-number as a number");z(a<=d,"value larger than maximum allowed value");z(a>=b,"value smaller than minimum allowed value");z(Math.floor(a)===a,"value has a fractional component")}function A(a,
d,b){z("number"===typeof a,"cannot write a non-number as a number");z(a<=d,"value larger than maximum allowed value");z(a>=b,"value smaller than minimum allowed value")}function z(a,d){if(!a)throw Error(d||"Failed assertion");}var N=r("base64-js"),Z=r("ieee754");x.Buffer=k;x.SlowBuffer=k;x.INSPECT_MAX_BYTES=50;k.poolSize=8192;k._useTypedArrays=function(){try{var a=new ArrayBuffer(0),d=new Uint8Array(a);d.foo=function(){return 42};return 42===d.foo()&&"function"===typeof d.subarray}catch(b){return!1}}();
k.isEncoding=function(a){switch(String(a).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "binary":case "base64":case "raw":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};k.isBuffer=function(a){return!(null===a||void 0===a||!a._isBuffer)};k.byteLength=function(a,d){var b;a+="";switch(d||"utf8"){case "hex":b=a.length/2;break;case "utf8":case "utf-8":b=G(a).length;break;case "ascii":case "binary":case "raw":b=a.length;break;case "base64":b=N.toByteArray(a).length;
break;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":b=2*a.length;break;default:throw Error("Unknown encoding");}return b};k.concat=function(a,d){z(F(a),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array.");if(0===a.length)return new k(0);if(1===a.length)return a[0];var b;if("number"!==typeof d)for(b=d=0;b<a.length;b++)d+=a[b].length;var e=new k(d),c=0;for(b=0;b<a.length;b++){var f=a[b];f.copy(e,c);c+=f.length}return e};k.prototype.write=function(a,d,b,e){if(isFinite(d))isFinite(b)||
(e=b,b=void 0);else{var c=e;e=d;d=b;b=c}d=Number(d)||0;c=this.length-d;b?(b=Number(b),b>c&&(b=c)):b=c;e=String(e||"utf8").toLowerCase();switch(e){case "hex":d=Number(d)||0;e=this.length-d;b?(b=Number(b),b>e&&(b=e)):b=e;e=a.length;z(0===e%2,"Invalid hex string");b>e/2&&(b=e/2);for(e=0;e<b;e++)c=parseInt(a.substr(2*e,2),16),z(!isNaN(c),"Invalid hex string"),this[d+e]=c;k._charsWritten=2*e;a=e;break;case "utf8":case "utf-8":a=k._charsWritten=L(G(a),this,d,b);break;case "ascii":a=k._charsWritten=L(K(a),
this,d,b);break;case "binary":a=k._charsWritten=L(K(a),this,d,b);break;case "base64":a=k._charsWritten=L(N.toByteArray(a),this,d,b);break;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":for(var f,c=[],h=0;h<a.length;h++)f=a.charCodeAt(h),e=f>>8,f%=256,c.push(f),c.push(e);a=k._charsWritten=L(c,this,d,b);break;default:throw Error("Unknown encoding");}return a};k.prototype.toString=function(a,d,b){a=String(a||"utf8").toLowerCase();d=Number(d)||0;b=void 0!==b?Number(b):b=this.length;if(b===d)return"";
switch(a){case "hex":a=this.length;if(!d||0>d)d=0;if(!b||0>b||b>a)b=a;for(a="";d<b;d++)a+=D(this[d]);b=a;break;case "utf8":case "utf-8":var e=a="";for(b=Math.min(this.length,b);d<b;d++)127>=this[d]?(a+=u(e)+String.fromCharCode(this[d]),e=""):e+="%"+this[d].toString(16);b=a+u(e);break;case "ascii":b=n(this,d,b);break;case "binary":b=n(this,d,b);break;case "base64":b=0===d&&b===this.length?N.fromByteArray(this):N.fromByteArray(this.slice(d,b));break;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":b=
this.slice(d,b);d="";for(a=0;a<b.length;a+=2)d+=String.fromCharCode(b[a]+256*b[a+1]);b=d;break;default:throw Error("Unknown encoding");}return b};k.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};k.prototype.copy=function(a,d,b,e){b||(b=0);e||0===e||(e=this.length);d||(d=0);if(e!==b&&0!==a.length&&0!==this.length)if(z(e>=b,"sourceEnd < sourceStart"),z(0<=d&&d<a.length,"targetStart out of bounds"),z(0<=b&&b<this.length,"sourceStart out of bounds"),
z(0<=e&&e<=this.length,"sourceEnd out of bounds"),e>this.length&&(e=this.length),a.length-d<e-b&&(e=a.length-d+b),e-=b,100>e||!k._useTypedArrays)for(var c=0;c<e;c++)a[c+d]=this[c+b];else a._set(this.subarray(b,b+e),d)};k.prototype.slice=function(a,d){var b=this.length;a=B(a,b,0);d=B(d,b,b);if(k._useTypedArrays)return k._augment(this.subarray(a,d));for(var b=d-a,e=new k(b,void 0,!0),c=0;c<b;c++)e[c]=this[c+a];return e};k.prototype.get=function(a){console.log(".get() is deprecated. Access using array indexes instead.");
return this.readUInt8(a)};k.prototype.set=function(a,d){console.log(".set() is deprecated. Access using array indexes instead.");return this.writeUInt8(a,d)};k.prototype.readUInt8=function(a,d){d||(z(void 0!==a&&null!==a,"missing offset"),z(a<this.length,"Trying to read beyond buffer length"));if(!(a>=this.length))return this[a]};k.prototype.readUInt16LE=function(a,d){return b(this,a,!0,d)};k.prototype.readUInt16BE=function(a,d){return b(this,a,!1,d)};k.prototype.readUInt32LE=function(a,d){return c(this,
a,!0,d)};k.prototype.readUInt32BE=function(a,d){return c(this,a,!1,d)};k.prototype.readInt8=function(a,d){d||(z(void 0!==a&&null!==a,"missing offset"),z(a<this.length,"Trying to read beyond buffer length"));if(!(a>=this.length))return this[a]&128?-1*(255-this[a]+1):this[a]};k.prototype.readInt16LE=function(d,b){return a(this,d,!0,b)};k.prototype.readInt16BE=function(d,b){return a(this,d,!1,b)};k.prototype.readInt32LE=function(a,b){return d(this,a,!0,b)};k.prototype.readInt32BE=function(a,b){return d(this,
a,!1,b)};k.prototype.readFloatLE=function(a,d){return f(this,a,!0,d)};k.prototype.readFloatBE=function(a,d){return f(this,a,!1,d)};k.prototype.readDoubleLE=function(a,d){return h(this,a,!0,d)};k.prototype.readDoubleBE=function(a,d){return h(this,a,!1,d)};k.prototype.writeUInt8=function(a,d,b){b||(z(void 0!==a&&null!==a,"missing value"),z(void 0!==d&&null!==d,"missing offset"),z(d<this.length,"trying to write beyond buffer length"),q(a,255));d>=this.length||(this[d]=a)};k.prototype.writeUInt16LE=function(a,
d,b){e(this,a,d,!0,b)};k.prototype.writeUInt16BE=function(a,d,b){e(this,a,d,!1,b)};k.prototype.writeUInt32LE=function(a,d,b){g(this,a,d,!0,b)};k.prototype.writeUInt32BE=function(a,d,b){g(this,a,d,!1,b)};k.prototype.writeInt8=function(a,d,b){b||(z(void 0!==a&&null!==a,"missing value"),z(void 0!==d&&null!==d,"missing offset"),z(d<this.length,"Trying to write beyond buffer length"),C(a,127,-128));d>=this.length||(0<=a?this.writeUInt8(a,d,b):this.writeUInt8(255+a+1,d,b))};k.prototype.writeInt16LE=function(a,
d,b){l(this,a,d,!0,b)};k.prototype.writeInt16BE=function(a,d,b){l(this,a,d,!1,b)};k.prototype.writeInt32LE=function(a,d,b){m(this,a,d,!0,b)};k.prototype.writeInt32BE=function(a,d,b){m(this,a,d,!1,b)};k.prototype.writeFloatLE=function(a,d,b){t(this,a,d,!0,b)};k.prototype.writeFloatBE=function(a,d,b){t(this,a,d,!1,b)};k.prototype.writeDoubleLE=function(a,d,b){v(this,a,d,!0,b)};k.prototype.writeDoubleBE=function(a,d,b){v(this,a,d,!1,b)};k.prototype.fill=function(a,d,b){a||(a=0);d||(d=0);b||(b=this.length);
"string"===typeof a&&(a=a.charCodeAt(0));z("number"===typeof a&&!isNaN(a),"value is not a number");z(b>=d,"end < start");if(b!==d&&0!==this.length)for(z(0<=d&&d<this.length,"start out of bounds"),z(0<=b&&b<=this.length,"end out of bounds");d<b;d++)this[d]=a};k.prototype.inspect=function(){for(var a=[],d=this.length,b=0;b<d;b++)if(a[b]=D(this[b]),b===x.INSPECT_MAX_BYTES){a[b+1]="...";break}return"<Buffer "+a.join(" ")+">"};k.prototype.toArrayBuffer=function(){if("undefined"!==typeof Uint8Array){if(k._useTypedArrays)return(new k(this)).buffer;
for(var a=new Uint8Array(this.length),d=0,b=a.length;d<b;d+=1)a[d]=this[d];return a.buffer}throw Error("Buffer.toArrayBuffer not supported in this browser");};var H=k.prototype;k._augment=function(a){a._isBuffer=!0;a._get=a.get;a._set=a.set;a.get=H.get;a.set=H.set;a.write=H.write;a.toString=H.toString;a.toLocaleString=H.toString;a.toJSON=H.toJSON;a.copy=H.copy;a.slice=H.slice;a.readUInt8=H.readUInt8;a.readUInt16LE=H.readUInt16LE;a.readUInt16BE=H.readUInt16BE;a.readUInt32LE=H.readUInt32LE;a.readUInt32BE=
H.readUInt32BE;a.readInt8=H.readInt8;a.readInt16LE=H.readInt16LE;a.readInt16BE=H.readInt16BE;a.readInt32LE=H.readInt32LE;a.readInt32BE=H.readInt32BE;a.readFloatLE=H.readFloatLE;a.readFloatBE=H.readFloatBE;a.readDoubleLE=H.readDoubleLE;a.readDoubleBE=H.readDoubleBE;a.writeUInt8=H.writeUInt8;a.writeUInt16LE=H.writeUInt16LE;a.writeUInt16BE=H.writeUInt16BE;a.writeUInt32LE=H.writeUInt32LE;a.writeUInt32BE=H.writeUInt32BE;a.writeInt8=H.writeInt8;a.writeInt16LE=H.writeInt16LE;a.writeInt16BE=H.writeInt16BE;
a.writeInt32LE=H.writeInt32LE;a.writeInt32BE=H.writeInt32BE;a.writeFloatLE=H.writeFloatLE;a.writeFloatBE=H.writeFloatBE;a.writeDoubleLE=H.writeDoubleLE;a.writeDoubleBE=H.writeDoubleBE;a.fill=H.fill;a.inspect=H.inspect;a.toArrayBuffer=H.toArrayBuffer;return a}},{"base64-js":3,ieee754:4}],3:[function(r,y,x){(function(k){function n(b){b=b.charCodeAt(0);if(43===b||45===b)return 62;if(47===b||95===b)return 63;if(48>b)return-1;if(58>b)return b-48+52;if(91>b)return b-65;if(123>b)return b-97+26}var b="undefined"!==
typeof Uint8Array?Uint8Array:Array;k.toByteArray=function(c){function a(a){g[l++]=a}var d,f,h,e,g;if(0<c.length%4)throw Error("Invalid string. Length must be a multiple of 4");d=c.length;e="="===c.charAt(d-2)?2:"="===c.charAt(d-1)?1:0;g=new b(3*c.length/4-e);f=0<e?c.length-4:c.length;var l=0;for(d=0;d<f;d+=4)h=n(c.charAt(d))<<18|n(c.charAt(d+1))<<12|n(c.charAt(d+2))<<6|n(c.charAt(d+3)),a((h&16711680)>>16),a((h&65280)>>8),a(h&255);2===e?(h=n(c.charAt(d))<<2|n(c.charAt(d+1))>>4,a(h&255)):1===e&&(h=
n(c.charAt(d))<<10|n(c.charAt(d+1))<<4|n(c.charAt(d+2))>>2,a(h>>8&255),a(h&255));return g};k.fromByteArray=function(b){var a,d=b.length%3,f="",h,e;a=0;for(e=b.length-d;a<e;a+=3)h=(b[a]<<16)+(b[a+1]<<8)+b[a+2],h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(h>>18&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(h>>12&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(h>>6&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(h&
63),f+=h;switch(d){case 1:h=b[b.length-1];f+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(h>>2);f+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(h<<4&63);f+="==";break;case 2:h=(b[b.length-2]<<8)+b[b.length-1],f+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(h>>10),f+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(h>>4&63),f+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(h<<
2&63),f+="="}return f}})("undefined"===typeof x?this.base64js={}:x)},{}],4:[function(r,y,x){x.read=function(k,n,b,c,a){var d;d=8*a-c-1;var f=(1<<d)-1,h=f>>1,e=-7;a=b?a-1:0;var g=b?-1:1,l=k[n+a];a+=g;b=l&(1<<-e)-1;l>>=-e;for(e+=d;0<e;b=256*b+k[n+a],a+=g,e-=8);d=b&(1<<-e)-1;b>>=-e;for(e+=c;0<e;d=256*d+k[n+a],a+=g,e-=8);if(0===b)b=1-h;else{if(b===f)return d?NaN:Infinity*(l?-1:1);d+=Math.pow(2,c);b-=h}return(l?-1:1)*d*Math.pow(2,b-c)};x.write=function(k,n,b,c,a,d){var f,h=8*d-a-1,e=(1<<h)-1,g=e>>1,l=
23===a?Math.pow(2,-24)-Math.pow(2,-77):0;d=c?0:d-1;var m=c?1:-1,t=0>n||0===n&&0>1/n?1:0;n=Math.abs(n);isNaN(n)||Infinity===n?(n=isNaN(n)?1:0,c=e):(c=Math.floor(Math.log(n)/Math.LN2),1>n*(f=Math.pow(2,-c))&&(c--,f*=2),n=1<=c+g?n+l/f:n+l*Math.pow(2,1-g),2<=n*f&&(c++,f/=2),c+g>=e?(n=0,c=e):1<=c+g?(n=(n*f-1)*Math.pow(2,a),c+=g):(n=n*Math.pow(2,g-1)*Math.pow(2,a),c=0));for(;8<=a;k[b+d]=n&255,d+=m,n/=256,a-=8);c=c<<a|n;for(h+=a;0<h;k[b+d]=c&255,d+=m,c/=256,h-=8);k[b+d-m]|=128*t}},{}],5:[function(r,y,x){function k(){this._events=
this._events||{};this._maxListeners=this._maxListeners||void 0}function n(b){return"function"===typeof b}function b(b){return"object"===typeof b&&null!==b}y.exports=k;k.EventEmitter=k;k.prototype._events=void 0;k.prototype._maxListeners=void 0;k.defaultMaxListeners=10;k.prototype.setMaxListeners=function(b){if("number"!==typeof b||0>b||isNaN(b))throw TypeError("n must be a positive number");this._maxListeners=b;return this};k.prototype.emit=function(c){var a,d,f,h;this._events||(this._events={});
if("error"===c&&(!this._events.error||b(this._events.error)&&!this._events.error.length)){a=arguments[1];if(a instanceof Error)throw a;throw TypeError('Uncaught, unspecified "error" event.');}d=this._events[c];if(void 0===d)return!1;if(n(d))switch(arguments.length){case 1:d.call(this);break;case 2:d.call(this,arguments[1]);break;case 3:d.call(this,arguments[1],arguments[2]);break;default:a=arguments.length;f=Array(a-1);for(h=1;h<a;h++)f[h-1]=arguments[h];d.apply(this,f)}else if(b(d)){a=arguments.length;
f=Array(a-1);for(h=1;h<a;h++)f[h-1]=arguments[h];d=d.slice();a=d.length;for(h=0;h<a;h++)d[h].apply(this,f)}return!0};k.prototype.addListener=function(c,a){var d;if(!n(a))throw TypeError("listener must be a function");this._events||(this._events={});this._events.newListener&&this.emit("newListener",c,n(a.listener)?a.listener:a);this._events[c]?b(this._events[c])?this._events[c].push(a):this._events[c]=[this._events[c],a]:this._events[c]=a;b(this._events[c])&&!this._events[c].warned&&(d=void 0!==this._maxListeners?
this._maxListeners:k.defaultMaxListeners)&&0<d&&this._events[c].length>d&&(this._events[c].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[c].length),"function"===typeof console.trace&&console.trace());return this};k.prototype.on=k.prototype.addListener;k.prototype.once=function(b,a){function d(){this.removeListener(b,d);f||(f=!0,a.apply(this,arguments))}if(!n(a))throw TypeError("listener must be a function");
var f=!1;d.listener=a;this.on(b,d);return this};k.prototype.removeListener=function(c,a){var d,f,h;if(!n(a))throw TypeError("listener must be a function");if(!this._events||!this._events[c])return this;d=this._events[c];h=d.length;f=-1;if(d===a||n(d.listener)&&d.listener===a)delete this._events[c],this._events.removeListener&&this.emit("removeListener",c,a);else if(b(d)){for(;0<h--;)if(d[h]===a||d[h].listener&&d[h].listener===a){f=h;break}if(0>f)return this;1===d.length?(d.length=0,delete this._events[c]):
d.splice(f,1);this._events.removeListener&&this.emit("removeListener",c,a)}return this};k.prototype.removeAllListeners=function(b){var a;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[b]&&delete this._events[b],this;if(0===arguments.length){for(a in this._events)"removeListener"!==a&&this.removeAllListeners(a);this.removeAllListeners("removeListener");this._events={};return this}a=this._events[b];if(n(a))this.removeListener(b,
a);else for(;a.length;)this.removeListener(b,a[a.length-1]);delete this._events[b];return this};k.prototype.listeners=function(b){return this._events&&this._events[b]?n(this._events[b])?[this._events[b]]:this._events[b].slice():[]};k.listenerCount=function(b,a){return b._events&&b._events[a]?n(b._events[a])?1:b._events[a].length:0}},{}],6:[function(r,y,x){var k=y.exports;r("events");var n=r("./lib/request"),b=r("url");k.request=function(a,d){"string"===typeof a&&(a=b.parse(a));a||(a={});a.host||a.port||
(a.port=parseInt(window.location.port,10));!a.host&&a.hostname&&(a.host=a.hostname);a.scheme||(a.scheme=window.location.protocol.split(":")[0]);a.host||(a.host=window.location.hostname||window.location.host);/:/.test(a.host)&&(a.port||(a.port=a.host.split(":")[1]),a.host=a.host.split(":")[0]);a.port||(a.port="https"==a.scheme?443:80);var f=new n(new c,a);if(d)f.on("response",d);return f};k.get=function(a,d){a.method="GET";var b=k.request(a,d);b.end();return b};k.Agent=function(){};k.Agent.defaultMaxSockets=
4;var c=function(){if("undefined"===typeof window)throw Error("no window object present");if(window.XMLHttpRequest)return window.XMLHttpRequest;if(window.ActiveXObject)for(var a=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Microsoft.XMLHTTP"],d=0;d<a.length;d++)try{var b=new window.ActiveXObject(a[d]);return function(){if(b){var c=b;b=null;return c}return new window.ActiveXObject(a[d])}}catch(c){}throw Error("ajax not supported in this browser");}();k.STATUS_CODES={100:"Continue",101:"Switching Protocols",
102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",
409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",
503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{"./lib/request":7,events:5,url:26}],7:[function(r,y,x){x=r("stream");var k=r("./response"),n=r("Base64");r=r("inherits");var b=y.exports=function(a,b){var h=this;h.writable=!0;h.xhr=a;h.body=[];h.uri=(b.scheme||"http")+"://"+b.host+(b.port?":"+b.port:"")+(b.path||"/");"undefined"===
typeof b.withCredentials&&(b.withCredentials=!0);try{a.withCredentials=b.withCredentials}catch(t){}a.open(b.method||"GET",h.uri,!0);h._headers={};if(b.headers)for(var e=c(b.headers),g=0;g<e.length;g++){var l=e[g];h.isSafeRequestHeader(l)&&h.setHeader(l,b.headers[l])}b.auth&&this.setHeader("Authorization","Basic "+n.btoa(b.auth));var m=new k;m.on("close",function(){h.emit("close")});m.on("ready",function(){h.emit("response",m)});a.onreadystatechange=function(){a.__aborted||m.handle(a)}};r(b,x);b.prototype.setHeader=
function(a,b){this._headers[a.toLowerCase()]=b};b.prototype.getHeader=function(a){return this._headers[a.toLowerCase()]};b.prototype.removeHeader=function(a){delete this._headers[a.toLowerCase()]};b.prototype.write=function(a){this.body.push(a)};b.prototype.destroy=function(a){this.xhr.__aborted=!0;this.xhr.abort();this.emit("close")};b.prototype.end=function(d){void 0!==d&&this.body.push(d);var b=c(this._headers);for(d=0;d<b.length;d++){var h=b[d],e=this._headers[h];if(a(e))for(var g=0;g<e.length;g++)this.xhr.setRequestHeader(h,
e[g]);else this.xhr.setRequestHeader(h,e)}if(0===this.body.length)this.xhr.send("");else if("string"===typeof this.body[0])this.xhr.send(this.body.join(""));else{if(a(this.body[0]))for(b=[],d=0;d<this.body.length;d++)b.push.apply(b,this.body[d]);else if(/Array/.test(Object.prototype.toString.call(this.body[0]))){for(d=g=0;d<this.body.length;d++)g+=this.body[d].length;b=new this.body[0].constructor(g);for(d=h=0;d<this.body.length;d++)for(e=this.body[d],g=0;g<e.length;g++)b[h++]=e[g]}else for(b="",
d=0;d<this.body.length;d++)b+=this.body[d].toString();this.xhr.send(b)}};b.unsafeHeaders="accept-charset accept-encoding access-control-request-headers access-control-request-method connection content-length cookie cookie2 content-transfer-encoding date expect host keep-alive origin referer te trailer transfer-encoding upgrade user-agent via".split(" ");b.prototype.isSafeRequestHeader=function(a){if(!a)return!1;var c;a:if(c=b.unsafeHeaders,a=a.toLowerCase(),c.indexOf)c=c.indexOf(a);else{for(var h=
0;h<c.length;h++)if(c[h]===a){c=h;break a}c=-1}return-1===c};var c=Object.keys||function(a){var b=[],c;for(c in a)b.push(c);return b},a=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}},{"./response":8,Base64:9,inherits:11,stream:19}],8:[function(r,y,x){function k(a){a=a.getAllResponseHeaders().split(/\r?\n/);for(var d={},b=0;b<a.length;b++){var h=a[b];if(""!==h){var e=h.match(/^([^:]+):\s*(.*)/);e?(h=e[1].toLowerCase(),e=e[2],void 0!==d[h]?c(d[h])?d[h].push(e):
d[h]=[d[h],e]:d[h]=e):d[h]=!0}}return d}x=r("stream");r=r("util");y=y.exports=function(a){this.offset=0;this.readable=!0};r.inherits(y,x);var n=!0,b=!0;y.prototype.getResponse=function(a){var d=String(a.responseType).toLowerCase();return"blob"===d?a.responseBlob||a.response:"arraybuffer"===d?a.response:a.responseText};y.prototype.getHeader=function(a){return this.headers[a.toLowerCase()]};y.prototype.handle=function(a){if(2===a.readyState&&b){try{this.statusCode=a.status,this.headers=k(a)}catch(d){b=
!1}b&&this.emit("ready")}else if(n&&3===a.readyState){try{this.statusCode||(this.statusCode=a.status,this.headers=k(a),this.emit("ready"))}catch(d){}try{this._emitData(a)}catch(d){n=!1}}else 4===a.readyState&&(this.statusCode||(this.statusCode=a.status,this.emit("ready")),this._emitData(a),a.error?this.emit("error",this.getResponse(a)):this.emit("end"),this.emit("close"))};y.prototype._emitData=function(a){a=this.getResponse(a);a.toString().match(/ArrayBuffer/)?(this.emit("data",new Uint8Array(a,
this.offset)),this.offset=a.byteLength):a.length>this.offset&&(this.emit("data",a.slice(this.offset)),this.offset=a.length)};var c=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}},{stream:19,util:28}],9:[function(r,y,x){(function(){function k(b){this.message=b}var n="undefined"!=typeof x?x:this;k.prototype=Error();k.prototype.name="InvalidCharacterError";n.btoa||(n.btoa=function(b){for(var c,a,d=0,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
h="";b.charAt(d|0)||(f="=",d%1);h+=f.charAt(63&c>>8-d%1*8)){a=b.charCodeAt(d+=.75);if(255<a)throw new k("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");c=c<<8|a}return h});n.atob||(n.atob=function(b){b=b.replace(/=+$/,"");if(1==b.length%4)throw new k("'atob' failed: The string to be decoded is not correctly encoded.");for(var c=0,a,d,f=0,h="";d=b.charAt(f++);~d&&(a=c%4?64*a+d:d,c++%4)?h+=String.fromCharCode(255&a>>(-2*c&6)):0)d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(d);
return h})})()},{}],10:[function(r,y,x){var k=r("http");r=y.exports;for(var n in k)k.hasOwnProperty(n)&&(r[n]=k[n]);r.request=function(b,c){b||(b={});b.scheme="https";b.protocol="https:";return k.request.call(this,b,c)}},{http:6}],11:[function(r,y,x){y.exports="function"===typeof Object.create?function(k,n){k.super_=n;k.prototype=Object.create(n.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}})}:function(k,n){k.super_=n;var b=function(){};b.prototype=n.prototype;k.prototype=
new b;k.prototype.constructor=k}},{}],12:[function(r,y,x){(function(k){function n(a,b){for(var c=0,e=a.length-1;0<=e;e--){var g=a[e];"."===g?a.splice(e,1):".."===g?(a.splice(e,1),c++):c&&(a.splice(e,1),c--)}if(b)for(;c--;c)a.unshift("..");return a}function b(a,b){if(a.filter)return a.filter(b);for(var c=[],e=0;e<a.length;e++)b(a[e],e,a)&&c.push(a[e]);return c}var c=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;x.resolve=function(){for(var a="",c=!1,h=arguments.length-1;-1<=h&&!c;h--){var e=
0<=h?arguments[h]:k.cwd();if("string"!==typeof e)throw new TypeError("Arguments to path.resolve must be strings");e&&(a=e+"/"+a,c="/"===e.charAt(0))}a=n(b(a.split("/"),function(a){return!!a}),!c).join("/");return(c?"/":"")+a||"."};x.normalize=function(d){var c=x.isAbsolute(d),h="/"===a(d,-1);(d=n(b(d.split("/"),function(a){return!!a}),!c).join("/"))||c||(d=".");d&&h&&(d+="/");return(c?"/":"")+d};x.isAbsolute=function(a){return"/"===a.charAt(0)};x.join=function(){var a=Array.prototype.slice.call(arguments,
0);return x.normalize(b(a,function(a,d){if("string"!==typeof a)throw new TypeError("Arguments to path.join must be strings");return a}).join("/"))};x.relative=function(a,b){function c(a){for(var d=0;d<a.length&&""===a[d];d++);for(var b=a.length-1;0<=b&&""===a[b];b--);return d>b?[]:a.slice(d,b-d+1)}a=x.resolve(a).substr(1);b=x.resolve(b).substr(1);for(var e=c(a.split("/")),g=c(b.split("/")),l=Math.min(e.length,g.length),m=l,t=0;t<l;t++)if(e[t]!==g[t]){m=t;break}l=[];for(t=m;t<e.length;t++)l.push("..");
l=l.concat(g.slice(m));return l.join("/")};x.sep="/";x.delimiter=":";x.dirname=function(a){var b=c.exec(a).slice(1);a=b[0];b=b[1];if(!a&&!b)return".";b&&(b=b.substr(0,b.length-1));return a+b};x.basename=function(a,b){var h=c.exec(a).slice(1)[2];b&&h.substr(-1*b.length)===b&&(h=h.substr(0,h.length-b.length));return h};x.extname=function(a){return c.exec(a).slice(1)[3]};var a="b"==="ab".substr(-1)?function(a,b,c){return a.substr(b,c)}:function(a,b,c){0>b&&(b=a.length+b);return a.substr(b,c)}}).call(this,
r("1YiZ5S"))},{"1YiZ5S":13}],13:[function(r,y,x){function k(){}r=y.exports={};r.nextTick=function(){if("undefined"!==typeof window&&window.setImmediate)return function(b){return window.setImmediate(b)};if("undefined"!==typeof window&&window.postMessage&&window.addEventListener){var k=[];window.addEventListener("message",function(b){var c=b.source;c!==window&&null!==c||"process-tick"!==b.data||(b.stopPropagation(),0<k.length&&k.shift()())},!0);return function(b){k.push(b);window.postMessage("process-tick",
"*")}}return function(b){setTimeout(b,0)}}();r.title="browser";r.browser=!0;r.env={};r.argv=[];r.on=k;r.addListener=k;r.once=k;r.off=k;r.removeListener=k;r.removeAllListeners=k;r.emit=k;r.binding=function(k){throw Error("process.binding is not supported");};r.cwd=function(){return"/"};r.chdir=function(k){throw Error("process.chdir is not supported");}},{}],14:[function(r,y,x){(function(k){(function(n){function b(a){throw RangeError(D[a]);}function c(a,b){for(var d=a.length;d--;)a[d]=b(a[d]);return a}
function a(a,b){return c(a.split(F),b).join(".")}function d(a){for(var b=[],d=0,e=a.length,c,f;d<e;)c=a.charCodeAt(d++),55296<=c&&56319>=c&&d<e?(f=a.charCodeAt(d++),56320==(f&64512)?b.push(((c&1023)<<10)+(f&1023)+65536):(b.push(c),d--)):b.push(c);return b}function f(a){return c(a,function(a){var b="";65535<a&&(a-=65536,b+=K(a>>>10&1023|55296),a=56320|a&1023);return b+=K(a)}).join("")}function h(a,b){return a+22+75*(26>a)-((0!=b)<<5)}function e(a,b,d){var e=0;a=d?G(a/700):a>>1;for(a+=G(a/b);455<a;e+=
36)a=G(a/35);return G(e+36*a/(a+38))}function g(a){var d=[],c=a.length,h,g=0,t=128,l=72,w,m,K,D,v;w=a.lastIndexOf("-");0>w&&(w=0);for(m=0;m<w;++m)128<=a.charCodeAt(m)&&b("not-basic"),d.push(a.charCodeAt(m));for(w=0<w?w+1:0;w<c;){m=g;h=1;for(K=36;;K+=36){w>=c&&b("invalid-input");D=a.charCodeAt(w++);D=10>D-48?D-22:26>D-65?D-65:26>D-97?D-97:36;(36<=D||D>G((2147483647-g)/h))&&b("overflow");g+=D*h;v=K<=l?1:K>=l+26?26:K-l;if(D<v)break;D=36-v;h>G(2147483647/D)&&b("overflow");h*=D}h=d.length+1;l=e(g-m,h,
0==m);G(g/h)>2147483647-t&&b("overflow");t+=G(g/h);g%=h;d.splice(g++,0,t)}return f(d)}function l(a){var c,f,g,t,l,w,m,D,v,L=[],B,k,F;a=d(a);B=a.length;c=128;f=0;l=72;for(w=0;w<B;++w)v=a[w],128>v&&L.push(K(v));for((g=t=L.length)&&L.push("-");g<B;){m=2147483647;for(w=0;w<B;++w)v=a[w],v>=c&&v<m&&(m=v);k=g+1;m-c>G((2147483647-f)/k)&&b("overflow");f+=(m-c)*k;c=m;for(w=0;w<B;++w)if(v=a[w],v<c&&2147483647<++f&&b("overflow"),v==c){D=f;for(m=36;;m+=36){v=m<=l?1:m>=l+26?26:m-l;if(D<v)break;F=D-v;D=36-v;L.push(K(h(v+
F%D,0)));D=G(F/D)}L.push(K(h(D,0)));l=e(f,k,g==t);f=0;++g}++f;++c}return L.join("")}var m="object"==typeof x&&x,t="object"==typeof y&&y&&y.exports==m&&y,v="object"==typeof k&&k;if(v.global===v||v.window===v)n=v;var B=/^xn--/,w=/[^ -~]/,F=/\x2E|\u3002|\uFF0E|\uFF61/g,D={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},G=Math.floor,K=String.fromCharCode,L,v={version:"1.2.4",ucs2:{decode:d,encode:f},
decode:g,encode:l,toASCII:function(b){return a(b,function(a){return w.test(a)?"xn--"+l(a):a})},toUnicode:function(b){return a(b,function(a){return B.test(a)?g(a.slice(4).toLowerCase()):a})}};if(m&&!m.nodeType)if(t)t.exports=v;else for(L in v)v.hasOwnProperty(L)&&(m[L]=v[L]);else n.punycode=v})(this)}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],15:[function(r,y,x){y.exports=function(n,b,c,a){c=c||"=";var d={};if("string"!==typeof n||0===n.length)return d;var f=
/\+/g;n=n.split(b||"&");b=1E3;a&&"number"===typeof a.maxKeys&&(b=a.maxKeys);a=n.length;0<b&&a>b&&(a=b);for(b=0;b<a;++b){var h=n[b].replace(f,"%20"),e=h.indexOf(c),g;0<=e?(g=h.substr(0,e),h=h.substr(e+1)):(g=h,h="");g=decodeURIComponent(g);h=decodeURIComponent(h);Object.prototype.hasOwnProperty.call(d,g)?k(d[g])?d[g].push(h):d[g]=[d[g],h]:d[g]=h}return d};var k=Array.isArray||function(k){return"[object Array]"===Object.prototype.toString.call(k)}},{}],16:[function(r,y,x){function k(a,b){if(a.map)return a.map(b);
for(var c=[],h=0;h<a.length;h++)c.push(b(a[h],h));return c}var n=function(a){switch(typeof a){case "string":return a;case "boolean":return a?"true":"false";case "number":return isFinite(a)?a:"";default:return""}};y.exports=function(a,d,f,h){d=d||"&";f=f||"=";null===a&&(a=void 0);return"object"===typeof a?k(c(a),function(e){var c=encodeURIComponent(n(e))+f;return b(a[e])?a[e].map(function(a){return c+encodeURIComponent(n(a))}).join(d):c+encodeURIComponent(n(a[e]))}).join(d):h?encodeURIComponent(n(h))+
f+encodeURIComponent(n(a)):""};var b=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},c=Object.keys||function(a){var b=[],c;for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b}},{}],17:[function(r,y,x){x.decode=x.parse=r("./decode");x.encode=x.stringify=r("./encode")},{"./decode":15,"./encode":16}],18:[function(r,y,x){function k(b){if(!(this instanceof k))return new k(b);c.call(this,b);a.call(this,b);b&&!1===b.readable&&(this.readable=!1);
b&&!1===b.writable&&(this.writable=!1);this.allowHalfOpen=!0;b&&!1===b.allowHalfOpen&&(this.allowHalfOpen=!1);this.once("end",n)}function n(){if(!this.allowHalfOpen&&!this._writableState.ended){var a=this;b(function(){a.end()})}}y.exports=k;y=r("inherits");var b=r("process/browser.js").nextTick,c=r("./readable.js"),a=r("./writable.js");y(k,c);k.prototype.write=a.prototype.write;k.prototype.end=a.prototype.end;k.prototype._write=a.prototype._write},{"./readable.js":22,"./writable.js":24,inherits:11,
"process/browser.js":20}],19:[function(r,y,x){function k(){n.call(this)}y.exports=k;var n=r("events").EventEmitter;r("inherits")(k,n);k.Readable=r("./readable.js");k.Writable=r("./writable.js");k.Duplex=r("./duplex.js");k.Transform=r("./transform.js");k.PassThrough=r("./passthrough.js");k.Stream=k;k.prototype.pipe=function(b,c){function a(a){b.writable&&!1===b.write(a)&&l.pause&&l.pause()}function d(){l.readable&&l.resume&&l.resume()}function f(){m||(m=!0,b.end())}function h(){m||(m=!0,"function"===
typeof b.destroy&&b.destroy())}function e(a){g();if(0===n.listenerCount(this,"error"))throw a;}function g(){l.removeListener("data",a);b.removeListener("drain",d);l.removeListener("end",f);l.removeListener("close",h);l.removeListener("error",e);b.removeListener("error",e);l.removeListener("end",g);l.removeListener("close",g);b.removeListener("close",g)}var l=this;l.on("data",a);b.on("drain",d);b._isStdio||c&&!1===c.end||(l.on("end",f),l.on("close",h));var m=!1;l.on("error",e);b.on("error",e);l.on("end",
g);l.on("close",g);b.on("close",g);b.emit("pipe",l);return b}},{"./duplex.js":18,"./passthrough.js":21,"./readable.js":22,"./transform.js":23,"./writable.js":24,events:5,inherits:11}],20:[function(r,y,x){r=y.exports={};r.nextTick=function(){if("undefined"!==typeof window&&window.setImmediate)return function(k){return window.setImmediate(k)};if("undefined"!==typeof window&&window.postMessage&&window.addEventListener){var k=[];window.addEventListener("message",function(n){var b=n.source;b!==window&&
null!==b||"process-tick"!==n.data||(n.stopPropagation(),0<k.length&&k.shift()())},!0);return function(n){k.push(n);window.postMessage("process-tick","*")}}return function(k){setTimeout(k,0)}}();r.title="browser";r.browser=!0;r.env={};r.argv=[];r.binding=function(k){throw Error("process.binding is not supported");};r.cwd=function(){return"/"};r.chdir=function(k){throw Error("process.chdir is not supported");}},{}],21:[function(r,y,x){function k(b){if(!(this instanceof k))return new k(b);n.call(this,
b)}y.exports=k;var n=r("./transform.js");r("inherits")(k,n);k.prototype._transform=function(b,c,a){a(null,b)}},{"./transform.js":23,inherits:11}],22:[function(r,y,x){(function(k){function n(a,b){a=a||{};var d=a.highWaterMark;this.highWaterMark=d||0===d?d:16384;this.highWaterMark=~~this.highWaterMark;this.buffer=[];this.length=0;this.pipes=null;this.pipesCount=0;this.calledRead=this.reading=this.endEmitted=this.ended=this.flowing=!1;this.sync=!0;this.readableListening=this.emittedReadable=this.needReadable=
!1;this.objectMode=!!a.objectMode;this.defaultEncoding=a.defaultEncoding||"utf8";this.ranOut=!1;this.awaitDrain=0;this.readingMore=!1;this.encoding=this.decoder=null;a.encoding&&(G||(G=r("string_decoder").StringDecoder),this.decoder=new G(a.encoding),this.encoding=a.encoding)}function b(a){if(!(this instanceof b))return new b(a);this._readableState=new n(a,this);this.readable=!0;w.call(this)}function c(a,b,e,c,h){var g;g=e;var l=null;F.isBuffer(g)||"string"===typeof g||null===g||void 0===g||b.objectMode||
l||(l=new TypeError("Invalid non-string/buffer chunk"));(g=l)?a.emit("error",g):null===e||void 0===e?(b.reading=!1,b.ended||(b.decoder&&!b.ended&&(e=b.decoder.end())&&e.length&&(b.buffer.push(e),b.length+=b.objectMode?1:e.length),b.ended=!0,0<b.length?d(a):t(a))):b.objectMode||e&&0<e.length?b.ended&&!h?(e=Error("stream.push() after EOF"),a.emit("error",e)):b.endEmitted&&h?(e=Error("stream.unshift() after end event"),a.emit("error",e)):(!b.decoder||h||c||(e=b.decoder.write(e)),b.length+=b.objectMode?
1:e.length,h?b.buffer.unshift(e):(b.reading=!1,b.buffer.push(e)),b.needReadable&&d(a),f(a,b)):h||(b.reading=!1);return!b.ended&&(b.needReadable||b.length<b.highWaterMark||0===b.length)}function a(a,b){if(0===b.length&&b.ended)return 0;if(b.objectMode)return 0===a?0:1;if(isNaN(a)||null===a)return b.flowing&&b.buffer.length?b.buffer[0].length:b.length;if(0>=a)return 0;if(a>b.highWaterMark){var d=a;if(8388608<=d)d=8388608;else{d--;for(var e=1;32>e;e<<=1)d|=d>>e;d++}b.highWaterMark=d}if(a>b.length){if(b.ended)return b.length;
b.needReadable=!0;return 0}return a}function d(a){var b=a._readableState;b.needReadable=!1;b.emittedReadable||(b.emittedReadable=!0,b.sync?D(function(){a.emit("readable")}):a.emit("readable"))}function f(a,b){b.readingMore||(b.readingMore=!0,D(function(){for(var d=b.length;!b.reading&&!b.flowing&&!b.ended&&b.length<b.highWaterMark&&(a.read(0),d!==b.length);)d=b.length;b.readingMore=!1}))}function h(a){return function(){var b=a._readableState;b.awaitDrain--;0===b.awaitDrain&&e(a)}}function e(a){function b(a,
c,f){!1===a.write(e)&&d.awaitDrain++}var d=a._readableState,e;for(d.awaitDrain=0;d.pipesCount&&null!==(e=a.read());)if(1===d.pipesCount?b(d.pipes,0,null):v(d.pipes,b),a.emit("data",e),0<d.awaitDrain)return;0===d.pipesCount?(d.flowing=!1,0<B.listenerCount(a,"data")&&l(a)):d.ranOut=!0}function g(){this._readableState.ranOut&&(this._readableState.ranOut=!1,e(this))}function l(a,b){if(a._readableState.flowing)throw Error("Cannot switch to old mode now.");var d=b||!1,e=!1;a.readable=!0;a.pipe=w.prototype.pipe;
a.on=a.addListener=w.prototype.on;a.on("readable",function(){e=!0;for(var b;!d&&null!==(b=a.read());)a.emit("data",b);null===b&&(e=!1,a._readableState.needReadable=!0)});a.pause=function(){d=!0;this.emit("pause")};a.resume=function(){d=!1;e?D(function(){a.emit("readable")}):this.read(0);this.emit("resume")};a.emit("readable")}function m(a,b){var d=b.buffer,e=b.length,c=!!b.decoder,f=!!b.objectMode;if(0===d.length)return null;if(0===e)e=null;else if(f)e=d.shift();else if(!a||a>=e)e=c?d.join(""):F.concat(d,
e),d.length=0;else if(a<d[0].length)f=d[0],e=f.slice(0,a),d[0]=f.slice(a);else if(a===d[0].length)e=d.shift();else for(var e=c?"":new F(a),h=0,g=0,t=d.length;g<t&&h<a;g++){var f=d[0],l=Math.min(a-h,f.length);c?e+=f.slice(0,l):f.copy(e,h,0,l);l<f.length?d[0]=f.slice(l):d.shift();h+=l}return e}function t(a){var b=a._readableState;if(0<b.length)throw Error("endReadable called on non-empty stream");!b.endEmitted&&b.calledRead&&(b.ended=!0,D(function(){b.endEmitted||0!==b.length||(b.endEmitted=!0,a.readable=
!1,a.emit("end"))}))}function v(a,b){for(var d=0,e=a.length;d<e;d++)b(a[d],d)}y.exports=b;b.ReadableState=n;var B=r("events").EventEmitter,w=r("./index.js"),F=r("buffer").Buffer,D=r("process/browser.js").nextTick,G;r("inherits")(b,w);b.prototype.push=function(a,b){var d=this._readableState;"string"!==typeof a||d.objectMode||(b=b||d.defaultEncoding,b!==d.encoding&&(a=new F(a,b),b=""));return c(this,d,a,b,!1)};b.prototype.unshift=function(a){return c(this,this._readableState,a,"",!0)};b.prototype.setEncoding=
function(a){G||(G=r("string_decoder").StringDecoder);this._readableState.decoder=new G(a);this._readableState.encoding=a};b.prototype.read=function(b){var e=this._readableState;e.calledRead=!0;var c=b;if("number"!==typeof b||0<b)e.emittedReadable=!1;if(0===b&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return d(this),null;b=a(b,e);if(0===b&&e.ended)return 0===e.length&&t(this),null;var f=e.needReadable;e.length-b<=e.highWaterMark&&(f=!0);if(e.ended||e.reading)f=!1;f&&(e.reading=!0,e.sync=
!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1);f&&!e.reading&&(b=a(c,e));c=0<b?m(b,e):null;null===c&&(e.needReadable=!0,b=0);e.length-=b;0!==e.length||e.ended||(e.needReadable=!0);e.ended&&!e.endEmitted&&0===e.length&&t(this);return c};b.prototype._read=function(a){this.emit("error",Error("not implemented"))};b.prototype.pipe=function(a,b){function d(a){a===m&&f()}function c(){a.end()}function f(){a.removeListener("close",l);a.removeListener("finish",w);a.removeListener("drain",
F);a.removeListener("error",t);a.removeListener("unpipe",d);m.removeListener("end",c);m.removeListener("end",f);a._writableState&&!a._writableState.needDrain||F()}function t(b){m.unpipe(a);0===n&&0===B.listenerCount(a,"error")&&a.emit("error",b)}function l(){a.removeListener("finish",w);m.unpipe(a)}function w(){a.removeListener("close",l);m.unpipe(a)}var m=this,v=this._readableState;switch(v.pipesCount){case 0:v.pipes=a;break;case 1:v.pipes=[v.pipes,a];break;default:v.pipes.push(a)}v.pipesCount+=
1;var G=b&&!1===b.end||a===k.stdout||a===k.stderr?f:c;if(v.endEmitted)D(G);else m.once("end",G);a.on("unpipe",d);var F=h(m);a.on("drain",F);var n=B.listenerCount(a,"error");a.once("error",t);a.once("close",l);a.once("finish",w);a.emit("pipe",m);v.flowing||(this.on("readable",g),v.flowing=!0,D(function(){e(m)}));return a};b.prototype.unpipe=function(a){var b=this._readableState;if(0===b.pipesCount)return this;if(1===b.pipesCount){if(a&&a!==b.pipes)return this;a||(a=b.pipes);b.pipes=null;b.pipesCount=
0;this.removeListener("readable",g);b.flowing=!1;a&&a.emit("unpipe",this);return this}if(!a){a=b.pipes;var d=b.pipesCount;b.pipes=null;b.pipesCount=0;this.removeListener("readable",g);b.flowing=!1;for(var e=0;e<d;e++)a[e].emit("unpipe",this);return this}a:{for(var e=b.pipes,d=0,c=e.length;d<c;d++)if(e[d]===a){e=d;break a}e=-1}if(-1===e)return this;b.pipes.splice(e,1);--b.pipesCount;1===b.pipesCount&&(b.pipes=b.pipes[0]);a.emit("unpipe",this);return this};b.prototype.on=function(a,b){var e=w.prototype.on.call(this,
a,b);"data"!==a||this._readableState.flowing||l(this);if("readable"===a&&this.readable){var c=this._readableState;c.readableListening||(c.readableListening=!0,c.emittedReadable=!1,c.needReadable=!0,c.reading?c.length&&d(this,c):this.read(0))}return e};b.prototype.addListener=b.prototype.on;b.prototype.resume=function(){l(this);this.read(0);this.emit("resume")};b.prototype.pause=function(){l(this,!0);this.emit("pause")};b.prototype.wrap=function(a){var b=this._readableState,d=!1,e=this;a.on("end",
function(){if(b.decoder&&!b.ended){var a=b.decoder.end();a&&a.length&&e.push(a)}e.push(null)});a.on("data",function(c){b.decoder&&(c=b.decoder.write(c));c&&(b.objectMode||c.length)&&!e.push(c)&&(d=!0,a.pause())});for(var c in a)"function"===typeof a[c]&&"undefined"===typeof this[c]&&(this[c]=function(b){return function(){return a[b].apply(a,arguments)}}(c));v(["error","close","destroy","pause","resume"],function(b){a.on(b,function(a){return e.emit.apply(e,b,a)})});e._read=function(b){d&&(d=!1,a.resume())};
return e};b._fromList=m}).call(this,r("1YiZ5S"))},{"./index.js":19,"1YiZ5S":13,buffer:2,events:5,inherits:11,"process/browser.js":20,string_decoder:25}],23:[function(r,y,x){function k(a,b){this.afterTransform=function(a,c){var e;e=b._transformState;e.transforming=!1;var g=e.writecb;g?(e.writechunk=null,e.writecb=null,null!==c&&void 0!==c&&b.push(c),g&&g(a),e=b._readableState,e.reading=!1,(e.needReadable||e.length<e.highWaterMark)&&b._read(e.highWaterMark),e=void 0):e=b.emit("error",Error("no writecb in Transform class"));
return e};this.transforming=this.needTransform=!1;this.writechunk=this.writecb=null}function n(a){if(!(this instanceof n))return new n(a);c.call(this,a);this._transformState=new k(a,this);var d=this;this._readableState.needReadable=!0;this._readableState.sync=!1;this.once("finish",function(){"function"===typeof this._flush?this._flush(function(a){b(d,a)}):b(d)})}function b(a,b){if(b)return a.emit("error",b);var c=a._transformState;if(a._writableState.length)throw Error("calling transform done when ws.length != 0");
if(c.transforming)throw Error("calling transform done when still transforming");return a.push(null)}y.exports=n;var c=r("./duplex.js");r("inherits")(n,c);n.prototype.push=function(a,b){this._transformState.needTransform=!1;return c.prototype.push.call(this,a,b)};n.prototype._transform=function(a,b,c){throw Error("not implemented");};n.prototype._write=function(a,b,c){var h=this._transformState;h.writecb=c;h.writechunk=a;h.writeencoding=b;h.transforming||(a=this._readableState,(h.needTransform||a.needReadable||
a.length<a.highWaterMark)&&this._read(a.highWaterMark))};n.prototype._read=function(a){a=this._transformState;a.writechunk&&a.writecb&&!a.transforming?(a.transforming=!0,this._transform(a.writechunk,a.writeencoding,a.afterTransform)):a.needTransform=!0}},{"./duplex.js":18,inherits:11}],24:[function(r,y,x){function k(a,b,d){this.chunk=a;this.encoding=b;this.callback=d}function n(a,b){a=a||{};var d=a.highWaterMark;this.highWaterMark=d||0===d?d:16384;this.objectMode=!!a.objectMode;this.highWaterMark=
~~this.highWaterMark;this.finished=this.ended=this.ending=this.needDrain=!1;this.decodeStrings=!1!==a.decodeStrings;this.defaultEncoding=a.defaultEncoding||"utf8";this.length=0;this.writing=!1;this.sync=!0;this.bufferProcessing=!1;this.onwrite=function(a){e(b,a)};this.writecb=null;this.writelen=0;this.buffer=[]}function b(a){if(!(this instanceof b||this instanceof B.Duplex))return new b(a);this._writableState=new n(a,this);this.writable=!0;B.call(this)}function c(a,b,d){var e=Error("write after end");
a.emit("error",e);w(function(){d(e)})}function a(a,b,d,e){var c=!0;if(!F.isBuffer(d)&&"string"!==typeof d&&null!==d&&void 0!==d&&!b.objectMode){var f=new TypeError("Invalid non-string/buffer chunk");a.emit("error",f);w(function(){e(f)});c=!1}return c}function d(a,b,d,e,c){b.objectMode||!1===b.decodeStrings||"string"!==typeof d||(d=new F(d,e));var f=b.objectMode?1:d.length;b.length+=f;var h=b.length<b.highWaterMark;b.needDrain=!h;b.writing?b.buffer.push(new k(d,e,c)):(b.writelen=f,b.writecb=c,b.writing=
!0,b.sync=!0,a._write(d,e,b.onwrite),b.sync=!1);return h}function f(a,b,d,e,c){d?w(function(){c(e)}):c(e);a.emit("error",e)}function h(a){a.writing=!1;a.writecb=null;a.length-=a.writelen;a.writelen=0}function e(a,b){var d=a._writableState,e=d.sync,c=d.writecb;h(d);if(b)f(a,d,e,b,c);else{var q=d.ending&&0===d.length&&!d.finished&&!d.writing;q||d.bufferProcessing||!d.buffer.length||l(a,d);e?w(function(){g(a,d,q,c)}):g(a,d,q,c)}}function g(a,b,d,e){!d&&0===b.length&&b.needDrain&&(b.needDrain=!1,a.emit("drain"));
e();d&&m(a,b)}function l(a,b){b.bufferProcessing=!0;for(var d=0;d<b.buffer.length;d++){var e=b.buffer[d],c=e.chunk,f=a,h=b,g=c,t=e.encoding,e=e.callback;h.writelen=b.objectMode?1:c.length;h.writecb=e;h.writing=!0;h.sync=!0;f._write(g,t,h.onwrite);h.sync=!1;if(b.writing){d++;break}}b.bufferProcessing=!1;d<b.buffer.length?b.buffer=b.buffer.slice(d):b.buffer.length=0}function m(a,b){var d=b.ending&&0===b.length&&!b.finished&&!b.writing;d&&(b.finished=!0,a.emit("finish"));return d}y.exports=b;b.WritableState=
n;var t="undefined"!==typeof Uint8Array?function(a){return a instanceof Uint8Array}:function(a){return a&&a.constructor&&"Uint8Array"===a.constructor.name},v="undefined"!==typeof ArrayBuffer?function(a){return a instanceof ArrayBuffer}:function(a){return a&&a.constructor&&"ArrayBuffer"===a.constructor.name};y=r("inherits");var B=r("./index.js"),w=r("process/browser.js").nextTick,F=r("buffer").Buffer;y(b,B);b.prototype.pipe=function(){this.emit("error",Error("Cannot pipe. Not readable."))};b.prototype.write=
function(b,e,f){var h=this._writableState,g=!1;"function"===typeof e&&(f=e,e=null);!F.isBuffer(b)&&t(b)&&(b=new F(b));v(b)&&"undefined"!==typeof Uint8Array&&(b=new F(new Uint8Array(b)));F.isBuffer(b)?e="buffer":e||(e=h.defaultEncoding);"function"!==typeof f&&(f=function(){});h.ended?c(this,h,f):a(this,h,b,f)&&(g=d(this,h,b,e,f));return g};b.prototype._write=function(a,b,d){d(Error("not implemented"))};b.prototype.end=function(a,b,d){var e=this._writableState;"function"===typeof a?(d=a,b=a=null):"function"===
typeof b&&(d=b,b=null);"undefined"!==typeof a&&null!==a&&this.write(a,b);if(!e.ending&&!e.finished){a=d;e.ending=!0;m(this,e);if(a)if(e.finished)w(a);else this.once("finish",a);e.ended=!0}}},{"./index.js":19,buffer:2,inherits:11,"process/browser.js":20}],25:[function(r,y,x){function k(a){return a.toString(this.encoding)}function n(a){this.charLength=(a=this.charReceived=a.length%2)?2:0;return a}function b(a){this.charLength=(a=this.charReceived=a.length%3)?3:0;return a}var c=r("buffer").Buffer;r=
x.StringDecoder=function(a){this.encoding=(a||"utf8").toLowerCase().replace(/[-_]/,"");if(a&&!c.isEncoding(a))throw Error("Unknown encoding: "+a);switch(this.encoding){case "utf8":this.surrogateSize=3;break;case "ucs2":case "utf16le":this.surrogateSize=2;this.detectIncompleteChar=n;break;case "base64":this.surrogateSize=3;this.detectIncompleteChar=b;break;default:this.write=k;return}this.charBuffer=new c(6);this.charLength=this.charReceived=0};r.prototype.write=function(a){for(var b="",c=0;this.charLength;){var h=
a.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:a.length;a.copy(this.charBuffer,this.charReceived,c,h);this.charReceived+=h-c;c=h;if(this.charReceived<this.charLength)return"";var b=this.charBuffer.slice(0,this.charLength).toString(this.encoding),e=b.charCodeAt(b.length-1);if(55296<=e&&56319>=e)this.charLength+=this.surrogateSize,b="";else{this.charReceived=this.charLength=0;if(h==a.length)return b;a=a.slice(h,a.length);break}}e=this.detectIncompleteChar(a);c=a.length;
this.charLength&&(a.copy(this.charBuffer,0,a.length-e,c),this.charReceived=e,c-=e);b+=a.toString(this.encoding,0,c);c=b.length-1;e=b.charCodeAt(c);return 55296<=e&&56319>=e?(a=this.surrogateSize,this.charLength+=a,this.charReceived+=a,this.charBuffer.copy(this.charBuffer,a,0,a),this.charBuffer.write(b.charAt(b.length-1),this.encoding),b.substring(0,c)):b};r.prototype.detectIncompleteChar=function(a){for(var b=3<=a.length?3:a.length;0<b;b--){var c=a[a.length-b];if(1==b&&6==c>>5){this.charLength=2;
break}if(2>=b&&14==c>>4){this.charLength=3;break}if(3>=b&&30==c>>3){this.charLength=4;break}}return b};r.prototype.end=function(a){var b="";a&&a.length&&(b=this.write(a));this.charReceived&&(a=this.encoding,b+=this.charBuffer.slice(0,this.charReceived).toString(a));return b}},{buffer:2}],26:[function(r,y,x){function k(){this.href=this.path=this.pathname=this.query=this.search=this.hash=this.hostname=this.port=this.host=this.auth=this.slashes=this.protocol=null}function n(a,d,e){if(a&&b(a)&&a instanceof
k)return a;var c=new k;c.parse(a,d,e);return c}function b(a){return"object"===typeof a&&null!==a}var c=r("punycode");x.parse=n;x.resolve=function(a,b){return n(a,!1,!0).resolve(b)};x.resolveObject=function(a,b){return a?n(a,!1,!0).resolveObject(b):b};x.format=function(a){"string"===typeof a&&(a=n(a));return a instanceof k?a.format():k.prototype.format.call(a)};x.Url=k;var a=/^([a-z0-9.+-]+:)/i,d=/:[0-9]*$/;y="{}|\\^`".split("").concat('<>"` \r\n\t'.split(""));var f=["'"].concat(y),h=["%","/","?",
";","#"].concat(f),e=["/","?","#"],g=/^[a-z0-9A-Z_-]{0,63}$/,l=/^([a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},t={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},B=r("querystring");k.prototype.parse=function(b,d,D){if("string"!==typeof b)throw new TypeError("Parameter 'url' must be a string, not "+typeof b);b=b.trim();var k=a.exec(b);if(k){var k=k[0],n=k.toLowerCase();this.protocol=n;b=b.substr(k.length)}if(D||
k||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var r="//"===b.substr(0,2);!r||k&&t[k]||(b=b.substr(2),this.slashes=!0)}if(!t[k]&&(r||k&&!v[k])){r=-1;for(D=0;D<e.length;D++)k=b.indexOf(e[D]),-1!==k&&(-1===r||k<r)&&(r=k);r=-1===r?b.lastIndexOf("@"):b.lastIndexOf("@",r);-1!==r&&(D=b.slice(0,r),b=b.slice(r+1),this.auth=decodeURIComponent(D));r=-1;for(D=0;D<h.length;D++)k=b.indexOf(h[D]),-1!==k&&(-1===r||k<r)&&(r=k);-1===r&&(r=b.length);this.host=b.slice(0,r);b=b.slice(r);this.parseHost();this.hostname=this.hostname||
"";r="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!r){var u=this.hostname.split(/\./);D=0;for(k=u.length;D<k;D++){var q=u[D];if(q&&!q.match(g)){for(var C="",A=0,z=q.length;A<z;A++)C=127<q.charCodeAt(A)?C+"x":C+q[A];if(!C.match(g)){k=u.slice(0,D);D=u.slice(D+1);if(q=q.match(l))k.push(q[1]),D.unshift(q[2]);D.length&&(b="/"+D.join(".")+b);this.hostname=k.join(".");break}}}}this.hostname=255<this.hostname.length?"":this.hostname.toLowerCase();if(!r){q=this.hostname.split(".");
u=[];for(D=0;D<q.length;++D)k=q[D],u.push(k.match(/[^A-Za-z0-9_-]/)?"xn--"+c.encode(k):k);this.hostname=u.join(".")}D=this.port?":"+this.port:"";this.host=(this.hostname||"")+D;this.href+=this.host;r&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!m[n])for(D=0,k=f.length;D<k;D++)r=f[D],q=encodeURIComponent(r),q===r&&(q=escape(r)),b=b.split(r).join(q);D=b.indexOf("#");-1!==D&&(this.hash=b.substr(D),b=b.slice(0,D));D=b.indexOf("?");-1!==D?(this.search=b.substr(D),
this.query=b.substr(D+1),d&&(this.query=B.parse(this.query)),b=b.slice(0,D)):d&&(this.search="",this.query={});b&&(this.pathname=b);v[n]&&this.hostname&&!this.pathname&&(this.pathname="/");if(this.pathname||this.search)D=this.pathname||"",k=this.search||"",this.path=D+k;this.href=this.format();return this};k.prototype.format=function(){var a=this.auth||"";a&&(a=encodeURIComponent(a),a=a.replace(/%3A/i,":"),a+="@");var d=this.protocol||"",e=this.pathname||"",c=this.hash||"",f=!1,h="";this.host?f=a+
this.host:this.hostname&&(f=a+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(f+=":"+this.port));this.query&&b(this.query)&&Object.keys(this.query).length&&(h=B.stringify(this.query));a=this.search||h&&"?"+h||"";d&&":"!==d.substr(-1)&&(d+=":");this.slashes||(!d||v[d])&&!1!==f?(f="//"+(f||""),e&&"/"!==e.charAt(0)&&(e="/"+e)):f||(f="");c&&"#"!==c.charAt(0)&&(c="#"+c);a&&"?"!==a.charAt(0)&&(a="?"+a);e=e.replace(/[?#]/g,function(a){return encodeURIComponent(a)});a=a.replace("#",
"%23");return d+f+e+a+c};k.prototype.resolve=function(a){return this.resolveObject(n(a,!1,!0)).format()};k.prototype.resolveObject=function(a){if("string"===typeof a){var b=new k;b.parse(a,!1,!0);a=b}var d=new k;Object.keys(this).forEach(function(a){d[a]=this[a]},this);d.hash=a.hash;if(""===a.href)return d.href=d.format(),d;if(a.slashes&&!a.protocol)return Object.keys(a).forEach(function(b){"protocol"!==b&&(d[b]=a[b])}),v[d.protocol]&&d.hostname&&!d.pathname&&(d.path=d.pathname="/"),d.href=d.format(),
d;if(a.protocol&&a.protocol!==d.protocol){if(!v[a.protocol])return Object.keys(a).forEach(function(b){d[b]=a[b]}),d.href=d.format(),d;d.protocol=a.protocol;if(a.host||t[a.protocol])d.pathname=a.pathname;else{for(var e=(a.pathname||"").split("/");e.length&&!(a.host=e.shift()););a.host||(a.host="");a.hostname||(a.hostname="");""!==e[0]&&e.unshift("");2>e.length&&e.unshift("");d.pathname=e.join("/")}d.search=a.search;d.query=a.query;d.host=a.host||"";d.auth=a.auth;d.hostname=a.hostname||a.host;d.port=
a.port;if(d.pathname||d.search)d.path=(d.pathname||"")+(d.search||"");d.slashes=d.slashes||a.slashes;d.href=d.format();return d}var b=d.pathname&&"/"===d.pathname.charAt(0),c=a.host||a.pathname&&"/"===a.pathname.charAt(0),f=b=c||b||d.host&&a.pathname,h=d.pathname&&d.pathname.split("/")||[],e=a.pathname&&a.pathname.split("/")||[],g=d.protocol&&!v[d.protocol];g&&(d.hostname="",d.port=null,d.host&&(""===h[0]?h[0]=d.host:h.unshift(d.host)),d.host="",a.protocol&&(a.hostname=null,a.port=null,a.host&&(""===
e[0]?e[0]=a.host:e.unshift(a.host)),a.host=null),b=b&&(""===e[0]||""===h[0]));if(c)d.host=a.host||""===a.host?a.host:d.host,d.hostname=a.hostname||""===a.hostname?a.hostname:d.hostname,d.search=a.search,d.query=a.query,h=e;else if(e.length)h||(h=[]),h.pop(),h=h.concat(e),d.search=a.search,d.query=a.query;else if(null!=a.search){g&&(d.hostname=d.host=h.shift(),g=d.host&&0<d.host.indexOf("@")?d.host.split("@"):!1)&&(d.auth=g.shift(),d.host=d.hostname=g.shift());d.search=a.search;d.query=a.query;if(null!==
d.pathname||null!==d.search)d.path=(d.pathname?d.pathname:"")+(d.search?d.search:"");d.href=d.format();return d}if(!h.length)return d.pathname=null,d.path=d.search?"/"+d.search:null,d.href=d.format(),d;for(var c=h.slice(-1)[0],e=(d.host||a.host)&&("."===c||".."===c)||""===c,l=0,m=h.length;0<=m;m--)c=h[m],"."==c?h.splice(m,1):".."===c?(h.splice(m,1),l++):l&&(h.splice(m,1),l--);if(!b&&!f)for(;l--;l)h.unshift("..");!b||""===h[0]||h[0]&&"/"===h[0].charAt(0)||h.unshift("");e&&"/"!==h.join("/").substr(-1)&&
h.push("");f=""===h[0]||h[0]&&"/"===h[0].charAt(0);g&&(d.hostname=d.host=f?"":h.length?h.shift():"",g=d.host&&0<d.host.indexOf("@")?d.host.split("@"):!1)&&(d.auth=g.shift(),d.host=d.hostname=g.shift());(b=b||d.host&&h.length)&&!f&&h.unshift("");h.length?d.pathname=h.join("/"):(d.pathname=null,d.path=null);if(null!==d.pathname||null!==d.search)d.path=(d.pathname?d.pathname:"")+(d.search?d.search:"");d.auth=a.auth||d.auth;d.slashes=d.slashes||a.slashes;d.href=d.format();return d};k.prototype.parseHost=
function(){var a=this.host,b=d.exec(a);b&&(b=b[0],":"!==b&&(this.port=b.substr(1)),a=a.substr(0,a.length-b.length));a&&(this.hostname=a)}},{punycode:14,querystring:17}],27:[function(r,y,x){y.exports=function(k){return k&&"object"===typeof k&&"function"===typeof k.copy&&"function"===typeof k.fill&&"function"===typeof k.readUInt8}},{}],28:[function(r,y,x){(function(k,n){function b(b,d){var e={seen:[],stylize:a};3<=arguments.length&&(e.depth=arguments[2]);4<=arguments.length&&(e.colors=arguments[3]);
v(d)?e.showHidden=d:d&&x._extend(e,d);F(e.showHidden)&&(e.showHidden=!1);F(e.depth)&&(e.depth=2);F(e.colors)&&(e.colors=!1);F(e.customInspect)&&(e.customInspect=!0);e.colors&&(e.stylize=c);return f(e,b,e.depth)}function c(a,d){var e=b.styles[d];return e?"\u001b["+b.colors[e][0]+"m"+a+"\u001b["+b.colors[e][1]+"m":a}function a(a,b){return a}function d(a){var b={};a.forEach(function(a,d){b[a]=!0});return b}function f(a,b,c){if(a.customInspect&&b&&u(b.inspect)&&b.inspect!==x.inspect&&(!b.constructor||
b.constructor.prototype!==b)){var q=b.inspect(c,a);w(q)||(q=f(a,q,c));return q}if(q=h(a,b))return q;var v=Object.keys(b),C=d(v);a.showHidden&&(v=Object.getOwnPropertyNames(b));if(L(b)&&(0<=v.indexOf("message")||0<=v.indexOf("description")))return e(b);if(0===v.length){if(u(b))return a.stylize("[Function"+(b.name?": "+b.name:"")+"]","special");if(D(b))return a.stylize(RegExp.prototype.toString.call(b),"regexp");if(K(b))return a.stylize(Date.prototype.toString.call(b),"date");if(L(b))return e(b)}var q=
"",k=!1,A=["{","}"];t(b)&&(k=!0,A=["[","]"]);u(b)&&(q=" [Function"+(b.name?": "+b.name:"")+"]");D(b)&&(q=" "+RegExp.prototype.toString.call(b));K(b)&&(q=" "+Date.prototype.toUTCString.call(b));L(b)&&(q=" "+e(b));if(0===v.length&&(!k||0==b.length))return A[0]+q+A[1];if(0>c)return D(b)?a.stylize(RegExp.prototype.toString.call(b),"regexp"):a.stylize("[Object]","special");a.seen.push(b);v=k?g(a,b,c,C,v):v.map(function(d){return l(a,b,c,C,d,k)});a.seen.pop();return m(v,q,A)}function h(a,b){if(F(b))return a.stylize("undefined",
"undefined");if(w(b)){var d="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return a.stylize(d,"string")}if(B(b))return a.stylize(""+b,"number");if(v(b))return a.stylize(""+b,"boolean");if(null===b)return a.stylize("null","null")}function e(a){return"["+Error.prototype.toString.call(a)+"]"}function g(a,b,d,e,c){for(var h=[],f=0,g=b.length;f<g;++f)Object.prototype.hasOwnProperty.call(b,String(f))?h.push(l(a,b,d,e,String(f),!0)):h.push("");c.forEach(function(c){c.match(/^\d+$/)||
h.push(l(a,b,d,e,c,!0))});return h}function l(a,b,d,e,c,h){var g,q;b=Object.getOwnPropertyDescriptor(b,c)||{value:b[c]};b.get?q=b.set?a.stylize("[Getter/Setter]","special"):a.stylize("[Getter]","special"):b.set&&(q=a.stylize("[Setter]","special"));Object.prototype.hasOwnProperty.call(e,c)||(g="["+c+"]");q||(0>a.seen.indexOf(b.value)?(q=null===d?f(a,b.value,null):f(a,b.value,d-1),-1<q.indexOf("\n")&&(q=h?q.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+q.split("\n").map(function(a){return"   "+
a}).join("\n"))):q=a.stylize("[Circular]","special"));if(F(g)){if(h&&c.match(/^\d+$/))return q;g=JSON.stringify(""+c);g.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(g=g.substr(1,g.length-2),g=a.stylize(g,"name")):(g=g.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),g=a.stylize(g,"string"))}return g+": "+q}function m(a,b,d){var e=0;return 60<a.reduce(function(a,b){e++;0<=b.indexOf("\n")&&e++;return a+b.replace(/\u001b\[\d\d?m/g,"").length+1},0)?d[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+
" "+d[1]:d[0]+b+" "+a.join(", ")+" "+d[1]}function t(a){return Array.isArray(a)}function v(a){return"boolean"===typeof a}function B(a){return"number"===typeof a}function w(a){return"string"===typeof a}function F(a){return void 0===a}function D(a){return G(a)&&"[object RegExp]"===Object.prototype.toString.call(a)}function G(a){return"object"===typeof a&&null!==a}function K(a){return G(a)&&"[object Date]"===Object.prototype.toString.call(a)}function L(a){return G(a)&&("[object Error]"===Object.prototype.toString.call(a)||
a instanceof Error)}function u(a){return"function"===typeof a}function q(a){return 10>a?"0"+a.toString(10):a.toString(10)}function C(){var a=new Date,b=[q(a.getHours()),q(a.getMinutes()),q(a.getSeconds())].join(":");return[a.getDate(),Z[a.getMonth()],b].join(" ")}var A=/%[sdj%]/g;x.format=function(a){if(!w(a)){for(var d=[],e=0;e<arguments.length;e++)d.push(b(arguments[e]));return d.join(" ")}for(var e=1,c=arguments,h=c.length,d=String(a).replace(A,function(a){if("%%"===a)return"%";if(e>=h)return a;
switch(a){case "%s":return String(c[e++]);case "%d":return Number(c[e++]);case "%j":try{return JSON.stringify(c[e++])}catch(b){return"[Circular]"}default:return a}}),f=c[e];e<h;f=c[++e])d=null!==f&&G(f)?d+(" "+b(f)):d+(" "+f);return d};x.deprecate=function(a,b){if(F(n.process))return function(){return x.deprecate(a,b).apply(this,arguments)};if(!0===k.noDeprecation)return a;var d=!1;return function(){if(!d){if(k.throwDeprecation)throw Error(b);k.traceDeprecation?console.trace(b):console.error(b);d=
!0}return a.apply(this,arguments)}};var z={},N;x.debuglog=function(a){F(N)&&(N=k.env.NODE_DEBUG||"");a=a.toUpperCase();if(!z[a])if((new RegExp("\\b"+a+"\\b","i")).test(N)){var b=k.pid;z[a]=function(){var d=x.format.apply(x,arguments);console.error("%s %d: %s",a,b,d)}}else z[a]=function(){};return z[a]};x.inspect=b;b.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,
39]};b.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};x.isArray=t;x.isBoolean=v;x.isNull=function(a){return null===a};x.isNullOrUndefined=function(a){return null==a};x.isNumber=B;x.isString=w;x.isSymbol=function(a){return"symbol"===typeof a};x.isUndefined=F;x.isRegExp=D;x.isObject=G;x.isDate=K;x.isError=L;x.isFunction=u;x.isPrimitive=function(a){return null===a||"boolean"===typeof a||"number"===typeof a||"string"===
typeof a||"symbol"===typeof a||"undefined"===typeof a};x.isBuffer=r("./support/isBuffer");var Z="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");x.log=function(){console.log("%s - %s",C(),x.format.apply(x,arguments))};x.inherits=r("inherits");x._extend=function(a,b){if(!b||!G(b))return a;for(var d=Object.keys(b),e=d.length;e--;)a[d[e]]=b[d[e]];return a}}).call(this,r("1YiZ5S"),"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./support/isBuffer":27,"1YiZ5S":13,inherits:11}],
29:[function(r,y,x){},{}],30:[function(r,y,x){(function(k,n,b){(function(){var c="undefined"!==typeof k&&k.versions&&k.versions.node,a=!c&&("undefined"!==typeof window||"undefined"!==typeof self);a&&"undefined"===typeof n&&("undefined"!==typeof window?n=window:"undefined"!==typeof self?n=self:"undefined"!==typeof $&&(n=$));var d=function(d){function e(){}function f(a,b){if(I(b))for(var d=0;d<b.length;++d)b[d]=f(a,b[d]);else if(S(b))b["@list"]=f(a,b["@list"]);else if(J(b)){fa(b)&&(b["@id"]=a.getName(b["@id"]));
for(var d=Object.keys(b).sort(),e=0;e<d.length;++e){var c=d[e];"@id"!==c&&(b[c]=f(a,b[c]))}}return b}function l(a,b,e){if(null===e||void 0===e)return null;var c=H(a,b,{vocab:!0});if("@id"===c)return H(a,e,{base:!0});if("@type"===c)return H(a,e,{vocab:!0,base:!0});var f=d.getContextValue(a,b,"@type");if("@id"===f||"@graph"===c&&M(e))return{"@id":H(a,e,{base:!0})};if("@vocab"===f)return{"@id":H(a,e,{vocab:!0,base:!0})};if(Q(c))return e;c={};null!==f?c["@type"]=f:M(e)&&(a=d.getContextValue(a,b,"@language"),
null!==a&&(c["@language"]=a));-1===["boolean","number","string"].indexOf(typeof e)&&(e=e.toString());c["@value"]=e;return c}function m(a){var b={};if(T(a)){b.type="literal";var d=a["@value"],e=a["@type"]||null;"boolean"===typeof d||"[object Boolean]"===Object.prototype.toString.call(d)?(b.value=d.toString(),b.datatype=e||"http://www.w3.org/2001/XMLSchema#boolean"):ra(d)||"http://www.w3.org/2001/XMLSchema#double"===e?(ra(d)||(d=parseFloat(d)),b.value=d.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),
b.datatype=e||"http://www.w3.org/2001/XMLSchema#double"):qa(d)?(b.value=d.toFixed(0),b.datatype=e||"http://www.w3.org/2001/XMLSchema#integer"):"@language"in a?(b.value=d,b.datatype=e||ga,b.language=a["@language"]):(b.value=d,b.datatype=e||da)}else a=J(a)?a["@id"]:a,b.type=0===a.indexOf("_:")?"blank node":"IRI",b.value=a;return"IRI"!==b.type||X(b.value)?b:null}function t(a,b){if("hash"in b[a])return b[a].hash;for(var d=b[a].quads,e=[],c=0;c<d.length;++c)e.push(ja(d[c],d[c].name?d[c].name.value:null,
a));e.sort();return b[a].hash=O.hash(e)}function v(a,b,e,c,f){function g(f){if(f===C.length)return m=Object.keys(l).sort(),q(0);var u=C[f],v=B(u.subject,a),k=null;null!==v?k="p":(v=B(u.object,a),null!==v&&(k="r"));if(null!==v){var A;A=e.isNamed(v)?e.getName(v):c.isNamed(v)?c.getName(v):t(v,b);var z=O.create();z.update(k);z.update(u.predicate.value);z.update(A);u=z.digest();u in l?l[u].push(v):l[u]=[v]}d.setImmediate(function(){g(f+1)})}function q(a){function g(){function t(a){if(a===B.length)return l(!1);
var d=B[a];v(d,b,e,A,function(b,e){if(b)return f(b);ba+=A.getName(d)+"<"+e.hash+">";A=e.pathNamer;if(null!==W&&ba.length>=W.length&&ba>W)return l(!0);t(a+1)})}function l(b){!b&&(null===W||ba<W)&&(W=ba,C=A);k.hasNext()?d.setImmediate(function(){g()}):(u.update(W),c=C,q(a+1))}var m=k.next(),A=c.clone(),ba="",B=[],z;for(z in m){var w=m[z];e.isNamed(w)?ba+=e.getName(w):(A.isNamed(w)||B.push(w),ba+=A.getName(w));if(null!==W&&ba.length>=W.length&&ba>W)return l(!0)}t(0)}if(a===m.length)return f(null,{hash:u.digest(),
pathNamer:c});var t=m[a];u.update(t);var W=null,C=null,k=new ka(l[t]);d.setImmediate(function(){g()})}var u=O.create(),l={},m,C=b[a].quads;d.setImmediate(function(){g(0)})}function B(a,b){return"blank node"===a.type&&a.value!==b?a.value:null}function w(a,b,e,c,f,g){if(I(a))for(var q=0;q<a.length;++q)w(a[q],b,e,c,void 0,g);else if(J(a))if(T(a)){if("@type"in a){var t=a["@type"];0===t.indexOf("_:")&&(a["@type"]=c.getName(t))}g&&g.push(a)}else{if("@type"in a)for(var u=a["@type"],q=0;q<u.length;++q)t=
u[q],0===t.indexOf("_:")&&c.getName(t);V(f)&&(f=fa(a)?c.getName(a["@id"]):a["@id"]);g&&g.push({"@id":f});g=b[e];q=g[f]=g[f]||{};q["@id"]=f;t=Object.keys(a).sort();for(u=0;u<t.length;++u){var l=t[u];if("@id"!==l)if("@reverse"===l){var l={"@id":f},m=a["@reverse"],v;for(v in m)for(var C=m[v],k=0;k<C.length;++k){var A=C[k],B=A["@id"];fa(A)&&(B=c.getName(B));w(A,b,e,c,B);d.addValue(g[B],v,l,{propertyIsArray:!0,allowDuplicate:!1})}}else if("@graph"===l)f in b||(b[f]={}),w(a[l],b,"@merged"===e?e:f,c);else if("@type"!==
l&&Q(l)){if("@index"===l&&l in q&&(a[l]!==q[l]||a[l]["@id"]!==q[l]["@id"]))throw new E("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:q});q[l]=a[l]}else if(m=a[l],0===l.indexOf("_:")&&(l=c.getName(l)),0===m.length)d.addValue(q,l,[],{propertyIsArray:!0});else for(C=0;C<m.length;++C)k=m[C],"@type"===l&&(k=0===k.indexOf("_:")?c.getName(k):k),A=k,B=!1,!J(A)||"@value"in A||"@set"in A||"@list"in A||(B=1<Object.keys(A).length||!("@id"in
A)),B||Y(k)?(A=fa(k)?c.getName(k["@id"]):k["@id"],d.addValue(q,l,{"@id":A},{propertyIsArray:!0,allowDuplicate:!1}),w(k,b,e,c,A)):(S(k)?(A=[],w(k["@list"],b,e,c,f,A),k={"@list":A}):w(k,b,e,c,f),d.addValue(q,l,k,{propertyIsArray:!0,allowDuplicate:!1}))}}else g&&g.push(a)}function F(a){for(var b=a["@default"],d=Object.keys(a).sort(),e=0;e<d.length;++e){var c=d[e];if("@default"!==c){var f=a[c],h=b[c];h?"@graph"in h||(h["@graph"]=[]):b[c]=h={"@id":c,"@graph":[]};for(var c=h["@graph"],h=Object.keys(f).sort(),
g=0;g<h.length;++g){var q=f[h[g]];Y(q)||c.push(q)}}}return b}function D(a,b,d,e,c){var f=d;if(!I(f)||1!==f.length||!J(f[0]))throw new E("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:f});d=d[0];for(var f=a.options,h={embed:K(d,f,"embed"),explicit:K(d,f,"explicit"),requireAll:K(d,f,"requireAll")},g=d,t={},l=0;l<b.length;++l){var m=b[l],v=a.subjects[m];L(v,g,h)&&(t[m]=v)}b=Object.keys(t).sort();for(g=0;g<b.length;++g)if(v=b[g],m=t[v],"@link"===h.embed&&
v in a.link)q(e,c,a.link[v]);else{null===c&&(a.uniqueEmbeds={});l={};l["@id"]=v;a.link[v]=l;var k;if(!(k="@never"===h.embed))a:{k=a.subjectStack;for(var A=k.length-1;0<=A;--A)if(k[A]["@id"]===m["@id"]){k=!0;break a}k=!1}if(k)q(e,c,l);else{"@last"===h.embed&&(v in a.uniqueEmbeds&&u(a,v),a.uniqueEmbeds[v]={parent:e,property:c});a.subjectStack.push(m);v=Object.keys(m).sort();for(k=0;k<v.length;k++)if(A=v[k],Q(A))l[A]=R(m[A]);else if(!h.explicit||A in d)for(var C=m[A],B=0;B<C.length;++B){var z=C[B];if(S(z)){var w=
{"@list":[]};q(l,A,w);var F=z["@list"],n;for(n in F)if(z=F[n],Y(z)){var r=A in d?d[A][0]["@list"]:G(h);D(a,[z["@id"]],r,w,"@list")}else q(w,"@list",R(z))}else Y(z)?(r=A in d?d[A]:G(h),D(a,[z["@id"]],r,l,A)):q(l,A,R(z))}v=Object.keys(d).sort();for(k=0;k<v.length;++k)A=v[k],Q(A)||(m=d[A][0],K(m,f,"omitDefault")||A in l||(C="@null","@default"in m&&(C=R(m["@default"])),I(C)||(C=[C]),l[A]=[{"@preserve":C}]));q(e,c,l);a.subjectStack.pop()}}}function G(a){var b={},d;for(d in a)void 0!==a[d]&&(b["@"+d]=[a[d]]);
return[b]}function K(a,b,d){var e="@"+d;a=e in a?a[e][0]:b[d];"embed"===d&&(!0===a?a="@last":!1===a?a="@never":"@always"!==a&&"@never"!==a&&"@link"!==a&&(a="@last"));return a}function L(a,b,e){if("@type"in b&&(1!==b["@type"].length||!J(b["@type"][0]))){b=b["@type"];for(e=0;e<b.length;++e)if(d.hasValue(a,"@type",b[e]))return!0;return!1}var c=!0,f=!1,g;for(g in b){if(Q(g)){if("@id"!==g&&"@type"!==g)continue;c=!1;if("@id"===g&&M(b[g])){if(a[g]!==b[g])return!1;f=!0;continue}}c=!1;if(g in a){if(I(b[g])&&
0===b[g].length&&void 0!==a[g])return!1;f=!0}else{var q=I(b[g])&&J(b[g][0])&&"@default"in b[g][0];if(e.requireAll&&!q)return!1}}return c||f}function u(a,b){var e=a.uniqueEmbeds,c=e[b],f=c.parent,g=c.property,c={"@id":b};if(I(f))for(g=0;g<f.length;++g){if(d.compareValues(f[g],c)){f[g]=c;break}}else{var q=I(f[g]);d.removeValue(f,g,c,{propertyIsArray:q});d.addValue(f,g,c,{propertyIsArray:q})}var t=function(a){for(var b=Object.keys(e),d=0;d<b.length;++d){var c=b[d];c in e&&J(e[c].parent)&&e[c].parent["@id"]===
a&&(delete e[c],t(c))}};t(b)}function q(a,b,e){J(a)?d.addValue(a,b,e,{propertyIsArray:!0}):a.push(e)}function C(a,b,e){if(I(b)){for(var c=[],f=0;f<b.length;++f){var g=C(a,b[f],e);null!==g&&c.push(g)}b=c}else if(J(b)){if("@preserve"in b)return"@null"===b["@preserve"]?null:b["@preserve"];if(T(b))return b;if(S(b))return b["@list"]=C(a,b["@list"],e),b;g=z(a,"@id");if(g in b)if(g=b[g],g in e.link)if(f=e.link[g].indexOf(b),-1===f)e.link[g].push(b);else return e.link[g][f];else e.link[g]=[b];for(c in b)g=
C(a,b[c],e),f=d.getContextValue(a,c,"@container"),e.compactArrays&&I(g)&&1===g.length&&null===f&&(g=g[0]),b[c]=g}return b}function A(a,b){return a.length<b.length?-1:b.length<a.length?1:a===b?0:a<b?-1:1}function z(a,b,e,c,f){if(null===b)return b;V(e)&&(e=null);V(f)&&(f=!1);c=c||{};Q(b)&&(c.vocab=!0);if(c.vocab&&b in a.getInverse()){var g=a["@language"]||"@none",q=[];J(e)&&"@index"in e&&q.push("@index");var t="@language",u="@null";if(f)t="@type",u="@reverse",q.push("@set");else if(S(e)){"@index"in
e||q.push("@list");u=e["@list"];f=0===u.length?g:null;for(var g=null,l=0;l<u.length;++l){var m=u[l],v="@none",k="@none";T(m)?"@language"in m?v=m["@language"]:"@type"in m?k=m["@type"]:v="@null":k="@id";null===f?f=v:v!==f&&T(m)&&(f="@none");null===g?g=k:k!==g&&(g="@none");if("@none"===f&&"@none"===g)break}f=f||"@none";g=g||"@none";"@none"!==g?(t="@type",u=g):u=f}else T(e)?"@language"in e&&!("@index"in e)?(q.push("@language"),u=e["@language"]):"@type"in e&&(t="@type",u=e["@type"]):(t="@type",u="@id"),
q.push("@set");q.push("@none");a:{f=e;g=u;null===g&&(g="@null");u=[];"@id"!==g&&"@reverse"!==g||!Y(f)?u.push(g):("@reverse"===g&&u.push("@reverse"),g=z(a,f["@id"],null,{vocab:!0}),g in a.mappings&&a.mappings[g]&&a.mappings[g]["@id"]===f["@id"]?u.push.apply(u,["@vocab","@id"]):u.push.apply(u,["@id","@vocab"]));u.push("@none");f=a.inverse[b];for(g=0;g<q.length;++g)if(l=q[g],l in f)for(l=f[l][t],m=0;m<u.length;++m)if(v=u[m],v in l){q=l[v];break a}q=null}if(null!==q)return q}if(c.vocab&&"@vocab"in a&&
(t=a["@vocab"],0===b.indexOf(t)&&b!==t&&(t=b.substr(t.length),!(t in a.mappings))))return t;t=null;for(q in a.mappings)-1===q.indexOf(":")&&(u=a.mappings[q])&&u["@id"]!==b&&0===b.indexOf(u["@id"])&&(u=q+":"+b.substr(u["@id"].length),u in a.mappings&&(null!==e||!a.mappings[u]||a.mappings[u]["@id"]!==b)||!(null===t||0>A(u,t))||(t=u));if(null!==t)return t;if(!c.vocab&&(a=a["@base"],null!==a&&(M(a)&&(a=d.url.parse(a||"")),e="",""!==a.href?e+=(a.protocol||"")+"//"+(a.authority||""):b.indexOf("//")&&(e+=
"//"),0===b.indexOf(e)))){b=d.url.parse(b.substr(e.length));a=a.normalizedPath.split("/");e=b.normalizedPath.split("/");for(c=b.fragment||b.query?0:1;0<a.length&&e.length>c&&a[0]===e[0];)a.shift(),e.shift();c="";if(0<a.length)for(a.pop(),q=0;q<a.length;++q)c+="../";c+=e.join("/");null!==b.query&&(c+="?"+b.query);null!==b.fragment&&(c+="#"+b.fragment);""===c&&(c="./");b=c}return b}function N(a,b,e){if(T(e)){var c=d.getContextValue(a,b,"@type"),f=d.getContextValue(a,b,"@language"),g=d.getContextValue(a,
b,"@container"),g="@index"in e&&"@index"!==g;if(!g&&(e["@type"]===c||e["@language"]===f))return e["@value"];var c=Object.keys(e).length,c=1===c||2===c&&"@index"in e&&!g,f="@language"in a,q=M(e["@value"]);b=a.mappings[b]&&null===a.mappings[b]["@language"];if(c&&(!f||!q||b))return e["@value"];b={};g&&(b[z(a,"@index")]=e["@index"]);"@type"in e?b[z(a,"@type")]=z(a,e["@type"],null,{vocab:!0}):"@language"in e&&(b[z(a,"@language")]=e["@language"]);b[z(a,"@value")]=e["@value"];return b}g=H(a,b,{vocab:!0});
c=d.getContextValue(a,b,"@type");e=z(a,e["@id"],null,{vocab:"@vocab"===c});if("@id"===c||"@vocab"===c||"@graph"===g)return e;b={};b[z(a,"@id")]=e;return b}function x(a,b,d,e){if(d in e){if(e[d])return;throw new E("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:b,term:d});}e[d]=!1;if(Q(d))throw new E("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:b,term:d});if(""===d)throw new E("Invalid JSON-LD syntax; a term cannot be an empty string.",
"jsonld.SyntaxError",{code:"invalid term definition",context:b});a.mappings[d]&&delete a.mappings[d];var c=b[d];if(null===c||J(c)&&null===c["@id"])a.mappings[d]=null,e[d]=!0;else{M(c)&&(c={"@id":c});if(!J(c))throw new E("Invalid JSON-LD syntax; @context property values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:b});var f=a.mappings[d]={};f.reverse=!1;if("@reverse"in c){if("@id"in c)throw new E("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.",
"jsonld.SyntaxError",{code:"invalid reverse property",context:b});var h=c["@reverse"];if(!M(h))throw new E("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:b});h=H(a,h,{vocab:!0,base:!1},b,e);if(!X(h))throw new E("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:b});f["@id"]=h;f.reverse=!0}else if("@id"in c){h=
c["@id"];if(!M(h))throw new E("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:b});if(h!==d){h=H(a,h,{vocab:!0,base:!1},b,e);if(!X(h)&&!Q(h))throw new E("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:b});f["@id"]=h}}if(!("@id"in f)){var g=d.indexOf(":");if(-1!==g)h=d.substr(0,g),h in
b&&x(a,b,h,e),a.mappings[h]?(g=d.substr(g+1),f["@id"]=a.mappings[h]["@id"]+g):f["@id"]=d;else{if(!("@vocab"in a))throw new E("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:b,term:d});f["@id"]=a["@vocab"]+d}}e[d]=!0;if("@type"in c){d=c["@type"];if(!M(d))throw new E("Invalid JSON-LD syntax; an @context @type values must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:b});if("@id"!==d&&"@vocab"!==d){d=H(a,
d,{vocab:!0,base:!1},b,e);if(!X(d))throw new E("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:b});if(0===d.indexOf("_:"))throw new E("Invalid JSON-LD syntax; an @context @type values must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:b});}f["@type"]=d}if("@container"in c){a=c["@container"];if("@list"!==a&&"@set"!==a&&"@index"!==a&&"@language"!==a)throw new E("Invalid JSON-LD syntax; @context @container value must be one of the following: @list, @set, @index, or @language.",
"jsonld.SyntaxError",{code:"invalid container mapping",context:b});if(f.reverse&&"@index"!==a&&"@set"!==a&&null!==a)throw new E("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:b});f["@container"]=a}if("@language"in c&&!("@type"in c)){c=c["@language"];if(null!==c&&!M(c))throw new E("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",
{code:"invalid language mapping",context:b});null!==c&&(c=c.toLowerCase());f["@language"]=c}h=f["@id"];if("@context"===h||"@preserve"===h)throw new E("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:b});}}function H(a,b,e,c,f){if(null===b||Q(b))return b;b=String(b);c&&b in c&&!0!==f[b]&&x(a,c,b,f);e=e||{};if(e.vocab){var g=a.mappings[b];if(null===g)return null;if(g)return g["@id"]}g=b.indexOf(":");if(-1!==g){e=b.substr(0,
g);var q=b.substr(g+1);if("_"===e||0===q.indexOf("//"))return b;c&&e in c&&x(a,c,e,f);return(g=a.mappings[e])?g["@id"]+q:b}if(e.vocab&&"@vocab"in a)return a["@vocab"]+b;e.base&&(b=d.prependBase(a["@base"],b));return b}function y(a){return{"@base":d.url.parse(a.base||""),mappings:{},inverse:null,getInverse:function(){if(this.inverse)return this.inverse;for(var a=this.inverse={},b=this["@language"]||"@none",d=this.mappings,e=Object.keys(d).sort(A),c=0;c<e.length;++c){var f=e[c],h=d[f];if(null!==h){var g=
h["@container"]||"@none",q=h["@id"];I(q)||(q=[q]);for(var t=0;t<q.length;++t){var u=q[t],l=a[u];l||(a[u]=l={});l[g]||(l[g]={"@language":{},"@type":{}});l=l[g];h.reverse?(l=l["@type"],"@reverse"in l||(l["@reverse"]=f)):"@type"in h?(l=l["@type"],u=h["@type"],u in l||(l[u]=f)):"@language"in h?(l=l["@language"],u=h["@language"]||"@null",u in l||(l[u]=f)):(u=l["@language"],b in u||(u[b]=f),u=l["@type"],"@none"in u||(u["@none"]=f),l=l["@language"],"@none"in l||(l["@none"]=f))}}}return a},clone:function(){var a=
{};a["@base"]=this["@base"];a.mappings=R(this.mappings);a.clone=this.clone;a.inverse=null;a.getInverse=this.getInverse;"@language"in this&&(a["@language"]=this["@language"]);"@vocab"in this&&(a["@vocab"]=this["@vocab"]);return a}}}function Q(a){if(!M(a))return!1;switch(a){case "@base":case "@context":case "@container":case "@default":case "@embed":case "@explicit":case "@graph":case "@id":case "@index":case "@language":case "@list":case "@omitDefault":case "@preserve":case "@requireAll":case "@reverse":case "@set":case "@type":case "@value":case "@vocab":return!0}return!1}
function J(a){return"[object Object]"===Object.prototype.toString.call(a)}function I(a){return Array.isArray(a)}function M(a){return"string"===typeof a||"[object String]"===Object.prototype.toString.call(a)}function qa(a){return"number"===typeof a||"[object Number]"===Object.prototype.toString.call(a)}function ra(a){return qa(a)&&-1!==String(a).indexOf(".")}function V(a){return"undefined"===typeof a}function Y(a){return J(a)&&1===Object.keys(a).length&&"@id"in a}function T(a){return J(a)&&"@value"in
a}function S(a){return J(a)&&"@list"in a}function fa(a){var b=!1;J(a)&&(b="@id"in a?0===a["@id"].indexOf("_:"):0===Object.keys(a).length||!("@value"in a||"@set"in a||"@list"in a));return b}function X(a){return M(a)&&-1!==a.indexOf(":")}function R(a){if(a&&"object"===typeof a){var b;if(I(a)){b=[];for(var d=0;d<a.length;++d)b[d]=R(a[d])}else if(J(a))for(d in b={},a)b[d]=R(a[d]);else b=a.toString();return b}return a}function ea(a,b,e,c){var f=Object.keys(b).length;if(I(a)){for(var g=0;g<a.length;++g)ea(a[g],
b,e,c);return f<Object.keys(b).length}if(J(a)){for(var q in a)if("@context"!==q)ea(a[q],b,e,c);else{var u=a[q];if(I(u))for(var t=u.length,g=0;g<t;++g){var l=u[g];M(l)&&(l=d.prependBase(c,l),e?(l=b[l],I(l)?(Array.prototype.splice.apply(u,[g,1].concat(l)),g+=l.length-1,t=u.length):u[g]=l):l in b||(b[l]=!1))}else M(u)&&(u=d.prependBase(c,u),e?a[q]=b[u]:u in b||(b[u]=!1))}return f<Object.keys(b).length}return!1}function sa(a,b,d){var e=null,c=function(a,b,d,f,h){if(Object.keys(b).length>ta)return e=new E("Maximum number of @context URLs exceeded.",
"jsonld.ContextUrlError",{code:"loading remote context failed",max:ta}),h(e);var g={};ea(a,g,!1,f)||(ea(a,g,!0,f),h(null,a));var q=[],u;for(u in g)!1===g[u]&&q.push(u);var t=q.length;for(u=0;u<q.length;++u)(function(q){if(q in b)return e=new E("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"recursive context inclusion",url:q}),h(e);var u=R(b);u[q]=!0;var l=function(b,l){if(!e){var m=l?l.document:null;if(!b&&M(m))try{m=JSON.parse(m)}catch(v){b=v}b?b=new E("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.",
"jsonld.InvalidUrl",{code:"loading remote context failed",url:q,cause:b}):J(m)||(b=new E("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:q,cause:b}));if(b)return e=b,h(e);m="@context"in m?{"@context":m["@context"]}:{"@context":{}};l.contextUrl&&(I(m["@context"])||(m["@context"]=[m["@context"]]),m["@context"].push(l.contextUrl));c(m,u,d,q,function(b,d){if(b)return h(b);g[q]=d["@context"];
--t;0===t&&(ea(a,g,!0,f),h(null,a))})}},m=d(q,l);m&&"then"in m&&m.then(l.bind(null,null),l)})(q[u])};c(a,{},b.documentLoader,b.base,d)}function ua(a){var b=/^[ \t]*$/,d=/^[ \t]*(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z0-9]+)))[ \t]+(?:<([^:]+:[^>]*)>)[ \t]+(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z0-9]+))|(?:"([^"\\]*(?:\\.[^"\\]*)*)"(?:(?:\^\^(?:<([^:]+:[^>]*)>))|(?:@([a-z]+(?:-[a-z0-9]+)*)))?))[ \t]*(?:\.|(?:(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z0-9]+)))[ \t]*\.))[ \t]*$/,e={};a=a.split(/(?:\r\n)|(?:\n)|(?:\r)/g);
for(var c=0,f=0;f<a.length;++f){var h=a[f];c++;if(!b.test(h)){var g=h.match(d);if(null===g)throw new E("Error while parsing N-Quads; invalid quad.","jsonld.ParseError",{line:c});h={};V(g[1])?h.subject={type:"blank node",value:g[2]}:h.subject={type:"IRI",value:g[1]};h.predicate={type:"IRI",value:g[3]};if(V(g[4]))if(V(g[5])){h.object={type:"literal"};V(g[7])?V(g[8])?h.object.datatype=da:(h.object.datatype=ga,h.object.language=g[8]):h.object.datatype=g[7];var q=g[6].replace(/\\"/g,'"').replace(/\\t/g,
"\t").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\\\/g,"\\");h.object.value=q}else h.object={type:"blank node",value:g[5]};else h.object={type:"IRI",value:g[4]};q="@default";V(g[9])?V(g[10])||(q=g[10]):q=g[9];if(q in e){for(var g=!0,q=e[q],u=0;g&&u<q.length;++u){var l;a:{l=q[u];for(var t=["subject","predicate","object"],m=0;m<t.length;++m){var v=t[m];if(l[v].type!==h[v].type||l[v].value!==h[v].value){l=!1;break a}}l=l.object.language!==h.object.language||l.object.datatype!==h.object.datatype?
!1:!0}l&&(g=!1)}g&&q.push(h)}else e[q]=[h]}}return e}function ja(a,b,d){var e=a.subject,c=a.predicate;a=a.object;var f="",f="IRI"===e.type?f+("<"+e.value+">"):d?f+(e.value===d?"_:a":"_:z"):f+e.value,f=f+" ",f="IRI"===c.type?f+("<"+c.value+">"):d?f+"_:p":f+c.value,f=f+" ";"IRI"===a.type?f+="<"+a.value+">":"blank node"===a.type?f=d?f+(a.value===d?"_:a":"_:z"):f+a.value:(e=a.value.replace(/\\/g,"\\\\").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\"/g,'\\"'),f+='"'+e+'"',a.datatype===
ga?a.language&&(f+="@"+a.language):a.datatype!==da&&(f+="^^<"+a.datatype+">"));null!==b&&(f=0!==b.indexOf("_:")?f+(" <"+b+">"):d?f+" _:g":f+(" "+b));return f+" .\n"}function U(a){this.prefix=a;this.counter=0;this.existing={}}function va(a,b){var d="";0===a.indexOf("/")&&(d="/");for(var e=a.split("/"),c=[];0<e.length;)"."===e[0]||""===e[0]&&1<e.length?e.shift():".."===e[0]?(e.shift(),b||0<c.length&&".."!==c[c.length-1]?c.pop():c.push("..")):c.push(e.shift());return d+c.join("/")}d.compact=function(a,
b,e,c){if(2>arguments.length)return d.nextTick(function(){c(new TypeError("Could not compact, too few arguments."))});"function"===typeof e&&(c=e,e={});e=e||{};if(null===b)return d.nextTick(function(){c(new E("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"}))});if(null===a)return d.nextTick(function(){c(null,null)});"base"in e||(e.base="string"===typeof a?a:"");"compactArrays"in e||(e.compactArrays=!0);"graph"in e||(e.graph=!1);"skipExpansion"in e||(e.skipExpansion=
!1);"documentLoader"in e||(e.documentLoader=d.loadDocument);"link"in e||(e.link=!1);e.link&&(e.skipExpansion=!0);(function(a,b,e){d.nextTick(function(){if(b.skipExpansion)return e(null,a);d.expand(a,b,e)})})(a,e,function(a,f){if(a)return c(new E("Could not expand input before compaction.","jsonld.CompactError",{cause:a}));var g=y(e);d.processContext(g,b,e,function(a,d){if(a)return c(new E("Could not process context before compaction.","jsonld.CompactError",{cause:a}));var h;try{h=(new P).compact(d,
null,f,e)}catch(g){return c(g)}var q=e;q.compactArrays&&!q.graph&&I(h)?1===h.length?h=h[0]:0===h.length&&(h={}):q.graph&&J(h)&&(h=[h]);J(b)&&"@context"in b&&(b=b["@context"]);b=R(b);I(b)||(b=[b]);q=b;b=[];for(var u=0;u<q.length;++u)(!J(q[u])||0<Object.keys(q[u]).length)&&b.push(q[u]);q=0<b.length;1===b.length&&(b=b[0]);if(I(h)){var l=z(d,"@graph"),u=h;h={};q&&(h["@context"]=b);h[l]=u}else if(J(h)&&q)for(l in u=h,h={"@context":b},u)h[l]=u[l];c(null,h,d)})})};d.expand=function(a,b,e){function c(a){"base"in
b||(b.base=a.documentUrl||"");a={document:R(a.document),remoteContext:{"@context":a.contextUrl}};if("expandContext"in b){var d=R(b.expandContext);a.expandContext="object"===typeof d&&"@context"in d?d:{"@context":d}}sa(a,b,function(a,d){if(a)return e(a);var c;try{var f=new P,h=y(b),g=d.document,q=d.remoteContext["@context"];d.expandContext&&(h=f.processContext(h,d.expandContext["@context"],b));q&&(h=f.processContext(h,q,b));c=f.expand(h,null,g,b,!1);J(c)&&"@graph"in c&&1===Object.keys(c).length?c=
c["@graph"]:null===c&&(c=[]);I(c)||(c=[c])}catch(u){return e(u)}e(null,c)})}if(1>arguments.length)return d.nextTick(function(){e(new TypeError("Could not expand, too few arguments."))});"function"===typeof b&&(e=b,b={});b=b||{};"documentLoader"in b||(b.documentLoader=d.loadDocument);"keepFreeFloatingNodes"in b||(b.keepFreeFloatingNodes=!1);d.nextTick(function(){if("string"===typeof a){var d=function(a,b){if(a)return e(a);try{if(!b.document)throw new E("No remote document found at the given URL.",
"jsonld.NullRemoteDocument");"string"===typeof b.document&&(b.document=JSON.parse(b.document))}catch(d){return e(new E("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",cause:d,remoteDoc:b}))}c(b)},f=b.documentLoader(a,d);f&&"then"in f&&f.then(d.bind(null,null),d)}else c({contextUrl:null,documentUrl:null,document:a})})};d.flatten=function(a,b,e,c){if(1>arguments.length)return d.nextTick(function(){c(new TypeError("Could not flatten, too few arguments."))});
"function"===typeof e?(c=e,e={}):"function"===typeof b&&(c=b,b=null,e={});e=e||{};"base"in e||(e.base="string"===typeof a?a:"");"documentLoader"in e||(e.documentLoader=d.loadDocument);d.expand(a,e,function(a,f){if(a)return c(new E("Could not expand input before flattening.","jsonld.FlattenError",{cause:a}));var g;try{g=(new P).flatten(f)}catch(q){return c(q)}if(null===b)return c(null,g);e.graph=!0;e.skipExpansion=!0;d.compact(g,b,e,function(a,b){if(a)return c(new E("Could not compact flattened output.",
"jsonld.FlattenError",{cause:a}));c(null,b)})})};d.frame=function(a,b,e,c){function f(b){var g=b.document,q;g?(q=g["@context"],b.contextUrl?(q?I(q)?q.push(b.contextUrl):q=[q,b.contextUrl]:q=b.contextUrl,g["@context"]=q):q=q||{}):q={};d.expand(a,e,function(a,b){if(a)return c(new E("Could not expand input before framing.","jsonld.FrameError",{cause:a}));var f=R(e);f.isFrame=!0;f.keepFreeFloatingNodes=!0;d.expand(g,f,function(a,e){if(a)return c(new E("Could not expand frame before framing.","jsonld.FrameError",
{cause:a}));var g;try{g=(new P).frame(b,e,f)}catch(u){return c(u)}f.graph=!0;f.skipExpansion=!0;f.link={};d.compact(g,q,f,function(a,b,d){if(a)return c(new E("Could not compact framed output.","jsonld.FrameError",{cause:a}));a=z(d,"@graph");f.link={};b[a]=C(d,b[a],f);c(null,b)})})})}if(2>arguments.length)return d.nextTick(function(){c(new TypeError("Could not frame, too few arguments."))});"function"===typeof e&&(c=e,e={});e=e||{};"base"in e||(e.base="string"===typeof a?a:"");"documentLoader"in e||
(e.documentLoader=d.loadDocument);"embed"in e||(e.embed="@last");e.explicit=e.explicit||!1;"requireAll"in e||(e.requireAll=!0);e.omitDefault=e.omitDefault||!1;d.nextTick(function(){if("string"===typeof b){var a=function(a,b){if(a)return c(a);try{if(!b.document)throw new E("No remote document found at the given URL.","jsonld.NullRemoteDocument");"string"===typeof b.document&&(b.document=JSON.parse(b.document))}catch(d){return c(new E("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.",
"jsonld.LoadDocumentError",{code:"loading document failed",cause:d,remoteDoc:b}))}f(b)},d=e.documentLoader(b,a);d&&"then"in d&&d.then(a.bind(null,null),a)}else f({contextUrl:null,documentUrl:null,document:b})})};d.link=function(a,b,e,c){var f={};b&&(f["@context"]=b);f["@embed"]="@link";d.frame(a,f,e,c)};d.objectify=function(a,b,e,c){"function"===typeof e&&(c=e,e={});e=e||{};"base"in e||(e.base="string"===typeof a?a:"");"documentLoader"in e||(e.documentLoader=d.loadDocument);d.expand(a,e,function(a,
f){if(a)return c(new E("Could not expand input before linking.","jsonld.LinkError",{cause:a}));var g;try{g=(new P).flatten(f)}catch(q){return c(q)}e.graph=!0;e.skipExpansion=!0;d.compact(g,b,e,function(a,b,e){if(a)return c(new E("Could not compact flattened output before linking.","jsonld.LinkError",{cause:a}));a=z(e,"@graph");var f=b[a][0],g=function(a){if(J(a)||I(a)){if(J(a)){if(g.visited[a["@id"]])return;g.visited[a["@id"]]=!0}for(var b in a){var c=a[b],q="@id"===d.getContextValue(e,b,"@type");
if(I(c)||J(c)||q)if(M(c)&&q)a[b]=c=f[c],g(c);else if(I(c))for(var u=0;u<c.length;++u)M(c[u])&&q?c[u]=f[c[u]]:J(c[u])&&"@id"in c[u]&&(c[u]=f[c[u]["@id"]]),g(c[u]);else J(c)&&(a[b]=c=f[c["@id"]],g(c))}}};g.visited={};g(f);b.of_type={};for(var q in f)if("@type"in f[q]){a=f[q]["@type"];I(a)||(a=[a]);for(var u=0;u<a.length;++u)a[u]in b.of_type||(b.of_type[a[u]]=[]),b.of_type[a[u]].push(f[q])}c(null,b)})})};d.normalize=function(a,b,e){if(1>arguments.length)return d.nextTick(function(){e(new TypeError("Could not normalize, too few arguments."))});
"function"===typeof b&&(e=b,b={});b=b||{};"base"in b||(b.base="string"===typeof a?a:"");"documentLoader"in b||(b.documentLoader=d.loadDocument);var c=R(b);delete c.format;c.produceGeneralizedRdf=!1;d.toRDF(a,c,function(a,d){if(a)return e(new E("Could not convert input to RDF dataset before normalization.","jsonld.NormalizeError",{cause:a}));(new P).normalize(d,b,e)})};d.fromRDF=function(a,b,e){if(1>arguments.length)return d.nextTick(function(){e(new TypeError("Could not convert from RDF, too few arguments."))});
"function"===typeof b&&(e=b,b={});b=b||{};"useRdfType"in b||(b.useRdfType=!1);"useNativeTypes"in b||(b.useNativeTypes=!1);"format"in b||!M(a)||"format"in b||(b.format="application/nquads");d.nextTick(function(){function d(a,b,e){(new P).fromRDF(a,b,e)}var c;if(b.format){if(c=b.rdfParser||la[b.format],!c)return e(new E("Unknown input format.","jsonld.UnknownFormat",{format:b.format}))}else c=function(){return a};var f=!1;try{a=c(a,function(a,c){f=!0;if(a)return e(a);d(c,b,e)})}catch(h){if(!f)return e(h);
throw h;}if(a){if("then"in a)return a.then(function(a){d(a,b,e)},e);d(a,b,e)}})};d.toRDF=function(a,b,e){if(1>arguments.length)return d.nextTick(function(){e(new TypeError("Could not convert to RDF, too few arguments."))});"function"===typeof b&&(e=b,b={});b=b||{};"base"in b||(b.base="string"===typeof a?a:"");"documentLoader"in b||(b.documentLoader=d.loadDocument);d.expand(a,b,function(a,d){if(a)return e(new E("Could not expand input before serialization to RDF.","jsonld.RdfError",{cause:a}));var c;
try{if(c=P.prototype.toRDF(d,b),b.format){if("application/nquads"===b.format){var f=e,h,g=[],q;for(q in c)for(var u=c[q],l=0;l<u.length;++l){var t=u[l];"@default"===q&&(q=null);g.push(ja(t,q))}g.sort();h=g.join("");return f(null,h)}throw new E("Unknown output format.","jsonld.UnknownFormat",{format:b.format});}}catch(m){return e(m)}e(null,c)})};d.createNodeMap=function(a,b,e){if(1>arguments.length)return d.nextTick(function(){e(new TypeError("Could not create node map, too few arguments."))});"function"===
typeof b&&(e=b,b={});b=b||{};"base"in b||(b.base="string"===typeof a?a:"");"documentLoader"in b||(b.documentLoader=d.loadDocument);d.expand(a,b,function(a,d){if(a)return e(new E("Could not expand input before creating node map.","jsonld.CreateNodeMapError",{cause:a}));var c;try{c=(new P).createNodeMap(d,b)}catch(f){return e(f)}e(null,c)})};d.merge=function(a,b,e,c){function f(a,b){if(!u){if(a)return u=a,c(new E("Could not expand input before flattening.","jsonld.FlattenError",{cause:a}));q.push(b);
0===--l&&g(q)}}function g(a){var f=!0;"mergeNodes"in e&&(f=e.mergeNodes);var q=e.namer||new U("_:b"),u={"@default":{}},l;try{for(var t=0;t<a.length;++t){var m=a[t],m=d.relabelBlankNodes(m,{namer:new U("_:b"+t+"-")}),v=f||0===t?u:{"@default":{}};w(m,v,"@default",q);if(v!==u)for(var k in v){var A=v[k];if(k in u){var C=u[k],B;for(B in A)B in C||(C[B]=A[B])}else u[k]=A}}l=F(u)}catch(z){return c(z)}a=[];f=Object.keys(l).sort();for(q=0;q<f.length;++q)u=l[f[q]],Y(u)||a.push(u);if(null===b)return c(null,
a);e.graph=!0;e.skipExpansion=!0;d.compact(a,b,e,function(a,b){if(a)return c(new E("Could not compact merged output.","jsonld.MergeError",{cause:a}));c(null,b)})}if(1>arguments.length)return d.nextTick(function(){c(new TypeError("Could not merge, too few arguments."))});if(!I(a))return d.nextTick(function(){c(new TypeError('Could not merge, "docs" must be an array.'))});"function"===typeof e?(c=e,e={}):"function"===typeof b&&(c=b,b=null,e={});e=e||{};for(var q=[],u=null,l=a.length,t=0;t<a.length;++t){var m=
{},v;for(v in e)m[v]=e[v];d.expand(a[t],m,f)}};d.relabelBlankNodes=function(a,b){b=b||{};var d=b.namer||new U("_:b");return f(d,a)};d.prependBase=function(a,b){var e;var c=a;if(null===c)e=b;else if(-1!==b.indexOf(":"))e=b;else{M(c)&&(c=d.url.parse(c||""));e=d.url.parse(b);var f=c.protocol||"",g,q;null!==e.authority?(g=e.authority,q=e.path,c=e.query):(g=c.authority,""===e.path?(q=c.path,c=null!==e.query?e.query:c.query):(0===e.path.indexOf("/")?q=e.path:(q=c.path,""!==e.path&&(q=q.substr(0,q.lastIndexOf("/")+
1),0<q.length&&"/"!==q.substr(-1)&&(q+="/"),q+=e.path)),c=e.query));q=va(q,!!g);null!==g&&(f+="//"+g);f+=q;null!==c&&(f+="?"+c);null!==e.fragment&&(f+="#"+e.fragment);""===f&&(f="./");e=f}return e};d.documentLoader=function(a,b){var e=new E("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed"});return c?b(e,{contextUrl:null,documentUrl:a,document:null}):d.promisify(function(a){a(e)})};d.loadDocument=function(a,
b){var e=d.documentLoader(a,b);e&&"then"in e&&e.then(b.bind(null,null),b)};d.promises=function(a){a=a||{};var b=Array.prototype.slice,e=d.promisify,c=a.api||{},f=a.version||"jsonld.js";"string"===typeof a.api&&(a.version||(f=a.api),c={});c.expand=function(a){if(1>arguments.length)throw new TypeError("Could not expand, too few arguments.");return e.apply(null,[d.expand].concat(b.call(arguments)))};c.compact=function(a,c){if(2>arguments.length)throw new TypeError("Could not compact, too few arguments.");
return e.apply(null,[function(a,b,e,c){d.compact(a,b,e,function(a,b){c(a,b)})}].concat(b.call(arguments)))};c.flatten=function(a){if(1>arguments.length)throw new TypeError("Could not flatten, too few arguments.");return e.apply(null,[d.flatten].concat(b.call(arguments)))};c.frame=function(a,c){if(2>arguments.length)throw new TypeError("Could not frame, too few arguments.");return e.apply(null,[d.frame].concat(b.call(arguments)))};c.fromRDF=function(a){if(1>arguments.length)throw new TypeError("Could not convert from RDF, too few arguments.");
return e.apply(null,[d.fromRDF].concat(b.call(arguments)))};c.toRDF=function(a){if(1>arguments.length)throw new TypeError("Could not convert to RDF, too few arguments.");return e.apply(null,[d.toRDF].concat(b.call(arguments)))};c.normalize=function(a){if(1>arguments.length)throw new TypeError("Could not normalize, too few arguments.");return e.apply(null,[d.normalize].concat(b.call(arguments)))};"jsonld.js"===f&&(c.link=function(a,c){if(2>arguments.length)throw new TypeError("Could not link, too few arguments.");
return e.apply(null,[d.link].concat(b.call(arguments)))},c.objectify=function(a){return e.apply(null,[d.objectify].concat(b.call(arguments)))},c.createNodeMap=function(a){return e.apply(null,[d.createNodeMap].concat(b.call(arguments)))},c.merge=function(a){return e.apply(null,[d.merge].concat(b.call(arguments)))});try{d.Promise=n.Promise||r("es6-promise").Promise}catch(g){a=function(){throw Error("Unable to find a Promise implementation.");};for(var q in c)c[q]=a}return c};d.promisify=function(a){if(!d.Promise)try{d.Promise=
n.Promise||r("es6-promise").Promise}catch(b){throw Error("Unable to find a Promise implementation.");}var e=Array.prototype.slice.call(arguments,1);return new d.Promise(function(b,d){a.apply(null,e.concat(function(a,e){a?d(a):b(e)}))})};d.promises({api:d.promises});e.prototype=d.promises({version:"json-ld-1.0"});e.prototype.toString=function(){return this instanceof e?"[object JsonLdProcessor]":"[object JsonLdProcessorPrototype]"};d.JsonLdProcessor=e;var aa=!!Object.defineProperty;if(aa)try{Object.defineProperty({},
"x",{})}catch(W){aa=!1}aa&&(Object.defineProperty(e,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(e.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:e}));a&&"undefined"===typeof n.JsonLdProcessor&&(aa?Object.defineProperty(n,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:e}):n.JsonLdProcessor=e);var ma="function"===typeof setImmediate&&setImmediate,aa=ma?function(a){ma(a)}:function(a){setTimeout(a,0)};d.nextTick="object"===typeof k&&"function"===
typeof k.nextTick?k.nextTick:aa;d.setImmediate=ma?aa:d.nextTick;d.parseLinkHeader=function(a){var b={};a=a.match(/(?:<[^>]*?>|"[^"]*?"|[^,])+/g);for(var d=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,e=0;e<a.length;++e){var c=a[e].match(d);if(c){for(var f={target:c[1]},h=c[2],g=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g;c=g.exec(h);)f[c[1]]=void 0===c[2]?c[3]:c[2];c=f.rel||"";I(b[c])?b[c].push(f):b[c]=c in b?[b[c],f]:f}}return b};d.RequestQueue=function(){this._requests={}};d.RequestQueue.prototype.wrapLoader=
function(a){this._loader=a;this._usePromise=1===a.length;return this.add.bind(this)};d.RequestQueue.prototype.add=function(a,b){var e=this;if(!b&&!e._usePromise)throw Error("callback must be specified.");if(e._usePromise)return new d.Promise(function(b,d){var c=e._requests[a];c||(c=e._requests[a]=e._loader(a).then(function(b){delete e._requests[a];return b})["catch"](function(b){delete e._requests[a];throw b;}));c.then(function(a){b(a)})["catch"](function(a){d(a)})});a in e._requests?e._requests[a].push(b):
(e._requests[a]=[b],e._loader(a,function(b,d){var c=e._requests[a];delete e._requests[a];for(var f=0;f<c.length;++f)c[f](b,d)}))};d.DocumentCache=function(a){this.order=[];this.cache={};this.size=a||50;this.expires=3E4};d.DocumentCache.prototype.get=function(a){if(a in this.cache){var b=this.cache[a];if(b.expires>=+new Date)return b.ctx;delete this.cache[a];this.order.splice(this.order.indexOf(a),1)}return null};d.DocumentCache.prototype.set=function(a,b){this.order.length===this.size&&delete this.cache[this.order.shift()];
this.order.push(a);this.cache[a]={ctx:b,expires:+new Date+this.expires}};d.ActiveContextCache=function(a){this.order=[];this.cache={};this.size=a||100};d.ActiveContextCache.prototype.get=function(a,b){var d=JSON.stringify(a),e=JSON.stringify(b);return(d=this.cache[d])&&e in d?d[e]:null};d.ActiveContextCache.prototype.set=function(a,b,d){if(this.order.length===this.size){var e=this.order.shift();delete this.cache[e.activeCtx][e.localCtx]}a=JSON.stringify(a);b=JSON.stringify(b);this.order.push({activeCtx:a,
localCtx:b});a in this.cache||(this.cache[a]={});this.cache[a][b]=R(d)};d.cache={activeCtx:new d.ActiveContextCache};d.documentLoaders={};d.documentLoaders.jquery=function(a,b){function e(c,f){if(0!==c.indexOf("http:")&&0!==c.indexOf("https:"))return f(new E('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:c}),{contextUrl:null,documentUrl:c,document:null});if(b.secure&&0!==c.indexOf("https"))return f(new E('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',
"jsonld.InvalidUrl",{code:"loading document failed",url:c}),{contextUrl:null,documentUrl:c,document:null});a.ajax({url:c,accepts:{json:"application/ld+json, application/json"},headers:{Accept:"application/ld+json, application/json"},dataType:"json",crossDomain:!0,success:function(a,b,e){a={contextUrl:null,documentUrl:c,document:a};b=e.getResponseHeader("Content-Type");if((e=e.getResponseHeader("Link"))&&"application/ld+json"!==b){e=d.parseLinkHeader(e)[na];if(I(e))return f(new E("URL could not be dereferenced, it has more than one associated HTTP Link Header.",
"jsonld.InvalidUrl",{code:"multiple context link headers",url:c}),a);e&&(a.contextUrl=e.target)}f(null,a)},error:function(a,b,d){f(new E("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:c,cause:d}),{contextUrl:null,documentUrl:c,document:null})}})}b=b||{};var c=new d.RequestQueue;return("usePromise"in b?b.usePromise:"undefined"!==typeof Promise)?c.wrapLoader(function(a){return d.promisify(e,a)}):c.wrapLoader(e)};d.documentLoaders.node=
function(a){function b(u,l,t){if(0!==u.indexOf("http:")&&0!==u.indexOf("https:"))return t(new E('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:u}),{contextUrl:null,documentUrl:u,document:null});if(a.secure&&0!==u.indexOf("https"))return t(new E('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:u}),{contextUrl:null,
documentUrl:u,document:null});var m=q.get(u);if(null!==m)return t(null,m);f({url:u,headers:{Accept:"application/ld+json, application/json"},strictSSL:e,followRedirect:!1},function(a,e,f){m={contextUrl:null,documentUrl:u,document:f||null};if(a)return t(new E("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:u,cause:a}),m);var v=g.STATUS_CODES[e.statusCode];if(400<=e.statusCode)return t(new E("URL could not be dereferenced: "+v,"jsonld.InvalidUrl",
{code:"loading document failed",url:u,httpStatusCode:e.statusCode}),m);if(e.headers.link&&"application/ld+json"!==e.headers["content-type"]){v=d.parseLinkHeader(e.headers.link)[na];if(I(v))return t(new E("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:u}),m);v&&(m.contextUrl=v.target)}if(300<=e.statusCode&&400>e.statusCode&&e.headers.location){if(l.length===c)return t(new E("URL could not be dereferenced; there were too many redirects.",
"jsonld.TooManyRedirects",{code:"loading document failed",url:u,httpStatusCode:e.statusCode,redirects:l}),m);if(-1!==l.indexOf(u))return t(new E("URL could not be dereferenced; infinite redirection was detected.","jsonld.InfiniteRedirectDetected",{code:"recursive context inclusion",url:u,httpStatusCode:e.statusCode,redirects:l}),m);l.push(u);return b(e.headers.location,l,t)}l.push(u);for(e=0;e<l.length;++e)q.set(l[e],{contextUrl:null,documentUrl:l[e],document:f});t(a,m)})}a=a||{};var e="strictSSL"in
a?a.strictSSL:!0,c="maxRedirects"in a?a.maxRedirects:-1,f=r("request"),g=r("http"),q=new d.DocumentCache,u=new d.RequestQueue;return a.usePromise?u.wrapLoader(function(a){return d.promisify(b,a,[])}):u.wrapLoader(function(a,d){b(a,[],d)})};d.documentLoaders.xhr=function(a){function b(c,f){if(0!==c.indexOf("http:")&&0!==c.indexOf("https:"))return f(new E('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:c}),{contextUrl:null,
documentUrl:c,document:null});if(a.secure&&0!==c.indexOf("https"))return f(new E('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:c}),{contextUrl:null,documentUrl:c,document:null});var g=new (a.xhr||XMLHttpRequest);g.onload=function(){if(400<=g.status)return f(new E("URL could not be dereferenced: "+g.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:c,httpStatusCode:g.status}),
{contextUrl:null,documentUrl:c,document:null});var a={contextUrl:null,documentUrl:c,document:g.response},b=g.getResponseHeader("Content-Type"),q;e.test(g.getAllResponseHeaders())&&(q=g.getResponseHeader("Link"));if(q&&"application/ld+json"!==b){q=d.parseLinkHeader(q)[na];if(I(q))return f(new E("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:c}),a);q&&(a.contextUrl=q.target)}f(null,a)};g.onerror=function(){f(new E("URL could not be dereferenced, an error occurred.",
"jsonld.LoadDocumentError",{code:"loading document failed",url:c}),{contextUrl:null,documentUrl:c,document:null})};g.open("GET",c,!0);g.setRequestHeader("Accept","application/ld+json, application/json");g.send()}a=a||{};var e=/(^|(\r\n))link:/i,c=new d.RequestQueue;return("usePromise"in a?a.usePromise:"undefined"!==typeof Promise)?c.wrapLoader(function(a){return d.promisify(b,a)}):c.wrapLoader(b)};d.useDocumentLoader=function(a){if(!(a in d.documentLoaders))throw new E('Unknown document loader type: "'+
a+'"',"jsonld.UnknownDocumentLoader",{type:a});d.documentLoader=d.documentLoaders[a].apply(d,Array.prototype.slice.call(arguments,1))};d.processContext=function(a,b){var e={},c=2;3<arguments.length&&(e=arguments[2]||{},c+=1);var f=arguments[c];"base"in e||(e.base="");"documentLoader"in e||(e.documentLoader=d.loadDocument);if(null===b)return f(null,y(e));b=R(b);J(b)&&"@context"in b||(b={"@context":b});sa(b,e,function(b,d){if(b)return f(b);try{d=(new P).processContext(a,d,e)}catch(c){return f(c)}f(null,
d)})};d.hasProperty=function(a,b){var d=!1;b in a&&(d=a[b],d=!I(d)||0<d.length);return d};d.hasValue=function(a,b,e){var c=!1;if(d.hasProperty(a,b))if(a=a[b],b=S(a),I(a)||b)for(b&&(a=a["@list"]),b=0;b<a.length;++b){if(d.compareValues(e,a[b])){c=!0;break}}else I(e)||(c=d.compareValues(e,a));return c};d.addValue=function(a,b,e,c){c=c||{};"propertyIsArray"in c||(c.propertyIsArray=!1);"allowDuplicate"in c||(c.allowDuplicate=!0);if(I(e)){0!==e.length||!c.propertyIsArray||b in a||(a[b]=[]);for(var f=0;f<
e.length;++f)d.addValue(a,b,e[f],c)}else b in a?(f=!c.allowDuplicate&&d.hasValue(a,b,e),I(a[b])||f&&!c.propertyIsArray||(a[b]=[a[b]]),f||a[b].push(e)):a[b]=c.propertyIsArray?[e]:e};d.getValues=function(a,b){var d=a[b]||[];I(d)||(d=[d]);return d};d.removeProperty=function(a,b){delete a[b]};d.removeValue=function(a,b,e,c){c=c||{};"propertyIsArray"in c||(c.propertyIsArray=!1);var f=d.getValues(a,b).filter(function(a){return!d.compareValues(a,e)});0===f.length?d.removeProperty(a,b):a[b]=1!==f.length||
c.propertyIsArray?f:f[0]};d.compareValues=function(a,b){return a===b||T(a)&&T(b)&&a["@value"]===b["@value"]&&a["@type"]===b["@type"]&&a["@language"]===b["@language"]&&a["@index"]===b["@index"]?!0:J(a)&&"@id"in a&&J(b)&&"@id"in b?a["@id"]===b["@id"]:!1};d.getContextValue=function(a,b,d){var e=null;if(null===b)return e;"@language"===d&&d in a&&(e=a[d]);a.mappings[b]&&(a=a.mappings[b],V(d)?e=a:d in a&&(e=a[d]));return e};var la={};d.registerRDFParser=function(a,b){la[a]=b};d.unregisterRDFParser=function(a){delete la[a]};
if(c){if("undefined"===typeof ha)var ha=null;if("undefined"===typeof oa)var oa={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12}}var da="http://www.w3.org/2001/XMLSchema#string",ga="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",na="http://www.w3.org/ns/json-ld#context",ta=10,E=function(a,b,d){c?(Error.call(this),
Error.captureStackTrace(this,this.constructor)):"undefined"!==typeof Error&&(this.stack=Error().stack);this.name=b||"jsonld.Error";this.message=a||"An unspecified JSON-LD error occurred.";this.details=d||{}};c?r("util").inherits(E,Error):"undefined"!==typeof Error&&(E.prototype=Error());var P=function(){};P.prototype.compact=function(a,b,e,c){if(I(e)){for(var f=[],g=0;g<e.length;++g){var q=this.compact(a,b,e[g],c);null!==q&&f.push(q)}if(c.compactArrays&&1===f.length){var u=d.getContextValue(a,b,"@container");
null===u&&(f=f[0])}return f}if(J(e)){if(c.link&&"@id"in e&&e["@id"]in c.link)for(f=c.link[e["@id"]],g=0;g<f.length;++g)if(f[g].expanded===e)return f[g].compacted;if(T(e)||Y(e))return f=N(a,b,e),c.link&&Y(e)&&(e["@id"]in c.link||(c.link[e["@id"]]=[]),c.link[e["@id"]].push({expanded:e,compacted:f})),f;g="@reverse"===b;f={};c.link&&"@id"in e&&(e["@id"]in c.link||(c.link[e["@id"]]=[]),c.link[e["@id"]].push({expanded:e,compacted:f}));for(var l=Object.keys(e).sort(),t=0;t<l.length;++t){var m=l[t],v=e[m];
if("@id"===m||"@type"===m){var k;if(M(v))k=z(a,v,null,{vocab:"@type"===m});else{k=[];for(var A=0;A<v.length;++A)k.push(z(a,v[A],null,{vocab:!0}))}m=z(a,m);u=I(k)&&0===v.length;d.addValue(f,m,k,{propertyIsArray:u})}else if("@reverse"===m){k=this.compact(a,"@reverse",v,c);for(q in k)a.mappings[q]&&a.mappings[q].reverse&&(v=k[q],u=d.getContextValue(a,q,"@container"),d.addValue(f,q,v,{propertyIsArray:"@set"===u||!c.compactArrays}),delete k[q]);0<Object.keys(k).length&&(m=z(a,m),d.addValue(f,m,k))}else if("@index"===
m)u=d.getContextValue(a,b,"@container"),"@index"!==u&&(m=z(a,m),d.addValue(f,m,v));else if("@graph"!==m&&"@list"!==m&&Q(m))m=z(a,m),d.addValue(f,m,v);else for(0===v.length&&(k=z(a,m,v,{vocab:!0},g),d.addValue(f,k,v,{propertyIsArray:!0})),A=0;A<v.length;++A){var C=v[A];k=z(a,m,C,{vocab:!0},g);var u=d.getContextValue(a,k,"@container"),B=S(C),w=null;B&&(w=C["@list"]);w=this.compact(a,k,B?w:C,c);if(B)if(I(w)||(w=[w]),"@list"!==u)B={},B[z(a,"@list")]=w,w=B,"@index"in C&&(w[z(a,"@index")]=C["@index"]);
else if(k in f)throw new E('JSON-LD compact error; property has a "@list" @container rule but there is more than a single @list that matches the compacted term in the document. Compaction might mix unwanted items into the list.',"jsonld.SyntaxError",{code:"compaction to list of lists"});if("@language"===u||"@index"===u){var F;k in f?F=f[k]:f[k]=F={};"@language"===u&&T(w)&&(w=w["@value"]);d.addValue(F,C[u],w)}else u=!c.compactArrays||"@set"===u||"@list"===u||I(w)&&0===w.length||"@list"===m||"@graph"===
m,d.addValue(f,k,w,{propertyIsArray:u})}}return f}return e};P.prototype.expand=function(a,b,e,c,f){if(null===e||void 0===e)return null;if(!I(e)&&!J(e))return f||null!==b&&"@graph"!==H(a,b,{vocab:!0})?l(a,b,e):null;if(I(e)){var g=[],q=d.getContextValue(a,b,"@container");f=f||"@list"===q;for(var u=0;u<e.length;++u){var t=this.expand(a,b,e[u],c);if(f&&(I(t)||S(t)))throw new E("Invalid JSON-LD syntax; lists of lists are not permitted.","jsonld.SyntaxError",{code:"list of lists"});null!==t&&(I(t)?g=g.concat(t):
g.push(t))}return g}"@context"in e&&(a=this.processContext(a,e["@context"],c));for(var u=H(a,b,{vocab:!0}),g={},t=Object.keys(e).sort(),m=0;m<t.length;++m){var v=t[m],k=e[v];if("@context"!==v){var A=H(a,v,{vocab:!0});if(null!==A&&(X(A)||Q(A))){if(Q(A)){if("@reverse"===u)throw new E("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:k});if(A in g)throw new E("Invalid JSON-LD syntax; colliding keywords detected.",
"jsonld.SyntaxError",{code:"colliding keywords",keyword:A});}if("@id"===A&&!M(k)){if(!c.isFrame)throw new E('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:k});if(!J(k))throw new E('Invalid JSON-LD syntax; "@id" value must be a string or an object.',"jsonld.SyntaxError",{code:"invalid @id value",value:k});}if("@type"===A){var q=k,C;(C=M(q))||(C=J(q)&&0===Object.keys(q).length);if(!C){C=!1;if(I(q)){C=!0;for(var B=0;B<q.length;++B)if(!M(q[B])){C=
!1;break}}if(!C)throw new E('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, or an empty object.',"jsonld.SyntaxError",{code:"invalid type value",value:q});}}if("@graph"===A&&!J(k)&&!I(k))throw new E('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:k});if("@value"===A&&(J(k)||I(k)))throw new E('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",
{code:"invalid value object value",value:k});if("@language"===A){if(null===k)continue;if(!M(k))throw new E('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:k});k=k.toLowerCase()}if("@index"===A&&!M(k))throw new E('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:k});if("@reverse"===A){if(!J(k))throw new E('Invalid JSON-LD syntax; "@reverse" value must be an object.',
"jsonld.SyntaxError",{code:"invalid @reverse value",value:k});k=this.expand(a,"@reverse",k,c);if("@reverse"in k)for(var z in k["@reverse"])d.addValue(g,z,k["@reverse"][z],{propertyIsArray:!0});v=g["@reverse"]||null;for(z in k)if("@reverse"!==z)for(null===v&&(v=g["@reverse"]={}),d.addValue(v,z,[],{propertyIsArray:!0}),A=k[z],q=0;q<A.length;++q){C=A[q];if(T(C)||S(C))throw new E('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",
value:k});d.addValue(v,z,C,{propertyIsArray:!0})}}else{q=d.getContextValue(a,v,"@container");if("@language"===q&&J(k)){C=[];for(var B=Object.keys(k).sort(),w=0;w<B.length;++w){var F=B[w],n=k[F];I(n)||(n=[n]);for(var D=0;D<n.length;++D){var G=n[D];if(!M(G))throw new E("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:k});C.push({"@value":G,"@language":F.toLowerCase()})}}k=C}else if("@index"===q&&J(k)){C=v;B=[];w=Object.keys(k).sort();
for(F=0;F<w.length;++F)for(n=w[F],D=k[n],I(D)||(D=[D]),D=this.expand(a,C,D,c,!1),G=0;G<D.length;++G){var r=D[G];"@index"in r||(r["@index"]=n);B.push(r)}k=B}else if((C="@list"===A)||"@set"===A){if(B=b,C&&"@graph"===u&&(B=null),k=this.expand(a,B,k,c,C),C&&S(k))throw new E("Invalid JSON-LD syntax; lists of lists are not permitted.","jsonld.SyntaxError",{code:"list of lists"});}else k=this.expand(a,v,k,c,!1);if(null!==k||"@value"===A)if("@list"===A||S(k)||"@list"!==q||(k=I(k)?k:[k],k={"@list":k}),a.mappings[v]&&
a.mappings[v].reverse)for(v=g["@reverse"]=g["@reverse"]||{},I(k)||(k=[k]),q=0;q<k.length;++q){C=k[q];if(T(C)||S(C))throw new E('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:k});d.addValue(v,A,C,{propertyIsArray:!0})}else v=-1===["@index","@id","@type","@value","@language"].indexOf(A),d.addValue(g,A,k,{propertyIsArray:v})}}}}t=Object.keys(g);a=t.length;if("@value"in g){if("@type"in g&&"@language"in g)throw new E('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and "@language".',
"jsonld.SyntaxError",{code:"invalid value object",element:g});e=a-1;"@type"in g&&--e;"@index"in g&&--e;"@language"in g&&--e;if(0!==e)throw new E('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and at most one other property which can be "@type" or "@language".',"jsonld.SyntaxError",{code:"invalid value object",element:g});if(null===g["@value"])g=null;else{if("@language"in g&&!M(g["@value"]))throw new E("Invalid JSON-LD syntax; only strings may be language-tagged.",
"jsonld.SyntaxError",{code:"invalid language-tagged value",element:g});if("@type"in g&&(!X(g["@type"])||0===g["@type"].indexOf("_:")))throw new E('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:g});}}else if("@type"in g&&!I(g["@type"]))g["@type"]=[g["@type"]];else if("@set"in g||"@list"in g){if(1<a&&!(2===a&&"@index"in g))throw new E('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',
"jsonld.SyntaxError",{code:"invalid set or list object",element:g});"@set"in g&&(g=g["@set"],t=Object.keys(g),a=t.length)}else 1===a&&"@language"in g&&(g=null);!J(g)||c.keepFreeFloatingNodes||f||null!==b&&"@graph"!==u||!(0===a||"@value"in g||"@list"in g||1===a&&"@id"in g)||(g=null);return g};P.prototype.createNodeMap=function(a,b){b=b||{};var d=b.namer||new U("_:b"),e={"@default":{}};w(a,e,"@default",d);return F(e)};P.prototype.flatten=function(a){a=this.createNodeMap(a);for(var b=[],d=Object.keys(a).sort(),
e=0;e<d.length;++e){var c=a[d[e]];Y(c)||b.push(c)}return b};P.prototype.frame=function(a,b,d){d={options:d,graphs:{"@default":{},"@merged":{}},subjectStack:[],link:{}};var e=new U("_:b");w(a,d.graphs,"@merged",e);d.subjects=d.graphs["@merged"];a=[];D(d,Object.keys(d.subjects).sort(),b,a,null);return a};P.prototype.normalize=function(a,b,e){function c(a){function b(c){if(c===a.length)return f(q,g,e);var u=a[c],m=t(u,l);m in g?(g[m].push(u),e.push(u)):m in q?(g[m]=[q[m],u],e.push(q[m]),e.push(u),delete q[m]):
q[m]=u;d.setImmediate(function(){b(c+1)})}var e=[],g={},q={};d.setImmediate(function(){b(0)})}function f(a,b,d){for(var e=!1,h=Object.keys(a).sort(),q=0;q<h.length;++q)F.getName(a[h[q]]),e=!0;e?c(d):g(b)}function g(a){function b(c){function f(a,d){if(d===a.length){g.sort(function(a,b){a=a.hash;b=b.hash;return a<b?-1:a>b?1:0});for(var h=0;h<g.length;++h)for(var q in g[h].pathNamer.existing)F.getName(q);return b(c+1)}h=a[d];if(F.isNamed(h))return f(a,d+1);q=new U("_:b");q.getName(h);v(h,l,F,q,function(b,
c){if(b)return e(b);g.push(c);f(a,d+1)})}if(c===d.length)return q();var g=[];f(a[d[c]],0)}var d=Object.keys(a).sort();b(0)}function q(){for(var a=[],d=0;d<u.length;++d){for(var c=u[d],f=["subject","object","name"],g=0;g<f.length;++g){var h=f[g];c[h]&&"blank node"===c[h].type&&0!==c[h].value.indexOf("_:c14n")&&(c[h].value=F.getName(c[h].value))}a.push(ja(c,c.name?c.name.value:null))}a.sort();if(b.format)return"application/nquads"===b.format?e(null,a.join("")):e(new E("Unknown output format.","jsonld.UnknownFormat",
{format:b.format}));e(null,ua(a.join("")))}var u=[],l={},m;for(m in a){var k=a[m];"@default"===m&&(m=null);for(var A=0;A<k.length;++A){var C=k[A];null!==m&&(0===m.indexOf("_:")?C.name={type:"blank node",value:m}:C.name={type:"IRI",value:m});u.push(C);for(var B=["subject","object","name"],z=0;z<B.length;++z){var w=B[z];C[w]&&"blank node"===C[w].type&&(w=C[w].value,w in l?l[w].quads.push(C):l[w]={quads:[C]})}}}var F=new U("_:c14n");return c(Object.keys(l))};P.prototype.fromRDF=function(a,b,e){var c=
{},f={"@default":c},g={},q;for(q in a){var u=a[q];q in f||(f[q]={});"@default"===q||q in c||(c[q]={"@id":q});for(var l=f[q],t=0;t<u.length;++t){var m=u[t],v=m.subject.value,k=m.predicate.value,m=m.object;v in l||(l[v]={"@id":v});var v=l[v],A="IRI"===m.type||"blank node"===m.type;!A||m.value in l||(l[m.value]={"@id":m.value});if("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"===k&&!b.useRdfType&&A)d.addValue(v,"@type",m.value,{propertyIsArray:!0});else{var C;var B=m,z=b.useNativeTypes;"IRI"===B.type||
"blank node"===B.type?C={"@id":B.value}:(C={"@value":B.value},B.language?C["@language"]=B.language:((B=B.datatype)||(B=da),z?("http://www.w3.org/2001/XMLSchema#boolean"===B?"true"===C["@value"]?C["@value"]=!0:"false"===C["@value"]&&(C["@value"]=!1):(z=C["@value"],!isNaN(parseFloat(z))&&isFinite(z)&&("http://www.w3.org/2001/XMLSchema#integer"===B?(z=parseInt(C["@value"],10),z.toFixed(0)===C["@value"]&&(C["@value"]=z)):"http://www.w3.org/2001/XMLSchema#double"===B&&(C["@value"]=parseFloat(C["@value"])))),
-1===["http://www.w3.org/2001/XMLSchema#boolean","http://www.w3.org/2001/XMLSchema#integer","http://www.w3.org/2001/XMLSchema#double",da].indexOf(B)&&(C["@type"]=B)):B!==da&&(C["@type"]=B)));d.addValue(v,k,C,{propertyIsArray:!0});A&&("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"===m.value?(m=l[m.value],"usages"in m||(m.usages=[]),m.usages.push({node:v,property:k,value:C})):g[m.value]=m.value in g?!1:{node:v,property:k,value:C})}}}for(q in f)if(b=f[q],"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"in
b){u=b["http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"];for(a=0;a<u.usages.length;++a){m=u.usages[a];v=m.node;t=m.property;m=m.value;k=[];l=[];for(A=Object.keys(v).length;"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"===t&&J(g[v["@id"]])&&I(v["http://www.w3.org/1999/02/22-rdf-syntax-ns#first"])&&1===v["http://www.w3.org/1999/02/22-rdf-syntax-ns#first"].length&&I(v["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"])&&1===v["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"].length&&(3===A||4===
A&&I(v["@type"])&&1===v["@type"].length&&"http://www.w3.org/1999/02/22-rdf-syntax-ns#List"===v["@type"][0])&&(k.push(v["http://www.w3.org/1999/02/22-rdf-syntax-ns#first"][0]),l.push(v["@id"]),m=g[v["@id"]],v=m.node,t=m.property,m=m.value,A=Object.keys(v).length,0===v["@id"].indexOf("_:")););if("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"===t){if("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"===v["@id"])continue;m=b[m["@id"]]["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"][0];k.pop();l.pop()}delete m["@id"];
m["@list"]=k.reverse();for(v=0;v<l.length;++v)delete b[l[v]]}delete u.usages}g=[];q=Object.keys(c).sort();for(a=0;a<q.length;++a){b=q[a];v=c[b];if(b in f)for(u=v["@graph"]=[],b=f[b],l=Object.keys(b).sort(),t=0;t<l.length;++t)k=b[l[t]],Y(k)||u.push(k);Y(v)||g.push(v)}e(null,g)};P.prototype.toRDF=function(a,b){var d=new U("_:b"),e={"@default":{}};w(a,e,"@default",d);for(var c={},f=Object.keys(e).sort(),g=0;g<f.length;++g){var h=f[g];if("@default"===h||X(h)){for(var q=h,h=e[h],u=d,l=b,t=[],v=Object.keys(h).sort(),
k=0;k<v.length;++k)for(var C=v[k],A=h[C],B=Object.keys(A).sort(),z=0;z<B.length;++z){var F=B[z],n=A[F];if("@type"===F)F="http://www.w3.org/1999/02/22-rdf-syntax-ns#type";else if(Q(F))continue;for(var D=0;D<n.length;++D){var G=n[D],r={};r.type=0===C.indexOf("_:")?"blank node":"IRI";r.value=C;if(X(C)){var K={};K.type=0===F.indexOf("_:")?"blank node":"IRI";K.value=F;if(X(F)&&("blank node"!==K.type||l.produceGeneralizedRdf))if(S(G)){for(var G=G["@list"],N=u,L=t,M={type:"IRI",value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first"},
x={type:"IRI",value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},H=0;H<G.length;++H){var Z=G[H],y={type:"blank node",value:N.getName()};L.push({subject:r,predicate:K,object:y});r=y;K=M;(Z=m(Z))&&L.push({subject:r,predicate:K,object:Z});K=x}L.push({subject:r,predicate:K,object:{type:"IRI",value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}})}else(G=m(G))&&t.push({subject:r,predicate:K,object:G})}}}c[q]=t}}return c};P.prototype.processContext=function(a,b,e){J(b)&&"@context"in b&&I(b["@context"])&&
(b=b["@context"]);b=I(b)?b:[b];if(0===b.length)return a.clone();for(var c=a,f=0;f<b.length;++f){var g=b[f];if(null===g)c=a=y(e);else{J(g)&&"@context"in g&&(g=g["@context"]);if(!J(g))throw new E("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:g});if(d.cache.activeCtx&&(a=d.cache.activeCtx.get(a,g))){c=a;continue}a=c;var c=c.clone(),q={};if("@base"in g){var u=g["@base"];if(null===u)u=null;else{if(!M(u))throw new E('Invalid JSON-LD syntax; the value of "@base" in a @context must be a string or null.',
"jsonld.SyntaxError",{code:"invalid base IRI",context:g});if(""!==u&&!X(u))throw new E('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI or the empty string.',"jsonld.SyntaxError",{code:"invalid base IRI",context:g});}null!==u&&(u=d.url.parse(u||""));c["@base"]=u;q["@base"]=!0}if("@vocab"in g){u=g["@vocab"];if(null===u)delete c["@vocab"];else if(M(u))if(X(u))c["@vocab"]=u;else throw new E('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',
"jsonld.SyntaxError",{code:"invalid vocab mapping",context:g});else throw new E('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:g});q["@vocab"]=!0}if("@language"in g){u=g["@language"];if(null===u)delete c["@language"];else if(M(u))c["@language"]=u.toLowerCase();else throw new E('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",
context:g});q["@language"]=!0}for(var l in g)x(c,g,l,q);d.cache.activeCtx&&d.cache.activeCtx.set(a,g,c)}}return c};Object.keys||(Object.keys=function(a){if(a!==Object(a))throw new TypeError("Object.keys called on non-object");var b=[],d;for(d in a)Object.prototype.hasOwnProperty.call(a,d)&&b.push(d);return b});d.registerRDFParser("application/nquads",ua);d.registerRDFParser("rdfa-api",function(a){for(var b={"@default":[]},d=a.getSubjects(),e=0;e<d.length;++e){var c=d[e];if(null!==c){var f=a.getSubjectTriples(c);
if(null!==f){var f=f.predicates,g;for(g in f)for(var h=f[g].objects,q=0;q<h.length;++q){var u=h[q],l={};0===c.indexOf("_:")?l.subject={type:"blank node",value:c}:l.subject={type:"IRI",value:c};0===g.indexOf("_:")?l.predicate={type:"blank node",value:g}:l.predicate={type:"IRI",value:g};var t=u.value;if("http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral"===u.type){ha||(ha=r("xmldom").XMLSerializer);for(var m=new ha,t="",v=0;v<u.value.length;v++)u.value[v].nodeType===oa.ELEMENT_NODE?t+=m.serializeToString(u.value[v]):
u.value[v].nodeType===oa.TEXT_NODE&&(t+=u.value[v].nodeValue)}l.object={};"http://www.w3.org/1999/02/22-rdf-syntax-ns#object"===u.type?0===u.value.indexOf("_:")?l.object.type="blank node":l.object.type="IRI":(l.object.type="literal","http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral"===u.type?u.language?(l.object.datatype=ga,l.object.language=u.language):l.object.datatype=da:l.object.datatype=u.type);l.object.value=t;b["@default"].push(l)}}}}return b});d.UniqueNamer=U;U.prototype.clone=function(){var a=
new U(this.prefix);a.counter=this.counter;a.existing=R(this.existing);return a};U.prototype.getName=function(a){if(a&&a in this.existing)return this.existing[a];var b=this.prefix+this.counter;this.counter+=1;a&&(this.existing[a]=b);return b};U.prototype.isNamed=function(a){return a in this.existing};var ka=function(a){this.list=a.sort();this.done=!1;this.left={};for(var b=0;b<a.length;++b)this.left[a[b]]=!0};ka.prototype.hasNext=function(){return!this.done};ka.prototype.next=function(){for(var a=
this.list.slice(),b=null,d=0,e=this.list.length,c=0;c<e;++c){var f=this.list[c],g=this.left[f];(null===b||f>b)&&(g&&0<c&&f>this.list[c-1]||!g&&c<e-1&&f>this.list[c+1])&&(b=f,d=c)}if(null===b)this.done=!0;else for(c=this.left[b]?d-1:d+1,this.list[d]=this.list[c],this.list[c]=b,c=0;c<e;++c)this.list[c]>b&&(this.left[this.list[c]]=!this.left[this.list[c]]);return a};var O=d.sha1={};if(c){var wa=r("crypto");O.create=function(){var a=wa.createHash("sha1");return{update:function(b){a.update(b,"utf8")},
digest:function(){return a.digest("hex")}}}}else O.create=function(){return new O.MessageDigest};O.hash=function(a){for(var b=O.create(),d=0;d<a.length;++d)b.update(a[d]);return b.digest()};if(!c){O.Buffer=function(){this.data="";this.read=0};O.Buffer.prototype.putInt32=function(a){this.data+=String.fromCharCode(a>>24&255)+String.fromCharCode(a>>16&255)+String.fromCharCode(a>>8&255)+String.fromCharCode(a&255)};O.Buffer.prototype.getInt32=function(){var a=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+
1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);this.read+=4;return a};O.Buffer.prototype.bytes=function(){return this.data.slice(this.read)};O.Buffer.prototype.length=function(){return this.data.length-this.read};O.Buffer.prototype.compact=function(){this.data=this.data.slice(this.read);this.read=0};O.Buffer.prototype.toHex=function(){for(var a="",b=this.read;b<this.data.length;++b){var d=this.data.charCodeAt(b);16>d&&(a+="0");a+=d.toString(16)}return a};O.MessageDigest=
function(){ca.initialized||ca.init();this.blockLength=64;this.digestLength=20;this.messageLength=0;this.input=new O.Buffer;this.words=Array(80);this.state={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520}};O.MessageDigest.prototype.update=function(a){a=unescape(encodeURIComponent(a));this.messageLength+=a.length;this.input.data+=a;ca.update(this.state,this.words,this.input);(2048<this.input.read||0===this.input.length())&&this.input.compact()};O.MessageDigest.prototype.digest=
function(){var a=this.messageLength,b=new O.Buffer;b.data+=this.input.bytes();b.data+=ca.padding.substr(0,64-(a+8)%64);b.putInt32(a>>>29&255);b.putInt32(a<<3&4294967295);ca.update(this.state,this.words,b);a=new O.Buffer;a.putInt32(this.state.h0);a.putInt32(this.state.h1);a.putInt32(this.state.h2);a.putInt32(this.state.h3);a.putInt32(this.state.h4);return a.toHex()};var ca={padding:null,initialized:!1,init:function(){ca.padding=String.fromCharCode(128);for(var a=String.fromCharCode(0),b=64;0<b;)b&
1&&(ca.padding+=a),b>>>=1,0<b&&(a+=a);ca.initialized=!0},update:function(a,b,d){for(var e,c,f,g,h,q,u,l,t=d.length();64<=t;){c=a.h0;f=a.h1;g=a.h2;h=a.h3;q=a.h4;for(l=0;16>l;++l)e=d.getInt32(),b[l]=e,u=h^f&(g^h),e=(c<<5|c>>>27)+u+q+1518500249+e,q=h,h=g,g=f<<30|f>>>2,f=c,c=e;for(;20>l;++l)e=b[l-3]^b[l-8]^b[l-14]^b[l-16],e=e<<1|e>>>31,b[l]=e,u=h^f&(g^h),e=(c<<5|c>>>27)+u+q+1518500249+e,q=h,h=g,g=f<<30|f>>>2,f=c,c=e;for(;32>l;++l)e=b[l-3]^b[l-8]^b[l-14]^b[l-16],e=e<<1|e>>>31,b[l]=e,u=f^g^h,e=(c<<5|c>>>
27)+u+q+1859775393+e,q=h,h=g,g=f<<30|f>>>2,f=c,c=e;for(;40>l;++l)e=b[l-6]^b[l-16]^b[l-28]^b[l-32],e=e<<2|e>>>30,b[l]=e,u=f^g^h,e=(c<<5|c>>>27)+u+q+1859775393+e,q=h,h=g,g=f<<30|f>>>2,f=c,c=e;for(;60>l;++l)e=b[l-6]^b[l-16]^b[l-28]^b[l-32],e=e<<2|e>>>30,b[l]=e,u=f&g|h&(f^g),e=(c<<5|c>>>27)+u+q+2400959708+e,q=h,h=g,g=f<<30|f>>>2,f=c,c=e;for(;80>l;++l)e=b[l-6]^b[l-16]^b[l-28]^b[l-32],e=e<<2|e>>>30,b[l]=e,u=f^g^h,e=(c<<5|c>>>27)+u+q+3395469782+e,q=h,h=g,g=f<<30|f>>>2,f=c,c=e;a.h0+=c;a.h1+=f;a.h2+=g;a.h3+=
h;a.h4+=q;t-=64}}}}d.url={};d.url.parsers={simple:{keys:"href scheme authority path query fragment".split(" "),regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:"href protocol scheme authority auth user password hostname port path directory file query fragment".split(" "),regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}};d.url.parse=function(a,b){for(var e={},c=d.url.parsers[b||
"full"],f=c.regex.exec(a),g=c.keys.length;g--;)e[c.keys[g]]=void 0===f[g]?null:f[g];e.normalizedPath=va(e.path,!!e.authority);return e};c?d.useDocumentLoader("node"):"undefined"!==typeof XMLHttpRequest&&d.useDocumentLoader("xhr");c&&(d.use=function(a){switch(a){case "request":d.request=r("./request");break;default:throw new E("Unknown extension.","jsonld.UnknownExtension",{extension:a});}},aa={exports:{},filename:b},r("pkginfo")(aa,"version"),d.version=aa.exports.version);return d},f=function(){return d(function(){return f()})};
d(f);"function"===typeof r&&"undefined"!==typeof y&&y.exports&&(y.exports=f);a&&("undefined"===typeof jsonld?jsonld=jsonldjs=f:jsonldjs=f);return f})()}).call(this,r("1YiZ5S"),"undefined"!==typeof self?self:"undefined"!==typeof window?window:{},"/../node_modules/jsonld/js")},{"./request":29,"1YiZ5S":13,crypto:29,"es6-promise":31,http:29,pkginfo:32,request:29,util:29,xmldom:29}],31:[function(r,y,x){(function(k,n){(function(){function b(a){return"function"===typeof a}function c(){return function(){k.nextTick(h)}}
function a(){var a=0,b=new x(h),d=document.createTextNode("");b.observe(d,{characterData:!0});return function(){d.data=a=++a%2}}function d(){var a=new MessageChannel;a.port1.onmessage=h;return function(){a.port2.postMessage(0)}}function f(){return function(){setTimeout(h,1)}}function h(){for(var a=0;a<A;a+=2)(0,H[a])(H[a+1]),H[a]=void 0,H[a+1]=void 0;A=0}function e(){}function g(a,b,d,e){try{a.call(b,d,e)}catch(c){return c}}function l(a,b,d){z(function(a){var e=!1,c=g(d,b,function(d){e||(e=!0,b!==
d?t(a,d):B(a,d))},function(b){e||(e=!0,w(a,b))},"Settle: "+(a._label||" unknown promise"));!e&&c&&(e=!0,w(a,c))},a)}function m(a,b){1===b._state?B(a,b._result):2===a._state?w(a,b._result):F(b,void 0,function(b){t(a,b)},function(b){w(a,b)})}function t(a,d){if(a===d)w(a,new TypeError("You cannot resolve a promise with itself"));else if("function"===typeof d||"object"===typeof d&&null!==d)if(d.constructor===a.constructor)m(a,d);else{var e;try{e=d.then}catch(c){Q.error=c,e=Q}e===Q?w(a,Q.error):void 0===
e?B(a,d):b(e)?l(a,d,e):B(a,d)}else B(a,d)}function v(a){a._onerror&&a._onerror(a._result);D(a)}function B(a,b){void 0===a._state&&(a._result=b,a._state=1,0!==a._subscribers.length&&z(D,a))}function w(a,b){void 0===a._state&&(a._state=2,a._result=b,z(v,a))}function F(a,b,d,e){var c=a._subscribers,f=c.length;a._onerror=null;c[f]=b;c[f+1]=d;c[f+2]=e;0===f&&a._state&&z(D,a)}function D(a){var b=a._subscribers,d=a._state;if(0!==b.length){for(var e,c,f=a._result,g=0;g<b.length;g+=3)e=b[g],c=b[g+d],e?r(d,
e,c,f):c(f);a._subscribers.length=0}}function G(){this.error=null}function r(a,d,e,c){var f=b(e),g,h,q,u;if(f){try{g=e(c)}catch(l){J.error=l,g=J}g===J?(u=!0,h=g.error,g=null):q=!0;if(d===g){w(d,new TypeError("A promises callback cannot return that same promise."));return}}else g=c,q=!0;void 0===d._state&&(f&&q?t(d,g):u?w(d,h):1===a?B(d,g):2===a&&w(d,g))}function L(a,b){try{b(function(b){t(a,b)},function(b){w(a,b)})}catch(d){w(a,d)}}function u(a,b,d,c){this._instanceConstructor=a;this.promise=new a(e,
c);this._abortOnReject=d;this._validateInput(b)?(this._input=b,this._remaining=this.length=b.length,this._init(),0===this.length?B(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&B(this.promise,this._result))):w(this.promise,this._validationError())}function q(a){this._id=I++;this._result=this._state=void 0;this._subscribers=[];if(e!==a){if(!b(a))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");
if(!(this instanceof q))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");L(this,a)}}var C=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},A=0,z=function(a,b){H[A]=a;H[A+1]=b;A+=2;2===A&&pa()},N="undefined"!==typeof window?window:{},x=N.MutationObserver||N.WebKitMutationObserver,N="undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof importScripts&&
"undefined"!==typeof MessageChannel,H=Array(1E3),pa;pa="undefined"!==typeof k&&"[object process]"==={}.toString.call(k)?c():x?a():N?d():f();var Q=new G,J=new G;u.prototype._validateInput=function(a){return C(a)};u.prototype._validationError=function(){return Error("Array Methods must be provided an Array")};u.prototype._init=function(){this._result=Array(this.length)};u.prototype._enumerate=function(){for(var a=this.length,b=this.promise,d=this._input,e=0;void 0===b._state&&e<a;e++)this._eachEntry(d[e],
e)};u.prototype._eachEntry=function(a,b){var d=this._instanceConstructor;"object"===typeof a&&null!==a?a.constructor===d&&void 0!==a._state?(a._onerror=null,this._settledAt(a._state,b,a._result)):this._willSettleAt(d.resolve(a),b):(this._remaining--,this._result[b]=this._makeResult(1,b,a))};u.prototype._settledAt=function(a,b,d){var e=this.promise;void 0===e._state&&(this._remaining--,this._abortOnReject&&2===a?w(e,d):this._result[b]=this._makeResult(a,b,d));0===this._remaining&&B(e,this._result)};
u.prototype._makeResult=function(a,b,d){return d};u.prototype._willSettleAt=function(a,b){var d=this;F(a,void 0,function(a){d._settledAt(1,b,a)},function(a){d._settledAt(2,b,a)})};var I=0;q.all=function(a,b){return(new u(this,a,!0,b)).promise};q.race=function(a,b){function d(a){t(f,a)}function c(a){w(f,a)}var f=new this(e,b);if(!C(a))return w(f,new TypeError("You must pass an array to race.")),f;for(var g=a.length,h=0;void 0===f._state&&h<g;h++)F(this.resolve(a[h]),void 0,d,c);return f};q.resolve=
function(a,b){if(a&&"object"===typeof a&&a.constructor===this)return a;var d=new this(e,b);t(d,a);return d};q.reject=function(a,b){var d=new this(e,b);w(d,a);return d};q.prototype={constructor:q,then:function(a,b){var d=this._state;if(1===d&&!a||2===d&&!b)return this;var c=new this.constructor(e),f=this._result;if(d){var g=arguments[d-1];z(function(){r(d,c,g,f)})}else F(this,c,a,b);return c},"catch":function(a){return this.then(null,a)}};N={Promise:q,polyfill:function(){var a;a="undefined"!==typeof n?
n:"undefined"!==typeof window&&window.document?window:self;"Promise"in a&&"resolve"in a.Promise&&"reject"in a.Promise&&"all"in a.Promise&&"race"in a.Promise&&function(){var d;new a.Promise(function(a){d=a});return b(d)}()||(a.Promise=q)}};"undefined"!==typeof y&&y.exports?y.exports=N:"undefined"!==typeof this&&(this.ES6Promise=N)}).call(this)}).call(this,r("1YiZ5S"),"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"1YiZ5S":13}],32:[function(r,y,x){(function(k){var n=r("fs"),
b=r("path"),c=y.exports=function(a,b){var f=[].slice.call(arguments,2).filter(function(a){return"string"===typeof a});Array.isArray(b)?b={include:b}:"string"===typeof b&&(b={include:[b]});b=b||{};b.include=b.include||[];0<f.length&&(b.include=b.include.concat(f));var h=c.read(a,b.dir)["package"];Object.keys(h).forEach(function(e){0<b.include.length&&!~b.include.indexOf(e)||a.exports[e]||(a.exports[e]=h[e])});return c};c.find=function(a,d){d||(d=b.dirname(a.filename));if(~n.readdirSync(d).indexOf("package.json"))return b.join(d,
"package.json");if("/"===d)throw Error("Could not find package.json up from: "+d);if(!d||"."===d)throw Error("Cannot find package.json from unspecified directory");return c.find(a,b.dirname(d))};c.read=function(a,b){b=c.find(a,b);var f=n.readFileSync(b).toString();return{dir:b,"package":JSON.parse(f)}};c(y,{dir:k,include:["version"],target:c})}).call(this,"/../node_modules/jsonld/node_modules/pkginfo/lib")},{fs:1,path:12}],33:[function(r,y,x){var k=r;r=function(){};x=y.exports={Lexer:r("./lib/N3Lexer"),
Parser:r("./lib/N3Parser"),Writer:r("./lib/N3Writer"),Store:r("./lib/N3Store"),StreamParser:r("./lib/N3StreamParser"),StreamWriter:r("./lib/N3StreamWriter"),Util:r("./lib/N3Util")};Object.keys(x).forEach(function(n){Object.defineProperty(x,n,{configurable:!0,enumerable:!0,get:function(){delete x[n];return x[n]=k("./lib/N3"+n)}})})},{"./lib/N3Lexer":34,"./lib/N3Parser":35,"./lib/N3Store":36,"./lib/N3StreamParser":37,"./lib/N3StreamWriter":38,"./lib/N3Util":39,"./lib/N3Writer":40}],34:[function(r,y,
x){function k(a){if(!(this instanceof k))return new k(a);if(a&&a.lineMode){this._tripleQuotedString=this._number=this._boolean=/$0^/;var b=this;this._tokenize=this.tokenize;this.tokenize=function(a,d){this._tokenize(a,function(a,e){!a&&/^(?:IRI|prefixed|literal|langcode|type|\.|eof)$/.test(e.type)?d&&d(a,e):d&&d(a||b._syntaxError(e.type,d=null))})}}}var n=String.fromCharCode,b="function"===typeof setImmediate?setImmediate:function(a){setTimeout(a,0)},c=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\[uU]|\\(.)/g,
a={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},d=/[\x00-\x20<>\\"\{\}\|\^\`]/;k.prototype={_iri:/^<((?:[^>\\]|\\[uU])+)>/,_unescapedIri:/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>/,_unescapedString:/^"[^"\\]+"(?=[^"\\])/,_singleQuotedString:/^"[^"\\]*(?:\\.[^"\\]*)*"(?=[^"\\])|^'[^'\\]*(?:\\.[^'\\]*)*'(?=[^'\\])/,_tripleQuotedString:/^""("[^"\\]*(?:(?:\\.|"(?!""))[^"\\]*)*")""|^''('[^'\\]*(?:(?:\\.|'(?!''))[^'\\]*)*')''/,
_langcode:/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,_prefix:/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,_prefixed:/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?=\.?[,;\s#()\[\]\{\}"'<])/,
_blank:/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=\.?[,;:\s#()\[\]\{\}"'<])/,_number:/^[\-+]?(?:\d+\.?\d*([eE](?:[\-\+])?\d+)|\d*\.?\d+)(?=[.,;:\s#()\[\]\{\}"'<])/,_boolean:/^(?:true|false)(?=[.,;:\s#()\[\]\{\}"'<])/,
_keyword:/^@[a-z]+(?=[\s#<:])/,_sparqlKeyword:/^(?:PREFIX|BASE|GRAPH)(?=[\s#<:])/i,_shortPredicates:/^a(?=\s+|<)/,_newline:/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,_whitespace:/^[ \t]+/,_endOfFile:/^(?:#[^\n\r]*)?$/,_tokenizeToEnd:function(a,b){function e(b){a(b._syntaxError(/^\S*/.exec(c)[0]))}for(var c=this._input;;){for(var l;l=this._newline.exec(c);)c=c.substr(l[0].length,c.length),this._line++;if(l=this._whitespace.exec(c))c=c.substr(l[0].length,c.length);if(this._endOfFile.test(c))return b&&
a(c=null,{line:this._line,type:"eof",value:"",prefix:""}),this._input=c;l=this._line;var m="",t="",v="",k=c[0],w=null,F=0,n=!1;switch(k){case "^":if(1===c.length)break;else if("^"!==c[1])return e(this);this._prevTokenType="^";c=c.substr(2);if("<"!==c[0]){n=!0;break}case "<":if(w=this._unescapedIri.exec(c))m="IRI",t=w[1];else if(w=this._iri.exec(c)){t=this._unescape(w[1]);if(null===t||d.test(t))return e(this);m="IRI"}break;case "_":if((w=this._blank.exec(c))||b&&(w=this._blank.exec(c+" ")))m="prefixed",
v="_",t=w[1];break;case '"':case "'":if(w=this._unescapedString.exec(c))m="literal",t=w[0];else if(w=this._singleQuotedString.exec(c)){t=this._unescape(w[0]);if(null===t)return e(this);m="literal";t=t.replace(/^'|'$/g,'"')}else if(w=this._tripleQuotedString.exec(c)){t=w[1]||w[2];this._line+=t.split(/\r\n|\r|\n/).length-1;t=this._unescape(t);if(null===t)return e(this);m="literal";t=t.replace(/^'|'$/g,'"')}break;case "@":if("literal"===this._prevTokenType&&(w=this._langcode.exec(c)))m="langcode",t=
w[1];else if(w=this._keyword.exec(c))m=w[0];break;case ".":if(1===c.length?b:"0">c[1]||"9"<c[1]){m=".";F=1;break}case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":case "+":case "-":if(w=this._number.exec(c))m="literal",t='"'+w[0]+'"^^http://www.w3.org/2001/XMLSchema#'+(w[1]?"double":/^[+\-]?\d+$/.test(w[0])?"integer":"decimal");break;case "B":case "b":case "p":case "P":case "G":case "g":(w=this._sparqlKeyword.exec(c))?m=w[0].toUpperCase():n=!0;break;case "f":case "t":(w=
this._boolean.exec(c))?(m="literal",t='"'+w[0]+'"^^http://www.w3.org/2001/XMLSchema#boolean'):n=!0;break;case "a":(w=this._shortPredicates.exec(c))?(m="abbreviation",t="http://www.w3.org/1999/02/22-rdf-syntax-ns#type"):n=!0;break;case ",":case ";":case "[":case "]":case "(":case ")":case "{":case "}":F=1;m=k;break;default:n=!0}if(n)if(("@prefix"===this._prevTokenType||"PREFIX"===this._prevTokenType)&&(w=this._prefix.exec(c)))m="prefix",t=w[1]||"";else if((w=this._prefixed.exec(c))||b&&(w=this._prefixed.exec(c+
" ")))m="prefixed",v=w[1]||"",t=this._unescape(w[2]);"^"===this._prevTokenType&&(m="IRI"===m||"prefixed"===m?"type":"");if(!m)return b||!/^'''|^"""/.test(c)&&/\n|\r/.test(c)?e(this):this._input=c;a(null,{line:l,type:m,value:t,prefix:v});this._prevTokenType=m;c=c.substr(F||w[0].length,c.length)}},_unescape:function(b){try{return b.replace(c,function(b,d,c,f){if(d){b=parseInt(d,16);if(isNaN(b))throw Error();return n(b)}if(c){b=parseInt(c,16);if(isNaN(b))throw Error();return 65535>=b?n(b):n(55296+(b-=
65536)/1024,56320+(b&1023))}b=a[f];if(!b)throw Error();return b})}catch(d){return null}},_syntaxError:function(a){this._input=null;return Error('Syntax error: unexpected "'+a+'" on line '+this._line+".")},tokenize:function(a,d){function e(a){null!==l._input&&(l._input+=a,l._tokenizeToEnd(d,!1))}function c(){null!==l._input&&l._tokenizeToEnd(d,!0)}var l=this;this._line=1;"string"===typeof a?(this._input=a,b(function(){l._tokenizeToEnd(d,!0)})):(this._input="",a&&"function"!==typeof a?("function"===
typeof a.setEncoding&&a.setEncoding("utf8"),a.on("data",e),a.on("end",c)):(this.addChunk=e,this.end=c,d||(d=a)))}};y.exports=k},{}],35:[function(r,y,x){function k(a){if(!(this instanceof k))return new k(a);this._tripleStack=[];this._graph=null;a=a||{};this._setBase(a.documentIRI);var d="string"===typeof a.format&&a.format.match(/\w*$/)[0].toLowerCase(),c="turtle"===d,f="trig"===d,h=/triple/.test(d),d=/quad/.test(d),d=h||d;(this._supportsNamedGraphs=!c)||(this._readPredicateOrNamedGraph=this._readPredicate);
this._supportsQuads=!(c||f||h);d&&(this._base="",this._resolveIRI=function(a){this._error("Disallowed relative IRI",a);return this._callback=n,this._subject=null});this._blankNodePrefix="string"!==typeof a.blankNodePrefix?"":"_:"+a.blankNodePrefix.replace(/^_:/,"");this._lexer=a.lexer||new b({lineMode:d})}function n(){}var b=r("./N3Lexer"),c=/^[a-z][a-z0-9+.-]*:/i,a=/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i,d=/(?:^|\/)\.\.?(?:$|[\/#?])/,f=0,h=0;k._resetBlankNodeIds=function(){f=h=0};k.prototype=
{_setBase:function(b){if(!b)b=null;else if(0<=b.indexOf("#"))throw Error("Invalid base IRI "+b);if(this._base=b)this._basePath=b.replace(/[^\/?]*(?:\?.*)?$/,""),b=b.match(a),this._baseRoot=b[0],this._baseScheme=b[1]},_readInTopContext:function(a){switch(a.type){case "eof":if(null!==this._graph)return this._error("Unclosed graph",a);delete this._prefixes._;return this._callback(null,null,this._prefixes);case "@prefix":return this._sparqlStyle=!1,this._readPrefix;case "PREFIX":return this._sparqlStyle=
!0,this._readPrefix;case "@base":return this._sparqlStyle=!1,this._readBaseIRI;case "BASE":return this._sparqlStyle=!0,this._readBaseIRI;case "{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case "GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(a)}},_readSubject:function(a){this._predicate=null;switch(a.type){case "IRI":null===this._base||c.test(a.value)?this._subject=a.value:this._subject=this._resolveIRI(a);
break;case "prefixed":var b=this._prefixes[a.prefix];if(void 0===b)return this._error('Undefined prefix "'+a.prefix+':"',a);this._subject=b+a.value;break;case "[":return this._subject="_:b"+h++,this._tripleStack.push({subject:this._subject,predicate:null,object:null,type:"blank"}),this._readBlankNodeHead;case "(":return this._tripleStack.push({subject:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil",predicate:null,object:null,type:"list"}),this._subject=null,this._readListItem;case "}":return this._readPunctuation(a);
default:return this._error("Expected subject but got "+a.type,a)}return this._readPredicateOrNamedGraph},_readPredicate:function(a){var b=a.type;switch(b){case "IRI":case "abbreviation":null===this._base||c.test(a.value)?this._predicate=a.value:this._predicate=this._resolveIRI(a);break;case "prefixed":if("_"===a.prefix)return this._error("Disallowed blank node as predicate",a);b=this._prefixes[a.prefix];if(void 0===b)return this._error('Undefined prefix "'+a.prefix+':"',a);this._predicate=b+a.value;
break;case ".":case "]":case "}":if(null===this._predicate)return this._error("Unexpected "+b,a);this._subject=null;return"]"===b?this._readBlankNodeTail(a):this._readPunctuation(a);case ";":return this._readPredicate;default:return this._error('Expected predicate to follow "'+this._subject+'"',a)}return this._readObject},_readObject:function(a){switch(a.type){case "IRI":null===this._base||c.test(a.value)?this._object=a.value:this._object=this._resolveIRI(a);break;case "prefixed":var b=this._prefixes[a.prefix];
if(void 0===b)return this._error('Undefined prefix "'+a.prefix+':"',a);this._object=b+a.value;break;case "literal":return this._object=a.value,this._readDataTypeOrLang;case "[":return a="_:b"+h++,this._tripleStack.push({subject:this._subject,predicate:this._predicate,object:a,type:"blank"}),this._subject=a,this._readBlankNodeHead;case "(":return this._tripleStack.push({subject:this._subject,predicate:this._predicate,object:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil",type:"list"}),this._subject=
null,this._readListItem;default:return this._error('Expected object to follow "'+this._predicate+'"',a)}return this._getTripleEndReader()},_readPredicateOrNamedGraph:function(a){return"{"===a.type?this._readGraph(a):this._readPredicate(a)},_readGraph:function(a){if("{"!==a.type)return this._error("Expected graph but got "+a.type,a);this._graph=this._subject;this._subject=null;return this._readSubject},_readBlankNodeHead:function(a){if("]"===a.type)return this._subject=null,this._readBlankNodeTail(a);
this._predicate=null;return this._readPredicate(a)},_readBlankNodeTail:function(a){if("]"!==a.type)return this._readBlankNodePunctuation(a);null!==this._subject&&this._callback(null,{subject:this._subject,predicate:this._predicate,object:this._object,graph:this._graph||""});a=this._tripleStack.pop();this._subject=a.subject;return null!==a.object?(this._predicate=a.predicate,this._object=a.object,this._getTripleEndReader()):null!==this._predicate?this._readPredicate:this._readPredicateOrNamedGraph},
_readDataTypeOrLang:function(a){switch(a.type){case "type":if(""===a.prefix)a=null===this._base||c.test(a.value)?a.value:this._resolveIRI(a);else{var b=this._prefixes[a.prefix];if(void 0===b)return this._error('Undefined prefix "'+a.prefix+':"',a);a=b+a.value}this._object+="^^"+a;return this._getTripleEndReader();case "langcode":return this._object+="@"+a.value.toLowerCase(),this._getTripleEndReader();default:return this._getTripleEndReader().call(this,a)}},_readListItem:function(a){var b=null,d=
null,f=this._subject,t=this._tripleStack,v=t[t.length-1],k=this._readListItem;switch(a.type){case "IRI":b=null===this._base||c.test(a.value)?a.value:this._resolveIRI(a);break;case "prefixed":b=this._prefixes[a.prefix];if(void 0===b)return this._error('Undefined prefix "'+a.prefix+':"',a);b+=a.value;break;case "literal":b=a.value;k=this._readDataTypeOrLang;break;case "[":d="_:b"+h++;b="_:b"+h++;t.push({subject:d,predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",object:b,type:"blank"});this._subject=
b;k=this._readBlankNodeHead;break;case "(":d="_:b"+h++;t.push({subject:d,predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",object:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil",type:"list"});this._subject=null;k=this._readListItem;break;case ")":t.pop();0!==t.length&&"list"===t[t.length-1].type&&this._callback(null,{subject:v.subject,predicate:v.predicate,object:v.object,graph:this._graph||""});this._subject=v.subject;if(null===v.predicate){if(k=this._readPredicate,"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"===
v.subject)return k}else if(this._predicate=v.predicate,this._object=v.object,k=this._getTripleEndReader(),"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"===v.object)return k;d="http://www.w3.org/1999/02/22-rdf-syntax-ns#nil";break;default:return this._error('Expected list item instead of "'+a.type+'"',a)}null===d&&(this._subject=d="_:b"+h++);null===f?"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"===v.object?v.object=d:v.subject=d:this._callback(null,{subject:f,predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",
object:d,graph:this._graph||""});null!==b&&this._callback(null,{subject:d,predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",object:b,graph:this._graph||""});return k},_readPunctuation:function(a){var b=this._subject,d=this._graph;switch(a.type){case "}":if(null===this._graph)return this._error("Unexpected graph closing",a);this._graph=null;case ".":this._subject=null;a=this._readInTopContext;break;case ";":a=this._readPredicate;break;case ",":a=this._readObject;break;case "IRI":if(this._supportsQuads&&
null===this._graph){d=null===this._base||c.test(a.value)?a.value:this._resolveIRI(a);b=this._subject;a=this._readQuadPunctuation;break}case "prefixed":if(this._supportsQuads&&null===this._graph){d=this._prefixes[a.prefix];if(void 0===d)return this._error('Undefined prefix "'+a.prefix+':"',a);d+=a.value;a=this._readQuadPunctuation;break}default:return this._error('Expected punctuation to follow "'+this._object+'"',a)}null!==b&&this._callback(null,{subject:b,predicate:this._predicate,object:this._object,
graph:d||""});return a},_readBlankNodePunctuation:function(a){switch(a.type){case ";":a=this._readPredicate;break;case ",":a=this._readObject;break;default:return this._error('Expected punctuation to follow "'+this._object+'"',a)}this._callback(null,{subject:this._subject,predicate:this._predicate,object:this._object,graph:this._graph||""});return a},_readQuadPunctuation:function(a){return"."!==a.type?this._error("Expected dot to follow quad",a):this._readInTopContext},_readPrefix:function(a){if("prefix"!==
a.type)return this._error("Expected prefix to follow @prefix",a);this._prefix=a.value;return this._readPrefixIRI},_readPrefixIRI:function(a){if("IRI"!==a.type)return this._error('Expected IRI to follow prefix "'+this._prefix+':"',a);a=null===this._base||c.test(a.value)?a.value:this._resolveIRI(a);this._prefixes[this._prefix]=a;this._prefixCallback(this._prefix,a);return this._readDeclarationPunctuation},_readBaseIRI:function(a){if("IRI"!==a.type)return this._error("Expected IRI to follow base declaration",
a);try{this._setBase(null===this._base||c.test(a.value)?a.value:this._resolveIRI(a))}catch(b){this._error(b.message,a)}return this._readDeclarationPunctuation},_readNamedGraphLabel:function(a){switch(a.type){case "IRI":case "prefixed":return this._readSubject(a),this._readGraph;case "[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",a)}},_readNamedGraphBlankLabel:function(a){if("]"!==a.type)return this._error("Invalid graph label",a);this._subject="_:b"+h++;
return this._readGraph},_readDeclarationPunctuation:function(a){return this._sparqlStyle?this._readInTopContext(a):"."!==a.type?this._error("Expected declaration to end with a dot",a):this._readInTopContext},_getTripleEndReader:function(){var a=this._tripleStack;if(0===a.length)return this._readPunctuation;switch(a[a.length-1].type){case "blank":return this._readBlankNodeTail;case "list":return this._readListItem}},_error:function(a,b){this._callback(Error(a+" at line "+b.line+"."))},_resolveIRI:function(a){a=
a.value;switch(a[0]){case void 0:return this._base;case "#":return this._base+a;case "?":return this._base.replace(/(?:\?.*)?$/,a);case "/":return("/"===a[1]?this._baseScheme:this._baseRoot)+this._removeDotSegments(a);default:return this._removeDotSegments(this._basePath+a)}},_removeDotSegments:function(a){if(!d.test(a))return a;for(var b="",c=a.length,f=-1,h=-1,v=0,k="/";f<c;){switch(k){case ":":if(0>h&&"/"===a[++f]&&"/"===a[++f])for(;(h=f+1)<c&&"/"!==a[h];)f=h;break;case "?":case "#":f=c;break;
case "/":if("."===a[f+1])switch(k=a[++f+1],k){case "/":b+=a.substring(v,f-1);v=f+1;break;case void 0:case "?":case "#":return b+a.substring(v,f)+a.substr(f+1);case ".":if(k=a[++f+1],void 0===k||"/"===k||"?"===k||"#"===k){b+=a.substring(v,f-2);(v=b.lastIndexOf("/"))>=h&&(b=b.substr(0,v));if("/"!==k)return b+"/"+a.substr(f+1);v=f+1}}}k=a[++f]}return b+a.substring(v)},parse:function(a,b,d){this._readCallback=this._readInTopContext;this._prefixes=Object.create(null);this._prefixes._=this._blankNodePrefix||
"_:b"+f++ +"_";"function"===typeof a&&(d=b,b=a,a=null);this._callback=b||n;this._prefixCallback=d||n;var c=this;this._lexer.tokenize(a,function(a,b){null!==a?(c._callback(a),c._callback=n):void 0!==c._readCallback&&(c._readCallback=c._readCallback(b))});a||(this.addChunk=this._lexer.addChunk,this.end=this._lexer.end)}};y.exports=k},{"./N3Lexer":34}],36:[function(r,y,x){function k(b,c){if(!(this instanceof k))return new k(b,c);this._size=0;this._graphs=Object.create(null);this._entities=Object.create(null);
this._blankNodeIndex=this._entityCount=this._entities["><"]=0;c||!b||b[0]||(c=b,b=null);this._prefixes=Object.create(null);c&&c.prefixes&&this.addPrefixes(c.prefixes);b&&this.addTriples(b)}var n=r("./N3Util").expandPrefixedName;k.prototype={get size(){var b=this._size;if(null!==b)return b;var c=this._graphs,a,d,f;for(f in c)for(var h in a=c[f].subjects)for(var e in d=a[h])b+=Object.keys(d[e]).length;return this._size=b},_addToIndex:function(b,c,a,d){b=b[c]||(b[c]={});(b[a]||(b[a]={}))[d]=null},_removeFromIndex:function(b,
c,a,d){var f=b[c],h=f[a],e;delete h[d];for(e in h)return;delete f[a];for(e in f)return;delete b[c]},_findInIndex:function(b,c,a,d,f,h,e,g){var l=[],m=Object.keys(this._entities),t,v;c&&((t=b,b={})[c]=t[c]);for(var k in b){var w=m[k];if(c=b[k]){a&&((t=c,c={})[a]=t[a]);for(var F in c){var n=m[F];if(v=c[F]){v=d?d in v?[d]:[]:Object.keys(v);for(var G=v.length-1;0<=G;G--){var r={subject:"",predicate:"",object:"",graph:g};r[f]=w;r[h]=n;r[e]=m[v[G]];l.push(r)}}}}}return l},_countInIndex:function(b,c,a,d){var f=
0,h,e;c&&((h=b,b={})[c]=h[c]);for(var g in b)if(c=b[g]){a&&((h=c,c={})[a]=h[a]);for(var l in c)if(e=c[l])d?d in e&&f++:f+=Object.keys(e).length}return f},addTriple:function(b,c,a,d){c||(d=b.graph,a=b.object,c=b.predicate,b=b.subject);d=d||"";var f=this._graphs[d];f||(f=this._graphs[d]={subjects:{},predicates:{},objects:{}},Object.freeze(f));d=this._entities;b=d[b]||(d[b]=++this._entityCount);c=d[c]||(d[c]=++this._entityCount);a=d[a]||(d[a]=++this._entityCount);this._addToIndex(f.subjects,b,c,a);this._addToIndex(f.predicates,
c,a,b);this._addToIndex(f.objects,a,b,c);this._size=null},addTriples:function(b){for(var c=b.length-1;0<=c;c--)this.addTriple(b[c])},addPrefix:function(b,c){this._prefixes[b]=c},addPrefixes:function(b){for(var c in b)this.addPrefix(c,b[c])},removeTriple:function(b,c,a,d){c||(d=b.graph,a=b.object,c=b.predicate,b=b.subject);d=d||"";var f;f=this._entities;var h=this._graphs;if(b=f[b])if(c=f[c])if(a=f[a])if(f=h[d]){var e,g;if((e=f.subjects[b])&&(g=e[c])&&a in g){this._removeFromIndex(f.subjects,b,c,a);
this._removeFromIndex(f.predicates,c,a,b);this._removeFromIndex(f.objects,a,b,c);null!==this._size&&this._size--;for(b in f.subjects)return;delete h[d]}}},removeTriples:function(b){for(var c=b.length-1;0<=c;c--)this.removeTriple(b[c])},find:function(b,c,a,d){var f=this._prefixes;return this.findByIRI(n(b,f),n(c,f),n(a,f),n(d,f))},findByIRI:function(b,c,a,d){d=d||"";var f=this._graphs[d],h=this._entities;return!f||b&&!(b=h[b])||c&&!(c=h[c])||a&&!(a=h[a])?[]:b?a?this._findInIndex(f.objects,a,b,c,"object",
"subject","predicate",d):this._findInIndex(f.subjects,b,c,null,"subject","predicate","object",d):c?this._findInIndex(f.predicates,c,a,null,"predicate","object","subject",d):a?this._findInIndex(f.objects,a,null,null,"object","subject","predicate",d):this._findInIndex(f.subjects,null,null,null,"subject","predicate","object",d)},count:function(b,c,a,d){var f=this._prefixes;return this.countByIRI(n(b,f),n(c,f),n(a,f),n(d,f))},countByIRI:function(b,c,a,d){d=this._graphs[d||""];var f=this._entities;return!d||
b&&!(b=f[b])||c&&!(c=f[c])||a&&!(a=f[a])?0:b?a?this._countInIndex(d.objects,a,b,c):this._countInIndex(d.subjects,b,c,a):c?this._countInIndex(d.predicates,c,a,b):this._countInIndex(d.objects,a,b,c)},createBlankNode:function(b){var c,a;if(b)for(c=b="_:"+b,a=1;this._entities[c];)c=b+a++;else{do c="_:b"+this._blankNodeIndex++;while(this._entities[c])}this._entities[c]=++this._entityCount;return c}};y.exports=k},{"./N3Util":39}],37:[function(r,y,x){function k(c){if(!(this instanceof k))return new k(c);
n.call(this,{decodeStrings:!0});this._readableState.objectMode=!0;var a=this,d=new b(c);d.parse(function(b,d){d&&a.push(d)||b&&a.emit("error",b)},this.emit.bind(this,"prefix"));this._transform=function(a,b,c){d.addChunk(a);c()};this._flush=function(a){d.end();a()}}var n=r("stream").Transform;x=r("util");var b=r("./N3Parser.js");x.inherits(k,n);y.exports=k},{"./N3Parser.js":35,stream:19,util:28}],38:[function(r,y,x){function k(c){if(!(this instanceof k))return new k(c);n.call(this,{encoding:"utf8"});
this._writableState.objectMode=!0;var a=this,d=new b({write:function(b,d,c){a.push(b);c&&c()},end:function(b){a.push(null);b&&b()}},c);this._transform=function(a,b,c){d.addTriple(a,c)};this._flush=function(a){d.end(a)}}var n=r("stream").Transform;x=r("util");var b=r("./N3Writer.js");x.inherits(k,n);y.exports=k},{"./N3Writer.js":40,stream:19,util:28}],39:[function(r,y,x){function k(c,a){for(var d in b)a?c.prototype[d]=n(b[d]):c[d]=b[d];return c}function n(b){return function(a){return b(this,a)}}var b=
{isIRI:function(b){if(!b)return b;b=b[0];return'"'!==b&&"_"!==b},isLiteral:function(b){return b&&'"'===b[0]},isBlank:function(b){return b&&"_:"===b.substr(0,2)},getLiteralValue:function(b){var a=/^"([^]*)"/.exec(b);if(!a)throw Error(b+" is not a literal");return a[1]},getLiteralType:function(b){var a=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(b);if(!a)throw Error(b+" is not a literal");return a[1]||(a[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")},
getLiteralLanguage:function(b){var a=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(b);if(!a)throw Error(b+" is not a literal");return a[1]?a[1].toLowerCase():""},isPrefixedName:function(b){return b&&/^[^:\/"']*:[^:\/"']+$/.test(b)},expandPrefixedName:function(b,a){var d=/(?:^|"\^\^)([^:\/#"'\^_]*):[^\/]*$/.exec(b),f,h,e;d&&(f=d[1],h=a[f],e=d.index);return void 0===h?b:0===e?h+b.substr(f.length+1):b.substr(0,e+3)+h+b.substr(e+f.length+4)},createIRI:function(c){return c&&'"'===c[0]?b.getLiteralValue(c):c},
createLiteral:function(b,a){if(!a)switch(typeof b){case "boolean":a="http://www.w3.org/2001/XMLSchema#boolean";break;case "number":if(isFinite(b)){a=0===b%1?"http://www.w3.org/2001/XMLSchema#integer":"http://www.w3.org/2001/XMLSchema#decimal";break}default:return'"'+b+'"'}return'"'+b+(/^[a-z]+(-[a-z0-9]+)*$/i.test(a)?'"@'+a.toLowerCase():'"^^'+a)}};y.exports=k(k)},{}],40:[function(r,y,x){function k(a,b){if(!(this instanceof k))return new k(a,b);a&&"function"!==typeof a.write&&(b=a,a=null);b=b||{};
if(a)this._outputStream=a,this._endStream=void 0===b.end?!0:!!b.end;else{var d="";this._outputStream={write:function(a,b,c){d+=a;c&&c()},end:function(a){a&&a(null,d)}};this._endStream=!0}this._subject=null;/triple|quad/i.test(b.format)?this._writeTriple=this._writeTripleLine:(this._graph="",this._prefixIRIs=Object.create(null),b.prefixes&&this.addPrefixes(b.prefixes))}function n(a){var b=d[a];void 0===b&&(1===a.length?(b=a.charCodeAt(0).toString(16),b="\\u0000".substr(0,6-b.length)+b):(b=(1024*(a.charCodeAt(0)-
55296)+a.charCodeAt(1)+9216).toString(16),b="\\U00000000".substr(0,10-b.length)+b));return b}var b=/^"([^]*)"(?:\^\^(.+)|@([\-a-z]+))?$/i,c=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,a=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,d={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};k.prototype={_write:function(a,b){this._outputStream.write(a,"utf8",b)},_writeTriple:function(a,b,d,c,l){try{this._graph!==c&&(this._write((null===this._subject?"":this._graph?
"\n}\n":".\n")+(c?this._encodeIriOrBlankNode(c)+" {\n":"")),this._subject=null,this._graph="["!==c[0]?c:"]"),this._subject===a?this._predicate===b?this._write(", "+this._encodeObject(d),l):this._write(";\n    "+this._encodePredicate(this._predicate=b)+" "+this._encodeObject(d),l):this._write((null===this._subject?"":".\n")+this._encodeSubject(this._subject=a)+" "+this._encodePredicate(this._predicate=b)+" "+this._encodeObject(d),l)}catch(m){l&&l(m)}},_writeTripleLine:function(a,b,d,c,l){delete this._prefixMatch;
try{this._write(this._encodeIriOrBlankNode(a)+" "+this._encodeIriOrBlankNode(b)+" "+this._encodeObject(d)+(c?" "+this._encodeIriOrBlankNode(c)+".\n":".\n"),l)}catch(m){l&&l(m)}},_encodeIriOrBlankNode:function(b){var d=b[0];if("["===d||"("===d||"_"===d&&":"===b[1])return b;c.test(b)&&(b=b.replace(a,n));return(d=this._prefixRegex.exec(b))?d[1]?this._prefixIRIs[d[1]]+d[2]:b:"<"+b+">"},_encodeLiteral:function(b,d,e){c.test(b)&&(b=b.replace(a,n));return e?'"'+b+'"@'+e:d?'"'+b+'"^^'+this._encodeIriOrBlankNode(d):
'"'+b+'"'},_encodeSubject:function(a){if('"'===a[0])throw Error("A literal as subject is not allowed: "+a);"["===a[0]&&(this._subject="]");return this._encodeIriOrBlankNode(a)},_encodePredicate:function(a){if('"'===a[0])throw Error("A literal as predicate is not allowed: "+a);return"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"===a?"a":this._encodeIriOrBlankNode(a)},_encodeObject:function(a){if('"'!==a[0])return this._encodeIriOrBlankNode(a);var d=b.exec(a);if(!d)throw Error("Invalid literal: "+
a);return this._encodeLiteral(d[1],d[2],d[3])},_blockedWrite:function(){throw Error("Cannot write because the writer has been closed.");},addTriple:function(a,b,d,c,l){void 0===d?this._writeTriple(a.subject,a.predicate,a.object,a.graph||"",b):"string"!==typeof c?this._writeTriple(a,b,d,"",c):this._writeTriple(a,b,d,c,l)},addTriples:function(a){for(var b=0;b<a.length;b++)this.addTriple(a[b])},addPrefix:function(a,b,d){var c={};c[a]=b;this.addPrefixes(c,d)},addPrefixes:function(a,b){var d=this._prefixIRIs,
c=!1,l;for(l in a){var m=a[l];/[#\/]$/.test(m)&&d[m]!==(l+=":")&&(c=!0,d[m]=l,null!==this._subject&&(this._write(this._graph?"\n}\n":".\n"),this._subject=null,this._graph=""),this._write("@prefix "+l+" <"+m+">.\n"))}if(c){var m=l="",t;for(t in d)l+=l?"|"+t:t,m+=(m?"|":"")+d[t];l=l.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&");this._prefixRegex=new RegExp("^(?:"+m+")[^/]*$|^("+l+")([a-zA-Z][\\-_a-zA-Z0-9]*)$")}this._write(c?"\n":"",b)},blank:function(a,b){var d=a,c,l;void 0===a?d=[]:"string"===typeof a?
d=[{predicate:a,object:b}]:"length"in a||(d=[a]);switch(l=d.length){case 0:return"[]";case 1:if(c=d[0],"["!==c.object[0])return"[ "+this._encodePredicate(c.predicate)+" "+this._encodeObject(c.object)+" ]";default:for(var m="[",t=0;t<l;t++)c=d[t],c.predicate===a?m+=", "+this._encodeObject(c.object):(m+=(t?";\n  ":"\n  ")+this._encodePredicate(c.predicate)+" "+this._encodeObject(c.object),a=c.predicate);return m+"\n]"}},list:function(a){for(var b=a&&a.length||0,d=Array(b),c=0;c<b;c++)d[c]=this._encodeObject(a[c]);
return"("+d.join(" ")+")"},_prefixRegex:/$0^/,end:function(a){null!==this._subject&&(this._write(this._graph?"\n}\n":".\n"),this._subject=null);this._write=this._blockedWrite;var b=a&&function(d,c){b=null;a(d,c)};if(this._endStream)try{return this._outputStream.end(b)}catch(d){}b&&b()}};y.exports=k},{}],41:[function(r,y,x){function k(a,b){this.name="NonSupportedSparqlFeatureError";this.feature=a;this.message=b||"SPARQL feature "+a+" non supported"}function n(a){this.name=ParserError;this.message=
a||"Error parsing SPARQL query"}var b=r("./parser"),c=r("./utils");k.prototype=Error();k.constructor=k;n.prototype=Error();n.constructor=n;AbstractQueryTree=function(){};AbstractQueryTree.prototype.parseQueryString=function(a){return b.parse(a)};AbstractQueryTree.prototype.parseExecutableUnit=function(a){if("select"===a.kind||"ask"===a.kind||"modify"===a.kind||"construct"===a.kind)return this.parseSelect(a);if("insertdata"===a.kind||"deletedata"===a.kind)return this.parseInsertData(a);if("load"===
a.kind||"clear"===a.kind||"drop"===a.kind||"create"===a.kind)return a;throw Error("unknown executable unit: "+a.kind);};AbstractQueryTree.prototype.parseSelect=function(a){if(null==a)return console.log("error parsing query"),null;a.pattern=this.build(a.pattern,{freshCounter:0});return a};AbstractQueryTree.prototype.parseInsertData=function(a){return null==a?(console.log("error parsing query"),null):a};AbstractQueryTree.prototype.build=function(a,b){if("groupgraphpattern"===a.token)return this._buildGroupGraphPattern(a,
b);if("basicgraphpattern"===a.token){var c={kind:"BGP",value:a.triplesContext};return c=AbstractQueryTree.translatePathExpressionsInBGP(c,b)}if("graphunionpattern"===a.token){var c=this.build(a.value[0],b),h=this.build(a.value[1],b);return{kind:"UNION",value:[c,h]}}if("graphgraphpattern"===a.token)return{kind:"GRAPH",value:this.build(a.value,b),graph:a.graph};if(null!=a.token)throw new k(a.token,"Non implemented SPARQL graph pattern: '"+a.token+"'");throw new n("Error parsing graph pattern: '"+JSON.stringify(a)+
"'");};AbstractQueryTree.translatePathExpressionsInBGP=function(a,b){var f,h=[],e,g;for(g=0;g<a.value.length;g++)if(a.value[g].predicate&&"path"===a.value[g].predicate.token){f=a.value[g];e=a.value.slice(g+1);var l=AbstractQueryTree.translatePathExpression(f,b);f=null;if("BGP"===l.kind)h=h.concat(l.value);else{if("ZERO_OR_MORE_PATH"===l.kind||"ONE_OR_MORE_PATH"===l.kind){g=0<h.length?{kind:"JOIN",lvalue:{kind:"BGP",value:h},rvalue:l}:l;if("ZERO_OR_MORE_PATH"===l.kind)if("var"===l.y.token&&0===l.y.value.indexOf("fresh:")&&
"var"===l.x.token&&0===l.x.value.indexOf("fresh:"))for(var m=0;m<a.value.length;m++)a.value[m].object&&"var"===a.value[m].object.token&&a.value[m].object.value===l.x.value&&(f=c.clone(a.value[m],!0),f.object=l.y);else if("var"===l.y.token&&0===l.y.value.indexOf("fresh:"))for(m=0;m<a.value.length;m++)a.value[m].subject&&"var"===a.value[m].subject.token&&a.value[m].subject.value===l.y.value&&(f=c.clone(a.value[m],!0),f.subject=l.x);return 0<e.length?(l=AbstractQueryTree.translatePathExpressionsInBGP({kind:"BGP",
value:e},b),null!=f?(h=h.concat([f]).concat(e),{kind:"UNION",value:[{kind:"JOIN",lvalue:g,rvalue:l},{kind:"BGP",value:h}]}):{kind:"JOIN",lvalue:g,rvalue:l}):g}return l}}else h.push(a.value[g]);a.value=h;return a};AbstractQueryTree.translatePathExpression=function(a,b){if("element"===a.predicate.kind){if("+"===a.predicate.modifier){a.predicate.modifier=null;var f=AbstractQueryTree.translatePathExpression(a,b);return{kind:"ONE_OR_MORE_PATH",path:f,x:a.subject,y:a.object}}if("*"===a.predicate.modifier)return a.predicate.modifier=
null,f=AbstractQueryTree.translatePathExpression(a,b),{kind:"ZERO_OR_MORE_PATH",path:f,x:a.subject,y:a.object};a.predicate=a.predicate.value;return{kind:"BGP",value:[a]}}if("sequence"===a.predicate.kind){for(var f=a.subject,h=a.object,e=a.graph,g,l,m=[],t=0;t<a.predicate.value.length;t++)t!=a.predicate.value.length-1?(g={token:"var",value:"fresh:"+b.freshCounter},b.freshCounter++):g=h,l={subject:f,predicate:a.predicate.value[t],object:g},null!=e&&(l.graph=c.clone(e,!0)),m.push(l),t!=a.predicate.value.length-
1&&(f=c.clone(g,!0));return AbstractQueryTree.translatePathExpressionsInBGP({kind:"BGP",value:m},b)}throw new k("Non supported path expression "+a.predicate.kind);};AbstractQueryTree.prototype._buildGroupGraphPattern=function(a,b){for(var c=a.filters||[],h=a.binds||[],e={kind:"EMPTY_PATTERN"},g=0;g<a.patterns.length;g++){var l=a.patterns[g];"optionalgraphpattern"===l.token?(l=this.build(l.value,b),e="FILTER"===l.kind?{kind:"LEFT_JOIN",lvalue:e,rvalue:l.value,filter:l.filter}:{kind:"LEFT_JOIN",lvalue:e,
rvalue:l,filter:!0}):(l=this.build(l,b),e="EMPTY_PATTERN"==e.kind?l:{kind:"JOIN",lvalue:e,rvalue:l})}e.binds=h;if(0!=c.length){if("EMPTY_PATTERN"===e.kind||"LEFT_JOIN"===e.kind&&!0===e.filter||"LEFT_JOIN"===e.kind||"JOIN"===e.kind||"UNION"===e.kind||"GRAPH"===e.kind||"BGP"===e.kind)return{kind:"FILTER",filter:c,value:e};throw Error("Unknow kind of algebra expression: "+e.kind);}return e};AbstractQueryTree.prototype.collectBasicTriples=function(a,b){null==b&&(b=[]);if("select"===a.kind)b=this.collectBasicTriples(a.pattern,
b);else if("BGP"===a.kind)b=b.concat(a.value);else if("ZERO_OR_MORE_PATH"===a.kind)b=this.collectBasicTriples(a.path);else if("UNION"===a.kind)b=this.collectBasicTriples(a.value[0],b),b=this.collectBasicTriples(a.value[1],b);else if("GRAPH"===a.kind)b=this.collectBasicTriples(a.value,b);else if("LEFT_JOIN"===a.kind||"JOIN"===a.kind)b=this.collectBasicTriples(a.lvalue,b),b=this.collectBasicTriples(a.rvalue,b);else if("FILTER"===a.kind)b=this.collectBasicTriples(a.value,b);else if("construct"===a.kind)b=
this.collectBasicTriples(a.pattern,b);else if("EMPTY_PATTERN"!==a.kind)throw"Unknown pattern: "+a.kind;return b};AbstractQueryTree.prototype.bind=function(a,b){null!=a.graph&&a.graph.token&&"var"===a.graph.token&&null!=b[a.graph.value]&&(a.graph=b[a.graph.value]);if(null!=a.filter){for(var c=[],h=0;h<a.filter.length;h++)a.filter[h].value=this._bindFilter(a.filter[h].value,b),c.push(a.filter[h]);a.filter=c}if("select"===a.kind)a.pattern=this.bind(a.pattern,b);else if("BGP"===a.kind)a.value=this._bindTripleContext(a.value,
b);else if("ZERO_OR_MORE_PATH"===a.kind)a.path=this._bindTripleContext(a.path,b),a.x&&"var"===a.x.token&&null!=b[a.x.value]&&(a.x=b[a.x.value]),a.y&&"var"===a.y.token&&null!=b[a.y.value]&&(a.y=b[a.y.value]);else if("UNION"===a.kind)a.value[0]=this.bind(a.value[0],b),a.value[1]=this.bind(a.value[1],b);else if("GRAPH"===a.kind)a.value=this.bind(a.value,b);else if("LEFT_JOIN"===a.kind||"JOIN"===a.kind)a.lvalue=this.bind(a.lvalue,b),a.rvalue=this.bind(a.rvalue,b);else if("FILTER"===a.kind){var e=this;
a.value=this.bind(a.value,b);a.filter=a.filter.map(function(a){return{token:"filter",value:e._bindFilter(a.value,b)}})}else if("EMPTY_PATTERN"!==a.kind)throw"Unknown pattern: "+a.kind;return a};AbstractQueryTree.prototype._bindTripleContext=function(a,b){for(var c=0;c<a.length;c++){delete a[c].graph;delete a[c].variables;for(var h in a[c]){var e=a[c][h];"var"===e.token&&null!=b[e.value]&&(a[c][h]=b[e.value])}}return a};AbstractQueryTree.prototype._bindFilter=function(a,b){if(null!=a.expressionType){var c=
a.expressionType;if("relationalexpression"==c)a.op1=this._bindFilter(a.op1,b),a.op2=this._bindFilter(a.op2,b);else if("conditionalor"==c||"conditionaland"==c)for(c=0;c<a.operands.length;c++)a.operands[c]=this._bindFilter(a.operands[c],b);else if("additiveexpression"==c)for(a.summand=this._bindFilter(a.summand,b),c=0;c<a.summands.length;c++)a.summands[c].expression=this._bindFilter(a.summands[c].expression,b);else if("builtincall"==c)for(c=0;c<a.args.length;c++)a.args[c]=this._bindFilter(a.args[c],
b);else if("multiplicativeexpression"==c)for(a.factor=this._bindFilter(a.factor,b),c=0;c<a.factors.length;c++)a.factors[c].expression=this._bindFilter(a.factors[c].expression,b);else if("unaryexpression"==c)a.expression=this._bindFilter(a.expression,b);else if("irireforfunction"==c)for(c=0;c<a.factors.args;c++)a.args[c]=this._bindFilter(a.args[c],b);else"atomic"==c&&"var"==a.primaryexpression&&null!=b[a.value.value]&&(c=b[a.value.value],a.primaryexpression="uri"===c.token?"iri":"literal",a.value=
c)}return a};AbstractQueryTree.prototype.replace=function(a,b,f,h){null!=a.graph&&a.graph.token&&a.graph.token===b.token&&a.graph.value==b.value&&(a.graph=c.clone(f,!0));if(null!=a.filter){for(var e=[],g=0;g<a.filter.length;g++)a.filter[g].value=this._replaceFilter(a.filter[g].value,b,f,h),e.push(a.filter[g]);a.filter=e}if("select"===a.kind)a.pattern=this.replace(a.pattern,b,f,h);else if("BGP"===a.kind)a.value=this._replaceTripleContext(a.value,b,f,h);else if("ZERO_OR_MORE_PATH"===a.kind)a.path=this._replaceTripleContext(a.path,
b,f,h),a.x&&a.x.token===b.token&&a.value===b.value&&(a.x=c.clone(f,!0)),a.y&&a.y.token===b.token&&a.value===b.value&&(a.y=c.clone(f,!0));else if("UNION"===a.kind)a.value[0]=this.replace(a.value[0],b,f,h),a.value[1]=this.replace(a.value[1],b,f,h);else if("GRAPH"===a.kind)a.value=this.replace(a.value,b,f);else if("LEFT_JOIN"===a.kind||"JOIN"===a.kind)a.lvalue=this.replace(a.lvalue,b,f,h),a.rvalue=this.replace(a.rvalue,b,f,h);else if("FILTER"===a.kind)a.value=this._replaceFilter(a.value,b,f,h);else if("EMPTY_PATTERN"!==
a.kind)throw"Unknown pattern: "+a.kind;return a};AbstractQueryTree.prototype._replaceTripleContext=function(a,b,f,h){for(var e=0;e<a.length;e++)for(var g in a[e]){var l=a[e][g];"var"===l.token&&"var"===b.token&&l.value===b.value?a[e][g]=f:"blank"===l.token&&"blank"===b.token&&l.value===b.value?a[e][g]=f:"literal"!==l.token&&"uri"!==l.token||"literal"!==b.token&&"uri"!==b.token||l.token!==b.token||c.lexicalFormTerm(l,h)[l.token]!==c.lexicalFormTerm(b,h)[l.token]||(a[e][g]=f)}return a};AbstractQueryTree.prototype._replaceFilter=
function(a,b,c,h){if(null!=a.expressionType){var e=a.expressionType;if("relationalexpression"==e)a.op1=this._replaceFilter(a.op1,b,c,h),a.op2=this._replaceFilter(a.op2,b,c,h);else if("conditionalor"==e||"conditionaland"==e)for(e=0;e<a.operands.length;e++)a.operands[e]=this._replaceFilter(a.operands[e],b,c,h);else if("additiveexpression"==e)for(a.summand=this._replaceFilter(a.summand,b,c,h),e=0;e<a.summands.length;e++)a.summands[e].expression=this._replaceFilter(a.summands[e].expression,b,c,h);else if("builtincall"==
e)for(e=0;e<a.args.length;e++)a.args[e]=this._replaceFilter(a.args[e],b,c,h);else if("multiplicativeexpression"==e)for(a.factor=this._replaceFilter(a.factor,b,c,h),e=0;e<a.factors.length;e++)a.factors[e].expression=this._replaceFilter(a.factors[e].expression,b,c,h);else if("unaryexpression"==e)a.expression=this._replaceFilter(a.expression,b,c,h);else if("irireforfunction"==e)for(e=0;e<a.factors.args;e++)a.args[e]=this._replaceFilter(a.args[e],b,c,h);else"atomic"==e&&(h=null,a.primaryexpression==b.token&&
a.value==b.value?h=c.value:"iri"==a.primaryexpression&&"uri"==b.token&&a.value==b.value&&(h=c.value),null!=h&&(a.primaryexpression="uri"===c.token?"iri":c.token,a.value=h))}return a};AbstractQueryTree.prototype.treeWithUnion=function(a){if(null==a||null==a.kind)return!1;if("select"===a.kind)return this.treeWithUnion(a.pattern);if("BGP"===a.kind)return this.treeWithUnion(a.value);if("ZERO_OR_MORE_PATH"===a.kind)return!1;if("UNION"===a.kind)if(null!=a.value[0].value&&null!=a.value[0].value.variables&&
null!=a.value[1].value&&null!=a.value[1].value.variables){if(a.value[0].variables.join("/")===a.values[1].variables.join("/"))return this.treeWithUnion(a.value[0])?!0:this.treeWithUnion(a.value[1])}else return!0;else{if("GRAPH"===a.kind||"LEFT_JOIN"!==a.kind&&"JOIN"!==a.kind)return!1;if(this.treeWithUnion(a.lvalue))return!0;this.treeWithUnion(a.rvalue)}};y.exports={AbstractQueryTree:AbstractQueryTree,NonSupportedSparqlFeatureError:k,SparqlParserError:n}},{"./parser":48,"./utils":59}],42:[function(r,
y,x){var k=r("./utils"),n=k.nextTick,b=function(a,b){if(0!=arguments.length){this.order=a;this.root=this._allocateNode();this.root.isLeaf=!0;this.root.level=0;var c=this;this._diskWrite(this.root,function(a){c.root=a;c._updateRootNode(c.root,function(a){c.comparator=function(a,b){return a<b?-1:a>b?1:0};c.merger=null;null!=b&&b(c)})})}};b.prototype._allocateNode=function(){return new c};b.prototype._diskWrite=function(a,b){n(function(){b(a)})};b.prototype._diskRead=function(a,b){n(function(){b(a)})};
b.prototype._diskDelete=function(a,b){n(function(){b()})};b.prototype._updateRootNode=function(a,b){b(a)};b.prototype.search=function(a,b,c){this.__search(this,a,this.root,b,c)};b.prototype.__search=function(a,b,c,h,e){for(var g=0;g<c.numberActives&&1===a.comparator(b,c.keys[g].key);)g++;g<c.numberActives&&0===a.comparator(c.keys[g].key,b)?null!=e&&1==e?h(!0):h(c.keys[g].data):!0===c.isLeaf?h(null):a._diskRead(c.children[g],function(c){a.__search(a,b,c,h,e)})};b.prototype.walk=function(a,b){this.__walk(this,
this.root,a,b)};b.prototype.__walk=function(a,b,c,h){var e=b.numberActives,g=0;if(b.isLeaf){for(g=0;g<b.numberActives;g++)c(b.keys[g]);return h()}k.whilst(function(){return g<e},function(e){a._diskRead(b.children[g],function(h){a.__walk(a,h,c,function(){a._diskRead(b.keys[g],function(a){c(a);g++;e()})})})},function(){a._diskRead(b.children[e],function(b){a.__walk(a,b,c,function(){h()})})})};b.prototype.walkNodes=function(a){this.__walkNodes(this,root,a,function(){})};b.prototype.__walkNodes=function(a,
b,c,h){if(b.isLeaf)return c(b),h();c(b);var e=b.numberActives,g=0;k.whilst(function(){return g<e},function(e){a._diskRead(b.children[g],function(b){a.__walkNodes(a,b,c,function(){g++;e()})})},function(){a._diskRead(b.children[e],function(b){a.__walkNodes(a,b,c,function(){})})})};b.prototype._splitChild=function(a,b,c,h){var e=this._allocateNode();e.isLeaf=c.isLeaf;e.level=c.level;e.numberActives=this.order-1;var g=c.keys[this.order-1];c.keys[this.order-1]=null;for(var l=0;l<this.order-1;l++)e.keys[l]=
c.keys[l+this.order],c.keys[l+this.order]=null,c.isLeaf||(e.children[l]=c.children[l+this.order],c.children[l+this.order]=null);c.isLeaf||(e.children[l]=c.children[l+this.order],c.children[l+this.order]=null);c.numberActives=this.order-1;for(l=a.numberActives+1;l>b+1;l--)a.children[l]=a.children[l-1];a.children[b+1]=e;for(l=a.numberActives;l>b;l--)a.keys[l]=a.keys[l-1];a.keys[b]=g;a.numberActives++;var m=this;this._diskWrite(e,function(e){m._diskWrite(a,function(a){a.children[b+1]=e;m._diskWrite(c,
function(b){return h(a)})})})};b.prototype.insert=function(a,b,c){if(this.root.numberActives===2*this.order-1){var h=this._allocateNode();h.isLeaf=!1;h.level=this.root.level+1;h.numberActives=0;h.children[0]=this.root;var e=this;this._splitChild(h,0,this.root,function(g){h=g;e.root=h;e._updateRootNode(h,function(g){e._insertNonFull(g,a,b,c)})})}else this._insertNonFull(this.root,a,b,c)};b.prototype._insertNonFull=function(a,b,c,h){this.__insertNonFull(this,a,a.numberActives-1,b,c,h)};b.prototype.__insertNonFull=
function(a,b,c,h,e,g){if(b.isLeaf){for(;0<=c&&-1===a.comparator(h,b.keys[c].key);)b.keys[c+1]=b.keys[c],c--;0<=c&&0===a.comparator(h,b.keys[c].key)?b.keys[c]={key:h,data:e}:(b.keys[c+1]={key:h,data:e},b.numberActives++);a._diskWrite(b,function(a){return g(a)})}else{for(;0<=c&&-1===a.comparator(h,b.keys[c].key);)c--;c++;a._diskRead(b.children[c],function(l){l.numberActives===2*a.order-1?a._splitChild(b,c,l,function(){1===a.comparator(h,b.keys[c].key)&&c++;a._diskRead(b.children[c],function(b){c=b.numberActives-
1;a.__insertNonFull(a,b,c,h,e,g)})}):a._diskRead(b.children[c],function(b){c=b.numberActives-1;a.__insertNonFull(a,b,c,h,e,g)})})}};b.prototype["delete"]=function(a,d){b.prototype.__deleteSearchNode(this,a,this.root,d)};b.prototype.__deleteSearchNode=function(a,b,c,h){var e=0;if(0===c.numberActives)return h(!1);for(;e<c.numberActives&&1===a.comparator(b,c.keys[e].key);)e++;var g=e;if(e<c.numberActives&&0===a.comparator(b,c.keys[e].key))return a.__deleteNodeFound(a,g,b,c,h);if(!0===c.isLeaf)return h(!1);
a._diskRead(c.children[e],function(l){if(null===l)return h(!1);var m=!1,t=!1,v=null,k=null;g===c.numberActives?(t=!0,k=c.children[g-1],v=c.children[g-1]):0===g?(m=!0,v=c.children[1],k=c.children[1]):(k=c.children[g-1],v=c.children[g+1]);a._diskRead(k,function(g){a._diskRead(v,function(v){!0===t&&(v=null);!0===m&&(g=null);l.numberActives===a.order-1&&null!=c?null!=v&&v.numberActives>a.order-1?a._moveKey(c,e,-1,function(c){a.__deleteSearchNode(a,b,l,h)}):null!=g&&g.numberActives>a.order-1?a._moveKey(c,
e,1,function(c){a.__deleteSearchNode(a,b,l,h)}):null!=g&&g.numberActives===a.order-1?a._mergeSiblings(c,e,-1,function(c){a.__deleteSearchNode(a,b,c,h)}):null!=v&&v.numberActives===a.order-1&&a._mergeSiblings(c,e,1,function(c){a.__deleteSearchNode(a,b,c,h)}):a.__deleteSearchNode(a,b,l,h)})})})};b.prototype.__deleteNodeFound=function(a,b,c,h,e){if(h.isLeaf&&h.numberActives>a.order-1||h.isLeaf&&h===a.root)return a._deleteKeyFromNode(h,b,function(){e(!0)}),!0;!1===h.isLeaf&&a._diskRead(h.children[b],
function(g){g.numberActives>a.order-1?a._getMaxKeyPos(a,g,function(l){c=l.node.keys[l.index];h.keys[b]=c;a._diskWrite(h,function(b){b=g;c=c.key;a.__deleteSearchNode(a,c,b,e)})}):a._diskRead(h.children[b+1],function(l){l.numberActives>a.order-1?a._getMinKeyPos(a,l,function(g){c=g.node.keys[g.index];h.keys[b]=c;a._diskWrite(h,function(b){b=l;c=c.key;a.__deleteSearchNode(a,c,b,e)})}):g.numberActives===a.order-1&&l.numberActives===a.order-1&&a._mergeNodes(g,h.keys[b],l,function(g){h.children[b]=g;b++;
for(var l=b;l<h.numberActives;l++)h.children[l]=h.children[l+1],h.keys[l-1]=h.keys[l];h.children[l]=null;h.keys[l-1]=null;h.numberActives--;0===h.numberActives&&a.root===h&&(a.root=g);a._diskWrite(h,function(b){a.__deleteSearchNode(a,c,g,e)})})})});h.isLeaf&&h.numberActives>a.order-1&&a._deleteKeyFromNode(h,b,function(b){a.__deleteSearchNode(a,c,b,e)})};b.prototype._moveKey=function(a,b,c,h){1===c&&b--;var e=this;e._diskRead(a.children[b],function(g){e._diskRead(a.children[b+1],function(l){if(-1==
c){g.keys[g.numberActives]=a.keys[b];g.children[g.numberActives+1]=l.children[0];l.children[0]=null;g.numberActives++;a.keys[b]=l.keys[0];for(var m=1;m<l.numberActives;m++)l.keys[m-1]=l.keys[m],l.children[m-1]=l.children[m];l.children[l.numberActives-1]=l.children[l.numberActives];l.numberActives--}else{l.children[l.numberActives+1]=l.children[l.numberActives];for(m=l.numberActives;0<m;m--)l.children[m]=l.children[m-1],l.keys[m]=l.keys[m-1];l.keys[0]=null;l.children[0]=null;l.children[0]=g.children[g.numberActives];
l.keys[0]=a.keys[b];l.numberActives++;g.children[g.numberActives]=null;a.keys[b]=g.keys[g.numberActives-1];g.keys[g.numberActives-1]=null;g.numberActives--}e._diskWrite(g,function(b){e._diskWrite(l,function(b){e._diskWrite(a,function(a){return h(a)})})})})})};b.prototype._mergeSiblings=function(a,b,c,h){var e,g,l;b===a.numberActives?(b--,c=a.children[a.numberActives-1],l=a.children[a.numberActives]):(c=a.children[b],l=a.children[b+1]);var m=this;m._diskRead(c,function(c){m._diskRead(l,function(f){var l=
m._allocateNode();l.isLeaf=c.isLeaf;l.level=c.level;for(g=0;g<m.order-1;g++)l.keys[g]=c.keys[g],l.children[g]=c.children[g];l.keys[m.order-1]=a.keys[b];l.children[m.order-1]=c.children[m.order-1];for(g=0;g<m.order-1;g++)l.keys[g+m.order]=f.keys[g],l.children[g+m.order]=f.children[g];l.children[2*m.order-1]=f.children[m.order-1];a.children[b]=l;for(g=b;g<a.numberActives;g++)a.keys[g]=a.keys[g+1],a.children[g+1]=a.children[g+2];l.numberActives=c.numberActives+f.numberActives+1;a.numberActives--;for(e=
a.numberActives;e<2*m.order-1;e++)a.keys[e]=null;0===a.numberActives&&m.root===a&&(m.root=l,l.isLeaf=l.level?!1:!0);m._diskWrite(l,function(b){m._diskWrite(a,function(a){m._diskDelete(c,function(){m._diskDelete(f,function(){if(m.root===b)m._updateRootNode(m.root,function(){return h(b)});else return h(b)})})})})})})};b.prototype._deleteKeyFromNode=function(a,b,c){var h=2*this.order-1;a.numberActives<h&&(h=a.numberActives);if(!1===a.isLeaf)return!1;for(;b<h-1;b++)a.keys[b]=a.keys[b+1];a.keys.pop();
a.numberActives--;this._diskWrite(a,function(a){return c(a)})};b.prototype._mergeNodes=function(a,b,c,h){var e,g;e=this._allocateNode();e.isLeaf=!0;for(g=0;g<a.numberActives;g++)e.keys[g]=a.keys[g],e.children[g]=a.children[g];e.children[a.numberActives]=a.children[a.numberActives];e.keys[a.numberActives]=b;for(g=0;g<c.numberActives;g++)e.keys[g+a.numberActives+1]=c.keys[g],e.children[g+a.numberActives+1]=c.children[g];e.children[2*this.order-1]=c.children[c.numberActives];e.numberActives=a.numberActives+
c.numberActives+1;e.isLeaf=a.isLeaf;e.level=a.level;var l=this;this._diskWrite(e,function(b){l._diskDelete(a,function(){l._diskDelete(c,function(){return h(b)})})})};b.prototype.audit=function(a){var b=[],c=[],h=this,e=function(e){for(var g=0;g<c.length;g++)if(0===h.comparator(c[g],e)){var t=" !!! duplicated key "+e;!0===a&&console.log(t);b.push(t)}},g=null,h=this;this.walkNodes(function(l){!0===a&&(console.log("--- Node at "+l.level+" level"),console.log(" - leaf? "+l.isLeaf),console.log(" - num actives? "+
l.numberActives),console.log(" - keys: "));for(var m=l.numberActives;m<l.keys.length;m++)null!=l.keys[m]&&!0===a&&(console.log(" * warning : redundant key data"),b.push(" * warning : redundant key data"));for(m=l.numberActives+1;m<l.children.length;m++)null!=l.children[m]&&!0===a&&(console.log(" * warning : redundant children data"),b.push(" * warning : redundant key data"));if(!1===l.isLeaf)for(m=0;m<l.numberActives;m++){var t=this._diskRead(l.children[m]).keys[this._diskRead(l.children[m]).numberActives-
1].key,v=this._diskRead(l.children[m+1]).keys[0].key;!0===a&&console.log("   "+l.keys[m].key+"("+t+","+v+")");if(-1===h.comparator(l.keys[m].key,t)){var k=" !!! value max left "+t+" > key "+l.keys[m].key;!0===a&&console.log(k);b.push(k)}1===h.comparator(l.keys[m].key,v)&&(k=" !!! value min right "+v+" < key "+l.keys[m].key,!0===a&&console.log(k),b.push(k));e(l.keys[m].key);c.push(l.keys[m].key)}else for(null===g?g=l.level:g!=l.level&&(k=" !!! Leaf node with wrong level value",!0===a&&console.log(k),
b.push(k)),m=0;m<l.numberActives;m++)!0===a&&console.log(" "+l.keys[m].key),e(l.keys[m].key),c.push(l.keys[m].key);l!=h.root&&(l.numberActives>2*h.order-1&&(!0===a&&(k=" !!!! MAX num keys restriction violated "),console.log(k),b.push(k)),l.numberActives<h.order-1&&(!0===a&&(k=" !!!! MIN num keys restriction violated "),console.log(k),b.push(k)))});return b};b.prototype._getMaxKeyPos=function(a,b,c){var h={};if(null===b)return c(null);if(!0===b.isLeaf)return h.node=b,h.index=b.numberActives-1,c(h);
h.node=b;h.index=b.numberActives-1;a._diskRead(b.children[b.numberActives],function(b){return a._getMaxKeyPos(a,b,c)})};b.prototype._getMinKeyPos=function(a,b,c){var h={};null===b&&c(null);if(!0===b.isLeaf)return h.node=b,h.index=0,c(h);h.node=b;h.index=0;a._diskRead(b.children[0],function(b){return a._getMinKeyPos(a,b,c)})};var c=function(){this.numberActives=0;this.isLeaf=null;this.keys=[];this.children=[];this.level=0};y.exports={Tree:b,Node:c}},{"./utils":59}],43:[function(r,y,x){(function(k){var n=
r("./query_engine").QueryEngine,b=r("./quad_backend").QuadBackend,c=r("./persistent_quad_backend").QuadBackend,a=r("./lexicon").Lexicon,d=r("./persistent_lexicon").Lexicon,f=r("./rdf_model"),h=r("./utils");Store=function(e,f){var h=null,k=null;if(0==arguments.length)k={};else if(1==arguments.length)k={},h=e;else if(1<arguments.length)k=e,h=f;else throw"An optional argument map and a callback must be provided";null==k.treeOrder&&(k.treeOrder=15);var t=a,v=b;!0===k.persistent&&(t=d,v=c);this.functionMap=
{};var B=this;this.customFns={};new t(function(a){var b=function(){new v(k,function(b){var d=function(){k.backend=b;k.lexicon=a;B.engine=new n(k);h(null,B)};k.overwrite?b.clear(d):d()})};!0===k.overwrite?a.clear(b):b()},k.name)};Store.prototype.rdf=f.rdf;Store.prototype.rdf.api=f;Store.prototype.registerCustomFunction=function(a,b){this.customFns[a]=b;this.engine.setCustomFunctions(this.customFns)};Store.prototype.execute=function(){if(3===arguments.length)this.executeWithEnvironment(arguments[0],
arguments[1],arguments[2]);else if(4===arguments.length)this.executeWithEnvironment(arguments[0],arguments[1],arguments[2],arguments[3]);else{var a,b;1===arguments.length?(a=arguments[0],b=function(){}):2===arguments.length&&(a=arguments[0],b=arguments[1]);this.engine.execute(a,b)}};Store.prototype.executeWithEnvironment=function(){var a,b,d;if(3===arguments.length){a=arguments[0];var c=function(){};b=arguments[1];d=arguments[2]}else 4===arguments.length&&(a=arguments[0],c=arguments[3],b=arguments[1],
d=arguments[2]);b=h.map(b,function(a){return{token:"uri",value:a}});d=h.map(d,function(a){return{token:"uri",value:a}});this.engine.execute(a,c,b,d)};Store.prototype.graph=function(){var a=null,b=null;if(1===arguments.length)b=arguments[0]||function(){},a=this.engine.lexicon.defaultGraphUri;else if(2===arguments.length)b=arguments[1]||function(){},a=arguments[0];else throw"An optional graph URI and a callback function must be provided";null!=this.rdf.resolve(a)&&(a=this.rdf.resolve(a));this.engine.execute("CONSTRUCT { ?s ?p ?o } WHERE { GRAPH <"+
a+"> { ?s ?p ?o } }",b)};Store.prototype.node=function(){var a=null,b=null,d=null;if(2===arguments.length)d=arguments[0],b=arguments[1]||function(){},a=this.engine.lexicon.defaultGraphUri;else if(3===arguments.length)d=arguments[0],a=arguments[1],b=arguments[2]||function(){};else throw"An optional graph URI, node URI and a callback function must be provided";null!=this.rdf.resolve(a)&&(a=this.rdf.resolve(a));null!=this.rdf.resolve(d)&&(d=this.rdf.resolve(d));this.engine.execute("CONSTRUCT { <"+d+
"> ?p ?o } WHERE { GRAPH <"+a+"> { <"+d+"> ?p ?o } }",b)};Store.prototype.startObservingNode=function(){var a,b,d;2===arguments.length?(a=arguments[0],d=arguments[1],this.engine.callbacksBackend.observeNode(a,d,function(){})):3===arguments.length&&(a=arguments[0],b=arguments[1],d=arguments[2],this.engine.callbacksBackend.observeNode(a,b,d,function(){}))};Store.prototype.stopObservingNode=function(a){this.engine.callbacksBackend.stopObservingNode(a)};Store.prototype.startObservingQuery=function(a,
b,d){null!=d?this.engine.callbacksBackend.observeQuery(a,b,d):this.engine.callbacksBackend.observeQuery(a,b,function(){})};Store.prototype.stopObservingQuery=function(a){this.engine.callbacksBackend.stopObservingQuery(a)};Store.prototype.subscribe=function(a,b,d,c,t){var k=this,B=function(a,b){var d=[],c={blanks:{},outCache:{}},e=[];h.each(b,function(a){var b=f.buildRDFResource(a.subject,e,k.engine,c),q=f.buildRDFResource(a.predicate,e,k.engine,c);a=f.buildRDFResource(a.object,e,k.engine,c);null!=
b&&null!=q&&null!=a&&(a=new f.Triple(b,q,a),d.push(a))});t(a,d)};this.functionMap[t]=B;this.engine.callbacksBackend.subscribe(a,b,d,c,B,function(){})};Store.prototype.unsubscribe=function(a){this.engine.callbacksBackend.unsubscribe(this.functionMap[a]);delete this.functionMap[a]};Store.prototype.setPrefix=function(a,b){this.rdf.setPrefix(a,b)};Store.prototype.setDefaultPrefix=function(a){this.rdf.setDefaultPrefix(a)};Store.prototype.insert=function(){var a,b,d;if(1===arguments.length)b=arguments[0],
d=function(){};else if(2===arguments.length)b=arguments[0],d=arguments[1]||function(){};else if(3===arguments.length)b=arguments[0],a=this.rdf.createNamedNode(arguments[1]),d=arguments[2]||function(){};else throw"The triples to insert, an optional graph and callback must be provided";var c="",f=this;b.forEach(function(a){c=c+f._nodeToQuery(a.subject)+f._nodeToQuery(a.predicate)+f._nodeToQuery(a.object)+"."});c=null!=a?"INSERT DATA { GRAPH "+this._nodeToQuery(a)+" { "+c+" } }":"INSERT DATA { "+c+" }";
this.engine.execute(c,d)};Store.prototype._nodeToQuery=function(a){if("NamedNode"===a.interfaceName){var b=this.rdf.resolve(a.valueOf());return null!=b?"<"+b+">":"<"+a.valueOf()+">"}return a.toString()};Store.prototype["delete"]=function(){var a,b,d;if(1===arguments.length)b=arguments[0],d=function(){};else if(2===arguments.length)b=arguments[0],d=arguments[1]||function(){};else if(3===arguments.length)b=arguments[0],a=this.rdf.createNamedNode(arguments[1]),d=arguments[2]||function(){};else throw"The triples to delete, an optional graph and callback must be provided";
var c="",f=this;b.forEach(function(a){c=c+f._nodeToQuery(a.subject)+f._nodeToQuery(a.predicate)+f._nodeToQuery(a.object)+"."});c=null!=a?"DELETE DATA { GRAPH "+this._nodeToQuery(a)+" { "+c+" } }":"DELETE DATA { "+c+" }";this.engine.execute(c,d)};Store.prototype.clear=function(){var a,b;if(0===arguments.length)a=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),b=function(){};else if(1===arguments.length)a=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),b=arguments[0]||function(){};
else if(2===arguments.length)a=this.rdf.createNamedNode(arguments[0]),b=arguments[1]||function(){};else throw"The optional graph and a callback must be provided";a="CLEAR GRAPH "+this._nodeToQuery(a);this.engine.execute(a,b)};Store.prototype.setBatchLoadEvents=function(a){this.engine.eventsOnBatchLoad=a};Store.prototype.registerDefaultNamespace=function(a,b){this.rdf.prefixes.set(a,b);this.engine.registerDefaultNamespace(a,b)};Store.prototype.registerDefaultProfileNamespaces=function(){var a=this.rdf.prefixes.values(),
b;for(b in a)this.registerDefaultNamespace(b,a[b])};Store.prototype.load=function(){var a,b,d,c,f={};if(3===arguments.length)d=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),a=arguments[0],b=arguments[1],c=arguments[2]||function(){};else if(4===arguments.length)a=arguments[0],b=arguments[1],f=arguments[2],"string"===typeof f?(d=this.rdf.createNamedNode(f),f={}):(d=this.rdf.createNamedNode(f.graph||this.engine.lexicon.defaultGraphUri),delete f.graph),c=arguments[3]||function(){};else if(2===
arguments.length)throw"The mediaType of the parser, the data a callback and an optional graph must be provided";if("remote"===a)b=this.rdf.createNamedNode(b),this.engine.execute("LOAD <"+b.valueOf()+"> INTO GRAPH <"+d.valueOf()+">",c);else{var h=this,k=this.engine.rdfLoader.parsers[a];if(!k)return c(Error("Cannot find parser for the provided media type:"+a));a=[k,{token:"uri",value:d.valueOf()},b,f,function(a,b){a?c(a,b):h.engine.batchLoad(b,function(a){null!=a?c(null,a):c(Error("Erro batch-loading triples."))})}];
b&&"string"===typeof b&&0===b.indexOf("file://")?this.engine.rdfLoader.loadFromFile.apply(null,a):this.engine.rdfLoader.tryToParse.apply(null,a)}};Store.prototype.registerParser=function(a,b){this.engine.rdfLoader.registerParser(a,b)};Store.prototype.registeredGraphs=function(a){this.engine.lexicon.registeredGraphs(!0,function(b){b=h.map(b,function(a){return new f.NamedNode(a)});a(null,b)})};Store.prototype.getNetworkTransport=function(){return NetworkTransport};Store.prototype.setNetworkTransport=
function(a){NetworkTransport=a};Store.prototype.close=function(a){null==a&&(a=function(){});this.engine.close?this.engine.close(a):a()};Store.VERSION="0.9.10";Store.yieldFrequency=function(a){Utils.yieldFrequency(a)};y.exports.Store=Store;y.exports.create=function(){return 1==arguments.length?new Store(arguments[0]):2==arguments.length?new Store(arguments[0],arguments[1]):new Store};y.exports.connect=function(){(1==arguments.length?arguments[0]:2==arguments.length?arguments[1]:arguments[2])(Error("Store#connect is not supported in the 1.x series of the library"))}}).call(this,
"/")},{"./lexicon":46,"./persistent_lexicon":49,"./persistent_quad_backend":50,"./quad_backend":51,"./query_engine":53,"./rdf_model":57,"./utils":59}],44:[function(r,y,x){var k=r("./utils"),n=r("./utils");r("./quad_index");var b=r("./quad_index").Pattern,c=r("./rdf_model"),a=r("./abstract_query_tree").AbstractQueryTree;Callbacks={ANYTHING:{token:"var",value:"_"},added:"added",deleted:"deleted",eventsFlushed:"eventsFlushed",CallbacksBackend:function(b){this.aqt=new a;this.engine=b;this.indexMap={};
this.observersMap={};this.queriesIndexMap={};this.emptyNotificationsMap={};this.queriesList=[];this.pendingQueries=[];this.matchedQueries=[];this.updateInProgress=null;this.indices="SPOG GP OGS POG GSP OS".split(" ");this.componentOrders={SPOG:["subject","predicate","object","graph"],GP:["graph","predicate","subject","object"],OGS:["object","graph","subject","predicate"],POG:["predicate","object","graph","subject"],GSP:["graph","subject","predicate","object"],OS:["object","subject","predicate","graph"]};
this.callbackCounter=0;this.callbacksMap={};this.callbacksInverseMap={};this.queryCounter=0;this.queriesMap={};this.queriesCallbacksMap={};this.queriesInverseMap={};for(b=0;b<this.indices.length;b++){var c=this.indices[b];this.indexMap[c]={};this.queriesIndexMap[c]={}}}};Callbacks.CallbacksBackend.prototype.startGraphModification=function(){!0!==this.ongoingModification&&(this.pendingQueries=[].concat(this.queriesList),this.matchedQueries=[],null==this.updateInProgress&&(this.updateInProgress={},
this.updateInProgress[Callbacks.added]=[],this.updateInProgress[Callbacks.deleted]=[]))};Callbacks.CallbacksBackend.prototype.nextGraphModification=function(a,b){this.updateInProgress[a].push(b)};Callbacks.CallbacksBackend.prototype.endGraphModification=function(a){if(!0!==this.ongoingModification){var b=this;if(null!=this.updateInProgress){var c=b.updateInProgress;b.updateInProgress=null;this.sendNotification(Callbacks.deleted,c[Callbacks.deleted],function(){b.sendNotification(Callbacks.added,c[Callbacks.added],
function(){b.sendEmptyNotification(Callbacks.eventsFlushed,null,function(){b.dispatchQueries(function(){a(!0)})})})})}else a(!0)}else a(!0)};Callbacks.CallbacksBackend.prototype.cancelGraphModification=function(){!0!==this.ongoingModification&&(this.updateInProgress=null)};Callbacks.CallbacksBackend.prototype.sendNotification=function(a,b,c){for(var e={},g=0;g<b.length;g++){var l=b[g],k;for(k in this.indexMap){var t=this.indexMap[k],v=this.componentOrders[k];this._searchCallbacksInIndex(t,v,a,l,e);
0!=this.pendingQueries.length&&(t=this.queriesIndexMap[k],this._searchQueriesInIndex(t,v,l))}}this.dispatchNotifications(e);null!=c&&c(!0)};Callbacks.CallbacksBackend.prototype.sendEmptyNotification=function(a,b,c){for(var e=this.emptyNotificationsMap[a]||[],g=0;g<e.length;g++)e[g](a,b);c()};Callbacks.CallbacksBackend.prototype.dispatchNotifications=function(a){for(var b in a){var c=this.callbacksMap[b],e=a[b][Callbacks.deleted];if(null!=e)try{c(Callbacks.deleted,e)}catch(l){}for(var g in a[b])if(g!=
Callbacks.deleted)try{c(g,a[b][g])}catch(l){}}};Callbacks.CallbacksBackend.prototype._searchCallbacksInIndex=function(a,b,c,e,g){var l=e[1];e=e[0];for(var k=0;k<b.length+1;k++){for(var t=a._||[],v=[],B=0;B<t.length;B++){var w=t[B];null!=this.callbacksMap[w]&&(g[w]=g[w]||{},g[w][c]=g[w][c]||[],g[w][c].push(e),v.push(w))}a._=v;t=b[k];if(null!=a[""+l[t]])a=a[""+l[t]];else break}};Callbacks.CallbacksBackend.prototype.subscribeEmpty=function(a,b){var c=this.emptyNotificationsMap[a]||[];c.push(b);this.emptyNotificationsMap[a]=
c};Callbacks.CallbacksBackend.prototype.unsubscribeEmpty=function(a,b){var c=this.emptyNotificationsMap[a];null!=c&&(c=k.reject(c,function(a){return a===b}));this.emptyNotificationsMap[a]=c};Callbacks.CallbacksBackend.prototype.subscribe=function(a,c,h,e,g,l){a=this._tokenizeComponents(a,c,h,e);c={blanks:{},outCache:{}};this.engine.registerNsInEnvironment(null,c);var k=this;this.engine.normalizeQuad(a,c,!0,function(a){for(var c=new b(a),d=k._indexForPattern(c),c=k.componentOrders[d],d=k.indexMap[d],
e=0;e<c.length;e++){var f=a[c[e]];if("_"===f){null==d._&&(d._=[]);k.callbackCounter++;d._.push(k.callbackCounter);k.callbacksMap[k.callbackCounter]=g;k.callbacksInverseMap[g]=k.callbackCounter;break}else e===c.length-1?(d[f]=d[f]||{_:[]},k.callbackCounter++,d[f]._.push(k.callbackCounter),k.callbacksMap[k.callbackCounter]=g,k.callbacksInverseMap[g]=k.callbackCounter):(d[f]=d[f]||{},d=d[f])}null!=l&&l(!0)})};Callbacks.CallbacksBackend.prototype.unsubscribe=function(a){var b=this.callbacksInverseMap[a];
null!=b&&(delete this.callbacksInverseMap[a],delete this.callbacksMap[b])};Callbacks.CallbacksBackend.prototype._tokenizeComponents=function(a,b,c,e){var g={};null==a?g.subject=Callbacks.ANYTHING:0==a.indexOf("_:")?g.subject={token:"blank",value:a}:g.subject={token:"uri",value:a};g.predicate=null==b?Callbacks.ANYTHING:{token:"uri",value:b};g.object=null==c?Callbacks.ANYTHING:{token:"uri",value:c};g.graph=null==e?Callbacks.ANYTHING:{token:"uri",value:e};return g};Callbacks.CallbacksBackend.prototype._indexForPattern=
function(a){a=a.indexKey;for(var b=this.indices,c=0;c<b.length;c++)for(var e=b[c],g=this.componentOrders[e],l=0;l<g.length&&!1!==k.include(a,g[l]);l++)if(l==a.length-1)return e;return"SPOG"};Callbacks.CallbacksBackend.prototype.observeNode=function(){var a,b,h,e;4===arguments.length?(a=arguments[0],b=arguments[1],h=arguments[2],e=arguments[3]):(a=arguments[0],b=this.engine.lexicon.defaultGraphUri,h=arguments[1],e=arguments[2]);b="CONSTRUCT { <"+a+"> ?p ?o } WHERE { GRAPH <"+b+"> { <"+a+"> ?p ?o } }";
var g=this,l={blanks:{},outCache:{}};this.engine.registerNsInEnvironment(null,l);var k=[];this.engine.execute(b,function(b,f){if(b)e&&e(!1);else{var B=!1,w=function(a,b){if("eventsFlushed"===a&&B){B=!1;try{h(f)}catch(d){}}else if("eventsFlushed"!==a){B=!0;for(var e=0;e<b.length;e++){var t=b[e],w=c.buildRDFResource(t.subject,k,g.engine,l),u=c.buildRDFResource(t.predicate,k,g.engine,l),t=c.buildRDFResource(t.object,k,g.engine,l);null!=w&&null!=u&&null!=t&&(t=new c.Triple(w,u,t),a===Callbacks.added?
f.add(t):a===Callbacks.deleted&&f.remove(t))}}};g.observersMap[h]=w;g.subscribeEmpty(Callbacks.eventsFlushed,w);g.subscribe(a,null,null,null,w,function(){try{h(f)}catch(a){}e&&e(!0)})}})};Callbacks.CallbacksBackend.prototype.stopObservingNode=function(a){return(a=this.observersMap[a])?(this.unsubscribe(a),this.unsubscribeEmpty(Callbacks.eventsFlushed,a),!0):!1};Callbacks.CallbacksBackend.prototype.observeQuery=function(a,c,h){var e=this.aqt.parseQueryString(a),e=this.aqt.parseSelect(e.units[0]),e=
this.aqt.collectBasicTriples(e),g=this,l={blanks:{},outCache:{}};this.engine.registerNsInEnvironment(null,l);var k=this.queryCounter;this.queryCounter++;this.queriesMap[k]=a;this.queriesInverseMap[a]=k;this.queriesList.push(k);this.queriesCallbacksMap[k]=c;n.eachSeries(e,function(a,c){null==a.graph&&(a.graph=g.engine.lexicon.defaultGraphUriTerm);g.engine.normalizeQuad(a,l,!0,function(a){for(var d=new b(a),e=g._indexForPattern(d),d=g.componentOrders[e],e=g.queriesIndexMap[e],f=0;f<d.length;f++){var h=
a[d[f]];if("string"===typeof h){null==e._&&(e._=[]);e._.push(k);break}else f===d.length-1?(e[h]=e[h]||{_:[]},e[h]._.push(k)):(e[h]=e[h]||{},e=e[h])}c()})},function(){g.engine.execute(a,function(a,b){a?console.log("ERROR in query callback "+b):c(b)});null!=h&&h()})};Callbacks.CallbacksBackend.prototype.stopObservingQuery=function(a){var b=this.queriesInverseMap[a];null!=b&&(delete this.queriesInverseMap[a],delete this.queriesMap[b],this.queriesList=k.reject(this.queriesList,function(a){return a===
b}))};Callbacks.CallbacksBackend.prototype._searchQueriesInIndex=function(a,b,c){var e=c[1];c=c[0];for(c=0;c<b.length+1;c++){for(var g=a._||[],l=[],m=0;m<g.length;m++){var t=g[m];k.include(this.pendingQueries,t)&&(k.remove(this.pendingQueries,function(a){return a===t}),this.matchedQueries.push(t));null!=this.queriesMap[t]&&l.push(t)}a._=l;g=b[c];if(null!=a[""+e[g]])a=a[""+e[g]];else break}};Callbacks.CallbacksBackend.prototype.dispatchQueries=function(a){var b=this,c,e,g={};n.eachSeries(this.matchedQueries,
function(a,d){null==g[a]?(g[a]=!0,c=b.queriesMap[a],e=b.queriesCallbacksMap[a],b.engine.execute(c,function(a,b){if(!a)try{e(b)}catch(c){}d()})):d()},function(){a()})};Callbacks.CallbacksBackend.added=Callbacks.added;Callbacks.CallbacksBackend.deleted=Callbacks.deleted;Callbacks.CallbacksBackend.eventsFlushed=Callbacks.eventsFlushed;y.exports=Callbacks},{"./abstract_query_tree":41,"./quad_index":52,"./rdf_model":57,"./utils":59}],45:[function(r,y,x){var k=r("jsonld"),n=function(b,c,a){var d=null;k.normalize(b,
{},function(b,h){if(b)a(b);else{var e=function(a){if("blank node"===a.type)return{blank:a.value};if("IRI"===a.type)return{token:"uri",value:a.value};if("literal"===a.type)return null!==a.datatype?{literal:'"'+a.value+'"^^<'+a.datatype+">"}:null!=a.language?{literal:'"'+a.value+'"@'+a.language}:{literal:'"'+a.value+'"'}};d=[];var g=function(a,b,f){d.push({subject:e(a),predicate:e(b),object:e(f),graph:c})},l;for(l in h)for(var k=h[l],t=0;t<k.length;t++){var v=k[t];g(v.subject,v.predicate,v.object)}a(null,
d)}})};x.JSONLDParser={};r=x.JSONLDParser;r.parser={async:!0,parse:function(b,c,a,d){try{"string"===typeof b&&(b=JSON.parse(b)),n(b,c,d)}catch(f){d(f)}}};y.exports={JSONLDParser:r}},{jsonld:30}],46:[function(r,y,x){var k=r("./utils"),n=r("./btree").Tree;Lexicon=function(b){var c=this;this.defaultGraphOid=0;this.defaultGraphUri="https://github.com/antoniogarrote/rdfstore-js#default_graph";this.defaultGraphUriTerm={token:"uri",prefix:null,suffix:null,value:this.defaultGraphUri};this.oidCounter=1;k.seq(function(a){new n(2,
function(b){c.uris=b;a()})},function(a){new n(2,function(b){c.literals=b;a()})},function(a){new n(2,function(b){c.knownGraphs=b;a()})},function(a){new n(2,function(b){c.oidUris=b;a()})},function(a){new n(2,function(b){c.oidLiterals=b;a()})},function(a){new n(2,function(b){c.oidBlanks=b;a()})})(function(){null!=b&&b(c)})};Lexicon.prototype.registerGraph=function(b,c,a){b!=this.defaultGraphOid?this.knownGraphs.insert(b,c,function(){a()}):a()};Lexicon.prototype.registeredGraphs=function(b,c){var a=[];
this.knownGraphs.walk(function(c){!0===b?a.push(c.data):a.push(c.key)},function(){c(a)})};Lexicon.prototype.registerUri=function(b,c){var a=this;b===this.defaultGraphUri?c(this.defaultGraphOid):this.uris.search(b,function(d){if(null==d){var f=a.oidCounter,h="u"+f;a.oidCounter++;k.seq(function(c){a.uris.insert(b,[f,0],function(){c()})},function(c){a.oidUris.insert(h,b,function(){c()})})(function(){c(f)})}else f=d[0],d[1]+=1,c(f)})};Lexicon.prototype.resolveUri=function(b,c){b===this.defaultGraphUri?
c(this.defaultGraphOid):this.uris.search(b,function(a){null!=a?c(a[0]):c(-1)})};Lexicon.prototype.resolveUriCost=function(b,c){b===this.defaultGraphUri?c(0):this.uris.search(b,function(a){null!=a?c(a[1]):c(-1)})};Lexicon.prototype.registerBlank=function(b){var c=this.oidCounter;this.oidCounter++;var a=""+c;this.oidBlanks.insert(a,a,function(){b(c)})};Lexicon.prototype.resolveBlank=function(b,c){var a=this;this.oidBlanks.search(b,function(b){null!=b?c(b):(b=a.oidCounter,this.oidCounter++,c(""+b))})};
Lexicon.prototype.resolveBlankCost=function(b,c){c(0)};Lexicon.prototype.registerLiteral=function(b,c){var a=this;this.literals.search(b,function(d){if(null==d){var f=a.oidCounter,h="l"+f;a.oidCounter++;k.seq(function(c){a.literals.insert(b,[f,0],function(){c()})},function(c){a.oidLiterals.insert(h,b,function(){c()})})(function(){c(f)})}else f=d[0],d[1]+=1,c(f)})};Lexicon.prototype.resolveLiteral=function(b,c){this.literals.search(b,function(a){null!=a?c(a[0]):c(-1)})};Lexicon.prototype.resolveLiteralCost=
function(b,c){this.literals.search(b,function(a){null!=a?c(a[1]):c(-1)})};Lexicon.prototype.parseLiteral=function(b){var c=b.lastIndexOf("@");if(-1!=c&&'"'===b[c-1]&&null!=b.substring(c,b.length).match(/^@[a-zA-Z\-]+$/g)){var a=b.substring(1,c-1);b=b.substring(c+1,b.length);return{token:"literal",value:a,lang:b}}c=b.lastIndexOf("^^");if(-1!=c&&'"'===b[c-1]&&"<"===b[c+2]&&">"===b[b.length-1])return a=b.substring(1,c-1),b=b.substring(c+3,b.length-1),{token:"literal",value:a,type:b};a=b.substring(1,
b.length-1);return{token:"literal",value:a}};Lexicon.prototype.parseUri=function(b){return{token:"uri",value:b}};Lexicon.prototype.retrieve=function(b,c){var a=this;b===this.defaultGraphOid?c({token:"uri",value:this.defaultGraphUri,prefix:null,suffix:null,defaultGraph:!0}):k.seq(function(c,f){a.oidUris.search("u"+b,function(b){null!=b?f(null,a.parseUri(b)):f(null,null)})},function(c,f){null==c?a.oidLiterals.search("l"+b,function(b){null!=b?f(null,a.parseLiteral(b)):f(null,null)}):f(null,c)},function(c,
f){null==c?a.oidBlanks.search(""+b,function(a){null!=a?f(null,{token:"blank",value:"_:"+b}):f(null,null)}):f(null,c)})(null,function(a,b){c(b)})};Lexicon.prototype.clear=function(b){var c=this;this.defaultGraphOid=0;this.defaultGraphUri="https://github.com/antoniogarrote/rdfstore-js#default_graph";this.defaultGraphUriTerm={token:"uri",prefix:null,suffix:null,value:this.defaultGraphUri};this.oidCounter=1;k.seq(function(a){new n(2,function(b){c.uris=b;a()})},function(a){new n(2,function(b){c.literals=
b;a()})},function(a){new n(2,function(b){c.knownGraphs=b;a()})},function(a){new n(2,function(b){c.oidUris=b;a()})},function(a){new n(2,function(b){c.oidLiterals=b;a()})},function(a){new n(2,function(b){c.oidBlanks=b;a()})})(function(){null!=b&&b()})};Lexicon.prototype.unregister=function(b,c,a){var d=this;k.seq(function(a){d._unregisterTerm(b.subject.token,c.subject,a)},function(a){d._unregisterTerm(b.predicate.token,c.predicate,a)},function(a){d._unregisterTerm(b.object.token,c.object,a)},function(a){null!=
b.graph?d._unregisterTerm(b.graph.token,c.graph,a):a()})(function(){a(!0)})};Lexicon.prototype._unregisterTerm=function(b,c,a){var d=this;if("uri"===b)if(c!=this.defaultGraphOid){var f="u"+c;d.oidUris.search(f,function(b){d.uris.search(b,function(e){var g=e[1];""+e[0]===""+c?0===g?k.seq(function(a){d.oidUris["delete"](f,function(){a()})},function(a){d.uris["delete"](b,function(){a()})},function(a){d.knownGraphs["delete"](c,function(){a()})})(function(){a()}):d.uris.insert(b,[c,g-1],function(){a()}):
a()})})}else a();else"literal"===b?(this.oidCounter++,f="l"+c,d.oidLiterals.search(f,function(b){d.literals.search(b,function(e){var g=e[1];""+e[0]===""+c?0===g?k.seq(function(a){d.oidLiterals["delete"](f,function(){a()})},function(a){d.literals["delete"](b,function(){a()})})(function(){a()}):d.literals.insert(b,[c,g-1],function(){a()}):a()})})):"blank"===b?d.oidBlanks["delete"](""+c,function(){a()}):a()};y.exports={Lexicon:Lexicon}},{"./btree":42,"./utils":59}],47:[function(r,y,x){var k=r("http"),
n=r("https"),b=r("url");NetworkTransport={load:function(c,a,d,f){var h=null==f?3:f;c=b.parse(c,!0,!0);f={host:c.host,hostname:c.hostname,method:"GET",path:c.path,headers:{host:c.hostname,Accept:a}};var e=null;"http:"===c.protocol?(f.port=c.port||80,e=k):"https:"===c.protocol&&(f.port=c.port||443,e=n);c=e.request(f,function(b){var c=b.headers,e="";"2"==(""+b.statusCode)[0]?(b.on("end",function(){d(null,{headers:c,data:e})}),b.on("data",function(a){e+=a})):"3"==(""+b.statusCode)[0]?0==h?d(Error("Too many redirections")):
(b=c.Location||c.location,null!=b?NetworkTransport.load(b,a,d,h-1):d(Error("Redirection without location header"))):d(Error("HTTP error: "+b.statusCode))});c.on("error",d);c.end()}};y.exports={NetworkTransport:NetworkTransport}},{http:6,https:10,url:26}],48:[function(r,y,x){y.exports=function(){function k(n,b,c,a){this.message=n;this.expected=b;this.found=c;this.location=a;this.name="SyntaxError";"function"===typeof Error.captureStackTrace&&Error.captureStackTrace(this,k)}(function(k,b){function c(){this.constructor=
k}c.prototype=b.prototype;k.prototype=new c})(k,Error);return{SyntaxError:k,parse:function(n){function b(a){var b=B[a],c,d;if(!b){for(c=a-1;!B[c];)c--;b=B[c];for(b={line:b.line,column:b.column,seenCR:b.seenCR};c<a;)d=n.charAt(c),"\n"===d?(b.seenCR||b.line++,b.column=1,b.seenCR=!1):"\r"===d||"\u2028"===d||"\u2029"===d?(b.line++,b.column=1,b.seenCR=!0):(b.column++,b.seenCR=!1),c++;B[a]=b}return b}function c(a,c){var d=b(a),e=b(c);return{start:{offset:a,line:d.line,column:d.column},end:{offset:c,line:e.line,
column:e.column}}}function a(a){v<w||(v>w&&(w=v,F=[]),F.push(a))}function d(a){var b=Array(a.length),c;for(c=0;c<a.length;c++)b[c]=a.charCodeAt(c)-32;return b}function f(b){b=t[b];for(var c=0,d=[],g=b.length,h=[],l=[],k,w;;){for(;c<g;)switch(b[c]){case 0:l.push(m[b[c+1]]);c+=2;break;case 1:l.push(void 0);c++;break;case 2:l.push(null);c++;break;case 3:l.push(e);c++;break;case 4:l.push([]);c++;break;case 5:l.push(v);c++;break;case 6:l.pop();c++;break;case 7:v=l.pop();c++;break;case 8:l.length-=b[c+
1];c+=2;break;case 9:l.splice(-2,1);c++;break;case 10:l[l.length-2].push(l.pop());c++;break;case 11:l.push(l.splice(l.length-b[c+1],b[c+1]));c+=2;break;case 12:l.push(n.substring(l.pop(),v));c++;break;case 13:h.push(g);d.push(c+3+b[c+1]+b[c+2]);l[l.length-1]?(g=c+3+b[c+1],c+=3):(g=c+3+b[c+1]+b[c+2],c+=3+b[c+1]);break;case 14:h.push(g);d.push(c+3+b[c+1]+b[c+2]);l[l.length-1]===e?(g=c+3+b[c+1],c+=3):(g=c+3+b[c+1]+b[c+2],c+=3+b[c+1]);break;case 15:h.push(g);d.push(c+3+b[c+1]+b[c+2]);l[l.length-1]!==
e?(g=c+3+b[c+1],c+=3):(g=c+3+b[c+1]+b[c+2],c+=3+b[c+1]);break;case 16:l[l.length-1]!==e?(h.push(g),d.push(c),g=c+2+b[c+1],c+=2):c+=2+b[c+1];break;case 17:h.push(g);d.push(c+3+b[c+1]+b[c+2]);n.length>v?(g=c+3+b[c+1],c+=3):(g=c+3+b[c+1]+b[c+2],c+=3+b[c+1]);break;case 18:h.push(g);d.push(c+4+b[c+2]+b[c+3]);n.substr(v,m[b[c+1]].length)===m[b[c+1]]?(g=c+4+b[c+2],c+=4):(g=c+4+b[c+2]+b[c+3],c+=4+b[c+2]);break;case 19:h.push(g);d.push(c+4+b[c+2]+b[c+3]);n.substr(v,m[b[c+1]].length).toLowerCase()===m[b[c+
1]]?(g=c+4+b[c+2],c+=4):(g=c+4+b[c+2]+b[c+3],c+=4+b[c+2]);break;case 20:h.push(g);d.push(c+4+b[c+2]+b[c+3]);m[b[c+1]].test(n.charAt(v))?(g=c+4+b[c+2],c+=4):(g=c+4+b[c+2]+b[c+3],c+=4+b[c+2]);break;case 21:l.push(n.substr(v,b[c+1]));v+=b[c+1];c+=2;break;case 22:l.push(m[b[c+1]]);v+=m[b[c+1]].length;c+=2;break;case 23:l.push(e);0===r&&a(m[b[c+1]]);c+=2;break;case 24:c+=2;break;case 25:c++;break;case 26:k=b.slice(c+4,c+4+b[c+3]);for(w=0;w<b[c+3];w++)k[w]=l[l.length-1-k[w]];l.splice(l.length-b[c+2],b[c+
2],m[b[c+1]].apply(null,k));c+=4+b[c+3];break;case 27:l.push(f(b[c+1]));c+=2;break;case 28:r++;c++;break;case 29:r--;c++;break;default:throw Error("Invalid opcode: "+b[c]+".");}if(0<h.length)g=h.pop(),c=d.pop();else break}return l[0]}var h=1<arguments.length?arguments[1]:{},e={},g={DOCUMENT:0},l=0,m=[{type:"other",description:"[1] QueryUnit"},{type:"other",description:"[2] Query"},function(a,b,c){return{token:"query",kind:"query",prologue:a,units:[b],inlineData:c}},{type:"other",description:"[3] Prologue"},
function(a,b){return{token:"prologue",base:a,prefixes:b}},{type:"other",description:"[4] BaseDecl"},"BASE",{type:"literal",value:"BASE",description:'"BASE"'},"base",{type:"literal",value:"base",description:'"base"'},function(a){var b={token:"base"};b.value=a;return b},{type:"other",description:"[5] PrefixDecl"},"PREFIX",{type:"literal",value:"PREFIX",description:'"PREFIX"'},"prefix",{type:"literal",value:"prefix",description:'"prefix"'},function(a,b){var c={token:"prefix"};c.prefix=a;c.local=b;return c},
{type:"other",description:"[6] SelectQuery"},function(a,b,c,d){for(var e={named:[],implicit:[]},f=0;f<b.length;f++){var g=b[f];"default"===g.kind?e.implicit.push(g.graph):e.named.push(g.graph)}0===e.named.length&&0===e.implicit.length&&e.implicit.push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});b={kind:"select",token:"executableunit"};b.dataset=e;b.projection=a.vars;b.modifier=a.modifier;b.pattern=c;null!=d&&null!=d.limit&&(b.limit=d.limit);
null!=d&&null!=d.offset&&(b.offset=d.offset);null!=d&&null!=d.order&&""!=d.order&&(b.order=d.order);null!=d&&null!=d.group&&(b.group=d.group);return b},{type:"other",description:"[7] SubSelect"},function(a,b,c){var d={kind:"select",token:"subselect"};d.projection=a.vars;d.modifier=a.modifier;d.pattern=b;null!=c&&null!=c.limit&&(d.limit=c.limit);null!=c&&null!=c.offset&&(d.offset=c.offset);null!=c&&null!=c.order&&""!=c.order&&(d.order=c.order);null!=c&&null!=c.group&&(d.group=c.group);return d},{type:"other",
description:"[8] SelectClause"},"SELECT",{type:"literal",value:"SELECT",description:'"SELECT"'},"select",{type:"literal",value:"select",description:'"select"'},"DISTINCT",{type:"literal",value:"DISTINCT",description:'"DISTINCT"'},"distinct",{type:"literal",value:"distinct",description:'"distinct"'},"REDUCED",{type:"literal",value:"REDUCED",description:'"REDUCED"'},"reduced",{type:"literal",value:"reduced",description:'"reduced"'},"(",{type:"literal",value:"(",description:'"("'},"AS",{type:"literal",
value:"AS",description:'"AS"'},"as",{type:"literal",value:"as",description:'"as"'},")",{type:"literal",value:")",description:'")"'},"*",{type:"literal",value:"*",description:'"*"'},function(a,b){var c=[];if(3===b.length&&"*"===b[1])return{vars:[{token:"variable",kind:"*"}],modifier:L(a)};for(var d=0;d<b.length;d++){var e=b[d];3===e.length?c.push({token:"variable",kind:"var",value:e[1]}):c.push({token:"variable",kind:"aliased",expression:e[3],alias:e[7]})}return{vars:c,modifier:L(a)}},{type:"other",
description:"[9] ConstructQuery"},"CONSTRUCT",{type:"literal",value:"CONSTRUCT",description:'"CONSTRUCT"'},"construct",{type:"literal",value:"construct",description:'"construct"'},function(a,b,c,d){for(var e={named:[],implicit:[]},f=0;f<b.length;f++){var g=b[f];"default"===g.kind?e.implicit.push(g.graph):e.named.push(g.graph)}0===e.named.length&&0===e.implicit.length&&e.implicit.push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});b={kind:"construct",
token:"executableunit"};b.dataset=e;b.template=a;b.pattern=c;null!=d&&null!=d.limit&&(b.limit=d.limit);null!=d&&null!=d.offset&&(b.offset=d.offset);null!=d&&null!=d.order&&""!=d.order&&(b.order=d.order);return b},"WHERE",{type:"literal",value:"WHERE",description:'"WHERE"'},"where",{type:"literal",value:"where",description:'"where"'},"{",{type:"literal",value:"{",description:'"{"'},"}",{type:"literal",value:"}",description:'"}"'},function(a,b,c){for(var d={named:[],implicit:[]},e=0;e<a.length;e++){var f=
a[e];"default"===f.kind?d.implicit.push(f.graph):d.named.push(f.graph)}0===d.named.length&&0===d.implicit.length&&d.implicit.push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});a={kind:"construct",token:"executableunit"};a.dataset=d;a.template=b;a.pattern={token:"basicgraphpattern",triplesContext:b.triplesContext};null!=c&&null!=c.limit&&(a.limit=c.limit);null!=c&&null!=c.offset&&(a.offset=c.offset);null!=c&&null!=c.order&&""!=c.order&&(a.order=
c.order);return a},{type:"other",description:"[10] DescribeQuery"},"DESCRIBE",{type:"literal",value:"DESCRIBE",description:'"DESCRIBE"'},{type:"other",description:"[11] AskQuery"},"ASK",{type:"literal",value:"ASK",description:'"ASK"'},"ask",{type:"literal",value:"ask",description:'"ask"'},function(a,b){for(var c={named:[],implicit:[]},d=0;d<a.length;d++){var e=a[d];"implicit"===e.kind?c.implicit.push(e.graph):c.named.push(e.graph)}0===c.named.length&&0===c.implicit.length&&c.implicit.push({token:"uri",
prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});d={kind:"ask",token:"executableunit"};d.dataset=c;d.pattern=b;return d},{type:"other",description:"[12] DatasetClause"},"FROM",{type:"literal",value:"FROM",description:'"FROM"'},"from",{type:"literal",value:"from",description:'"from"'},function(a){return a},{type:"other",description:"[13] DefaultGraphClause"},function(a){return{graph:a,kind:"default",token:"graphClause"}},{type:"other",description:"[14] NamedGraphClause"},
"NAMED",{type:"literal",value:"NAMED",description:'"NAMED"'},"named",{type:"literal",value:"named",description:'"named"'},function(a){return{graph:a,kind:"named",token:"graphCluase"}},{type:"other",description:"[15] SourceSelector"},{type:"other",description:"[16] WhereClause"},function(a){return a},{type:"other",description:"[17] SolutionModifier"},function(a,b,c){var d={};null!=c&&(null!=c.limit&&(d.limit=c.limit),null!=c.offset&&(d.offset=c.offset));null!=a&&(d.group=a);d.order=b;return d},{type:"other",
description:"[18] GroupClause"},"GROUP",{type:"literal",value:"GROUP",description:'"GROUP"'},"group",{type:"literal",value:"group",description:'"group"'},"BY",{type:"literal",value:"BY",description:'"BY"'},"by",{type:"literal",value:"by",description:'"by"'},function(a){return a},{type:"other",description:"[19] GroupCondition"},function(a){return a},function(a){return a},function(a,b){return 0!=b.length?{token:"aliased_expression",expression:a,alias:b[2]}:a},function(a){return a},{type:"other",description:"[20] HavingClause"},
"HAVING",{type:"literal",value:"HAVING",description:'"HAVING"'},{type:"other",description:"[21] HavingCondition"},{type:"other",description:"[22] OrderClause"},"ORDER",{type:"literal",value:"ORDER",description:'"ORDER"'},"order",{type:"literal",value:"order",description:'"order"'},function(a){return a},{type:"other",description:"[23] OrderCondition"},"ASC",{type:"literal",value:"ASC",description:'"ASC"'},"asc",{type:"literal",value:"asc",description:'"asc"'},"DESC",{type:"literal",value:"DESC",description:'"DESC"'},
"desc",{type:"literal",value:"desc",description:'"desc"'},function(a,b){return{direction:a.toUpperCase(),expression:b}},function(a){"var"===a.token&&(a={token:"expression",expressionType:"atomic",primaryexpression:"var",value:a});return{direction:"ASC",expression:a}},{type:"other",description:"[24] LimitOffsetClauses"},function(a){for(var b={},c=0;c<a.length;c++){var d=a[c];null!=d&&null!=d.limit?b.limit=d.limit:null!=d&&null!=d.offset&&(b.offset=d.offset)}return b},{type:"other",description:"[25] LimitClause"},
"LIMIT",{type:"literal",value:"LIMIT",description:'"LIMIT"'},"limit",{type:"literal",value:"limit",description:'"limit"'},function(a){return{limit:parseInt(a.value)}},{type:"other",description:"[26] OffsetClause"},"OFFSET",{type:"literal",value:"OFFSET",description:'"OFFSET"'},"offset",{type:"literal",value:"offset",description:'"offset"'},function(a){return{offset:parseInt(a.value)}},{type:"other",description:"[27] BindingsClause"},"BINDINGS",{type:"literal",value:"BINDINGS",description:'"BINDINGS"'},
{type:"other",description:"[28] BindingValue"},"UNDEF",{type:"literal",value:"UNDEF",description:'"UNDEF"'},{type:"other",description:"[28]\tValuesClause\t  ::=\t( 'VALUES' DataBlock )?"},"VALUES",{type:"literal",value:"VALUES",description:'"VALUES"'},"values",{type:"literal",value:"values",description:'"values"'},function(a){return null!=a?a[1]:null},{type:"other",description:"[29] UpdateUnit"},{type:"other",description:"[30] Update"},";",{type:"literal",value:";",description:'";"'},function(a,b,
c){var d={token:"query",kind:"update"};d.prologue=a;a=[b];null!=c&&null!=c.length&&null!=c[3]&&null!=c[3].units&&(a=a.concat(c[3].units));d.units=a;return d},{type:"other",description:"[31] Update1"},{type:"other",description:"[32] Load"},"LOAD",{type:"literal",value:"LOAD",description:'"LOAD"'},"load",{type:"literal",value:"load",description:'"load"'},"INTO",{type:"literal",value:"INTO",description:'"INTO"'},"into",{type:"literal",value:"into",description:'"into"'},function(a,b){var c={kind:"load",
token:"executableunit"};c.sourceGraph=a;null!=b&&(c.destinyGraph=b[2]);return c},{type:"other",description:"[33] Clear"},"CLEAR",{type:"literal",value:"CLEAR",description:'"CLEAR"'},"clear",{type:"literal",value:"clear",description:'"clear"'},"SILENT",{type:"literal",value:"SILENT",description:'"SILENT"'},"silent",{type:"literal",value:"silent",description:'"silent"'},function(a){var b={kind:"clear",token:"executableunit"};b.destinyGraph=a;return b},{type:"other",description:"[34] Drop"},"DROP",{type:"literal",
value:"DROP",description:'"DROP"'},"drop",{type:"literal",value:"drop",description:'"drop"'},function(a){var b={kind:"drop",token:"executableunit"};b.destinyGraph=a;return b},{type:"other",description:"[35] Create"},"CREATE",{type:"literal",value:"CREATE",description:'"CREATE"'},"create",{type:"literal",value:"create",description:'"create"'},function(a){var b={kind:"create",token:"executableunit"};b.destinyGraph=a;return b},{type:"other",description:"[36] InsertData"},"INSERT",{type:"literal",value:"INSERT",
description:'"INSERT"'},"insert",{type:"literal",value:"insert",description:'"insert"'},"DATA",{type:"literal",value:"DATA",description:'"DATA"'},"data",{type:"literal",value:"data",description:'"data"'},function(a){var b={kind:"insertdata",token:"executableunit"};b.quads=a;return b},{type:"other",description:"[37] DeleteData"},"DELETE",{type:"literal",value:"DELETE",description:'"DELETE"'},"delete",{type:"literal",value:"delete",description:'"delete"'},function(a){var b={kind:"deletedata",token:"executableunit"};
b.quads=a;return b},{type:"other",description:"[38] DeleteWhere"},function(a){var b={kind:"modify"};b.pattern=a;b["with"]=null;b.using=null;var c=[];a=a.patterns[0];a=null==a.triplesContext&&null!=a.patterns?a.patterns[0].triplesContext:a.triplesContext;for(var d=0;d<a.length;d++){var e={},f=a[d];e.subject=f.subject;e.predicate=f.predicate;e.object=f.object;e.graph=f.graph;c.push(e)}b["delete"]=c;return b},{type:"other",description:"[39] Modify"},"WITH",{type:"literal",value:"WITH",description:'"WITH"'},
"with",{type:"literal",value:"with",description:'"with"'},function(a,b,c,d){var e={kind:"modify"};e["with"]=""!=a&&null!=a?a[2]:null;3!==b.length||""!==b[2]&&null!=b[2]?3===b.length&&null!=b[0].length&&null!=b[1].length&&null!=b[2].length?(e["delete"]=b[0],e.insert=b[2]):(e.insert=b,e["delete"]=null):(e["delete"]=b[0],e.insert=null);""!=c&&(e.using=c);e.pattern=d;return e},{type:"other",description:"[40] DeleteClause"},function(a){return a},{type:"other",description:"[41] InsertClause"},{type:"other",
description:"[42] UsingClause"},"USING",{type:"literal",value:"USING",description:'"USING"'},"using",{type:"literal",value:"using",description:'"using"'},function(a){return null!=a.length?{kind:"named",uri:a[2]}:{kind:"default",uri:a}},{type:"other",description:"[43] GraphRef"},"GRAPH",{type:"literal",value:"GRAPH",description:'"GRAPH"'},"graph",{type:"literal",value:"graph",description:'"graph"'},function(a){return a},{type:"other",description:"[44] GraphRefAll"},"DEFAULT",{type:"literal",value:"DEFAULT",
description:'"DEFAULT"'},"default",{type:"literal",value:"default",description:'"default"'},function(){return"default"},function(){return"named"},"ALL",{type:"literal",value:"ALL",description:'"ALL"'},"all",{type:"literal",value:"all",description:'"all"'},function(){return"all"},{type:"other",description:"[45] QuadPattern"},function(a){return a.quadsContext},{type:"other",description:"[46] QuadData"},{type:"other",description:"[47] Quads"},".",{type:"literal",value:".",description:'"."'},function(a,
b){var c=[];if(null!=a&&null!=a.triplesContext)for(var d=0;d<a.triplesContext.length;d++){var e=a.triplesContext[d];e.graph=null;c.push(e)}if(b&&0<b.length&&0<b[0].length&&(c=c.concat(b[0][0].quadsContext),null!=b[0][2]&&null!=b[0][2].triplesContext))for(d=0;d<b[0][2].triplesContext.length;d++)e=b[0][2].triplesContext[d],e.graph=null,c.push(e);return{token:"quads",quadsContext:c}},{type:"other",description:"[48] QuadsNotTriples"},function(a,b){var c=[];if(null!=b)for(var d=0;d<b.triplesContext.length;d++){var e=
b.triplesContext[d];e.graph=a;c.push(e)}return{token:"quadsnottriples",quadsContext:c}},{type:"other",description:"[49] TriplesTemplate"},function(a,b){var c=a.triplesContext;null!=b&&"object"===typeof b&&null!=b.length&&null!=b[3]&&null!=b[3].triplesContext&&(c=c.concat(b[3].triplesContext));return{token:"triplestemplate",triplesContext:c}},{type:"other",description:"[50] GroupGraphPattern"},function(a){return a},{type:"other",description:"[51] GroupGraphPatternSub"},function(a,b){var c=[];null!=
a&&a!=[]&&c.push(a);for(var d=0;d<b.length;d++)for(var e=0;e<b[d].length;e++)null!=b[d][e]&&null!=b[d][e].token&&c.push(b[d][e]);for(var f=[],g=[],h=[],l=[],d=0;d<c.length;d++)if("triplespattern"!==c[d].token&&"filter"!==c[d].token&&"bind"!==c[d].token){if(0!=g.length||0!=h.length){for(var t=[],e=0;e<g.length;e++)t=t.concat(g[e].triplesContext);0<t.length&&f.push({token:"basicgraphpattern",triplesContext:t});g=[]}f.push(c[d])}else"triplespattern"===c[d].token?g.push(c[d]):"bind"===c[d].token?l.push(c[d]):
h.push(c[d]);if(0!=g.length||0!=h.length){t=[];for(e=0;e<g.length;e++)t=t.concat(g[e].triplesContext);0<t.length&&f.push({token:"basicgraphpattern",triplesContext:t})}return{token:"groupgraphpattern",patterns:f,filters:h,binds:l}},{type:"other",description:"[54] TriplesBlock"},function(a,b){var c=a.triplesContext;null!=b&&"object"===typeof b&&null!=b&&null!=b.length&&null!=b[2]&&null!=b[2].triplesContext&&(c=c.concat(b[2].triplesContext));return{token:"triplespattern",triplesContext:c}},{type:"other",
description:"[53] GraphPatternNotTriples"},{type:"other",description:"[54] OptionalGraphPattern"},"OPTIONAL",{type:"literal",value:"OPTIONAL",description:'"OPTIONAL"'},"optional",{type:"literal",value:"optional",description:'"optional"'},function(a){return{token:"optionalgraphpattern",value:a}},{type:"other",description:"[55] GraphGraphPattern"},function(a,b){for(var c=0;c<b.patterns.length;c++)for(var d=b.patterns[c],e=0;e<d.triplesContext.length;e++)d.triplesContext[e].graph=a;b.token="groupgraphpattern";
return b},{type:"other",description:"[56] ServiceGraphPattern"},"SERVICE",{type:"literal",value:"SERVICE",description:'"SERVICE"'},function(a,b){return{token:"servicegraphpattern",status:"todo",value:[a,b]}},{type:"other",description:"[57] MinusGraphPattern"},"MINUS",{type:"literal",value:"MINUS",description:'"MINUS"'},"minus",{type:"literal",value:"minus",description:'"minus"'},function(a){return{token:"minusgraphpattern",status:"todo",value:a}},{type:"other",description:"[58] GroupOrUnionGraphPattern"},
"UNION",{type:"literal",value:"UNION",description:'"UNION"'},"union",{type:"literal",value:"union",description:'"union"'},function(a,b){if(0===b.length)return a;for(var c={token:"graphunionpattern",value:[a]},d=0;d<b.length;d++)d==b.length-1?c.value.push(b[d][3]):(c.value.push(b[d][3]),c={token:"graphunionpattern",value:[c]});return c},{type:"other",description:"[59] Filter"},"FILTER",{type:"literal",value:"FILTER",description:'"FILTER"'},"filter",{type:"literal",value:"filter",description:'"filter"'},
function(a){return{token:"filter",value:a}},{type:"other",description:"[60] Bind"},"BIND",{type:"literal",value:"BIND",description:'"BIND"'},"bind",{type:"literal",value:"bind",description:'"bind"'},function(a,b){return{token:"bind",expression:a,as:b}},{type:"other",description:"[60] Constraint"},{type:"other",description:"[61] InlineData"},function(a){return a},{type:"other",description:"[62] DataBlock"},{type:"other",description:"[63] InlineDataOneVar"},function(a,b){return{token:"inlineData",values:[{"var":a,
value:b}]}},{type:"other",description:"[64] InlineDataFull"},function(a,b){return{token:"inlineData",values:[],todo:!0}},{type:"other",description:"[65] DataBlockValue"},{type:"other",description:"[61] FunctionCall"},function(a,b){var c={token:"expression",expressionType:"irireforfunction"};c.iriref=a;c.args=b.value;return c},{type:"other",description:"[62] ArgList"},function(){return{token:"args",value:[]}},",",{type:"literal",value:",",description:'","'},function(a,b,c){for(var d=[],e=0;e<c.length;e++)d.push(c[e][1]);
c={token:"args"};c.value=[b].concat(d);null!=a&&"DISTINCT"===a.toUpperCase()?c.distinct=!0:c.distinct=!1;return c},{type:"other",description:"[63] ExpressionList"},function(a,b){for(var c=[],d=0;d<b.length;d++)c.push(b[d][1]);d={token:"args"};d.value=[a].concat(c);return d},{type:"other",description:"[64] ConstructTemplate"},function(a){return a},{type:"other",description:"[65] ConstructTriples"},function(a,b){var c=a.triplesContext;null!=b&&"object"===typeof b&&null!=b.length&&null!=b[3]&&null!=
b[3].triplesContext&&(c=c.concat(b[3].triplesContext));return{token:"triplestemplate",triplesContext:c}},{type:"other",description:"[66] TriplesSameSubject"},function(a,b){var c=b.triplesContext;if(b.pairs)for(var d=0;d<b.pairs.length;d++){var e=b.pairs[d];null!=e[1].length&&(e[1]=e[1][0]);a.token&&"triplesnodecollection"===a.token?(e={subject:a.chainSubject[0],predicate:e[0],object:e[1]},c.push(e),c=c.concat(a.triplesContext)):(e={subject:a,predicate:e[0],object:e[1]},c.push(e))}d={token:"triplessamesubject"};
d.triplesContext=c;d.chainSubject=a;return d},function(a,b){var c=a.triplesContext,d=a.chainSubject;if(b.pairs)for(var e=0;e<b.pairs.length;e++){var f=b.pairs[e];null!=f[1].length&&(f[1]=f[1][0]);if("triplesnodecollection"===a.token)for(var g=0;g<d.length;g++){var h=d[g];null!=h.triplesContext?c.concat(h.triplesContext):(h={subject:d[g],predicate:f[0],object:f[1]},c.push(h))}else h={subject:d,predicate:f[0],object:f[1]},c.push(h)}e={token:"triplessamesubject"};e.triplesContext=c;e.chainSubject=d;
return e},{type:"other",description:"[83] PropertyListPathNotEmpty"},function(a,b,c){for(var d={token:"propertylist"},e=[],f=[],g=0;g<b.length;g++)null!=b[g].triplesContext?(e=e.concat(b[g].triplesContext),"triplesnodecollection"===b[g].token&&null!=b[g].chainSubject.length?f.push([a,b[g].chainSubject[0]]):f.push([a,b[g].chainSubject])):f.push([a,b[g]]);for(g=0;g<c.length;g++){b=c[g][3];a=b[0];b=b[2]||[];for(var h=0;h<b.length;h++)null!=b[h].triplesContext?(e=e.concat(b[h].triplesContext),f.push([a,
b[h].chainSubject])):f.push([a,b[h]])}d.pairs=f;d.triplesContext=e;return d},{type:"other",description:"[67] PropertyListNotEmpty"},function(a,b,c){for(var d={token:"propertylist"},e=[],f=[],g=0;g<b.length;g++)null!=b[g].triplesContext?(e=e.concat(b[g].triplesContext),"triplesnodecollection"===b[g].token&&null!=b[g].chainSubject.length?f.push([a,b[g].chainSubject[0]]):f.push([a,b[g].chainSubject])):f.push([a,b[g]]);for(g=0;g<c.length;g++){b=c[g][3];a=b[0];b=b[2]||[];for(var h=0;h<b.length;h++)null!=
b[h].triplesContext?(e=e.concat(b[h].triplesContext),f.push([a,b[h].chainSubject])):f.push([a,b[h]])}d.pairs=f;d.triplesContext=e;return d},{type:"other",description:"[68] PropertyList"},{type:"other",description:"[86] ObjectListPath"},function(a,b){var c=[];c.push(a);for(var d=0;d<b.length;d++)for(var e=0;e<b[d].length;e++)"object"==typeof b[d][e]&&null!=b[d][e].token&&c.push(b[d][e]);return c},{type:"other",description:"[69] ObjectList"},function(a,b){var c=[];c.push(a);for(var d=0;d<b.length;d++)for(var e=
0;e<b[d].length;e++)"object"==typeof b[d][e]&&null!=b[d][e].token&&c.push(b[d][e]);return c},{type:"other",description:"[87] ObjectPath"},{type:"other",description:"[70] Object"},{type:"other",description:"[71] Verb"},"a",{type:"literal",value:"a",description:'"a"'},function(){return{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"}},{type:"other",description:"[72] TriplesSameSubjectPath"},function(a,b){var c=b.triplesContext;if(b.pairs)for(var d=0;d<b.pairs.length;d++){var e=
b.pairs[d];null!=e[1].length&&(e[1]=e[1][0]);a.token&&"triplesnodecollection"===a.token?(e={subject:a.chainSubject[0],predicate:e[0],object:e[1]},"path"===e.predicate.token&&"element"===e.predicate.kind&&(e.predicate=e.predicate.value),c.push(e),c=c.concat(a.triplesContext)):(e={subject:a,predicate:e[0],object:e[1]},"path"===e.predicate.token&&"element"===e.predicate.kind&&(e.predicate=e.predicate.value),c.push(e))}d={token:"triplessamesubject"};d.triplesContext=c;d.chainSubject=a;return d},function(a,
b){var c=a.triplesContext,d=a.chainSubject;if(null!=b&&null!=b.pairs)for(var e=0;e<b.pairs.length;e++){var f=b.pairs[e];null!=f[1].length&&(f[1]=f[1][0]);if("triplesnodecollection"===a.token)for(var g=0;g<d.length;g++){var h=d[g];null!=h.triplesContext?c.concat(h.triplesContext):(h={subject:d[g],predicate:f[0],object:f[1]},c.push(h))}else h={subject:d,predicate:f[0],object:f[1]},c.push(h)}e={token:"triplessamesubject"};e.triplesContext=c;e.chainSubject=d;return e},{type:"other",description:"[73] PropertyListNotEmptyPath"},
function(a,b,c){for(var d={token:"propertylist"},e=[],f=[],g=0;g<b.length;g++)null!=b[g].triplesContext?(e=e.concat(b[g].triplesContext),"triplesnodecollection"===b[g].token&&null!=b[g].chainSubject.length?f.push([a,b[g].chainSubject[0]]):f.push([a,b[g].chainSubject])):f.push([a,b[g]]);for(g=0;g<c.length;g++){b=c[g][3];a=b[0];b=b[1]||[];for(var h=0;h<b.length;h++)null!=b[h].triplesContext?(e=e.concat(b[h].triplesContext),f.push([a,b[h].chainSubject])):f.push([a,b[h]])}d.pairs=f;d.triplesContext=e;
return d},{type:"other",description:"[74] PropertyListPath"},{type:"other",description:"[75]"},function(a){return a},{type:"other",description:"[76] VerbSimple"},{type:"other",description:"[77] Path"},{type:"other",description:"[78] PathAlternative"},"|",{type:"literal",value:"|",description:'"|"'},function(a,b){if(null==b||0===b.length)return a;for(var c=[],d=0;d<b.length;d++)c.push(b[1]);d={token:"path",kind:"alternative"};d.value=c;return d},{type:"other",description:"[79] PathSequence"},"/",{type:"literal",
value:"/",description:'"/"'},function(a,b){if(null==b||0===b.length)return a;for(var c=[a],d=0;d<b.length;d++)c.push(b[d][1]);d={token:"path",kind:"sequence"};d.value=c;return d},{type:"other",description:"[88] PathElt"},function(a,b){if(a.token&&"path"!=a.token&&""==b)return a;if(a.token&&a.token!=c&&""!=b){var c={token:"path",kind:"element"};c.value=a;c.modifier=b;return c}a.modifier=b;return a},{type:"other",description:"[81] PathEltOrInverse"},"^",{type:"literal",value:"^",description:'"^"'},
function(a){var b={token:"path",kind:"inversePath"};b.value=a;return b},{type:"other",description:"[82] PathMod"},"?",{type:"literal",value:"?",description:'"?"'},"+",{type:"literal",value:"+",description:'"+"'},{type:"other",description:"[83] PathPrimary"},"!",{type:"literal",value:"!",description:'"!"'},{type:"other",description:"[85] PathOneInPropertySet"},{type:"other",description:"[86] Integer"},{type:"other",description:"[100] TriplesNodePath"},function(a){for(var b=[],c=[],d,e=0;e<a.length;e++)K++,
null==a[e].chainSubject&&null==a[e].triplesContext?d=a[e]:(d=a[e].chainSubject,b=b.concat(a[e].triplesContext)),d={subject:{token:"blank",value:"_:"+K},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first"},object:d},0==e&&c.push(d.subject),b.push(d),d=e===a.length-1?{subject:{token:"blank",value:"_:"+K},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"uri",prefix:null,suffix:null,
value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}}:{subject:{token:"blank",value:"_:"+K},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"blank",value:"_:"+(K+1)}},b.push(d);return{token:"triplesnodecollection",triplesContext:b,chainSubject:c}},{type:"other",description:"[87] TriplesNode"},function(a){for(var b=[],c=[],d,e=0;e<a.length;e++)K++,null==a[e].chainSubject&&null==a[e].triplesContext?d=a[e]:(d=a[e].chainSubject,
b=b.concat(d.triplesContext)),d={subject:{token:"blank",value:"_:"+K},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first"},object:d},0==e&&c.push(d.subject),b.push(d),d=e===a.length-1?{subject:{token:"blank",value:"_:"+K},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}}:{subject:{token:"blank",
value:"_:"+K},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"blank",value:"_:"+(K+1)}},b.push(d);return{token:"triplesnodecollection",triplesContext:b,chainSubject:c}},{type:"other",description:"[101] BlankNodePropertyListPath"},"[",{type:"literal",value:"[",description:'"["'},"]",{type:"literal",value:"]",description:'"]"'},function(a){K++;for(var b={token:"blank",value:"_:"+K},c=[],d=0;d<a.pairs.length;d++){var e=a.pairs[d],
f={};f.subject=b;f.predicate=e[0];null!=e[1].length&&(e[1]=e[1][0]);f.object=e[1];c.push(f)}return{token:"triplesnode",kind:"blanknodepropertylist",triplesContext:a.triplesContext.concat(c),chainSubject:b}},{type:"other",description:"[88] BlankNodePropertyList"},function(a){K++;for(var b={token:"blank",value:"_:"+K},c=[],d=0;d<a.pairs.length;d++){var e=a.pairs[d],f={};f.subject=b;f.predicate=e[0];null!=e[1].length&&(e[1]=e[1][0]);f.object=e[1];c.push(f)}return{token:"triplesnode",kind:"blanknodepropertylist",
triplesContext:a.triplesContext.concat(c),chainSubject:b}},{type:"other",description:"[103] CollectionPath"},function(a){return a},{type:"other",description:"[89] Collection"},{type:"other",description:"[105] GraphNodePath"},function(a){return a[1]},{type:"other",description:"[90] GraphNode"},{type:"other",description:"[91] VarOrTerm"},{type:"other",description:"[92] VarOrIRIref"},{type:"other",description:"[93] Var"},function(a){var b={token:"var"};b.value=a;return b},{type:"other",description:"[94] GraphTerm"},
{type:"other",description:"[95] Expression"},{type:"other",description:"[96] ConditionalOrExpression"},"||",{type:"literal",value:"||",description:'"||"'},function(a,b){if(0===b.length)return a;for(var c={token:"expression",expressionType:"conditionalor"},d=[a],e=0;e<b.length;e++)d.push(b[e][3]);c.operands=d;return c},{type:"other",description:"[97] ConditionalAndExpression"},"&&",{type:"literal",value:"&&",description:'"&&"'},function(a,b){if(0===b.length)return a;for(var c={token:"expression",expressionType:"conditionaland"},
d=[a],e=0;e<b.length;e++)d.push(b[e][3]);c.operands=d;return c},{type:"other",description:"[98] ValueLogical"},{type:"other",description:"[99] RelationalExpression"},"=",{type:"literal",value:"=",description:'"="'},"!=",{type:"literal",value:"!=",description:'"!="'},"<",{type:"literal",value:"<",description:'"<"'},">",{type:"literal",value:">",description:'">"'},"<=",{type:"literal",value:"<=",description:'"<="'},">=",{type:"literal",value:">=",description:'">="'},"I",{type:"literal",value:"I",description:'"I"'},
"i",{type:"literal",value:"i",description:'"i"'},"N",{type:"literal",value:"N",description:'"N"'},"n",{type:"literal",value:"n",description:'"n"'},"O",{type:"literal",value:"O",description:'"O"'},"o",{type:"literal",value:"o",description:'"o"'},"T",{type:"literal",value:"T",description:'"T"'},"t",{type:"literal",value:"t",description:'"t"'},function(a,b){if(0===b.length)return a;if("i"===b[0][1]||"I"===b[0][1]||"n"===b[0][1]||"N"===b[0][1]){var c={};if("i"===b[0][1]||"I"===b[0][1]){var d="=";c.expressionType=
"conditionalor"}else d="!=",c.expressionType="conditionaland";for(var e=[],f=0;f<b[0].length;f++)if("args"===b[0][f].token){e=b[0][f].value;break}c.token="expression";c.operands=[];for(f=0;f<e.length;f++){var g={token:"expression",expressionType:"relationalexpression"};g.operator=d;g.op1=a;g.op2=e[f];c.operands.push(g)}}else c={expressionType:"relationalexpression"},c.operator=b[0][1],c.op1=a,c.op2=b[0][3],c.token="expression";return c},{type:"other",description:"[100] NumericExpression"},{type:"other",
description:"[101] AdditiveExpression"},"-",{type:"literal",value:"-",description:'"-"'},function(a,b){if(0===b.length)return a;var c={token:"expression",expressionType:"additiveexpression"};c.summand=a;c.summands=[];for(var d=0;d<b.length;d++){var e=b[d],f={};if(4==e.length&&"string"===typeof e[1])f.operator=e[1],f.expression=e[3];else{var e={},g=f[0],h=f[1][3];0>g.value?(f.operator="-",g.value=-g.value):f.operator="+";e.token="expression";e.expressionType="multiplicativeexpression";e.operator=g;
e.factors=[{operator:null,expression:h}];f.expression=e}c.summands.push(f)}return c},{type:"other",description:"[102] MultiplicativeExpression"},function(a,b){if(0===b.length)return a;var c={token:"expression",expressionType:"multiplicativeexpression"};c.factor=a;c.factors=[];for(var d=0;d<b.length;d++){var e=b[d],f={};f.operator=e[1];f.expression=e[3];c.factors.push(f)}return c},{type:"other",description:"[103] UnaryExpression"},function(a){var b={token:"expression",expressionType:"unaryexpression",
unaryexpression:"!"};b.expression=a;return b},function(a){var b={token:"expression",expressionType:"unaryexpression",unaryexpression:"+"};b.expression=a;return b},function(a){var b={token:"expression",expressionType:"unaryexpression",unaryexpression:"-"};b.expression=a;return b},{type:"other",description:"[104] PrimaryExpression"},function(a){var b={token:"expression",expressionType:"atomic",primaryexpression:"rdfliteral"};b.value=a;return b},function(a){var b={token:"expression",expressionType:"atomic",
primaryexpression:"numericliteral"};b.value=a;return b},function(a){var b={token:"expression",expressionType:"atomic",primaryexpression:"booleanliteral"};b.value=a;return b},function(a){var b={token:"expression",expressionType:"atomic",primaryexpression:"var"};b.value=a;return b},{type:"other",description:"[105] BrackettedExpression"},function(a){return a},{type:"other",description:"[106] BuiltInCall"},"STR",{type:"literal",value:"STR",description:'"STR"'},"str",{type:"literal",value:"str",description:'"str"'},
function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"str"};b.args=[a];return b},"LANG",{type:"literal",value:"LANG",description:'"LANG"'},"lang",{type:"literal",value:"lang",description:'"lang"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"lang"};b.args=[a];return b},"LANGMATCHES",{type:"literal",value:"LANGMATCHES",description:'"LANGMATCHES"'},"langmatches",{type:"literal",value:"langmatches",description:'"langmatches"'},function(a,b){var c=
{token:"expression",expressionType:"builtincall",builtincall:"langmatches"};c.args=[a,b];return c},"DATATYPE",{type:"literal",value:"DATATYPE",description:'"DATATYPE"'},"datatype",{type:"literal",value:"datatype",description:'"datatype"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"datatype"};b.args=[a];return b},"BOUND",{type:"literal",value:"BOUND",description:'"BOUND"'},"bound",{type:"literal",value:"bound",description:'"bound"'},function(a){var b={token:"expression",
expressionType:"builtincall",builtincall:"bound"};b.args=[a];return b},"IRI",{type:"literal",value:"IRI",description:'"IRI"'},"iri",{type:"literal",value:"iri",description:'"iri"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"iri"};b.args=[a];return b},"URI",{type:"literal",value:"URI",description:'"URI"'},"uri",{type:"literal",value:"uri",description:'"uri"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"uri"};b.args=[a];return b},
"BNODE",{type:"literal",value:"BNODE",description:'"BNODE"'},"bnode",{type:"literal",value:"bnode",description:'"bnode"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"bnode"};b.args=5===a.length?[a[2]]:null;return b},"COALESCE",{type:"literal",value:"COALESCE",description:'"COALESCE"'},"coalesce",{type:"literal",value:"coalesce",description:'"coalesce"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"coalesce"};b.args=a;return b},
"IF",{type:"literal",value:"IF",description:'"IF"'},"if",{type:"literal",value:"if",description:'"if"'},function(a,b,c){var d={token:"expression",expressionType:"builtincall",builtincall:"if"};d.args=[a,b,c];return d},"ISLITERAL",{type:"literal",value:"ISLITERAL",description:'"ISLITERAL"'},"isliteral",{type:"literal",value:"isliteral",description:'"isliteral"'},"isLITERAL",{type:"literal",value:"isLITERAL",description:'"isLITERAL"'},function(a){var b={token:"expression",expressionType:"builtincall",
builtincall:"isliteral"};b.args=[a];return b},"ISBLANK",{type:"literal",value:"ISBLANK",description:'"ISBLANK"'},"isblank",{type:"literal",value:"isblank",description:'"isblank"'},"isBLANK",{type:"literal",value:"isBLANK",description:'"isBLANK"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"isblank"};b.args=[a];return b},"SAMETERM",{type:"literal",value:"SAMETERM",description:'"SAMETERM"'},"sameterm",{type:"literal",value:"sameterm",description:'"sameterm"'},function(a,
b){var c={token:"expression",expressionType:"builtincall",builtincall:"sameterm"};c.args=[a,b];return c},"ISURI",{type:"literal",value:"ISURI",description:'"ISURI"'},"isuri",{type:"literal",value:"isuri",description:'"isuri"'},"isURI",{type:"literal",value:"isURI",description:'"isURI"'},"ISIRI",{type:"literal",value:"ISIRI",description:'"ISIRI"'},"isiri",{type:"literal",value:"isiri",description:'"isiri"'},"isIRI",{type:"literal",value:"isIRI",description:'"isIRI"'},function(a){var b={token:"expression",
expressionType:"builtincall",builtincall:"isuri"};b.args=[a];return b},"custom:",{type:"literal",value:"custom:",description:'"custom:"'},"CUSTOM:",{type:"literal",value:"CUSTOM:",description:'"CUSTOM:"'},/^[a-zA-Z0-9_]/,{type:"class",value:"[a-zA-Z0-9_]",description:"[a-zA-Z0-9_]"},function(a,b,c){var d={token:"expression",expressionType:"custom"};d.name=a.join("");a=[];for(var e=0;e<b.length;e++)a.push(b[e][1]);a.push(c);d.args=a;return d},{type:"other",description:"[107] RegexExpression"},"REGEX",
{type:"literal",value:"REGEX",description:'"REGEX"'},"regex",{type:"literal",value:"regex",description:'"regex"'},function(a,b,c){var d={token:"expression",expressionType:"regex"};d.text=a;d.pattern=b;d.flags=c[2];return d},{type:"other",description:"[108] ExistsFunc"},"EXISTS",{type:"literal",value:"EXISTS",description:'"EXISTS"'},"exists",{type:"literal",value:"exists",description:'"exists"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"exists"};b.args=[a];return b},
{type:"other",description:"[109] NotExistsFunc"},"NOT",{type:"literal",value:"NOT",description:'"NOT"'},"not",{type:"literal",value:"not",description:'"not"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"notexists"};b.args=[a];return b},{type:"other",description:"[110] Aggregate"},"COUNT",{type:"literal",value:"COUNT",description:'"COUNT"'},"count",{type:"literal",value:"count",description:'"count"'},function(a,b){var c={token:"expression",expressionType:"aggregate",
aggregateType:"count"};c.distinct=""!=a?"DISTINCT":a;c.expression=b;return c},"GROUP_CONCAT",{type:"literal",value:"GROUP_CONCAT",description:'"GROUP_CONCAT"'},"group_concat",{type:"literal",value:"group_concat",description:'"group_concat"'},"SEPARATOR",{type:"literal",value:"SEPARATOR",description:'"SEPARATOR"'},function(a,b,c){var d={token:"expression",expressionType:"aggregate",aggregateType:"group_concat"};d.distinct=""!=a?"DISTINCT":a;d.expression=b;d.separator=c;return d},"SUM",{type:"literal",
value:"SUM",description:'"SUM"'},"sum",{type:"literal",value:"sum",description:'"sum"'},function(a,b){var c={token:"expression",expressionType:"aggregate",aggregateType:"sum"};c.distinct=""!=a?"DISTINCT":a;c.expression=b;return c},"MIN",{type:"literal",value:"MIN",description:'"MIN"'},"min",{type:"literal",value:"min",description:'"min"'},function(a,b){var c={token:"expression",expressionType:"aggregate",aggregateType:"min"};c.distinct=""!=a?"DISTINCT":a;c.expression=b;return c},"MAX",{type:"literal",
value:"MAX",description:'"MAX"'},"max",{type:"literal",value:"max",description:'"max"'},function(a,b){var c={token:"expression",expressionType:"aggregate",aggregateType:"max"};c.distinct=""!=a?"DISTINCT":a;c.expression=b;return c},"AVG",{type:"literal",value:"AVG",description:'"AVG"'},"avg",{type:"literal",value:"avg",description:'"avg"'},function(a,b){var c={token:"expression",expressionType:"aggregate",aggregateType:"avg"};c.distinct=""!=a?"DISTINCT":a;c.expression=b;return c},{type:"other",description:"[117] IRIrefOrFunction"},
function(a,b){var c={token:"expression",expressionType:"irireforfunction"};c.iriref=a;c.args=b.value;return c},{type:"other",description:"[112] RDFLiteral"},"^^",{type:"literal",value:"^^",description:'"^^"'},function(a,b){return"string"===typeof b&&0<b.length?{token:"literal",value:a.value,lang:b.slice(1),type:null}:null!=b&&"object"===typeof b?(b.shift(),{token:"literal",value:a.value,lang:null,type:b[0]}):{token:"literal",value:a.value,lang:null,type:null}},{type:"other",description:"[113] NumericLiteral"},
{type:"other",description:"[114] NumericLiteralUnsigned"},{type:"other",description:"[115] NumericLiteralPositive"},{type:"other",description:"[116] NumericLiteralNegative"},{type:"other",description:"[117] BooleanLiteral"},"TRUE",{type:"literal",value:"TRUE",description:'"TRUE"'},"true",{type:"literal",value:"true",description:'"true"'},function(){return{token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#boolean",value:!0}},"FALSE",{type:"literal",value:"FALSE",description:'"FALSE"'},
"false",{type:"literal",value:"false",description:'"false"'},function(){return{token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#boolean",value:!1}},{type:"other",description:"[118] String"},function(a){return{token:"string",value:a}},{type:"other",description:"[119] IRIref"},function(a){return{token:"uri",prefix:null,suffix:null,value:a}},function(a){return a},{type:"other",description:"[120] PrefixedName"},function(a){return{token:"uri",prefix:a[0],suffix:a[1],value:null}},function(a){return{token:"uri",
prefix:a,suffix:"",value:null}},{type:"other",description:"[121] BlankNode"},function(a){return{token:"blank",value:a}},function(){K++;return{token:"blank",value:"_:"+K}},{type:"other",description:"[122] IRI_REF"},/^[^<>"{}|\^`\\]/,{type:"class",value:'[^<>\\"\\{\\}|^`\\\\]',description:'[^<>\\"\\{\\}|^`\\\\]'},function(a){return a.join("")},{type:"other",description:"[123] PNAME_NS"},":",{type:"literal",value:":",description:'":"'},{type:"other",description:"[124] PNAME_LN"},function(a,b){return[a,
b]},{type:"other",description:"[125] BLANK_NODE_LABEL"},"_:",{type:"literal",value:"_:",description:'"_:"'},function(a){return a},{type:"other",description:"[126] VAR1"},function(a){return a},{type:"other",description:"[127] VAR2"},"$",{type:"literal",value:"$",description:'"$"'},{type:"other",description:"[128] LANGTAG"},"@",{type:"literal",value:"@",description:'"@"'},/^[a-zA-Z]/,{type:"class",value:"[a-zA-Z]",description:"[a-zA-Z]"},/^[a-zA-Z0-9]/,{type:"class",value:"[a-zA-Z0-9]",description:"[a-zA-Z0-9]"},
function(a,b){return 0===b.length?("@"+a.join("")).toLowerCase():("@"+a.join("")+"-"+b[0][1].join("")).toLowerCase()},{type:"other",description:"[129] INTEGER"},/^[0-9]/,{type:"class",value:"[0-9]",description:"[0-9]"},function(a){var b={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#integer"};b.value=G(a);return b},{type:"other",description:"[130] DECIMAL"},function(a,b,c){var d={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#decimal"};d.value=G([a,b,c]);return d},
function(a,b){var c={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#decimal"};c.value=G([a,b]);return c},{type:"other",description:"[131] DOUBLE"},function(a,b,c,d){var e={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};e.value=G([a,b,c,d]);return e},function(a,b,c){var d={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};d.value=G([a,b,c]);return d},function(a,b){var c={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};
c.value=G([a,b]);return c},{type:"other",description:"[132] INTEGER_POSITIVE"},function(a){a.value="+"+a.value;return a},{type:"other",description:"[133] DECIMAL_POSITIVE"},function(a){a.value="+"+a.value;return a},{type:"other",description:"[134] DOUBLE_POSITIVE"},{type:"other",description:"[135] INTEGER_NEGATIVE"},function(a){a.value="-"+a.value;return a},{type:"other",description:"[136] DECIMAL_NEGATIVE"},{type:"other",description:"[137] DOUBLE_NEGATIVE"},{type:"other",description:"[138] EXPONENT"},
/^[eE]/,{type:"class",value:"[eE]",description:"[eE]"},/^[+\-]/,{type:"class",value:"[+-]",description:"[+-]"},function(a,b,c){return G([a,b,c])},{type:"other",description:"[139] STRING_LITERAL1"},"'",{type:"literal",value:"'",description:'"\'"'},/^[^'\\\n\r]/,{type:"class",value:"[^\\u0027\\u005C\\u000A\\u000D]",description:"[^\\u0027\\u005C\\u000A\\u000D]"},function(a){return G(a)},{type:"other",description:"[140] STRING_LITERAL2"},'"',{type:"literal",value:'"',description:'"\\""'},/^[^"\\\n\r]/,
{type:"class",value:"[^\\u0022\\u005C\\u000A\\u000D]",description:"[^\\u0022\\u005C\\u000A\\u000D]"},{type:"other",description:"[141] STRING_LITERAL_LONG1"},"'''",{type:"literal",value:"'''",description:"\"'''\""},/^[^'\\]/,{type:"class",value:"[^\\'\\\\]",description:"[^\\'\\\\]"},{type:"other",description:"[142] STRING_LITERAL_LONG2"},'"""',{type:"literal",value:'"""',description:'"\\"\\"\\""'},/^[^"\\]/,{type:"class",value:'[^\\"\\\\]',description:'[^\\"\\\\]'},{type:"other",description:"[143] ECHAR"},
"\\",{type:"literal",value:"\\",description:'"\\\\"'},/^[tbnrf"']/,{type:"class",value:"[tbnrf\\\"\\']",description:"[tbnrf\\\"\\']"},{type:"other",description:"[144] NIL"},function(){return{token:"triplesnodecollection",triplesContext:[],chainSubject:[{token:"uri",value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}]}},{type:"other",description:"[145] WS"},/^[ ]/,{type:"class",value:"[\\u0020]",description:"[\\u0020]"},/^[\t]/,{type:"class",value:"[\\u0009]",description:"[\\u0009]"},/^[\r]/,{type:"class",
value:"[\\u000D]",description:"[\\u000D]"},/^[\n]/,{type:"class",value:"[\\u000A]",description:"[\\u000A]"},{type:"other",description:" COMMENT"},"#",{type:"literal",value:"#",description:'"#"'},/^[^\n\r]/,{type:"class",value:"[^\\u000A\\u000D]",description:"[^\\u000A\\u000D]"},{type:"other",description:"[146] ANON"},{type:"other",description:"[147] PN_CHARS_BASE"},/^[A-Z]/,{type:"class",value:"[A-Z]",description:"[A-Z]"},/^[a-z]/,{type:"class",value:"[a-z]",description:"[a-z]"},/^[\xC0-\xD6]/,{type:"class",
value:"[\\u00C0-\\u00D6]",description:"[\\u00C0-\\u00D6]"},/^[\xD8-\xF6]/,{type:"class",value:"[\\u00D8-\\u00F6]",description:"[\\u00D8-\\u00F6]"},/^[\xF8-\u02FF]/,{type:"class",value:"[\\u00F8-\\u02FF]",description:"[\\u00F8-\\u02FF]"},/^[\u0370-\u037D]/,{type:"class",value:"[\\u0370-\\u037D]",description:"[\\u0370-\\u037D]"},/^[\u037F-\u1FFF]/,{type:"class",value:"[\\u037F-\\u1FFF]",description:"[\\u037F-\\u1FFF]"},/^[\u200C-\u200D]/,{type:"class",value:"[\\u200C-\\u200D]",description:"[\\u200C-\\u200D]"},
/^[\u2070-\u218F]/,{type:"class",value:"[\\u2070-\\u218F]",description:"[\\u2070-\\u218F]"},/^[\u2C00-\u2FEF]/,{type:"class",value:"[\\u2C00-\\u2FEF]",description:"[\\u2C00-\\u2FEF]"},/^[\u3001-\uD7FF]/,{type:"class",value:"[\\u3001-\\uD7FF]",description:"[\\u3001-\\uD7FF]"},/^[\uF900-\uFDCF]/,{type:"class",value:"[\\uF900-\\uFDCF]",description:"[\\uF900-\\uFDCF]"},/^[\uFDF0-\uFFFD]/,{type:"class",value:"[\\uFDF0-\\uFFFD]",description:"[\\uFDF0-\\uFFFD]"},/^[\u1000-\uEFFF]/,{type:"class",value:"[\\u1000-\\uEFFF]",
description:"[\\u1000-\\uEFFF]"},{type:"other",description:"[148] PN_CHARS_U"},"_",{type:"literal",value:"_",description:'"_"'},{type:"other",description:"[149] VARNAME"},/^[\xB7]/,{type:"class",value:"[\\u00B7]",description:"[\\u00B7]"},/^[\u0300-\u036F]/,{type:"class",value:"[\\u0300-\\u036F]",description:"[\\u0300-\\u036F]"},/^[\u203F-\u2040]/,{type:"class",value:"[\\u203F-\\u2040]",description:"[\\u203F-\\u2040]"},function(a,b){return a+b.join("")},{type:"other",description:"[150] PN_CHARS"},
{type:"other",description:"[151] PN_PREFIX"},function(a,b){if("."==b[b.length-1])throw Error("Wrong PN_PREFIX, cannot finish with '.'");return a+b.join("")},{type:"other",description:"[152] PN_LOCAL"},function(a,b){return a+(b||[]).join("")},{type:"other",description:"[170] PLX"},{type:"other",description:"[171] PERCENT"},"%",{type:"literal",value:"%",description:'"%"'},function(a){return a.join("")},{type:"other",description:"[172] HEX"},/^[A-F]/,{type:"class",value:"[A-F]",description:"[A-F]"},
/^[a-f]/,{type:"class",value:"[a-f]",description:"[a-f]"},{type:"other",description:"[173] PN_LOCAL_ESC"},"~",{type:"literal",value:"~",description:'"~"'},"&",{type:"literal",value:"&",description:'"&"'},function(a){return"\\"+a}],t=[d(";!"),d(';".# &;?'),d('<;#=." 7 '),d("<%;$/N#;'./ &;*.) &;+.# &;,/3$;>/*$8#:\"##\"! )(#'#(\"'#&'#=.\" 7!"),d('<%;%." &"/I#$;\u00c00#*;\u00c0&/9$$;&0#*;&&/)$8#:$#"" )(#\'#("\'#&\'#=." 7#'),d('<%$;\u00c00#*;\u00c0&/\\#2&""6&7\'.) &2(""6(7)/A$$;\u00c00#*;\u00c0&/1$;\u00a9/($8$:*$! )($\'#(#\'#("\'#&\'#=." 7%'),
d('<%$;\u00c00#*;\u00c0&/v#2,""6,7-.) &2.""6.7//[$$;\u00c00#*;\u00c0&/K$;\u00aa/B$$;\u00c00#*;\u00c0&/2$;\u00a9/)$8&:0&"" )(&\'#(%\'#($\'#(#\'#("\'#&\'#=." 7+'),d("<%;)/\u0096#$;\u00c00#*;\u00c0&/\u0086$$;-0#*;-&/v$$;\u00c00#*;\u00c0&/f$;1/]$$;\u00c00#*;\u00c0&/M$;2/D$$;\u00c00#*;\u00c0&/4$;</+$8):2)$(&$\")()'#(('#(''#(&'#(%'#($'#(#'#(\"'#&'#=.\" 71"),d("<%;)/<#;1/3$;2/*$8#:4##\"! )(#'#(\"'#&'#=.\" 73"),d('<%$;\u00c00#*;\u00c0&/\u02a0#26""6677.) &28""6879/\u0285$$;\u00c00#*;\u00c0&/\u0275$2:""6:7;.) &2<""6<7=.5 &2>""6>7?.) &2@""6@7A." &"/\u023d$$;\u00c00#*;\u00c0&/\u022d$$%$;\u00c00#*;\u00c0&/<#;\u008c/3$$;\u00c00#*;\u00c0&/#$+#)(#\'#("\'#&\'#.\u00cf &%$;\u00c00#*;\u00c0&/\u00be#2B""6B7C/\u00af$$;\u00c00#*;\u00c0&/\u009f$;\u008e/\u0096$$;\u00c00#*;\u00c0&/\u0086$2D""6D7E.) &2F""6F7G/k$$;\u00c00#*;\u00c0&/[$;\u008c/R$$;\u00c00#*;\u00c0&/B$2H""6H7I/3$$;\u00c00#*;\u00c0&/#$++)(+\'#(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#/\u0102#0\u00ff*%$;\u00c00#*;\u00c0&/<#;\u008c/3$$;\u00c00#*;\u00c0&/#$+#)(#\'#("\'#&\'#.\u00cf &%$;\u00c00#*;\u00c0&/\u00be#2B""6B7C/\u00af$$;\u00c00#*;\u00c0&/\u009f$;\u008e/\u0096$$;\u00c00#*;\u00c0&/\u0086$2D""6D7E.) &2F""6F7G/k$$;\u00c00#*;\u00c0&/[$;\u008c/R$$;\u00c00#*;\u00c0&/B$2H""6H7I/3$$;\u00c00#*;\u00c0&/#$++)(+\'#(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#&&&#.S &%$;\u00c00#*;\u00c0&/B#2J""6J7K/3$$;\u00c00#*;\u00c0&/#$+#)(#\'#("\'#&\'#/)$8&:L&"" )(&\'#(%\'#($\'#(#\'#("\'#&\'#=." 75'),
d("<%$;\u00c00#*;\u00c0&/\u00b1#2N\"\"6N7O.) &2P\"\"6P7Q/\u0096$$;\u00c00#*;\u00c0&/\u0086$;h/}$$;\u00c00#*;\u00c0&/m$$;-0#*;-&/]$$;\u00c00#*;\u00c0&/M$;1/D$$;\u00c00#*;\u00c0&/4$;2/+$8*:R*$&$\" )(*'#()'#(('#(''#(&'#(%'#($'#(#'#(\"'#&'#.\u0116 &%$;\u00c00#*;\u00c0&/\u0105#2N\"\"6N7O.) &2P\"\"6P7Q/\u00ea$$;\u00c00#*;\u00c0&/\u00da$$;-0#*;-&/\u00ca$$;\u00c00#*;\u00c0&/\u00ba$2S\"\"6S7T.) &2U\"\"6U7V/\u009f$$;\u00c00#*;\u00c0&/\u008f$2W\"\"6W7X/\u0080$$;\u00c00#*;\u00c0&/p$;S.\" &\"/b$$;\u00c00#*;\u00c0&/R$2Y\"\"6Y7Z/C$$;\u00c00#*;\u00c0&/3$;2/*$8.:[.#*$ )(.'#(-'#(,'#(+'#(*'#()'#(('#(''#(&'#(%'#($'#(#'#(\"'#&'#=.\" 7M"),
d('<%2]""6]7^/l#$;\u008b/&#0#*;\u008b&&&#.) &2J""6J7K/J$$;-0#*;-&/:$;1." &"/,$;2/#$+%)(%\'#($\'#(#\'#("\'#&\'#=." 7\\'),d('<%$;\u00c00#*;\u00c0&/}#2`""6`7a.) &2b""6b7c/b$$;\u00c00#*;\u00c0&/R$$;-0#*;-&/B$$;\u00c00#*;\u00c0&/2$;1/)$8&:d&"" )(&\'#(%\'#($\'#(#\'#("\'#&\'#=." 7_'),d('<%2f""6f7g.) &2h""6h7i/W#$;\u00c00#*;\u00c0&/G$;..# &;//8$$;\u00c00#*;\u00c0&/($8$:j$!!)($\'#(#\'#("\'#&\'#=." 7e'),d('<%$;\u00c00#*;\u00c0&/1#;0/($8":l"! )("\'#&\'#=." 7k'),d('<%2n""6n7o.) &2p""6p7q/A#$;\u00c00#*;\u00c0&/1$;0/($8#:r#! )(#\'#("\'#&\'#=." 7m'),
d('<;\u00a6=." 7s'),d('<%2S""6S7T.) &2U""6U7V." &"/Q#$;\u00c00#*;\u00c0&/A$;T/8$$;\u00c00#*;\u00c0&/($8$:u$!!)($\'#(#\'#("\'#&\'#=." 7t'),d('<%;3." &"/T#;5." &"/F$;7." &"/8$;9." &"/*$8$:w$##! )($\'#(#\'#("\'#&\'#=." 7v'),d('<%2y""6y7z.) &2{""6{7|/y#$;\u00c00#*;\u00c0&/i$2}""6}7~.) &2\u007f""6\u007f7\u0080/N$$;\u00c00#*;\u00c0&/>$$;4/&#0#*;4&&&#/($8%:\u0081%! )(%\'#($\'#(#\'#("\'#&\'#=." 7x'),d("<%$;\u00c00#*;\u00c0&/A#;\u0099/8$$;\u00c00#*;\u00c0&/($8#:\u0083#!!)(#'#(\"'#&'#.\u014e &%$;\u00c00#*;\u00c0&/A#;e/8$$;\u00c00#*;\u00c0&/($8#:\u0084#!!)(#'#(\"'#&'#.\u0119 &%$;\u00c00#*;\u00c0&/\u00d3#2B\"\"6B7C/\u00c4$$;\u00c00#*;\u00c0&/\u00b4$;\u008e/\u00ab$$;\u00c00#*;\u00c0&/\u009b$%2D\"\"6D7E.) &2F\"\"6F7G/<#$;\u00c00#*;\u00c0&/,$;\u008c/#$+#)(#'#(\"'#&'#.\" &\"/X$$;\u00c00#*;\u00c0&/H$2H\"\"6H7I/9$$;\u00c00#*;\u00c0&/)$8):\u0085)\"%#)()'#(('#(''#(&'#(%'#($'#(#'#(\"'#&'#.R &%$;\u00c00#*;\u00c0&/A#;\u008c/8$$;\u00c00#*;\u00c0&/($8#:\u0086#!!)(#'#(\"'#&'#=.\" 7\u0082"),
d('<%2\u0088""6\u00887\u0089/9#$;6/&#0#*;6&&&#/#$+")("\'#&\'#=." 7\u0087'),d('<;_=." 7\u008a'),d('<%2\u008c""6\u008c7\u008d.) &2\u008e""6\u008e7\u008f/\u0089#$;\u00c00#*;\u00c0&/y$2}""6}7~.) &2\u007f""6\u007f7\u0080/^$$;\u00c00#*;\u00c0&/N$$;8/&#0#*;8&&&#/8$$;\u00c00#*;\u00c0&/($8&:\u0090&!!)(&\'#(%\'#($\'#(#\'#("\'#&\'#=." 7\u008b'),d('<%2\u0092""6\u00927\u0093.A &2\u0094""6\u00947\u0095.5 &2\u0096""6\u00967\u0097.) &2\u0098""6\u00987\u0099/R#$;\u00c00#*;\u00c0&/B$;\u0098/9$$;\u00c00#*;\u00c0&/)$8$:\u009a$"#!)($\'#(#\'#("\'#&\'#.H &%;_.# &;\u008c/8#$;\u00c00#*;\u00c0&/($8":\u009b"!!)("\'#&\'#=." 7\u0091'),
d('<%%;:/1#;;." &"/#$+")("\'#&\'#.; &%;;/1#;:." &"/#$+")("\'#&\'#/\' 8!:\u009d!! )=." 7\u009c'),d('<%2\u009f""6\u009f7\u00a0.) &2\u00a1""6\u00a17\u00a2/Q#$;\u00c00#*;\u00c0&/A$;\u00b0/8$$;\u00c00#*;\u00c0&/($8$:\u00a3$!!)($\'#(#\'#("\'#&\'#=." 7\u009e'),d('<%2\u00a5""6\u00a57\u00a6.) &2\u00a7""6\u00a77\u00a8/Q#$;\u00c00#*;\u00c0&/A$;\u00b0/8$$;\u00c00#*;\u00c0&/($8$:\u00a9$!!)($\'#(#\'#("\'#&\'#=." 7\u00a4'),d('<%2\u00ab""6\u00ab7\u00ac/\u00d7#$;\u008c0#*;\u008c&/\u00c7$2W""6W7X/\u00b8$$%2B""6B7C/H#$;=/&#0#*;=&&&#/2$2H""6H7I/#$+#)(#\'#("\'#&\'#.# &;\u00bf0^*%2B""6B7C/H#$;=/&#0#*;=&&&#/2$2H""6H7I/#$+#)(#\'#("\'#&\'#.# &;\u00bf&/2$2Y""6Y7Z/#$+%)(%\'#($\'#(#\'#("\'#&\'#." &"=." 7\u00aa'),
d('<;\u00a6.; &;\u009f.5 &;\u00a0./ &;\u00a4.) &2\u00ae""6\u00ae7\u00af=." 7\u00ad'),d('<%%2\u00b1""6\u00b17\u00b2.) &2\u00b3""6\u00b37\u00b4/,#;a/#$+")("\'#&\'#." &"/\' 8!:\u00b5!! )=." 7\u00b0'),d('<;@=." 7\u00b6'),d('<%;$/\u008f#$;\u00c00#*;\u00c0&/\u007f$;A/v$%$;\u00c00#*;\u00c0&/P#2\u00b8""6\u00b87\u00b9/A$$;\u00c00#*;\u00c0&/1$;@." &"/#$+$)($\'#(#\'#("\'#&\'#." &"/*$8$:\u00ba$##! )($\'#(#\'#("\'#&\'#=." 7\u00b7'),d('<;B.G &;C.A &;D.; &;E.5 &;F./ &;G.) &;H.# &;I=." 7\u00bb'),d('<%2\u00bd""6\u00bd7\u00be.) &2\u00bf""6\u00bf7\u00c0/\u0095#$;\u00c00#*;\u00c0&/\u0085$;\u00a6/|$$;\u00c00#*;\u00c0&/l$%2\u00c1""6\u00c17\u00c2.) &2\u00c3""6\u00c37\u00c4/<#$;\u00c00#*;\u00c0&/,$;M/#$+#)(#\'#("\'#&\'#." &"/)$8%:\u00c5%"" )(%\'#($\'#(#\'#("\'#&\'#=." 7\u00bc'),
d('<%2\u00c7""6\u00c77\u00c8.) &2\u00c9""6\u00c97\u00ca/q#$;\u00c00#*;\u00c0&/a$2\u00cb""6\u00cb7\u00cc.) &2\u00cd""6\u00cd7\u00ce." &"/A$$;\u00c00#*;\u00c0&/1$;N/($8%:\u00cf%! )(%\'#($\'#(#\'#("\'#&\'#=." 7\u00c6'),d('<%2\u00d1""6\u00d17\u00d2.) &2\u00d3""6\u00d37\u00d4/q#$;\u00c00#*;\u00c0&/a$2\u00cb""6\u00cb7\u00cc.) &2\u00cd""6\u00cd7\u00ce." &"/A$$;\u00c00#*;\u00c0&/1$;N/($8%:\u00d5%! )(%\'#($\'#(#\'#("\'#&\'#=." 7\u00d0'),d('<%2\u00d7""6\u00d77\u00d8.) &2\u00d9""6\u00d97\u00da/q#$;\u00c00#*;\u00c0&/a$2\u00cb""6\u00cb7\u00cc.) &2\u00cd""6\u00cd7\u00ce." &"/A$$;\u00c00#*;\u00c0&/1$;M/($8%:\u00db%! )(%\'#($\'#(#\'#("\'#&\'#=." 7\u00d6'),
d('<%2\u00dd""6\u00dd7\u00de.) &2\u00df""6\u00df7\u00e0/l#$;\u00c00#*;\u00c0&/\\$2\u00e1""6\u00e17\u00e2.) &2\u00e3""6\u00e37\u00e4/A$$;\u00c00#*;\u00c0&/1$;P/($8%:\u00e5%! )(%\'#($\'#(#\'#("\'#&\'#=." 7\u00dc'),d('<%2\u00e7""6\u00e77\u00e8.) &2\u00e9""6\u00e97\u00ea/\\#$;\u00c00#*;\u00c0&/L$2\u00e1""6\u00e17\u00e2.) &2\u00e3""6\u00e37\u00e4/1$;P/($8$:\u00eb$! )($\'#(#\'#("\'#&\'#=." 7\u00e6'),d('<%2\u00e7""6\u00e77\u00e8.) &2\u00e9""6\u00e97\u00ea/l#$;\u00c00#*;\u00c0&/\\$2S""6S7T.) &2U""6U7V/A$$;\u00c00#*;\u00c0&/1$;T/($8%:\u00ed%! )(%\'#($\'#(#\'#("\'#&\'#=." 7\u00ec'),
d("<%%2\u00ef\"\"6\u00ef7\u00f0.) &2\u00f1\"\"6\u00f17\u00f2/<#$;\u00c00#*;\u00c0&/,$;\u00a6/#$+#)(#'#(\"'#&'#.\" &\"/\u00e6#$;\u00c00#*;\u00c0&/\u00d6$%;J/A#$;\u00c00#*;\u00c0&/1$;K.\" &\"/#$+#)(#'#(\"'#&'#.# &;K/\u009f$$;\u00c00#*;\u00c0&/\u008f$$;L0#*;L&/\u007f$$;\u00c00#*;\u00c0&/o$2S\"\"6S7T.) &2U\"\"6U7V/T$$;\u00c00#*;\u00c0&/D$;T/;$$;\u00c00#*;\u00c0&/+$8*:\u00f3*$)'%!)(*'#()'#(('#(''#(&'#(%'#($'#(#'#(\"'#&'#=.\" 7\u00ee"),d('<%2\u00e7""6\u00e77\u00e8.) &2\u00e9""6\u00e97\u00ea/1#;O/($8":\u00f5"! )("\'#&\'#=." 7\u00f4'),
d('<%2\u00dd""6\u00dd7\u00de.) &2\u00df""6\u00df7\u00e0/1#;O/($8":\u00f5"! )("\'#&\'#=." 7\u00f6'),d('<%$;\u00c00#*;\u00c0&/\u0097#2\u00f8""6\u00f87\u00f9.) &2\u00fa""6\u00fa7\u00fb/|$$;\u00c00#*;\u00c0&/l$;\u00a6.X &%2n""6n7o.) &2p""6p7q/<#$;\u00c00#*;\u00c0&/,$;\u00a6/#$+#)(#\'#("\'#&\'#/($8$:\u00fc$! )($\'#(#\'#("\'#&\'#=." 7\u00f7'),d('<%2\u00fe""6\u00fe7\u00ff.) &2\u0100""6\u01007\u0101/A#$;\u00c00#*;\u00c0&/1$;\u00a6/($8#:\u0102#! )(#\'#("\'#&\'#=." 7\u00fd'),d('<%;M/\' 8!:u!! ).\u0086 &%2\u0104""6\u01047\u0105.) &2\u0106""6\u01067\u0107/& 8!:\u0108! ).c &%2n""6n7o.) &2p""6p7q/& 8!:\u0109! ).@ &%2\u010a""6\u010a7\u010b.) &2\u010c""6\u010c7\u010d/& 8!:\u010e! )=." 7\u0103'),
d("<%$;\u00c00#*;\u00c0&/\u007f#2W\"\"6W7X/p$$;\u00c00#*;\u00c0&/`$;Q/W$$;\u00c00#*;\u00c0&/G$2Y\"\"6Y7Z/8$$;\u00c00#*;\u00c0&/($8':\u0110'!#)(''#(&'#(%'#($'#(#'#(\"'#&'#=.\" 7\u010f"),d("<%$;\u00c00#*;\u00c0&/\u007f#2W\"\"6W7X/p$$;\u00c00#*;\u00c0&/`$;Q/W$$;\u00c00#*;\u00c0&/G$2Y\"\"6Y7Z/8$$;\u00c00#*;\u00c0&/($8':\u0110'!#)(''#(&'#(%'#($'#(#'#(\"'#&'#=.\" 7\u0111"),d('<%;S." &"/\u0091#$%;R/E#2\u0113""6\u01137\u0114." &"/1$;S." &"/#$+#)(#\'#("\'#&\'#0O*%;R/E#2\u0113""6\u01137\u0114." &"/1$;S." &"/#$+#)(#\'#("\'#&\'#&/)$8":\u0115""! )("\'#&\'#=." 7\u0112'),
d("<%$;\u00c00#*;\u00c0&/\u00c9#2\u00fe\"\"6\u00fe7\u00ff.) &2\u0100\"\"6\u01007\u0101/\u00ae$$;\u00c00#*;\u00c0&/\u009e$;\u008b/\u0095$$;\u00c00#*;\u00c0&/\u0085$2W\"\"6W7X/v$$;\u00c00#*;\u00c0&/f$;S.\" &\"/X$$;\u00c00#*;\u00c0&/H$2Y\"\"6Y7Z/9$$;\u00c00#*;\u00c0&/)$8+:\u0117+\"'#)(+'#(*'#()'#(('#(''#(&'#(%'#($'#(#'#(\"'#&'#=.\" 7\u0116"),d('<%;j/u#%$;\u00c00#*;\u00c0&/P#2\u0113""6\u01137\u0114/A$$;\u00c00#*;\u00c0&/1$;S." &"/#$+$)($\'#(#\'#("\'#&\'#." &"/)$8":\u0119""! )("\'#&\'#=." 7\u0118'),d('<%2W""6W7X/`#$;\u00c00#*;\u00c0&/P$;(/G$$;\u00c00#*;\u00c0&/7$2Y""6Y7Z/($8%:\u011b%!")(%\'#($\'#(#\'#("\'#&\'#.p &%2W""6W7X/`#$;\u00c00#*;\u00c0&/P$;U/G$$;\u00c00#*;\u00c0&/7$2Y""6Y7Z/($8%:\u011b%!")(%\'#($\'#(#\'#("\'#&\'#=." 7\u011a'),
d('<%;V." &"/\u00e1#$;\u00c00#*;\u00c0&/\u00d1$$%;W/e#$;\u00c00#*;\u00c0&/U$2\u0113""6\u01137\u0114." &"/A$$;\u00c00#*;\u00c0&/1$;V." &"/#$+%)(%\'#($\'#(#\'#("\'#&\'#0o*%;W/e#$;\u00c00#*;\u00c0&/U$2\u0113""6\u01137\u0114." &"/A$$;\u00c00#*;\u00c0&/1$;V." &"/#$+%)(%\'#($\'#(#\'#("\'#&\'#&/)$8#:\u011d#"" )(#\'#("\'#&\'#=." 7\u011c'),d('<%;s/e#%$;\u00c00#*;\u00c0&/@#2\u0113""6\u01137\u0114/1$;V." &"/#$+#)(#\'#("\'#&\'#." &"/)$8":\u011f""! )("\'#&\'#=." 7\u011e'),d('<;\\.G &;X.A &;[.; &;Y.5 &;Z./ &;].) &;^.# &;`=." 7\u0120'),
d('<%$;\u00c00#*;\u00c0&/\\#2\u0122""6\u01227\u0123.) &2\u0124""6\u01247\u0125/A$$;\u00c00#*;\u00c0&/1$;T/($8$:\u0126$! )($\'#(#\'#("\'#&\'#=." 7\u0121'),d('<%$;\u00c00#*;\u00c0&/v#2\u00fe""6\u00fe7\u00ff.) &2\u0100""6\u01007\u0101/[$$;\u00c00#*;\u00c0&/K$;\u008b/B$$;\u00c00#*;\u00c0&/2$;T/)$8&:\u0128&"" )(&\'#(%\'#($\'#(#\'#("\'#&\'#=." 7\u0127'),d('<%2\u012a""6\u012a7\u012b/;#;\u008b/2$;T/)$8#:\u012c#"! )(#\'#("\'#&\'#=." 7\u0129'),d('<%2\u012e""6\u012e7\u012f.) &2\u0130""6\u01307\u0131/A#$;\u00c00#*;\u00c0&/1$;T/($8#:\u0132#! )(#\'#("\'#&\'#=." 7\u012d'),
d('<%;T/\u00c3#$%$;\u00c00#*;\u00c0&/W#2\u0134""6\u01347\u0135.) &2\u0136""6\u01367\u0137/<$$;\u00c00#*;\u00c0&/,$;T/#$+$)($\'#(#\'#("\'#&\'#0h*%$;\u00c00#*;\u00c0&/W#2\u0134""6\u01347\u0135.) &2\u0136""6\u01367\u0137/<$$;\u00c00#*;\u00c0&/,$;T/#$+$)($\'#(#\'#("\'#&\'#&/)$8":\u0138""! )("\'#&\'#=." 7\u0133'),d('<%$;\u00c00#*;\u00c0&/\\#2\u013a""6\u013a7\u013b.) &2\u013c""6\u013c7\u013d/A$$;\u00c00#*;\u00c0&/1$;_/($8$:\u013e$! )($\'#(#\'#("\'#&\'#=." 7\u0139'),d('<%$;\u00c00#*;\u00c0&/\u00df#2\u0140""6\u01407\u0141.) &2\u0142""6\u01427\u0143/\u00c4$$;\u00c00#*;\u00c0&/\u00b4$2B""6B7C/\u00a5$$;\u00c00#*;\u00c0&/\u0095$;\u008e/\u008c$$;\u00c00#*;\u00c0&/|$2F""6F7G.) &2D""6D7E/a$$;\u00c00#*;\u00c0&/Q$;\u008c/H$$;\u00c00#*;\u00c0&/8$2H""6H7I/)$8,:\u0144,"&")(,\'#(+\'#(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#=." 7\u013f'),
d('<;\u0098.) &;\u0099.# &;e=." 7\u0145'),d('<%$;\u00c00#*;\u00c0&/\\#2\u00b1""6\u00b17\u00b2.) &2\u00b3""6\u00b37\u00b4/A$$;\u00c00#*;\u00c0&/1$;a/($8$:\u0147$! )($\'#(#\'#("\'#&\'#=." 7\u0146'),d('<;b.# &;c=." 7\u0148'),d("<%$;\u00c00#*;\u00c0&/\u0080#;\u008c/w$$;\u00c00#*;\u00c0&/g$2W\"\"6W7X/X$$;\u00c00#*;\u00c0&/H$$;d0#*;d&/8$2Y\"\"6Y7Z/)$8':\u014a'\"%!)(''#(&'#(%'#($'#(#'#(\"'#&'#=.\" 7\u0149"),d("<%$;\u00c00#*;\u00c0&/\u01cf#;\u00bf.r &%2B\"\"6B7C/b#$;\u00c00#*;\u00c0&/R$$;\u008c0#*;\u008c&/B$$;\u00c00#*;\u00c0&/2$2H\"\"6H7I/#$+%)(%'#($'#(#'#(\"'#&'#/\u0171$$;\u00c00#*;\u00c0&/\u0161$2W\"\"6W7X/\u0152$$;\u00c00#*;\u00c0&/\u0142$$%$;\u00c00#*;\u00c0&/\u0081#2B\"\"6B7C/r$$;\u00c00#*;\u00c0&/b$$;d0#*;d&/R$$;\u00c00#*;\u00c0&/B$2H\"\"6H7I/3$$;\u00c00#*;\u00c0&/#$+')(''#(&'#(%'#($'#(#'#(\"'#&'#.# &;\u00bf0\u0098*%$;\u00c00#*;\u00c0&/\u0081#2B\"\"6B7C/r$$;\u00c00#*;\u00c0&/b$$;d0#*;d&/R$$;\u00c00#*;\u00c0&/B$2H\"\"6H7I/3$$;\u00c00#*;\u00c0&/#$+')(''#(&'#(%'#($'#(#'#(\"'#&'#.# &;\u00bf&/H$$;\u00c00#*;\u00c0&/8$2Y\"\"6Y7Z/)$8(:\u014c(\"&\")(('#(''#(&'#(%'#($'#(#'#(\"'#&'#=.\" 7\u014b"),
d('<%$;\u00c00#*;\u00c0&/_#;\u00a9.; &;\u009f.5 &;\u00a0./ &;\u00a4.) &2\u00ae""6\u00ae7\u00af/8$$;\u00c00#*;\u00c0&/($8#:\u0086#!!)(#\'#("\'#&\'#=." 7\u014d'),d('<%;\u00a6/2#;f/)$8":\u014f""! )("\'#&\'#=." 7\u014e'),d('<%;\u00bf/& 8!:\u0151! ).\u00b4 &%2B""6B7C/\u00a4#2:""6:7;.) &2<""6<7=." &"/\u0084$;\u008e/{$$%2\u0152""6\u01527\u0153/,#;\u008e/#$+")("\'#&\'#0<*%2\u0152""6\u01527\u0153/,#;\u008e/#$+")("\'#&\'#&/9$2H""6H7I/*$8%:\u0154%##"!)(%\'#($\'#(#\'#("\'#&\'#=." 7\u0150'),d('<%;\u00bf/& 8!:\u0151! ).\u00a5 &%2B""6B7C/\u0095#;\u00a6.# &;\u008e/\u0086$$%2\u0152""6\u01527\u0153/2#;\u00a6.# &;\u008e/#$+")("\'#&\'#0B*%2\u0152""6\u01527\u0153/2#;\u00a6.# &;\u008e/#$+")("\'#&\'#&/8$2H""6H7I/)$8$:\u0156$""!)($\'#(#\'#("\'#&\'#=." 7\u0155'),
d('<%2W""6W7X/e#$;\u00c00#*;\u00c0&/U$;i." &"/G$$;\u00c00#*;\u00c0&/7$2Y""6Y7Z/($8%:\u0158%!")(%\'#($\'#(#\'#("\'#&\'#=." 7\u0157'),d('<%;j/u#%$;\u00c00#*;\u00c0&/P#2\u0113""6\u01137\u0114/A$$;\u00c00#*;\u00c0&/1$;i." &"/#$+$)($\'#(#\'#("\'#&\'#." &"/)$8":\u015a""! )("\'#&\'#=." 7\u0159'),d("<%$;\u00c00#*;\u00c0&/K#;\u008a/B$$;\u00c00#*;\u00c0&/2$;l/)$8$:\u015c$\"\" )($'#(#'#(\"'#&'#.\\ &%$;\u00c00#*;\u00c0&/K#;\u0083/B$$;\u00c00#*;\u00c0&/2$;m/)$8$:\u015d$\"\" )($'#(#'#(\"'#&'#=.\" 7\u015b"),d("<%;v.# &;w/\u0121#$;\u00c00#*;\u00c0&/\u0111$;n/\u0108$$%$;\u00c00#*;\u00c0&/y#2\u00b8\"\"6\u00b87\u00b9/j$$;\u00c00#*;\u00c0&/Z$%;v.# &;w/<#$;\u00c00#*;\u00c0&/,$;o/#$+#)(#'#(\"'#&'#.\" &\"/#$+$)($'#(#'#(\"'#&'#0\u008a*%$;\u00c00#*;\u00c0&/y#2\u00b8\"\"6\u00b87\u00b9/j$$;\u00c00#*;\u00c0&/Z$%;v.# &;w/<#$;\u00c00#*;\u00c0&/,$;o/#$+#)(#'#(\"'#&'#.\" &\"/#$+$)($'#(#'#(\"'#&'#&/*$8$:\u015f$##! )($'#(#'#(\"'#&'#=.\" 7\u015e"),
d("<%;r/\u0115#$;\u00c00#*;\u00c0&/\u0105$;o/\u00fc$$%$;\u00c00#*;\u00c0&/s#2\u00b8\"\"6\u00b87\u00b9/d$$;\u00c00#*;\u00c0&/T$%;r/<#$;\u00c00#*;\u00c0&/,$;o/#$+#)(#'#(\"'#&'#.\" &\"/#$+$)($'#(#'#(\"'#&'#0\u0084*%$;\u00c00#*;\u00c0&/s#2\u00b8\"\"6\u00b87\u00b9/d$$;\u00c00#*;\u00c0&/T$%;r/<#$;\u00c00#*;\u00c0&/,$;o/#$+#)(#'#(\"'#&'#.\" &\"/#$+$)($'#(#'#(\"'#&'#&/*$8$:\u0161$##! )($'#(#'#(\"'#&'#=.\" 7\u0160"),d('<;l." &"=." 7\u0162'),d('<%;p/\u009b#$;\u00c00#*;\u00c0&/\u008b$$%2\u0152""6\u01527\u0153/<#$;\u00c00#*;\u00c0&/,$;p/#$+#)(#\'#("\'#&\'#0L*%2\u0152""6\u01527\u0153/<#$;\u00c00#*;\u00c0&/,$;p/#$+#)(#\'#("\'#&\'#&/)$8#:\u0164#"" )(#\'#("\'#&\'#=." 7\u0163'),
d('<%;q/\u009b#$;\u00c00#*;\u00c0&/\u008b$$%2\u0152""6\u01527\u0153/<#$;\u00c00#*;\u00c0&/,$;q/#$+#)(#\'#("\'#&\'#0L*%2\u0152""6\u01527\u0153/<#$;\u00c00#*;\u00c0&/,$;q/#$+#)(#\'#("\'#&\'#&/)$8#:\u0166#"" )(#\'#("\'#&\'#=." 7\u0165'),d('<;\u0088=." 7\u0167'),d('<;\u0089=." 7\u0168'),d('<;\u008b.4 &%2\u016a""6\u016a7\u016b/& 8!:\u016c! )=." 7\u0169'),d("<%$;\u00c00#*;\u00c0&/K#;\u008a/B$$;\u00c00#*;\u00c0&/2$;t/)$8$:\u016e$\"\" )($'#(#'#(\"'#&'#.\\ &%$;\u00c00#*;\u00c0&/K#;\u0082/B$$;\u00c00#*;\u00c0&/2$;u/)$8$:\u016f$\"\" )($'#(#'#(\"'#&'#=.\" 7\u016d"),
d("<%;v.# &;w/\u0101#$;\u00c00#*;\u00c0&/\u00f1$;n/\u00e8$$%$;\u00c00#*;\u00c0&/i#2\u00b8\"\"6\u00b87\u00b9/Z$$;\u00c00#*;\u00c0&/J$%;v.# &;w/,#;o/#$+\")(\"'#&'#.\" &\"/#$+$)($'#(#'#(\"'#&'#0z*%$;\u00c00#*;\u00c0&/i#2\u00b8\"\"6\u00b87\u00b9/Z$$;\u00c00#*;\u00c0&/J$%;v.# &;w/,#;o/#$+\")(\"'#&'#.\" &\"/#$+$)($'#(#'#(\"'#&'#&/*$8$:\u0171$##! )($'#(#'#(\"'#&'#=.\" 7\u0170"),d('<;k." &"=." 7\u0172'),d("<%;x/' 8!:\u0174!! )=.\" 7\u0173"),d('<;\u008c=." 7\u0175'),d('<;y=." 7\u0176'),d('<%;z/k#$%2\u0178""6\u01787\u0179/,#;z/#$+")("\'#&\'#0<*%2\u0178""6\u01787\u0179/,#;z/#$+")("\'#&\'#&/)$8":\u017a""! )("\'#&\'#=." 7\u0177'),
d('<%;|/k#$%2\u017c""6\u017c7\u017d/,#;|/#$+")("\'#&\'#0<*%2\u017c""6\u017c7\u017d/,#;|/#$+")("\'#&\'#&/)$8":\u017e""! )("\'#&\'#=." 7\u017b'),d('<%;~/7#;}." &"/)$8":\u0180""! )("\'#&\'#=." 7\u017f'),d('<;{.A &%2\u0182""6\u01827\u0183/1#;{/($8":\u0184"! )("\'#&\'#=." 7\u0181'),d('<2J""6J7K.\u00df &2\u0186""6\u01867\u0187.\u00d3 &2\u0188""6\u01887\u0189.\u00c7 &%2W""6W7X/\u00b7#%;\u0081/v#%2\u0152""6\u01527\u0153/Q#2Y""6Y7Z.< &%;\u0081/2#2Y""6Y7Z/#$+")("\'#&\'#/#$+")("\'#&\'#.) &2Y""6Y7Z/#$+")("\'#&\'#.K &%2\u0152""6\u01527\u0153/;#;\u0081/2$2Y""6Y7Z/#$+#)(#\'#("\'#&\'#/#$+")("\'#&\'#=." 7\u0185'),
d('<;\u00a6.\u0086 &%2\u016a""6\u016a7\u016b/& 8!:\u016c! ).o &%2\u018b""6\u018b7\u018c/,#;\u007f/#$+")("\'#&\'#.P &%2B""6B7C/@#;x/7$2H""6H7I/($8#:\u011b#!!)(#\'#("\'#&\'#=." 7\u018a'),d(';\u0080.\u009c &%2B""6B7C/\u008c#%;\u0080/e#$%2\u0178""6\u01787\u0179/,#;\u0080/#$+")("\'#&\'#0<*%2\u0178""6\u01787\u0179/,#;\u0080/#$+")("\'#&\'#&/#$+")("\'#&\'#." &"/2$2H""6H7I/#$+#)(#\'#("\'#&\'#'),d('<;\u00a6.T &2\u016a""6\u016a7\u016b.H &%2\u0182""6\u01827\u0183/8#;\u00a6.) &2\u016a""6\u016a7\u016b/#$+")("\'#&\'#=." 7\u018d'),
d('<;\u00b0=." 7\u018e'),d("<%;\u0086/' 8!:\u0190!! ).# &;\u0084=.\" 7\u018f"),d("<%;\u0087/' 8!:\u0192!! ).# &;\u0085=.\" 7\u0191"),d('<%$;\u00c00#*;\u00c0&/o#2\u0194""6\u01947\u0195/`$$;\u00c00#*;\u00c0&/P$;t/G$2\u0196""6\u01967\u0197/8$$;\u00c00#*;\u00c0&/($8&:\u0198&!")(&\'#(%\'#($\'#(#\'#("\'#&\'#=." 7\u0193'),d("<%$;\u00c00#*;\u00c0&/\u007f#2\u0194\"\"6\u01947\u0195/p$$;\u00c00#*;\u00c0&/`$;l/W$$;\u00c00#*;\u00c0&/G$2\u0196\"\"6\u01967\u0197/8$$;\u00c00#*;\u00c0&/($8':\u019a'!#)(''#(&'#(%'#($'#(#'#(\"'#&'#=.\" 7\u0199"),
d("<%$;\u00c00#*;\u00c0&/\u008c#2B\"\"6B7C/}$$;\u00c00#*;\u00c0&/m$$;\u0088/&#0#*;\u0088&&&#/W$$;\u00c00#*;\u00c0&/G$2H\"\"6H7I/8$$;\u00c00#*;\u00c0&/($8':\u019c'!#)(''#(&'#(%'#($'#(#'#(\"'#&'#=.\" 7\u019b"),d("<%$;\u00c00#*;\u00c0&/\u008c#2B\"\"6B7C/}$$;\u00c00#*;\u00c0&/m$$;\u0089/&#0#*;\u0089&&&#/W$$;\u00c00#*;\u00c0&/G$2H\"\"6H7I/8$$;\u00c00#*;\u00c0&/($8':\u019c'!#)(''#(&'#(%'#($'#(#'#(\"'#&'#=.\" 7\u019d"),d("<%%$;\u00c00#*;\u00c0&/<#;\u008a/3$$;\u00c00#*;\u00c0&/#$+#)(#'#(\"'#&'#.M &%$;\u00c00#*;\u00c0&/<#;\u0082/3$$;\u00c00#*;\u00c0&/#$+#)(#'#(\"'#&'#/' 8!:\u019f!! )=.\" 7\u019e"),
d("<%%$;\u00c00#*;\u00c0&/<#;\u008a/3$$;\u00c00#*;\u00c0&/#$+#)(#'#(\"'#&'#.M &%$;\u00c00#*;\u00c0&/<#;\u0083/3$$;\u00c00#*;\u00c0&/#$+#)(#'#(\"'#&'#/' 8!:\u019f!! )=.\" 7\u01a0"),d('<;\u008c.# &;\u008d=." 7\u01a1'),d('<;\u008c.# &;\u00a6=." 7\u01a2'),d("<%$;\u00c00#*;\u00c0&/G#;\u00ad.# &;\u00ae/8$$;\u00c00#*;\u00c0&/($8#:\u01a4#!!)(#'#(\"'#&'#=.\" 7\u01a3"),d('<;\u00a6.; &;\u009f.5 &;\u00a0./ &;\u00a4.) &;\u00a8.# &;\u00bf=." 7\u01a5'),d('<;\u008f=." 7\u01a6'),d('<%;\u0090/\u00ab#$%$;\u00c00#*;\u00c0&/K#2\u01a8""6\u01a87\u01a9/<$$;\u00c00#*;\u00c0&/,$;\u0090/#$+$)($\'#(#\'#("\'#&\'#0\\*%$;\u00c00#*;\u00c0&/K#2\u01a8""6\u01a87\u01a9/<$$;\u00c00#*;\u00c0&/,$;\u0090/#$+$)($\'#(#\'#("\'#&\'#&/)$8":\u01aa""! )("\'#&\'#=." 7\u01a7'),
d('<%;\u0091/\u00ab#$%$;\u00c00#*;\u00c0&/K#2\u01ac""6\u01ac7\u01ad/<$$;\u00c00#*;\u00c0&/,$;\u0091/#$+$)($\'#(#\'#("\'#&\'#0\\*%$;\u00c00#*;\u00c0&/K#2\u01ac""6\u01ac7\u01ad/<$$;\u00c00#*;\u00c0&/,$;\u0091/#$+$)($\'#(#\'#("\'#&\'#&/)$8":\u01ae""! )("\'#&\'#=." 7\u01ab'),d('<;\u0092=." 7\u01af'),d('<%;\u0093/\u057b#$%$;\u00c00#*;\u00c0&/K#2\u01b1""6\u01b17\u01b2/<$$;\u00c00#*;\u00c0&/,$;\u0093/#$+$)($\'#(#\'#("\'#&\'#.\u0285 &%$;\u00c00#*;\u00c0&/K#2\u01b3""6\u01b37\u01b4/<$$;\u00c00#*;\u00c0&/,$;\u0093/#$+$)($\'#(#\'#("\'#&\'#.\u0246 &%$;\u00c00#*;\u00c0&/K#2\u01b5""6\u01b57\u01b6/<$$;\u00c00#*;\u00c0&/,$;\u0093/#$+$)($\'#(#\'#("\'#&\'#.\u0207 &%$;\u00c00#*;\u00c0&/K#2\u01b7""6\u01b77\u01b8/<$$;\u00c00#*;\u00c0&/,$;\u0093/#$+$)($\'#(#\'#("\'#&\'#.\u01c8 &%$;\u00c00#*;\u00c0&/K#2\u01b9""6\u01b97\u01ba/<$$;\u00c00#*;\u00c0&/,$;\u0093/#$+$)($\'#(#\'#("\'#&\'#.\u0189 &%$;\u00c00#*;\u00c0&/K#2\u01bb""6\u01bb7\u01bc/<$$;\u00c00#*;\u00c0&/,$;\u0093/#$+$)($\'#(#\'#("\'#&\'#.\u014a &%$;\u00c00#*;\u00c0&/r#2\u01bd""6\u01bd7\u01be.) &2\u01bf""6\u01bf7\u01c0/W$2\u01c1""6\u01c17\u01c2.) &2\u01c3""6\u01c37\u01c4/<$$;\u00c00#*;\u00c0&/,$;g/#$+%)(%\'#($\'#(#\'#("\'#&\'#.\u00e4 &%$;\u00c00#*;\u00c0&/\u00d3#2\u01c1""6\u01c17\u01c2.) &2\u01c3""6\u01c37\u01c4/\u00b8$2\u01c5""6\u01c57\u01c6.) &2\u01c7""6\u01c77\u01c8/\u009d$2\u01c9""6\u01c97\u01ca.) &2\u01cb""6\u01cb7\u01cc/\u0082$$;\u00c00#*;\u00c0&/r$2\u01bd""6\u01bd7\u01be.) &2\u01bf""6\u01bf7\u01c0/W$2\u01c1""6\u01c17\u01c2.) &2\u01c3""6\u01c37\u01c4/<$$;\u00c00#*;\u00c0&/,$;g/#$+))()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#0\u02c4*%$;\u00c00#*;\u00c0&/K#2\u01b1""6\u01b17\u01b2/<$$;\u00c00#*;\u00c0&/,$;\u0093/#$+$)($\'#(#\'#("\'#&\'#.\u0285 &%$;\u00c00#*;\u00c0&/K#2\u01b3""6\u01b37\u01b4/<$$;\u00c00#*;\u00c0&/,$;\u0093/#$+$)($\'#(#\'#("\'#&\'#.\u0246 &%$;\u00c00#*;\u00c0&/K#2\u01b5""6\u01b57\u01b6/<$$;\u00c00#*;\u00c0&/,$;\u0093/#$+$)($\'#(#\'#("\'#&\'#.\u0207 &%$;\u00c00#*;\u00c0&/K#2\u01b7""6\u01b77\u01b8/<$$;\u00c00#*;\u00c0&/,$;\u0093/#$+$)($\'#(#\'#("\'#&\'#.\u01c8 &%$;\u00c00#*;\u00c0&/K#2\u01b9""6\u01b97\u01ba/<$$;\u00c00#*;\u00c0&/,$;\u0093/#$+$)($\'#(#\'#("\'#&\'#.\u0189 &%$;\u00c00#*;\u00c0&/K#2\u01bb""6\u01bb7\u01bc/<$$;\u00c00#*;\u00c0&/,$;\u0093/#$+$)($\'#(#\'#("\'#&\'#.\u014a &%$;\u00c00#*;\u00c0&/r#2\u01bd""6\u01bd7\u01be.) &2\u01bf""6\u01bf7\u01c0/W$2\u01c1""6\u01c17\u01c2.) &2\u01c3""6\u01c37\u01c4/<$$;\u00c00#*;\u00c0&/,$;g/#$+%)(%\'#($\'#(#\'#("\'#&\'#.\u00e4 &%$;\u00c00#*;\u00c0&/\u00d3#2\u01c1""6\u01c17\u01c2.) &2\u01c3""6\u01c37\u01c4/\u00b8$2\u01c5""6\u01c57\u01c6.) &2\u01c7""6\u01c77\u01c8/\u009d$2\u01c9""6\u01c97\u01ca.) &2\u01cb""6\u01cb7\u01cc/\u0082$$;\u00c00#*;\u00c0&/r$2\u01bd""6\u01bd7\u01be.) &2\u01bf""6\u01bf7\u01c0/W$2\u01c1""6\u01c17\u01c2.) &2\u01c3""6\u01c37\u01c4/<$$;\u00c00#*;\u00c0&/,$;g/#$+))()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#&/)$8":\u01cd""! )("\'#&\'#=." 7\u01b0'),
d('<;\u0094=." 7\u01ce'),d("<%;\u0095/\u0261#$%$;\u00c00#*;\u00c0&/K#2\u0188\"\"6\u01887\u0189/<$$;\u00c00#*;\u00c0&/,$;\u0095/#$+$)($'#(#'#(\"'#&'#.\u00f8 &%$;\u00c00#*;\u00c0&/K#2\u01d0\"\"6\u01d07\u01d1/<$$;\u00c00#*;\u00c0&/,$;\u0095/#$+$)($'#(#'#(\"'#&'#.\u00b9 &%;\u00a3.# &;\u00a3/\u00a9#%$;\u00c00#*;\u00c0&/K#2J\"\"6J7K/<$$;\u00c00#*;\u00c0&/,$;\u0096/#$+$)($'#(#'#(\"'#&'#.\\ &%$;\u00c00#*;\u00c0&/K#2\u017c\"\"6\u017c7\u017d/<$$;\u00c00#*;\u00c0&/,$;\u0096/#$+$)($'#(#'#(\"'#&'#.\" &\"/#$+\")(\"'#&'#0\u0137*%$;\u00c00#*;\u00c0&/K#2\u0188\"\"6\u01887\u0189/<$$;\u00c00#*;\u00c0&/,$;\u0095/#$+$)($'#(#'#(\"'#&'#.\u00f8 &%$;\u00c00#*;\u00c0&/K#2\u01d0\"\"6\u01d07\u01d1/<$$;\u00c00#*;\u00c0&/,$;\u0095/#$+$)($'#(#'#(\"'#&'#.\u00b9 &%;\u00a3.# &;\u00a3/\u00a9#%$;\u00c00#*;\u00c0&/K#2J\"\"6J7K/<$$;\u00c00#*;\u00c0&/,$;\u0096/#$+$)($'#(#'#(\"'#&'#.\\ &%$;\u00c00#*;\u00c0&/K#2\u017c\"\"6\u017c7\u017d/<$$;\u00c00#*;\u00c0&/,$;\u0096/#$+$)($'#(#'#(\"'#&'#.\" &\"/#$+\")(\"'#&'#&/)$8\":\u01d2\"\"! )(\"'#&'#=.\" 7\u01cf"),
d("<%;\u0096/\u0129#$%$;\u00c00#*;\u00c0&/K#2J\"\"6J7K/<$$;\u00c00#*;\u00c0&/,$;\u0096/#$+$)($'#(#'#(\"'#&'#.\\ &%$;\u00c00#*;\u00c0&/K#2\u017c\"\"6\u017c7\u017d/<$$;\u00c00#*;\u00c0&/,$;\u0096/#$+$)($'#(#'#(\"'#&'#0\u009b*%$;\u00c00#*;\u00c0&/K#2J\"\"6J7K/<$$;\u00c00#*;\u00c0&/,$;\u0096/#$+$)($'#(#'#(\"'#&'#.\\ &%$;\u00c00#*;\u00c0&/K#2\u017c\"\"6\u017c7\u017d/<$$;\u00c00#*;\u00c0&/,$;\u0096/#$+$)($'#(#'#(\"'#&'#&/)$8\":\u01d4\"\"! )(\"'#&'#=.\" 7\u01d3"),d('<%2\u018b""6\u018b7\u018c/A#$;\u00c00#*;\u00c0&/1$;\u0097/($8#:\u01d6#! )(#\'#("\'#&\'#.\u008b &%2\u0188""6\u01887\u0189/A#$;\u00c00#*;\u00c0&/1$;\u0097/($8#:\u01d7#! )(#\'#("\'#&\'#.W &%2\u01d0""6\u01d07\u01d1/A#$;\u00c00#*;\u00c0&/1$;\u0097/($8#:\u01d8#! )(#\'#("\'#&\'#.# &;\u0097=." 7\u01d5'),
d("<;\u0098.w &;\u0099.q &;\u009e.k &%;\u009f/' 8!:\u01da!! ).Y &%;\u00a0/' 8!:\u01db!! ).G &%;\u00a4/' 8!:\u01dc!! ).5 &;\u009d./ &%;\u008c/' 8!:\u01dd!! )=.\" 7\u01d9"),d('<%2B""6B7C/`#$;\u00c00#*;\u00c0&/P$;\u008e/G$$;\u00c00#*;\u00c0&/7$2H""6H7I/($8%:\u01df%!")(%\'#($\'#(#\'#("\'#&\'#=." 7\u01de'),d('<%2\u01e1""6\u01e17\u01e2.) &2\u01e3""6\u01e37\u01e4/\u007f#$;\u00c00#*;\u00c0&/o$2B""6B7C/`$$;\u00c00#*;\u00c0&/P$;\u008e/G$$;\u00c00#*;\u00c0&/7$2H""6H7I/($8\':\u01e5\'!")(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u0897 &%2\u01e6""6\u01e67\u01e7.) &2\u01e8""6\u01e87\u01e9/\u007f#$;\u00c00#*;\u00c0&/o$2B""6B7C/`$$;\u00c00#*;\u00c0&/P$;\u008e/G$$;\u00c00#*;\u00c0&/7$2H""6H7I/($8\':\u01ea\'!")(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u0819 &%2\u01eb""6\u01eb7\u01ec.) &2\u01ed""6\u01ed7\u01ee/\u00b8#$;\u00c00#*;\u00c0&/\u00a8$2B""6B7C/\u0099$$;\u00c00#*;\u00c0&/\u0089$;\u008e/\u0080$$;\u00c00#*;\u00c0&/p$2\u0152""6\u01527\u0153/a$$;\u00c00#*;\u00c0&/Q$;\u008e/H$$;\u00c00#*;\u00c0&/8$2H""6H7I/)$8+:\u01ef+"&")(+\'#(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u0762 &%2\u01f0""6\u01f07\u01f1.) &2\u01f2""6\u01f27\u01f3/\u007f#$;\u00c00#*;\u00c0&/o$2B""6B7C/`$$;\u00c00#*;\u00c0&/P$;\u008e/G$$;\u00c00#*;\u00c0&/7$2H""6H7I/($8\':\u01f4\'!")(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u06e4 &%2\u01f5""6\u01f57\u01f6.) &2\u01f7""6\u01f77\u01f8/\u007f#$;\u00c00#*;\u00c0&/o$2B""6B7C/`$$;\u00c00#*;\u00c0&/P$;\u008c/G$$;\u00c00#*;\u00c0&/7$2H""6H7I/($8\':\u01f9\'!")(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u0666 &%2\u01fa""6\u01fa7\u01fb.) &2\u01fc""6\u01fc7\u01fd/\u007f#$;\u00c00#*;\u00c0&/o$2B""6B7C/`$$;\u00c00#*;\u00c0&/P$;\u008e/G$$;\u00c00#*;\u00c0&/7$2H""6H7I/($8\':\u01fe\'!")(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u05e8 &%2\u01ff""6\u01ff7\u0200.) &2\u0201""6\u02017\u0202/\u007f#$;\u00c00#*;\u00c0&/o$2B""6B7C/`$$;\u00c00#*;\u00c0&/P$;\u008e/G$$;\u00c00#*;\u00c0&/7$2H""6H7I/($8\':\u0203\'!")(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u056a &%2\u0204""6\u02047\u0205.) &2\u0206""6\u02067\u0207/\u008f#$;\u00c00#*;\u00c0&/\u007f$%2B""6B7C/[#$;\u00c00#*;\u00c0&/K$;\u008e/B$$;\u00c00#*;\u00c0&/2$2H""6H7I/#$+%)(%\'#($\'#(#\'#("\'#&\'#.# &;\u00bf/($8#:\u0208#! )(#\'#("\'#&\'#.\u04dc &%2\u0209""6\u02097\u020a.) &2\u020b""6\u020b7\u020c/A#$;\u00c00#*;\u00c0&/1$;g/($8#:\u020d#! )(#\'#("\'#&\'#.\u049c &%2\u020e""6\u020e7\u020f.) &2\u0210""6\u02107\u0211/\u00f1#$;\u00c00#*;\u00c0&/\u00e1$2B""6B7C/\u00d2$$;\u00c00#*;\u00c0&/\u00c2$;\u008e/\u00b9$$;\u00c00#*;\u00c0&/\u00a9$2\u0152""6\u01527\u0153/\u009a$$;\u00c00#*;\u00c0&/\u008a$;\u008e/\u0081$$;\u00c00#*;\u00c0&/q$2\u0152""6\u01527\u0153/b$$;\u00c00#*;\u00c0&/R$;\u008e/I$$;\u00c00#*;\u00c0&/9$2H""6H7I/*$8/:\u0212/#*&")(/\'#(.\'#(-\'#(,\'#(+\'#(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u03ac &%2\u0213""6\u02137\u0214.5 &2\u0215""6\u02157\u0216.) &2\u0217""6\u02177\u0218/\u007f#$;\u00c00#*;\u00c0&/o$2B""6B7C/`$$;\u00c00#*;\u00c0&/P$;\u008e/G$$;\u00c00#*;\u00c0&/7$2H""6H7I/($8\':\u0219\'!")(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u0322 &%2\u021a""6\u021a7\u021b.5 &2\u021c""6\u021c7\u021d.) &2\u021e""6\u021e7\u021f/\u007f#$;\u00c00#*;\u00c0&/o$2B""6B7C/`$$;\u00c00#*;\u00c0&/P$;\u008e/G$$;\u00c00#*;\u00c0&/7$2H""6H7I/($8\':\u0220\'!")(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u0298 &%2\u0221""6\u02217\u0222.) &2\u0223""6\u02237\u0224/\u00b8#$;\u00c00#*;\u00c0&/\u00a8$2B""6B7C/\u0099$$;\u00c00#*;\u00c0&/\u0089$;\u008e/\u0080$$;\u00c00#*;\u00c0&/p$2\u0152""6\u01527\u0153/a$$;\u00c00#*;\u00c0&/Q$;\u008e/H$$;\u00c00#*;\u00c0&/8$2H""6H7I/)$8+:\u0225+"&")(+\'#(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u01e1 &%2\u0226""6\u02267\u0227.Y &2\u0228""6\u02287\u0229.M &2\u022a""6\u022a7\u022b.A &2\u022c""6\u022c7\u022d.5 &2\u022e""6\u022e7\u022f.) &2\u0230""6\u02307\u0231/\u007f#$;\u00c00#*;\u00c0&/o$2B""6B7C/`$$;\u00c00#*;\u00c0&/P$;\u008e/G$$;\u00c00#*;\u00c0&/7$2H""6H7I/($8\':\u0232\'!")(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u0133 &%2\u0233""6\u02337\u0234.) &2\u0235""6\u02357\u0236/\u0105#$4\u0237""5!7\u0238/,#0)*4\u0237""5!7\u0238&&&#/\u00e3$$;\u00c00#*;\u00c0&/\u00d3$2B""6B7C/\u00c4$$%$;\u00c00#*;\u00c0&/;#;\u008e/2$2\u0152""6\u01527\u0153/#$+#)(#\'#("\'#&\'#0L*%$;\u00c00#*;\u00c0&/;#;\u008e/2$2\u0152""6\u01527\u0153/#$+#)(#\'#("\'#&\'#&/b$$;\u00c00#*;\u00c0&/R$;\u008e/I$$;\u00c00#*;\u00c0&/9$2H""6H7I/*$8):\u0239)#\'$")()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#./ &;\u009a.) &;\u009b.# &;\u009c=." 7\u01e0'),
d('<%2\u023b""6\u023b7\u023c.) &2\u023d""6\u023d7\u023e/\u0100#$;\u00c00#*;\u00c0&/\u00f0$2B""6B7C/\u00e1$$;\u00c00#*;\u00c0&/\u00d1$;\u008e/\u00c8$$;\u00c00#*;\u00c0&/\u00b8$2\u0152""6\u01527\u0153/\u00a9$$;\u00c00#*;\u00c0&/\u0099$;\u008e/\u0090$$;\u00c00#*;\u00c0&/\u0080$%2\u0152""6\u01527\u0153/<#$;\u00c00#*;\u00c0&/,$;\u008e/#$+#)(#\'#("\'#&\'#." &"/I$$;\u00c00#*;\u00c0&/9$2H""6H7I/*$8-:\u023f-#($")(-\'#(,\'#(+\'#(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#=." 7\u023a'),d('<%2\u0241""6\u02417\u0242.) &2\u0243""6\u02437\u0244/A#$;\u00c00#*;\u00c0&/1$;T/($8#:\u0245#! )(#\'#("\'#&\'#=." 7\u0240'),
d('<%2\u0247""6\u02477\u0248.) &2\u0249""6\u02497\u024a/l#$;\u00c00#*;\u00c0&/\\$2\u0241""6\u02417\u0242.) &2\u0243""6\u02437\u0244/A$$;\u00c00#*;\u00c0&/1$;T/($8%:\u024b%! )(%\'#($\'#(#\'#("\'#&\'#=." 7\u0246'),d('<%2\u024d""6\u024d7\u024e.) &2\u024f""6\u024f7\u0250/\u00cc#$;\u00c00#*;\u00c0&/\u00bc$2B""6B7C/\u00ad$$;\u00c00#*;\u00c0&/\u009d$2:""6:7;.) &2<""6<7=." &"/}$$;\u00c00#*;\u00c0&/m$2J""6J7K.# &;\u008e/X$$;\u00c00#*;\u00c0&/H$2H""6H7I/9$$;\u00c00#*;\u00c0&/)$8*:\u0251*"%#)(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u044e &%2\u0252""6\u02527\u0253.) &2\u0254""6\u02547\u0255/\u0136#$;\u00c00#*;\u00c0&/\u0126$2B""6B7C/\u0117$$;\u00c00#*;\u00c0&/\u0107$2:""6:7;.) &2<""6<7=." &"/\u00e7$$;\u00c00#*;\u00c0&/\u00d7$;\u008e/\u00ce$%2\u00b8""6\u00b87\u00b9/\u008a#$;\u00c00#*;\u00c0&/z$2\u0256""6\u02567\u0257/k$$;\u00c00#*;\u00c0&/[$2\u01b1""6\u01b17\u01b2/L$$;\u00c00#*;\u00c0&/<$;\u00a5/3$$;\u00c00#*;\u00c0&/#$+()((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#." &"/I$2H""6H7I/:$$;\u00c00#*;\u00c0&/*$8*:\u0258*#%#")(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u0319 &%2\u0259""6\u02597\u025a.) &2\u025b""6\u025b7\u025c/\u00c0#$;\u00c00#*;\u00c0&/\u00b0$2B""6B7C/\u00a1$$;\u00c00#*;\u00c0&/\u0091$2:""6:7;.) &2<""6<7=." &"/q$$;\u00c00#*;\u00c0&/a$;\u008e/X$$;\u00c00#*;\u00c0&/H$2H""6H7I/9$$;\u00c00#*;\u00c0&/)$8*:\u025d*"%#)(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u025a &%2\u025e""6\u025e7\u025f.) &2\u0260""6\u02607\u0261/\u00c0#$;\u00c00#*;\u00c0&/\u00b0$2B""6B7C/\u00a1$$;\u00c00#*;\u00c0&/\u0091$2:""6:7;.) &2<""6<7=." &"/q$$;\u00c00#*;\u00c0&/a$;\u008e/X$$;\u00c00#*;\u00c0&/H$2H""6H7I/9$$;\u00c00#*;\u00c0&/)$8*:\u0262*"%#)(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u019b &%2\u0263""6\u02637\u0264.) &2\u0265""6\u02657\u0266/\u00c0#$;\u00c00#*;\u00c0&/\u00b0$2B""6B7C/\u00a1$$;\u00c00#*;\u00c0&/\u0091$2:""6:7;.) &2<""6<7=." &"/q$$;\u00c00#*;\u00c0&/a$;\u008e/X$$;\u00c00#*;\u00c0&/H$2H""6H7I/9$$;\u00c00#*;\u00c0&/)$8*:\u0267*"%#)(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u00dc &%2\u0268""6\u02687\u0269.) &2\u026a""6\u026a7\u026b/\u00c0#$;\u00c00#*;\u00c0&/\u00b0$2B""6B7C/\u00a1$$;\u00c00#*;\u00c0&/\u0091$2:""6:7;.) &2<""6<7=." &"/q$$;\u00c00#*;\u00c0&/a$;\u008e/X$$;\u00c00#*;\u00c0&/H$2H""6H7I/9$$;\u00c00#*;\u00c0&/)$8*:\u026c*"%#)(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#=." 7\u024c'),
d('<%;\u00a6/7#;f." &"/)$8":\u026e""! )("\'#&\'#=." 7\u026d'),d('<%;\u00a5/V#;\u00af.< &%2\u0270""6\u02707\u0271/,#;\u00a6/#$+")("\'#&\'#." &"/)$8":\u0272""! )("\'#&\'#=." 7\u026f'),d('<;\u00a1.) &;\u00a2.# &;\u00a3=." 7\u0273'),d('<;\u00b2.) &;\u00b1.# &;\u00b0=." 7\u0274'),d('<;\u00b5.) &;\u00b4.# &;\u00b3=." 7\u0275'),d('<;\u00b8.) &;\u00b7.# &;\u00b6=." 7\u0276'),d('<%2\u0278""6\u02787\u0279.) &2\u027a""6\u027a7\u027b/& 8!:\u027c! ).@ &%2\u027d""6\u027d7\u027e.) &2\u027f""6\u027f7\u0280/& 8!:\u0281! )=." 7\u0277'),
d("<%;\u00bc/' 8!:\u0283!! ).S &%;\u00bd/' 8!:\u0283!! ).A &%;\u00ba/' 8!:\u0283!! )./ &%;\u00bb/' 8!:\u0283!! )=.\" 7\u0282"),d("<%;\u00a9/' 8!:\u0285!! )./ &%;\u00a7/' 8!:\u0286!! )=.\" 7\u0284"),d("<%;\u00ab/' 8!:\u0288!! )./ &%;\u00aa/' 8!:\u0289!! )=.\" 7\u0287"),d("<%;\u00ac/' 8!:\u028b!! ).. &%;\u00c2/& 8!:\u028c! )=.\" 7\u028a"),d('<%2\u01b5""6\u01b57\u01b6/S#$4\u028e""5!7\u028f0)*4\u028e""5!7\u028f&/7$2\u01b7""6\u01b77\u01b8/($8#:\u0290#!!)(#\'#("\'#&\'#=." 7\u028d'),d('<%;\u00c7." &"/7#2\u0292""6\u02927\u0293/($8":\u0286"!!)("\'#&\'#=." 7\u0291'),
d('<%;\u00aa/2#;\u00c8/)$8":\u0295""! )("\'#&\'#=." 7\u0294'),d('<%2\u0297""6\u02977\u0298/1#;\u00c8/($8":\u0299"! )("\'#&\'#=." 7\u0296'),d('<%2\u0186""6\u01867\u0187/1#;\u00c5/($8":\u029b"! )("\'#&\'#=." 7\u029a'),d('<%2\u029d""6\u029d7\u029e/1#;\u00c5/($8":\u029b"! )("\'#&\'#=." 7\u029c'),d('<%2\u02a0""6\u02a07\u02a1/\u00bf#$4\u02a2""5!7\u02a3/,#0)*4\u02a2""5!7\u02a3&&&#/\u009d$$%2\u01d0""6\u01d07\u01d1/E#$4\u02a4""5!7\u02a5/,#0)*4\u02a4""5!7\u02a5&&&#/#$+")("\'#&\'#0U*%2\u01d0""6\u01d07\u01d1/E#$4\u02a4""5!7\u02a5/,#0)*4\u02a4""5!7\u02a5&&&#/#$+")("\'#&\'#&/)$8#:\u02a6#"! )(#\'#("\'#&\'#=." 7\u029f'),
d('<%$4\u02a8""5!7\u02a9/,#0)*4\u02a8""5!7\u02a9&&&#/\' 8!:\u02aa!! )=." 7\u02a7'),d('<%$4\u02a8""5!7\u02a9/,#0)*4\u02a8""5!7\u02a9&&&#/U#2\u0113""6\u01137\u0114/F$$4\u02a8""5!7\u02a90)*4\u02a8""5!7\u02a9&/*$8#:\u02ac##"! )(#\'#("\'#&\'#.[ &%2\u0113""6\u01137\u0114/K#$4\u02a8""5!7\u02a9/,#0)*4\u02a8""5!7\u02a9&&&#/)$8":\u02ad""! )("\'#&\'#=." 7\u02ab'),d('<%$4\u02a8""5!7\u02a9/,#0)*4\u02a8""5!7\u02a9&&&#/_#2\u0113""6\u01137\u0114/P$$4\u02a8""5!7\u02a90)*4\u02a8""5!7\u02a9&/4$;\u00b9/+$8$:\u02af$$#"! )($\'#(#\'#("\'#&\'#.\u009d &%2\u0113""6\u01137\u0114/U#$4\u02a8""5!7\u02a9/,#0)*4\u02a8""5!7\u02a9&&&#/3$;\u00b9/*$8#:\u02b0##"! )(#\'#("\'#&\'#.U &%$4\u02a8""5!7\u02a9/,#0)*4\u02a8""5!7\u02a9&&&#/2#;\u00b9/)$8":\u02b1""! )("\'#&\'#=." 7\u02ae'),
d('<%2\u0188""6\u01887\u0189/1#;\u00b0/($8":\u02b3"! )("\'#&\'#=." 7\u02b2'),d('<%2\u0188""6\u01887\u0189/1#;\u00b1/($8":\u02b5"! )("\'#&\'#=." 7\u02b4'),d('<%2\u0188""6\u01887\u0189/1#;\u00b2/($8":\u02b5"! )("\'#&\'#=." 7\u02b6'),d('<%2\u01d0""6\u01d07\u01d1/1#;\u00b0/($8":\u02b8"! )("\'#&\'#=." 7\u02b7'),d('<%2\u01d0""6\u01d07\u01d1/1#;\u00b1/($8":\u02b8"! )("\'#&\'#=." 7\u02b9'),d('<%2\u01d0""6\u01d07\u01d1/1#;\u00b2/($8":\u02b8"! )("\'#&\'#=." 7\u02ba'),d('<%4\u02bc""5!7\u02bd/`#4\u02be""5!7\u02bf." &"/L$$4\u02a8""5!7\u02a9/,#0)*4\u02a8""5!7\u02a9&&&#/*$8#:\u02c0##"! )(#\'#("\'#&\'#=." 7\u02bb'),
d('<%2\u02c2""6\u02c27\u02c3/_#$4\u02c4""5!7\u02c5.# &;\u00be0/*4\u02c4""5!7\u02c5.# &;\u00be&/7$2\u02c2""6\u02c27\u02c3/($8#:\u02c6#!!)(#\'#("\'#&\'#=." 7\u02c1'),d('<%2\u02c8""6\u02c87\u02c9/_#$4\u02ca""5!7\u02cb.# &;\u00be0/*4\u02ca""5!7\u02cb.# &;\u00be&/7$2\u02c8""6\u02c87\u02c9/($8#:\u02c6#!!)(#\'#("\'#&\'#=." 7\u02c7'),d('<%2\u02cd""6\u02cd7\u02ce/_#$4\u02cf""5!7\u02d0.# &;\u00be0/*4\u02cf""5!7\u02d0.# &;\u00be&/7$2\u02cd""6\u02cd7\u02ce/($8#:\u02c6#!!)(#\'#("\'#&\'#=." 7\u02cc'),d('<%2\u02d2""6\u02d27\u02d3/_#$4\u02d4""5!7\u02d5.# &;\u00be0/*4\u02d4""5!7\u02d5.# &;\u00be&/7$2\u02d2""6\u02d27\u02d3/($8#:\u02c6#!!)(#\'#("\'#&\'#=." 7\u02d1'),
d('<%2\u02d7""6\u02d77\u02d8/2#4\u02d9""5!7\u02da/#$+")("\'#&\'#=." 7\u02d6'),d('<%2B""6B7C/F#$;\u00c00#*;\u00c0&/6$2H""6H7I/\'$8#:\u02dc# )(#\'#("\'#&\'#=." 7\u02db'),d('<4\u02de""5!7\u02df.G &4\u02e0""5!7\u02e1.; &4\u02e2""5!7\u02e3./ &4\u02e4""5!7\u02e5.# &;\u00c1=." 7\u02dd'),d('<%2\u02e7""6\u02e77\u02e8/?#$4\u02e9""5!7\u02ea0)*4\u02e9""5!7\u02ea&/#$+")("\'#&\'#=." 7\u02e6'),d('<%2\u0194""6\u01947\u0195/B#$;\u00c00#*;\u00c0&/2$2\u0196""6\u01967\u0197/#$+#)(#\'#("\'#&\'#=." 7\u02eb'),d('<4\u02ed""5!7\u02ee.\u00b9 &4\u02ef""5!7\u02f0.\u00ad &4\u02f1""5!7\u02f2.\u00a1 &4\u02f3""5!7\u02f4.\u0095 &4\u02f5""5!7\u02f6.\u0089 &4\u02f7""5!7\u02f8.} &4\u02f9""5!7\u02fa.q &4\u02fb""5!7\u02fc.e &4\u02fd""5!7\u02fe.Y &4\u02ff""5!7\u0300.M &4\u0301""5!7\u0302.A &4\u0303""5!7\u0304.5 &4\u0305""5!7\u0306.) &4\u0307""5!7\u0308=." 7\u02ec'),
d('<;\u00c3.) &2\u030a""6\u030a7\u030b=." 7\u0309'),d('<%;\u00c4.) &4\u02a8""5!7\u02a9/\u0099#$;\u00c4.M &4\u02a8""5!7\u02a9.A &4\u030d""5!7\u030e.5 &4\u030f""5!7\u0310.) &4\u0311""5!7\u03120S*;\u00c4.M &4\u02a8""5!7\u02a9.A &4\u030d""5!7\u030e.5 &4\u030f""5!7\u0310.) &4\u0311""5!7\u0312&/)$8":\u0313""! )("\'#&\'#=." 7\u030c'),d('<;\u00c4.Y &2\u01d0""6\u01d07\u01d1.M &4\u02a8""5!7\u02a9.A &4\u030d""5!7\u030e.5 &4\u030f""5!7\u0310.) &4\u0311""5!7\u0312=." 7\u0314'),d('<%;\u00c3/Q#$;\u00c6.) &2\u0113""6\u01137\u01140/*;\u00c6.) &2\u0113""6\u01137\u0114&/)$8":\u0316""! )("\'#&\'#=." 7\u0315'),
d('<%;\u00c4.; &4\u02a8""5!7\u02a9./ &2\u0292""6\u02927\u0293.# &;\u00c9/u#$;\u00c6.; &2\u0113""6\u01137\u0114./ &2\u0292""6\u02927\u0293.# &;\u00c90A*;\u00c6.; &2\u0113""6\u01137\u0114./ &2\u0292""6\u02927\u0293.# &;\u00c9&/)$8":\u0318""! )("\'#&\'#=." 7\u0317'),d('<;\u00ca.# &;\u00cc=." 7\u0319'),d("<%%2\u031b\"\"6\u031b7\u031c/5#;\u00cb/,$;\u00cb/#$+#)(#'#(\"'#&'#/' 8!:\u031d!! )=.\" 7\u031a"),d('<4\u02a8""5!7\u02a9.5 &4\u031f""5!7\u0320.) &4\u0321""5!7\u0322=." 7\u031e'),d('<%2\u02d7""6\u02d77\u02d8/\u0127#2\u030a""6\u030a7\u030b.\u010d &2\u0324""6\u03247\u0325.\u0101 &2\u0113""6\u01137\u0114.\u00f5 &2\u01d0""6\u01d07\u01d1.\u00e9 &2\u018b""6\u018b7\u018c.\u00dd &2\u029d""6\u029d7\u029e.\u00d1 &2\u0326""6\u03267\u0327.\u00c5 &2\u02c2""6\u02c27\u02c3.\u00b9 &2B""6B7C.\u00ad &2H""6H7I.\u00a1 &2J""6J7K.\u0095 &2\u0188""6\u01887\u0189.\u0089 &2\u0152""6\u01527\u0153.} &2\u00b8""6\u00b87\u00b9.q &2\u0292""6\u02927\u0293.e &2\u01b1""6\u01b17\u01b2.Y &2\u017c""6\u017c7\u017d.M &2\u0186""6\u01867\u0187.A &2\u02e7""6\u02e77\u02e8.5 &2\u02a0""6\u02a07\u02a1.) &2\u031b""6\u031b7\u031c/($8":\u0328"! )("\'#&\'#=." 7\u0323')],
v=0,B=[{line:1,column:1,seenCR:!1}],w=0,F=[],r=0;if("startRule"in h){if(!(h.startRule in g))throw Error("Can't start parsing from rule \""+h.startRule+'".');l=g[h.startRule]}var G=function(a){for(var b="",c=0;c<a.length;c++)b="string"===typeof a[c]?b+a[c]:b+a[c].join("");return b},K=0,L=function(a){var b="";if(null==a)return null;for(var c=0;c<a.length;c++)b+=a[c];return b.toUpperCase()},h=f(l);if(h!==e&&v===n.length)return h;h!==e&&v<n.length&&a({type:"end",description:"end of input"});throw function(a,
b,c,d){function e(a){var b=1;for(a.sort(function(a,b){return a.description<b.description?-1:a.description>b.description?1:0});b<a.length;)a[b-1]===a[b]?a.splice(b,1):b++}function f(a,b){function c(a){function b(a){return a.charCodeAt(0).toString(16).toUpperCase()}return a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(a){return"\\x0"+b(a)}).replace(/[\x10-\x1F\x80-\xFF]/g,
function(a){return"\\x"+b(a)}).replace(/[\u0100-\u0FFF]/g,function(a){return"\\u0"+b(a)}).replace(/[\u1000-\uFFFF]/g,function(a){return"\\u"+b(a)})}var d=Array(a.length),e;for(e=0;e<a.length;e++)d[e]=a[e].description;d=1<a.length?d.slice(0,-1).join(", ")+" or "+d[a.length-1]:d[0];e=b?'"'+c(b)+'"':"end of input";return"Expected "+d+" but "+e+" found."}null!==b&&e(b);return new k(null!==a?a:f(b,c),b,c,d)}(null,F,w<n.length?n.charAt(w):null,w<n.length?c(w,w+1):c(w,w));}}}()},{}],49:[function(r,y,x){r("./btree");
var k=r("./utils"),n=r("./lexicon").Lexicon;Lexicon=function(b,c){var a=this;k.registerIndexedDB(a);this.defaultGraphOid=0;this.defaultGraphUri="https://github.com/antoniogarrote/rdfstore-js#default_graph";this.defaultGraphUriTerm={token:"uri",prefix:null,suffix:null,value:this.defaultGraphUri};this.oidCounter=1;a.dbName=c||"rdfstorejs";var d=a.indexedDB.open(this.dbName+"_lexicon",1);d.onerror=function(a){b(null,Error("Error opening IndexedDB: "+a.target.errorCode))};d.onsuccess=function(c){a.db=
c.target.result;b(a)};d.onupgradeneeded=function(b){a.db=b.target.result;a.db.createObjectStore("knownGraphs",{keyPath:"oid"}).createIndex("uriToken","uriToken",{unique:!0});a.db.createObjectStore("uris",{keyPath:"id",autoIncrement:!0}).createIndex("uri","uri",{unique:!0});a.db.createObjectStore("blanks",{keyPath:"id",autoIncrement:!0}).createIndex("label","label",{unique:!0});a.db.createObjectStore("literals",{keyPath:"id",autoIncrement:!0}).createIndex("literal","literal",{unique:!0})}};Lexicon.prototype.registerGraph=
function(b,c,a){if(b!=this.defaultGraphOid){var d=this.db.transaction(["knownGraphs"],"readwrite");d.onerror=function(b){a(null,Error(b.target.statusCode))};d.objectStore("knownGraphs").add({oid:b,uriToken:c}).onsuccess=function(b){a(!0)}}else a()};Lexicon.prototype.registeredGraphs=function(b,c){var a=[],d=this.db.transaction(["knownGraphs"],"readwrite").objectStore("knownGraphs").openCursor();d.onsuccess=function(d){(d=d.target.result)?(!0===b?a.push(d.value.uriToken):a.push(d.value.oid),d["continue"]()):
c(a)};d.onerror=function(a){c(null,Error("Error retrieving data from the cursor: "+a.target.errorCode))}};Lexicon.prototype.registerUri=function(b,c){if(b===this.defaultGraphUri)c(this.defaultGraphOid);else{var a=this.db.transaction(["uris"],"readwrite").objectStore("uris"),d=a.index("uri").get(b);d.onsuccess=function(d){if(d=d.target.result){d.counter++;var h=d.id;d=a.put(d);d.onsuccess=function(a){c(h)};d.onerror=function(a){c(null,Error("Error updating the URI data"+a.target.errorCode))}}else d=
a.add({uri:b,counter:0}),d.onsuccess=function(a){c(a.target.result)},d.onerror=function(a){c(null,Error("Error inserting the URI data"+a.target.errorCode))}};d.onerror=function(a){c(null,Error("Error retrieving the URI data"+a.target.errorCode))}}};Lexicon.prototype.resolveUri=function(b,c){if(b===this.defaultGraphUri)c(this.defaultGraphOid);else{var a=this.db.transaction(["uris"]).objectStore("uris").index("uri").get(b);a.onsuccess=function(a){null!=a.target.result?c(a.target.result.id):c(-1)};a.onerror=
function(a){c(null,Error("Error retrieving uri data "+a.target.errorCode))}}};Lexicon.prototype.resolveUriCost=function(b,c){if(b===this.defaultGraphUri)c(0);else{var a=that.db.transaction(["uris"]).objectStore("uris").index("uri").get(b);a.onsuccess=function(a){null!=a.target.result?c(a.target.result.cost):c(-1)};a.onerror=function(a){c(null,Error("Error retrieving uri data "+a.target.errorCode))}}};Lexicon.prototype.registerBlank=function(b){var c=guid(),c=this.db.transaction(["blanks"],"readwrite").objectStore("blanks").add({label:c,
counter:0});c.onsuccess=function(a){b(a.target.result)};c.onerror=function(a){b(null,Error("Error inserting the URI data"+a.target.errorCode))}};Lexicon.prototype.resolveBlankCost=function(b,c){c(0)};Lexicon.prototype.registerLiteral=function(b,c){var a=this.db.transaction(["literals"],"readwrite").objectStore("literals"),d=a.index("literal").get(b);d.onsuccess=function(d){if(d=d.target.result){d.counter++;var h=d.id;d=a.put(d);d.onsuccess=function(a){c(h)};d.onerror=function(a){c(null,Error("Error updating the literal data"+
a.target.errorCode))}}else d=a.add({literal:b,counter:0}),d.onsuccess=function(a){c(a.target.result)},d.onerror=function(a){c(null,Error("Error inserting the literal data"+a.target.errorCode))}};d.onerror=function(a){c(null,Error("Error retrieving the literal data"+a.target.errorCode))}};Lexicon.prototype.resolveLiteral=function(b,c){var a=that.db.transaction(["literals"]).objectStore("literals").index("literal").get(b);a.onsuccess=function(a){null!=a.target.result?c(a.target.result.id):c(-1)};a.onerror=
function(a){c(null,Error("Error retrieving literal data "+a.target.errorCode))}};Lexicon.prototype.resolveLiteralCost=function(b,c){var a=that.db.transaction(["literals"]).objectStore("literals").index("literal").get(b);a.onsuccess=function(a){null!=a.target.result?c(a.target.result.cost):c(-1)};a.onerror=function(a){c(null,Error("Error retrieving literal data "+a.target.errorCode))}};Lexicon.prototype.parseLiteral=function(b){return n.prototype.parseLiteral(b)};Lexicon.prototype.parseUri=function(b){return n.prototype.parseUri(b)};
Lexicon.prototype.retrieve=function(b,c){var a=this;if(b===this.defaultGraphOid)c({token:"uri",value:this.defaultGraphUri,prefix:null,suffix:null,defaultGraph:!0});else{var d=a.db.transaction(["uris","literals","blanks"]);k.seq(function(c,h){var e=d.objectStore("uris").get(b);e.onsuccess=function(b){null!=b.target.result?h(null,a.parseUri(b.target.result.uri)):h(null,null)};e.onerror=function(a){h(Error("Error searching in URIs data "+a.target.errorCode))}},function(c,h){if(null==c){var e=d.objectStore("literals").get(b);
e.onsuccess=function(b){null!=b.target.result?h(null,a.parseLiteral(b.target.result.literal)):h(null,null)};e.onerror=function(a){h(Error("Error searching in Literals data "+a.target.errorCode))}}else h(null,c)},function(c,h){if(null==c){var e=d.objectStore("blanks").get(b);e.onsuccess=function(b){null!=b.target.result?h(null,a.parseLiteral({token:"blank",value:"_:"+b.target.result.id})):h(null,null)};e.onerror=function(a){h(Error("Error searching in blanks data "+a.target.errorCode))}}else h(null,
c)})(null,function(a,b){a?c(null,a):c(b)})}};Lexicon.prototype.clear=function(b){this.defaultGraphOid=0;this.defaultGraphUri="https://github.com/antoniogarrote/rdfstore-js#default_graph";this.defaultGraphUriTerm={token:"uri",prefix:null,suffix:null,value:this.defaultGraphUri};var c=this.db.transaction(["uris","literals","blanks"],"readwrite"),a,d=c.objectStore("uris"),f=c.objectStore("literals"),h=c.objectStore("blanks"),e=function(){null!=b&&b()};a=d.clear();a.onsuccess=function(){a=f.clear();a.onsuccess=
function(){a=h.clear();a.onsuccess=e;a.onerror=e};a.onerror=e};a.onerror=e};Lexicon.prototype.unregister=function(b,c,a){var d=this;k.seq(function(a){d._unregisterTerm(b.subject.token,c.subject,a)},function(a){d._unregisterTerm(b.predicate.token,c.predicate,a)},function(a){d._unregisterTerm(b.object.token,c.object,a)},function(a){null!=b.graph?d._unregisterTerm(b.graph.token,c.graph,a):a()})(function(){a(!0)})};Lexicon.prototype._unregisterTerm=function(b,c,a){var d=this.db.transaction(["uris","literals",
"blanks","knownGraphs"],"readwrite");"uri"===b?c!=this.defaultGraphOid?(b=d.objectStore("uris")["delete"](c),b.onsuccess=function(){d.objectStore("knownGraphs")["delete"](c).onsuccess=function(){a()}}()):a():"literal"===b?(b=d.objectStore("literals")["delete"](c),b.onsuccess=function(){a()}):"blank"===b?(b=d.objectStore("blanks")["delete"](c),b.onsuccess=function(){a()}):a()};y.exports={Lexicon:Lexicon}},{"./btree":42,"./lexicon":46,"./utils":59}],50:[function(r,y,x){var k=r("./utils");QuadBackend=
function(n,b){var c=this;if(0!==arguments){k.registerIndexedDB(c);this.indexMap={};this.indices="SPOG GP OGS POG GSP OS".split(" ");this.componentOrders={SPOG:["subject","predicate","object","graph"],GP:["graph","predicate","subject","object"],OGS:["object","graph","subject","predicate"],POG:["predicate","object","graph","subject"],GSP:["graph","subject","predicate","object"],OS:["object","subject","predicate","graph"]};c.dbName=n.name||"rdfstorejs";var a=c.indexedDB.open(this.dbName+"_db",1);a.onerror=
function(a){b(null,Error("Error opening IndexedDB: "+a.target.errorCode))};a.onsuccess=function(a){c.db=a.target.result;b(c)};a.onupgradeneeded=function(a){var b=a.target.result.createObjectStore(c.dbName,{keyPath:"SPOG"});k.each(c.indices,function(a){"SPOG"!==a&&b.createIndex(a,a,{unique:!1})})}}};QuadBackend.prototype.index=function(n,b){var c=this;k.each(this.indices,function(a){n[a]=c._genMinIndexKey(n,a)});var a=c.db.transaction([c.dbName],"readwrite");a.oncomplete=function(a){};a.onerror=function(a){b(null,
Error(a.target.statusCode))};a.objectStore(c.dbName).add(n).onsuccess=function(a){b(!0)}};QuadBackend.prototype.range=function(k,b){var c=this.db.transaction([this.dbName]).objectStore(this.dbName),a=this._indexForPattern(k),d=this._genMinIndexKey(k,a),f=this._genMaxIndexKey(k,a),d=this.IDBKeyRange.bound(d,f,!1,!1),h=[];("SPOG"===a?c:c.index(a)).openCursor(d).onsuccess=function(a){(a=a.target.result)?(h.push(a.value),a["continue"]()):b(h)}};QuadBackend.prototype.search=function(k,b){var c=this.db.transaction([this.dbName]).objectStore(this.dbName),
a=this._genMinIndexKey(k,"SPOG"),c=c.get(a);c.onerror=function(a){b(null,Error(a.target.statusCode))};c.onsuccess=function(a){b(null!=a.target.result)}};QuadBackend.prototype["delete"]=function(k,b){var c=this._genMinIndexKey(k,"SPOG"),c=this.db.transaction([this.dbName],"readwrite").objectStore(this.dbName)["delete"](c);c.onsuccess=function(){b(!0)};c.onerror=function(a){b(null,Error(a.target.statusCode))}};QuadBackend.prototype._genMinIndexKey=function(n,b){return k.map(this.componentOrders[b],
function(b){return"string"===typeof n[b]||null==n[b]?"-1":""+n[b]}).join(".")};QuadBackend.prototype._genMaxIndexKey=function(n,b){for(var c=this.componentOrders[b],a=[],d=!1,f=0;f<c.length;f++){var h=n[c[f]];"string"===typeof h?(!1===d&&(d=!0,0<=f-1&&(a[f-1]+=1)),a[f]=-1):a[f]=h}return k.map(a,function(a){return""+a}).join(".")};QuadBackend.prototype._indexForPattern=function(n){n=n.indexKey;for(var b=0;b<this.indices.length;b++)for(var c=this.indices[b],a=this.componentOrders[c],d=0;d<a.length&&
!1!==k.include(n,a[d]);d++)if(d==n.length-1)return c;return"SPOG"};QuadBackend.prototype.clear=function(k){var b;b=this.db.transaction([this.dbName],"readwrite").objectStore(this.dbName).clear();b.onsuccess=function(){k()};b.onerror=function(){k()}};y.exports.QuadBackend=QuadBackend},{"./utils":59}],51:[function(r,y,x){var k=r("./quad_index").QuadIndex,n=r("./utils"),b=r("./utils");QuadBackend=function(b,a){if(0!==arguments){this.indexMap={};this.treeOrder=b.treeOrder;this.indices="SPOG GP OGS POG GSP OS".split(" ");
this.componentOrders={SPOG:["subject","predicate","object","graph"],GP:["graph","predicate","subject","object"],OGS:["object","graph","subject","predicate"],POG:["predicate","object","graph","subject"],GSP:["graph","subject","predicate","object"],OS:["object","subject","predicate","graph"]};var d=this;n.eachSeries(this.indices,function(a,b){new k({order:d.treeOrder,componentOrder:d.componentOrders[a]},function(c){d.indexMap[a]=c;b()})},function(){a(d)})}};QuadBackend.prototype._indexForPattern=function(c){c=
c.indexKey;for(var a=0;a<this.indices.length;a++)for(var d=this.indices[a],f=this.componentOrders[d],h=0;h<f.length&&!1!==b.include(c,f[h]);h++)if(h==c.length-1)return d;return"SPOG"};QuadBackend.prototype.index=function(b,a){var d=this;n.eachSeries(this.indices,function(a,h){d.indexMap[a].insert(b,function(){h()})},function(){a(d)})};QuadBackend.prototype.range=function(b,a){var d=this._indexForPattern(b);this.indexMap[d].range(b,function(b){a(b)})};QuadBackend.prototype.search=function(b,a){this.indexMap.SPOG.search(b,
function(b){a(null!=b)})};QuadBackend.prototype["delete"]=function(b,a){var d=this;n.eachSeries(this.indices,function(a,h){d.indexMap[a]["delete"](b,function(){h()})},function(){a(d)})};QuadBackend.prototype.clear=function(b){var a=this;n.eachSeries(this.indices,function(b,c){new k({order:a.treeOrder,componentOrder:a.componentOrders[b]},function(h){a.indexMap[b]=h;c()})},function(){b(a)})};y.exports.QuadBackend=QuadBackend},{"./quad_index":52,"./utils":59}],52:[function(r,y,x){var k=r("./btree").Tree,
n=r("./utils"),b=r("./utils");NodeKey=function(b,a){this.subject=b.subject;this.predicate=b.predicate;this.object=b.object;this.graph=b.graph;this.order=a};NodeKey.prototype.comparator=function(b){for(var a=0;a<this.order.length;a++){var d=this.order[a];if(null==b[d])break;else{if(this[d]<b[d])return-1;if(this[d]>b[d])return 1}}return 0};Pattern=function(b){this.subject=b.subject;this.predicate=b.predicate;this.object=b.object;this.graph=b.graph;this.indexKey=[];this.keyComponents={};var a=[],d=[],
f=this;n.forEach(["subject","predicate","object","graph"],function(b){"string"===typeof f[b]?(d.push(b),f.keyComponents[b]=null):(a.push(b),f.keyComponents[b]=f[b],f.indexKey.push(b))});this.order=a.concat(d);this.key=new NodeKey(this.keyComponents,this.order)};QuadIndex=function(b,a){0!=arguments&&(this.componentOrder=b.componentOrder,k.call(this,b.order,function(b){b.comparator=function(a,c){for(var e=0;e<b.componentOrder.length;e++){var g=b.componentOrder[e],l=a[g],g=c[g];if(l<g)return-1;if(l>
g)return 1}return 0};b.rangeComparator=function(a,c){for(var e=0;e<b.componentOrder.length;e++){var g=b.componentOrder[e];if(null==c[g]||null==a[g])break;else{if(a[g]<c[g])return-1;if(a[g]>c[g])return 1}}return 0};a(b)}))};QuadIndex.prototype=n.create(k.prototype,{constructor:k});QuadIndex.prototype.insert=function(b,a){k.prototype.insert.call(this,b,null,function(b){a(b)})};QuadIndex.prototype.search=function(b,a){k.prototype.search.call(this,b,function(b){a(b)},!0)};QuadIndex.prototype.range=function(b,
a){this._rangeTraverse(this,this.root,b,a)};QuadIndex.prototype._rangeTraverse=function(c,a,d,f){var h=d.key,e=[],g=[a];b.whilst(function(){return 0<g.length},function(a){for(var d=g.shift(),f=0;f<d.numberActives&&-1===c.rangeComparator(d.keys[f].key,h);)f++;if(!0===d.isLeaf){for(var k=f;k<d.numberActives&&0===c.rangeComparator(d.keys[k].key,h);)e.push(d.keys[k].key),k++;a()}else c._diskRead(d.children[f],function(k){g.push(k);var v=f;b.whilst(function(){return v<d.numberActives&&0===c.rangeComparator(d.keys[v].key,
h)},function(a){e.push(d.keys[v].key);v++;c._diskRead(d.children[v],function(b){g.push(b);a()})},function(){a()})})},function(){f(e)})};y.exports={QuadIndex:QuadIndex,Pattern:Pattern,NodeKey:NodeKey}},{"./btree":42,"./utils":59}],53:[function(r,y,x){function k(a,b,c){this.name="BindExpressionError";this.bind=b;this.error=c;this.message=a}var n=r("./abstract_query_tree").AbstractQueryTree,b=r("./abstract_query_tree").NonSupportedSparqlFeatureError,c=r("./utils"),a=r("./quad_index"),d=r("./query_plan").QueryPlan,
f=r("./query_filters").QueryFilters,h=r("./rdf_model"),e=r("./rdf_loader").RDFLoader,g=r("./graph_callbacks").CallbacksBackend,l=r("./utils"),m=r("./utils");k.prototype=Error();k.constructor=k;QueryEngine=function(a){0!=arguments.length&&(this.backend=a.backend,this.lexicon=a.lexicon,this.eventsOnBatchLoad=a.eventsOnBatchLoad||!1,this.defaultPrefixes={},this.abstractQueryTree=new n,this.rdfLoader=new e(a.communication),this.callbacksBackend=new g(this),this.customFns=a.customFns||{})};QueryEngine.prototype.setCustomFunctions=
function(a){this.customFns=a};QueryEngine.prototype.registerNsInEnvironment=function(a,b){var c=[];null!=a&&null!=a.prefixes&&(c=a.prefixes);var d={},e;for(e in this.defaultPrefixes)d[e]=this.defaultPrefixes[e];for(e=0;e<c.length;e++){var f=c[e];"prefix"===f.token&&(d[f.prefix]=f.local)}b.namespaces=d;b.base=null!=a&&a.base&&"object"===typeof a.base?a.base.value:null};QueryEngine.prototype.applyModifier=function(a,b){if("DISTINCT"==a){for(var c={},d=[],e=0;e<b.length;e++){var f=b[e],g="",h;for(h in f){var l=
f[h];null==l?g=g+h+"null":"literal"==l.token?(null!=l.value&&(g+=l.value),null!=l.lang&&(g+=l.lang),null!=l.type&&(g+=l.type)):g=l.value?g+h+l.value:g+h+l}null==c[g]&&(d.push(f),c[g]=!0)}return d}return b};QueryEngine.prototype.applyLimitOffset=function(a,b,c){if(null==b&&null==a)return c;null==a&&(a=0);b=null==b?c.length:a+b;return c.slice(a,b)};QueryEngine.prototype.applySingleOrderBy=function(a,b,c,d,e){var g=[],h=this;l.eachSeries(a,function(a,e){f.collect(a.expression,[b],c,d,h,function(a){g.push(a[0].value);
e()})},function(){e({binding:b,value:g})})};QueryEngine.prototype.applyOrderBy=function(a,b,c,d,e){var f=this,g=[];null!=a&&0<a.length?l.eachSeries(b,function(b,e){f.applySingleOrderBy(a,b,c,d,function(a){g.push(a);e()})},function(){g.sort(function(b,c){return f.compareFilteredBindings(b,c,a,d)});for(var b=[],c=0;c<g.length;c++)b.push(g[c].binding);e(b)}):e(b)};QueryEngine.prototype.compareFilteredBindings=function(a,b,c,d){for(var e=0;;){if(e==a.value.length)return 0;var g=c[e].direction;if(null==
a.value[e]&&null==b.value[e])e++;else{if(null==a.value[e])a={value:!1};else if(null==b.value[e])a={value:!0};else if("blank"===a.value[e].token&&"blank"===b.value[e].token){e++;continue}else if("blank"===a.value[e].token)a={value:!1};else if("blank"===b.value[e].token)a={value:!0};else if("uri"===a.value[e].token&&"uri"===b.value[e].token)if(1==f.runEqualityFunction(a.value[e],b.value[e],[],this,d).value){e++;continue}else a=f.runTotalGtFunction(a.value[e],b.value[e],[]);else if("uri"===a.value[e].token)a=
{value:!1};else if("uri"===b.value[e].token)a={value:!0};else if("literal"===a.value[e].token&&"literal"===b.value[e].token&&null==a.value[e].type&&null==b.value[e].type)if(1==f.runEqualityFunction(a.value[e],b.value[e],[],this,d).value){e++;continue}else a=f.runTotalGtFunction(a.value[e],b.value[e],[]);else if("literal"===a.value[e].token&&null==a.value[e].type)a={value:!1};else if("literal"===b.value[e].token&&null==b.value[e].type)a={value:!0};else if(1==f.runEqualityFunction(a.value[e],b.value[e],
[],this,d).value){e++;continue}else a=f.runTotalGtFunction(a.value[e],b.value[e],[]);return 1==a.value?"ASC"===g?1:-1:"ASC"===g?-1:1}}};QueryEngine.prototype.removeDefaultGraphBindings=function(a,b){for(var c=[],d={},e=0;e<b.named.length;e++)d[b.named[e].oid]=!0;for(e=0;e<b.implicit.length;e++)null==d[b.implicit[e].oid]&&c.push(b.implicit[e].oid);c=[];for(e=0;e<a.length;e++){var f=a[e],g=!1,h;for(h in f){for(var l=0;l<d.length;l++)if(f[h]===d[l]){g=!0;break}if(g)break}g||c.push(f)}return c};QueryEngine.prototype.aggregateBindings=
function(a,b,c,d,e){this.copyDenormalizedBindings(b,d.outCache,function(b){var g=this,h={};m.eachSeries(a,function(a,e){f.runAggregator(a,b,g,c,d,function(b){a.alias?h[a.alias.value]=b:h[a.value.value]=b;e()})},function(){e(h)})})};QueryEngine.prototype.projectBindings=function(a,b,c){if("*"===a[0].kind)return b;for(var d=[],e=0;e<b.length;e++){for(var g=b[e],h={},l=!0,k=0;k<a.length;k++)if("variable"==a[k].token&&"aliased"!=a[k].kind)h[a[k].value.value]=g[a[k].value.value];else if("variable"==a[k].token&&
"aliased"==a[k].kind){var m=f.runFilter(a[k].expression,g,this,c,{blanks:{},outCache:{}});if(f.isEbvError(m)){l=!1;break}else h[a[k].alias.value]=m}!0===l&&d.push(h)}return d};QueryEngine.prototype.resolveNsInEnvironment=function(a,b){return b.namespaces[a]};QueryEngine.prototype.normalizeTerm=function(a,b,d,e){if("uri"===a.token)a=c.lexicalFormBaseUri(a,b),null==a?e(null):d?this.lexicon.registerUri(a,e):this.lexicon.resolveUri(a,e);else if("literal"===a.token)a=c.lexicalFormLiteral(a,b),d?this.lexicon.registerLiteral(a,
e):this.lexicon.resolveLiteral(a,e);else if("blank"===a.token){var f=a.value;a=b.blanks[f];null!=a?e(a):d?this.lexicon.registerBlank(function(a){b.blanks[f]=a;e(a)}):this.lexicon.resolveBlank(function(a){b.blanks[f]=a;e(a)})}else"var"===a.token?e(a.value):e(null)};QueryEngine.prototype.normalizeDatasets=function(a,b,c){var d=this;l.eachSeries(a,function(a,c){a.value===d.lexicon.defaultGraphUri?(a.oid=d.lexicon.defaultGraphOid,c()):d.normalizeTerm(a,b,!1,function(b){null!=b&&(a.oid=b);c()})},function(){c(!0)})};
QueryEngine.prototype.normalizeQuad=function(a,b,d,e){var f=null,g=null,h=null,k=null,m=this,u=!1;l.seq(function(e){if(null==a.graph||a.graph.value===m.lexicon.defaultGraphUri)k=0,e();else{var f=c.lexicalFormBaseUri(a.graph,b);m.normalizeTerm(a.graph,b,d,function(b){null!=b?(k=b,!0===d&&"var"!=a.graph.token?m.lexicon.registerGraph(b,f,function(){e()}):e()):(u=!0,e())})}},function(c){!1===u?m.normalizeTerm(a.subject,b,d,function(a){null!=a?f=a:u=!0;c()}):c()},function(c){!1===u?m.normalizeTerm(a.predicate,
b,d,function(a){null!=a?g=a:u=!0;c()}):c()},function(c){!1===u?m.normalizeTerm(a.object,b,d,function(a){null!=a?h=a:u=!0;c()}):c()})(function(){!0===u?e(null):e({subject:f,predicate:g,object:h,graph:k})})};QueryEngine.prototype.denormalizeBindingsList=function(a,b,c){var d=this,e=[];l.eachSeries(a,function(a,c){d.denormalizeBindings(a,b,function(a){e.push(a);c()})},function(){c(e)})};QueryEngine.prototype.copyDenormalizedBindings=function(a,b,c){var d=this,e=[];l.eachSeries(a,function(a,c){var f=
{},g=m.keys(a);l.eachSeries(g,function(c,e){var g=a[c];if(null==g)f[c]=null,e();else if("object"===typeof g)f[c]=g,e();else{var h=b[g];null!=h?(f[c]=h,e()):d.lexicon.retrieve(g,function(a){b[g]=a;f[c]=a;e()})}},function(){e.push(f);c()})},function(){c(e)})};QueryEngine.prototype.denormalizeBindings=function(a,b,c){var d=m.keys(a),e=b.outCache,f=this;l.eachSeries(d,function(c,d){var g=a[c];null==g?(a[c]=null,d()):"object"===typeof g?d():null!=e[g]?(a[c]=e[g],d()):f.lexicon.retrieve(g,function(e){a[c]=
e;"blank"===e.token&&(b.blanks[e.value]=g);d()})},function(){c(a)})};QueryEngine.prototype.execute=function(a,b,d,e){a=c.normalizeUnicodeLiterals(a);a=this.abstractQueryTree.parseQueryString(a);if(null==a)b(!1,"Error parsing query string");else if("query"===a.token&&"update"==a.kind){this.callbacksBackend.startGraphModification();var f=this;this.executeUpdate(a,function(a,c){f.lexicon.updateAfterWrite&&f.lexicon.updateAfterWrite();a?(f.callbacksBackend.cancelGraphModification(),b(a,c)):f.callbacksBackend.endGraphModification(function(){b(a,
c)})})}else"query"===a.token&&"query"==a.kind&&this.executeQuery(a,b,d,e)};QueryEngine.prototype.executeQuery=function(a,b,c,d){var e=a.units,f=this,g={blanks:{},outCache:{}};this.registerNsInEnvironment(a.prologue,g);var l=f.abstractQueryTree.parseExecutableUnit(e[0]);"select"===l.kind?this.executeSelect(l,g,c,d,function(a,c){null==a?"object"===typeof c&&!0===c.denorm?b(null,c.bindings):f.denormalizeBindingsList(c,g,function(a){b(null,a)}):b(a)}):"ask"===l.kind?(l.projection=[{token:"variable",kind:"*"}],
this.executeSelect(l,g,c,d,function(a,c){null==a?0<c.length?b(null,!0):b(null,!1):b(a)})):"construct"===l.kind&&(l.projection=[{token:"variable",kind:"*"}],f=this,this.executeSelect(l,g,c,d,function(a,c){null==a?f.denormalizeBindingsList(c,g,function(a){if(null!=a){var c=new h.Graph;null==l.template&&(l.template={triplesContext:l.pattern});for(var d=1,e=[],k=0;k<a.length;k++){for(var t=a[k],m=0;m<e.length;m++)delete e[m].valuetmp;for(m=0;m<l.template.triplesContext.length;m++){for(var u=["subject",
"predicate","object"],w=l.template.triplesContext[m],B=0;B<u.length;B++){var n=u[B];if("blank"===w[n].token&&(!w[n].valuetmp||null==w[n].valuetmp)){var r="_:b"+d;d++;w[n].valuetmp=r;e.push(w[n])}}u=h.buildRDFResource(w.subject,t,f,g);B=h.buildRDFResource(w.predicate,t,f,g);w=h.buildRDFResource(w.object,t,f,g);null!=u&&null!=B&&null!=w&&(B=new h.Triple(u,B,w),c.add(B))}}b(null,c)}else b(Error("Error denormalizing bindings."))}):b(a)}))};QueryEngine.prototype.executeSelect=function(a,b,c,d,e){if("select"===
a.kind||"ask"===a.kind||"construct"===a.kind||"modify"===a.kind){var f=a.projection,g=a.dataset,h=a.modifier,k=a.limit,m=a.offset,q=a.order,n=this;if(null!=c||null!=d)g.implicit=c||[],g.named=d||[];null!=g.implicit&&0===g.implicit.length&&null!=g.named&&0===g.named.length&&g.implicit.push(this.lexicon.defaultGraphUriTerm);n.normalizeDatasets(g.implicit.concat(g.named),b,function(){try{n.executeSelectUnit(f,g,a.pattern,b,function(c){if(null!=c){if(null!=a.group&&""===a.group){for(var d=!1,w=0;w<a.projection.length;w++)if(null!=
a.projection[w].expression&&"aggregate"===a.projection[w].expression.expressionType){d=!0;break}!0===d&&(a.group="singleGroup")}a.group&&""!=a.group?n.checkGroupSemantics(a.group,f)?n.groupSolution(c,a.group,g,b,function(a){var c=[];l.eachSeries(a,function(a,d){n.aggregateBindings(f,a,g,b,function(a){c.push(a);d()})},function(){e(null,{bindings:c,denorm:!0})})}):e(Error("Incompatible Group and Projection variables")):n.applyOrderBy(q,c,g,b,function(a){a=n.projectBindings(f,a,g);a=n.applyModifier(h,
a);a=n.applyLimitOffset(m,k,a);a=n.removeDefaultGraphBindings(a,g);e(null,a)})}else e(Error("Error executing SELECT query."))})}catch(c){console.log(c.stack),e(c)}})}else e(Error("Cannot execute "+a.kind+" query as a select query"))};QueryEngine.prototype.groupSolution=function(a,b,c,d,e){var g=[],h=[],k=!1,m=this;"singleGroup"===b?e([a]):l.eachSeries(a,function(a,e){var t=!0;l.eachSeries(b,function(b,e){var h=null;if("var"===b.token)h=b.value,0==k&&g.push(h),e();else if("aliased_expression"===b.token){h=
b.alias.value;0==k&&g.push(h);if("var"===b.expression.primaryexpression)a[b.alias.value]=a[b.expression.value.value];else{var l=m.copyDenormalizedBindings([a],d.outCache),l=f.runFilter(b.expression,l[0],m,c,d);f.isEbvError(l)?t=!1:(null!=l.value&&(l.value=""+l.value),a[b.alias.value]=l)}e()}else m.copyDenormalizedBindings([a],d.outCache,function(c){c=f.runFilter(b,c[0],m,d);f.isEbvError(c)?t=!1:(a["groupCondition"+env._i]=c,h="groupCondition"+env._i,0==k&&g.push(h));e()})},function(){0==k&&(k=!0);
!0===t&&h.push(a);e()})},function(){for(var a={},b=0;b<h.length;b++){for(var c=h[b],d="",f=0;f<g.length;f++)var l=c[g[f]],d="object"===typeof l?d+l.value:d+l;null==a[d]?a[d]=[c]:a[d].push(c)}var b=[],k;for(k in a)b.push(a[k]);e(b)})};QueryEngine.prototype.executeSelectUnit=function(a,c,d,e,g){if("BGP"===d.kind)this.executeAndBGP(a,c,d,e,g);else if("UNION"===d.kind)this.executeUNION(a,c,d.value,e,g);else if("JOIN"===d.kind)this.executeJOIN(a,c,d,e,g);else if("LEFT_JOIN"===d.kind)this.executeLEFT_JOIN(a,
c,d,e,g);else if("FILTER"===d.kind){var h=this;this.executeSelectUnit(a,c,d.value,e,function(a){null!=a?f.checkFilters(d,a,!1,c,e,h,g):g([])})}else if("EMPTY_PATTERN"===d.kind)g([]);else throw new b(d.kind);};QueryEngine.prototype.executeUNION=function(a,b,c,e,g){var h=c[0],m=c[1],n=null,r,u;if(2!=c.length)throw"SPARQL algebra UNION with more than two components";var q=this;l.seq(function(c){try{q.executeSelectUnit(a,b,h,e,function(a){r=a;c()})}catch(d){n=d,c()}},function(c){if(null==n)try{q.executeSelectUnit(a,
b,m,e,function(a){u=a;c()})}catch(d){n=d,c()}else c()})(function(){if(null!=n)g(n);else{var a=d.unionBindings(r,u);q.runBinds(c.binds,a,b,e,function(a,d){if(null!=a)throw new k("Error processing bind expressions",c.binds,a);f.checkFilters(c,d,!1,b,e,q,g)})}})};QueryEngine.prototype.executeAndBGP=function(a,b,c,e,g){var h=this;d.executeAndBGPsDPSize(c.value,b,this,e,function(a){null!=a?h.runBinds(c.binds,a,b,e,function(a,d){if(null!=a)throw new k("Error processing bind expressions",c.binds,a);f.checkFilters(c,
d,!1,b,e,h,g)}):g(null)})};QueryEngine.prototype.executeLEFT_JOIN=function(a,b,c,e,g){var h=c.lvalue,m=c.rvalue,n=null,r=null,u=null,q=this,C,A;l.seq(function(c){try{q.executeSelectUnit(a,b,h,e,function(a){n=a;c()})}catch(d){u=d,c()}},function(c){if(null!=u)c();else try{q.executeSelectUnit(a,b,m,e,function(a){r=a;c()})}catch(d){u=d,c()}})(function(){if(null!=u)g(u);else{var a=d.leftOuterJoinBindings(n,r);q.runBinds(c.binds,a,b,e,function(d,h){if(null!=d)throw new k("Error processing bind expressions",
c.binds,d);f.checkFilters(c,a,!0,b,e,q,function(a){if(1<n.length&&1<r.length){var b=[],c={},d;for(d in n[0])c[d]=!0;for(d in r[0])1!=c[d]&&b.push(d);C=[];A={};for(c=0;c<a.length;c++)if(!0===a[c].__nullify__){for(var e=0;e<b.length;e++)a[c].bindings[b[e]]=null;var e=[],f=[];for(d in a[c].bindings)null!=a[c].bindings[d]&&(e.push(d+a[c].bindings[d]),e.sort(),f.push(e.join("")));if(null==A[e.join("")]){for(e=0;e<f.length;e++)A[f[e]]=!0;C.push(a[c].bindings)}}else for(d in C.push(a[c]),e=[],a[c])e.push(d+
a[c][d]),e.sort(),A[e.join("")]=!0;g(C)}else g(a)})})}})};QueryEngine.prototype.executeJOIN=function(a,b,c,e,g){var h=c.lvalue,m=c.rvalue,n=null,r=null,u=null,q=this;l.seq(function(c){try{q.executeSelectUnit(a,b,h,e,function(a){n=a;c()})}catch(d){u=d,c()}},function(c){if(null!=u)c();else try{q.executeSelectUnit(a,b,m,e,function(a){r=a;c()})}catch(d){u=d,c()}})(function(){var a=null;if(null!=u)g(u);else if(0===n.length||0===r.length)g([]);else{var a={},l=[],t;for(t in n[0])a[t]=!1;for(t in r[0])!1===
a[t]&&l.push(t);a=0==l.length?d.joinBindings(n,r):q.abstractQueryTree.treeWithUnion(h)||q.abstractQueryTree.treeWithUnion(m)?d.joinBindings(n,r):d.joinBindings2(l,n,r);q.runBinds(c.binds,a,b,e,function(a,d){if(null!=a)throw new k("Error processing bind expressions",c.binds,a);f.checkFilters(c,d,!1,b,e,q,g)})}})};QueryEngine.prototype.rangeQuery=function(b,c,d){var e=this;e.normalizeQuad(b,c,!1,function(b){null!=b?e.backend.range(new a.Pattern(b),function(a){null==a||0==a.length?d([]):d(a)}):d(null)})};
QueryEngine.prototype.executeUpdate=function(a,b){var d=a.units,e=this,f={blanks:{},outCache:{}};this.registerNsInEnvironment(a.prologue,f);for(var g=0;g<d.length;g++){var h=e.abstractQueryTree.parseExecutableUnit(d[g]);if("insertdata"===h.kind){var k=null;l.eachSeries(h.quads,function(a,b){null===k?e._executeQuadInsert(a,f,function(a){null!=a&&(k=a);b()}):b()},function(){null===k?b(null,!0):b(k)})}else if("deletedata"===h.kind)k=null,l.eachSeries(h.quads,function(a,b){null===k?e._executeQuadDelete(a,
f,function(a){null!=a&&(k=a);b()}):b()},function(){null===k?b(null,!0):b(k)});else if("modify"===h.kind)this._executeModifyQuery(h,f,b);else if("create"===h.kind)b(!0);else if("load"===h.kind){var m={uri:c.lexicalFormBaseUri(h.sourceGraph,f)};null!=h.destinyGraph&&(m={uri:c.lexicalFormBaseUri(h.destinyGraph,f)});e=this;this.rdfLoader.load(h.sourceGraph.value,m,function(a,c){a?b(Error("error batch loading quads")):e.batchLoad(c,function(a){null!==a?b(null,a):b(Error("Error batch loading quads"))})})}else if("drop"===
h.kind)this._executeClearGraph(h.destinyGraph,f,b);else if("clear"===h.kind)this._executeClearGraph(h.destinyGraph,f,b);else throw Error("not supported execution unit");}};QueryEngine.prototype.batchLoad=function(b,c){var d=0,e={},f=this;this.eventsOnBatchLoad&&this.callbacksBackend.startGraphModification();var h=function(a,b,c,d){var g;if(a[b].uri||"uri"===a[b].token){var h=a[b].uri||a[b].value;f.lexicon.registerUri(h,function(e){var g=function(){null!=a[b].uri&&(a[b]={token:"uri",value:a[b].uri},
delete a[b].uri);c[b]=e;d()};"graph"===b?f.lexicon.registerGraph(e,h,function(){g()}):g()})}else a[b].literal||"literal"===a[b].token?f.lexicon.registerLiteral(a[b].literal||a[b].value,function(e){null!=a[b].literal&&(a[b]=f.lexicon.parseLiteral(a[b].literal),delete a[b].literal);c[b]=e;d()}):(g=e[a[b].blank||a[b].value],null==g?f.lexicon.registerBlank(function(f){e[a[b].blank||a[b].value]=f;null==a[b].token&&(a[b].token="blank",a[b].value=a[b].blank,delete a[b].blank);c[b]=f;d()}):(null==a[b].token&&
(a[b].token="blank",a[b].value=a[b].blank,delete a[b].blank),c[b]=g,d()))};l.eachSeries(b,function(b,c){var e={};l.eachSeries(["subject","predicate","object","graph"],function(a,c){h(b,a,e,c)},function(){var h=b;b=e;var l=new a.NodeKey(b);f.backend.search(l,function(a){a?c():f.backend.index(l,function(a){a&&(f.eventsOnBatchLoad&&f.callbacksBackend.nextGraphModification(g.added,[h,b]),d+=1);c()})})})},function(){null!=f.lexicon.updateAfterWrite&&f.lexicon.updateAfterWrite();var a=function(){c(d)};
f.eventsOnBatchLoad?f.callbacksBackend.endGraphModification(a()):a()})};QueryEngine.prototype._executeModifyQuery=function(a,b,c){var d=this,e=!0,f=Error("Error executing modify query"),g=null,h=["subject","predicate","object","graph"];a.insert=null==a.insert?[]:a.insert;a["delete"]=null==a["delete"]?[]:a["delete"];l.seq(function(c){var h=[],l=[];null!=a["with"]&&h.push(a["with"]);if(null!=a.using)for(var l=[],k=0;k<a.using.length;k++){var m=a.using[k];"named"===m.kind?l.push(m.uri):h.push(m.uri)}a.dataset=
{};a.projection=[{token:"variable",kind:"*"}];d.executeSelect(a,b,h,l,function(a,h){if(a)return f=a,e=!1,c();d.denormalizeBindingsList(h,b,function(a){null!=a?g=a:(f=Error("Error denormalizing bindings list"),e=!1);c()})})},function(c){var f=a["with"];if(e){for(var k=[],m=0;m<a["delete"].length;m++)for(var n=a["delete"][m],r=0;r<g.length;r++){for(var B={},D=g[r],x=0;x<h.length;x++){var y=h[x];"graph"==y&&null==n[y]?B.graph=f:B[y]="var"===n[y].token?D[n[y].value]:n[y]}k.push(B)}l.eachSeries(k,function(a,
c){d._executeQuadDelete(a,b,function(){c()})},function(){c()})}else c()},function(c){var f=a["with"];if(e){for(var k=[],m=0;m<a.insert.length;m++)for(var n=a.insert[m],r=0;r<g.length;r++){for(var B={},D=g[r],x=0;x<h.length;x++){var y=h[x];"graph"==y&&null==n[y]?B.graph=f:B[y]="var"===n[y].token?D[n[y].value]:n[y]}k.push(B)}l.eachSeries(k,function(a,c){d._executeQuadInsert(a,b,function(){c()})},function(){c()})}else c()})(function(){e?c(null):c(f)})};QueryEngine.prototype._executeQuadInsert=function(b,
c,d){var e=this,f,h=!1,k=null;l.seq(function(a){e.normalizeQuad(b,c,!0,function(b){null!=b?f=b:(h=!0,k="Error normalizing quad.");a()})},function(c){if(!1===h){var d=new a.NodeKey(f);e.backend.search(d,function(a){!0===a?c():e.backend.index(d,function(){e.callbacksBackend.nextGraphModification(g.added,[b,f]);c()})})}else c()})(function(){h?d(Error(k)):d(null,!0)})};QueryEngine.prototype._executeQuadDelete=function(b,c,d){var e=this,f,h=!1,k,m;l.seq(function(a){e.normalizeQuad(b,c,!0,function(b){null!=
b?f=b:(h=!0,k="Error normalizing quad.");a()})},function(b){!1===h?(m=new a.NodeKey(f),e.backend["delete"](m,function(){b()})):b()},function(a){!1===h?e.lexicon.unregister(b,m,function(){e.callbacksBackend.nextGraphModification(g.deleted,[b,f]);a()}):a()})(function(){h?d(Error(k)):d(null,!0)})};QueryEngine.prototype._executeClearGraph=function(a,b,d){var e=this;"default"===a?this.execute("DELETE { ?s ?p ?o } WHERE { ?s ?p ?o }",d):"named"===a?e.lexicon.registeredGraphs(!0,function(a){if(null!=a){var b=
!1;l.eachSeries(a,function(a,c){b?c():e.execute("DELETE { GRAPH <"+a+"> { ?s ?p ?o } } WHERE { GRAPH <"+a+"> { ?s ?p ?o } }",function(a,d){b=!a;c()})},function(){d(!b)})}else d(!1,"Error deleting named graphs")}):"all"===a?(e=this,this.execute("CLEAR DEFAULT",function(a,b){a?d(!1,b):e.execute("CLEAR NAMED",d)})):"uri"==a.token?(a=c.lexicalFormBaseUri(a,b),null!=a?(this.callbacksBackend.ongoingModification=!0,this.execute("DELETE { GRAPH <"+a+"> { ?s ?p ?o } } WHERE { GRAPH <"+a+"> { ?s ?p ?o } }",
function(a){e.callbacksBackend.ongoingModification=!1;d(a)})):d(!1,"wrong graph URI")):d(!1,"wrong graph URI")};QueryEngine.prototype.checkGroupSemantics=function(a,b){if("singleGroup"===a)return!0;for(var c={},d=0;d<a.length;d++){var e=a[d];"var"===e.token?c[e.value]=!0:"aliased_expression"===e.token&&(c[e.alias.value]=!0)}for(d=0;d<b.length;d++)if(e=b[d],"var"===e.kind){if(null==c[e.value.value])return!1}else if("aliased"===e.kind&&e.expression&&"var"===e.expression.primaryexpression&&null==c[e.expression.value.value])return!1;
return!0};QueryEngine.prototype.runBinds=function(a,b,c,d,e){var g=this;null!=a&&0<a.length?g.copyDenormalizedBindings(b,d.outCache,function(h){m.eachSeries(m.range(b.length),function(l,k){var m=h[l];f.runFilters(a.map(function(a){return a.expression}),m,g,c,d,function(c){for(var d=0;d<c.length;++d){var g=a[d],h=c[d];if(f.isEbvError(h)){e(h);return}b[l][g.as.value]=h}return k()})},function(){e(null,b)})}):e(null,b)};QueryEngine.prototype.computeCosts=function(a,b,c){for(var d=0;d<a.length;d++)a[d]._cost=
this.quadCost(a[d],b);c(a)};QueryEngine.prototype.quadCost=function(a,b){return 1};QueryEngine.prototype.registerDefaultNamespace=function(a,b){this.defaultPrefixes[a]=b};y.exports={QueryEngine:QueryEngine}},{"./abstract_query_tree":41,"./graph_callbacks":44,"./quad_index":52,"./query_filters":54,"./query_plan":55,"./rdf_loader":56,"./rdf_model":57,"./utils":59}],54:[function(r,y,x){var k=r("./utils"),n=r("./utils");QueryFilters={checkFilters:function(b,c,a,d,f,h,e){var g=[];b.filter&&"function"!==
typeof b.filter&&(g=b.filter);var l=[];if(null==g||0===g.length||null!=b.length)return e(c);n.eachSeries(g,function(b,e){QueryFilters.run(b.value,c,a,d,f,h,function(a){var b=[];n.eachSeries(a,function(a,c){null!=a.__nullify__?l.push(a):b.push(a);c()},function(){c=b;e()})})},function(){e(c.concat(l))})},boundVars:function(b){if(null!=b.expressionType){var c=b.expressionType;if("relationalexpression"==c)return c=b.op2,QueryFilters.boundVars(b.op1)+QueryFilters.boundVars(c);if("conditionalor"==c||"conditionaland"==
c){for(var a=[],c=0;c<b.operands;c++)a=a.concat(QueryFilters.boundVars(b.operands[c]));return a}if("builtincall"==c){if(null==b.args)return[];a=[];for(c=0;c<b.args.length;c++)a=a.concat(QueryFilters.boundVars(b.args[c]));return a}if("multiplicativeexpression"==c){a=QueryFilters.boundVars(b.factor);for(c=0;c<b.factors.length;c++)a=a.concat(QueryFilters.boundVars(b.factors[c].expression));return a}if("additiveexpression"==c){a=QueryFilters.boundVars(b.summand);for(c=0;c<b.summands.length;c++)a=a.concat(QueryFilters.boundVars(b.summands[c].expression));
return a}if("regex"==c)return a=QueryFilters.boundVars(b.expression1),a.concat(QueryFilters.boundVars(b.expression2));if("unaryexpression"==c)return QueryFilters.boundVars(b.expression);if("atomic"==c)return"var"==b.primaryexpression?[b.value]:[]}else throw console.log("ERROR"),console.log(b),"Cannot find bound expressions in a no expression token";},run:function(b,c,a,d,f,h,e){h.copyDenormalizedBindings(c,f.outCache,function(g){var l=[];k.eachSeries(k.range(c.length),function(e,k){QueryFilters.runFilter(b,
g[e],h,d,f,function(b){b=QueryFilters.ebv(b);QueryFilters.isEbvError(b)?a&&l.push({__nullify__:!0,bindings:c[e]}):!0===b?l.push(c[e]):a&&l.push(c[e]);k()})},function(){e(l)})})},collect:function(b,c,a,d,f,h){f.copyDenormalizedBindings(c,d.outCache,function(e){var g=[];k.eachSeries(k.range(e.length),function(h,k){QueryFilters.runFilter(b,e[h],f,a,d,function(a){g.push({binding:c[h]});k()})},function(){h(g)})})},runDistinct:function(b,c){},runAggregator:function(b,c,a,d,f,h){if(null==c||0===c.length)h(QueryFilters.ebvError());
else if("variable"===b.token&&"var"==b.kind)h(c[0][b.value.value]);else if("variable"===b.token&&"aliased"===b.kind)if("atomic"===b.expression.expressionType&&"var"===b.expression.primaryexpression)h(c[0][b.expression.value.value]);else if("aggregate"===b.expression.expressionType)if("max"===b.expression.aggregateType){var e=null;k.eachSeries(c,function(c,g){QueryFilters.runFilter(b.expression.expression,c,a,d,f,function(a){QueryFilters.isEbvError(a)||(null===e?(e=a,g()):QueryFilters.runLtFunction(e,
a,void 0,function(b){!0===b&&(e=a);g()}))})},function(){null===e?h(QueryFilters.ebvError()):h(e)})}else if("min"===b.expression.aggregateType){var g=null;k.eachSeries(c,function(c,e){QueryFilters.runFilter(b.expression.expression,c,a,d,f,function(a){QueryFilters.isEbvError(a)||(null===g?(g=a,e()):QueryFilters.runGtFunction(g,a,void 0,function(b){!0===b&&(g=a);e()}))})},function(){null===g?h(QueryFilters.ebvError()):h(g)})}else if("count"===b.expression.aggregateType){var l={},m=0;if("*"===b.expression.expression){if(null!=
b.expression.distinct&&""!=b.expression.distinct)for(var t=0;t<c.length;t++){var v=k.hashTerm(c[t]);null==l[v]&&(l[v]=!0,m++)}else m=c.length;h({token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:""+m})}else k.eachSeries(c,function(c,e){QueryFilters.runFilter(b.expression.expression,c,a,d,f,function(a){QueryFilters.isEbvError(a)||(null!=b.expression.distinct&&""!=b.expression.distinct?(a=k.hashTerm(a),null==l[a]&&(l[a]=!0,m++)):m++);e()})},function(){h({token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",
value:""+m})})}else if("avg"===b.expression.aggregateType){var l={},n={token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:"0"},m=0;k.eachSeries(c,function(c,e){QueryFilters.runFilter(b.expression.expression,c,a,d,f,function(a){if(!QueryFilters.isEbvError(a))if(null!=b.expression.distinct&&""!=b.expression.distinct){var c=k.hashTerm(a);null==l[c]&&(l[c]=!0,QueryFilters.isNumeric(a)&&(n=QueryFilters.runSumFunction(n,a),m++))}else QueryFilters.isNumeric(a)&&(n=QueryFilters.runSumFunction(n,
a),m++);e()})},function(){var a=QueryFilters.runDivFunction(n,{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:""+m});a.value=""+a.value;h(a)})}else"sum"===b.expression.aggregateType?(l={},n={token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:"0"},k.eachSeries(c,function(c,e){QueryFilters.runFilter(b.expression.expression,c,a,d,f,function(a){if(!QueryFilters.isEbvError(a))if(null!=b.expression.distinct&&""!=b.expression.distinct){var c=k.hashTerm(a);null==
l[c]&&(l[c]=!0,QueryFilters.isNumeric(a)&&(n=QueryFilters.runSumFunction(n,a)))}else QueryFilters.isNumeric(a)&&(n=QueryFilters.runSumFunction(n,a));e()})},function(){n.value=""+n.value;h(n)})):QueryFilters.runFilter(aggregate.expression,c[0],d,{blanks:{},outCache:{}},h)},runFilter:function(b,c,a,d,f,h){if(null!=b.expressionType){var e=b.expressionType;if("relationalexpression"==e)QueryFilters.runFilters([b.op1,b.op2],c,a,d,f,function(e){QueryFilters.runRelationalFilter(b,e[0],e[1],c,a,d,f,h)});else{if("conditionalor"==
e)return QueryFilters.runOrFunction(b,c,a,d,f,h);if("conditionaland"==e)return QueryFilters.runAndFunction(b,c,a,d,f,h);if("additiveexpression"==e)return QueryFilters.runAddition(b.summand,b.summands,c,a,d,f,h);if("builtincall"==e)QueryFilters.runBuiltInCall(b.builtincall,b.args,c,a,d,f,h);else if("multiplicativeexpression"==e)QueryFilters.runMultiplication(b.factor,b.factors,c,a,d,f,h);else{if("unaryexpression"==e)return QueryFilters.runUnaryExpression(b.unaryexpression,b.expression,c,a,d,f);if("irireforfunction"==
e)return QueryFilters.runIriRefOrFunction(b.iriref,b.args,c,a,d,f);if("regex"==e)QueryFilters.runRegex(b.text,b.pattern,b.flags,c,a,d,f,h);else if("custom"==e)QueryFilters.runBuiltInCall(b.name,b.args,c,a,d,f,h);else if("atomic"==e)"var"==b.primaryexpression?h(c[b.value.value]):("object"==typeof b.value&&null!=b.value.type&&"object"==typeof b.value.type&&(b.value.type=k.lexicalFormBaseUri(b.value.type,f)),h(b.value));else throw"Unknown filter expression type";}}}else throw"Cannot find bound expressions in a no expression token";
},runFilters:function(b,c,a,d,f,h){var e=[];k.eachSeries(b,function(b,h){QueryFilters.runFilter(b,c,a,d,f,function(a){e.push(a);h()})},function(){h(e)})},isRDFTerm:function(b){return null==b?!1:b.token&&"literal"==b.token||b.token&&"uri"==b.token||b.token&&"blank"==b.token?!0:!1},RDFTermEquality:function(b,c,a,d){return"literal"===b.token&&"literal"===c.token?b.lang==c.lang&&b.type==c.type&&b.value==c.value?!0:null!=b.type&&null!=c.type?QueryFilters.ebvError():QueryFilters.isSimpleLiteral(b)&&null!=
c.type?QueryFilters.ebvError():QueryFilters.isSimpleLiteral(c)&&null!=b.type?QueryFilters.ebvError():!1:"uri"===b.token&&"uri"===c.token?k.lexicalFormBaseUri(b,d)==k.lexicalFormBaseUri(c,d):"blank"===b.token&&"blank"===c.token?b.value==c.value:!1},isInteger:function(b){return null==b?!1:"literal"===b.token?"http://www.w3.org/2001/XMLSchema#integer"==b.type||"http://www.w3.org/2001/XMLSchema#decimal"==b.type||"http://www.w3.org/2001/XMLSchema#double"==b.type||"http://www.w3.org/2001/XMLSchema#nonPositiveInteger"==
b.type||"http://www.w3.org/2001/XMLSchema#negativeInteger"==b.type||"http://www.w3.org/2001/XMLSchema#long"==b.type||"http://www.w3.org/2001/XMLSchema#int"==b.type||"http://www.w3.org/2001/XMLSchema#short"==b.type||"http://www.w3.org/2001/XMLSchema#byte"==b.type||"http://www.w3.org/2001/XMLSchema#nonNegativeInteger"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedLong"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedInt"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedShort"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedByte"==
b.type||"http://www.w3.org/2001/XMLSchema#positiveInteger"==b.type?!0:!1:!1},isFloat:function(b){return null==b?!1:"literal"===b.token?"http://www.w3.org/2001/XMLSchema#float"==b.type?!0:!1:!1},isDecimal:function(b){return null==b?!1:"literal"===b.token?"http://www.w3.org/2001/XMLSchema#decimal"==b.type?!0:!1:!1},isDouble:function(b){return null==b?!1:"literal"===b.token?"http://www.w3.org/2001/XMLSchema#double"==b.type?!0:!1:!1},isNumeric:function(b){return null==b?!1:"literal"===b.token?"http://www.w3.org/2001/XMLSchema#integer"==
b.type||"http://www.w3.org/2001/XMLSchema#decimal"==b.type||"http://www.w3.org/2001/XMLSchema#float"==b.type||"http://www.w3.org/2001/XMLSchema#double"==b.type||"http://www.w3.org/2001/XMLSchema#nonPositiveInteger"==b.type||"http://www.w3.org/2001/XMLSchema#negativeInteger"==b.type||"http://www.w3.org/2001/XMLSchema#long"==b.type||"http://www.w3.org/2001/XMLSchema#int"==b.type||"http://www.w3.org/2001/XMLSchema#short"==b.type||"http://www.w3.org/2001/XMLSchema#byte"==b.type||"http://www.w3.org/2001/XMLSchema#nonNegativeInteger"==
b.type||"http://www.w3.org/2001/XMLSchema#unsignedLong"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedInt"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedShort"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedByte"==b.type||"http://www.w3.org/2001/XMLSchema#positiveInteger"==b.type?!0:!1:!1},isSimpleLiteral:function(b){return b&&"literal"==b.token?null==b.type&&null==b.lang?!0:!1:!1},isXsdType:function(b,c){return c&&"literal"==c.token?c.type=="http://www.w3.org/2001/XMLSchema#"+b:!1},
ebv:function(b){if(null==b||QueryFilters.isEbvError(b))return QueryFilters.ebvError();if(b.token&&"literal"===b.token){if("http://www.w3.org/2001/XMLSchema#integer"==b.type||"http://www.w3.org/2001/XMLSchema#decimal"==b.type||"http://www.w3.org/2001/XMLSchema#double"==b.type||"http://www.w3.org/2001/XMLSchema#nonPositiveInteger"==b.type||"http://www.w3.org/2001/XMLSchema#negativeInteger"==b.type||"http://www.w3.org/2001/XMLSchema#long"==b.type||"http://www.w3.org/2001/XMLSchema#int"==b.type||"http://www.w3.org/2001/XMLSchema#short"==
b.type||"http://www.w3.org/2001/XMLSchema#byte"==b.type||"http://www.w3.org/2001/XMLSchema#nonNegativeInteger"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedLong"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedInt"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedShort"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedByte"==b.type||"http://www.w3.org/2001/XMLSchema#positiveInteger"==b.type){var c=parseFloat(b.value);return isNaN(c)?!1:0!=parseFloat(b.value)}return"http://www.w3.org/2001/XMLSchema#boolean"===
b.type?"true"===b.value||!0===b.value||"True"===b.value:"http://www.w3.org/2001/XMLSchema#string"===b.type?""!=b.value:"http://www.w3.org/2001/XMLSchema#dateTime"===b.type?!0:QueryFilters.isEbvError(b)?b:null==b.type?""!=b.value?!0:!1:QueryFilters.ebvError()}return!0===b.value}};QueryFilters.effectiveBooleanValue=QueryFilters.ebv;QueryFilters.ebvTrue=function(){return{token:"literal",type:"http://www.w3.org/2001/XMLSchema#boolean",value:!0}};QueryFilters.ebvFalse=function(){return{token:"literal",
type:"http://www.w3.org/2001/XMLSchema#boolean",value:!1}};QueryFilters.ebvError=function(){return{token:"literal",type:"https://github.com/antoniogarrote/js-tools/types#error",value:null}};QueryFilters.isEbvError=function(b){return"object"==typeof b&&null!=b?"https://github.com/antoniogarrote/js-tools/types#error"===b.type:!1};QueryFilters.ebvBoolean=function(b){return QueryFilters.isEbvError(b)?b:!0===b?QueryFilters.ebvTrue():QueryFilters.ebvFalse()};QueryFilters.runRelationalFilter=function(b,
c,a,d,f,h,e,g){b=b.operator;if("="===b)QueryFilters.runEqualityFunction(c,a,d,f,h,e,g);else if("!="===b)QueryFilters.runEqualityFunction(c,a,d,f,h,e,function(a){QueryFilters.isEbvError(a)||(a.value=!a.value);g(a)});else if("<"===b)QueryFilters.runLtFunction(c,a,d,g);else if(">"===b)QueryFilters.runGtFunction(c,a,d,g);else if("<="===b)QueryFilters.runLtEqFunction(c,a,d,g);else if(">="===b)QueryFilters.runGtEqFunction(c,a,d,g);else throw"Error applying relational filter, unknown operator";};QueryFilters.effectiveTypeValue=
function(b){if("literal"==b.token){if("http://www.w3.org/2001/XMLSchema#integer"==b.type)return b=parseInt(b.value);if("http://www.w3.org/2001/XMLSchema#decimal"==b.type||"http://www.w3.org/2001/XMLSchema#float"==b.type||"http://www.w3.org/2001/XMLSchema#double"==b.type||"http://www.w3.org/2001/XMLSchema#nonPositiveInteger"==b.type)return b=parseFloat(b.value);if("http://www.w3.org/2001/XMLSchema#negativeInteger"==b.type||"http://www.w3.org/2001/XMLSchema#long"==b.type||"http://www.w3.org/2001/XMLSchema#int"==
b.type||"http://www.w3.org/2001/XMLSchema#short"==b.type||"http://www.w3.org/2001/XMLSchema#byte"==b.type||"http://www.w3.org/2001/XMLSchema#nonNegativeInteger"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedLong"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedInt"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedShort"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedByte"==b.type||"http://www.w3.org/2001/XMLSchema#positiveInteger"==b.type)return b=parseInt(b.value);if("http://www.w3.org/2001/XMLSchema#date"==
b.type||"http://www.w3.org/2001/XMLSchema#dateTime"==b.type)try{return k.parseISO8601(b.value)}catch(c){return null}else return"http://www.w3.org/2001/XMLSchema#boolean"==b.type?!0===b.value||"true"===b.value||"1"===b.value||1===b.value||!0===b.value?!0:!1===b.value||"false"===b.value||"0"===b.value||0===b.value||!1===b.value?!1:void 0:"http://www.w3.org/2001/XMLSchema#string"==b.type?null===b.value||void 0===b.value?void 0:""+b.value:b.value}else throw console.log("not implemented yet"),console.log(b),
"value not supported in operations yet";};QueryFilters.runOrFunction=function(b,c,a,d,f,h){var e=null;QueryFilters.runFilters(b.operands,c,a,d,f,function(a){for(var b=0;b<a.length;++b){var c=a[b];0==QueryFilters.isEbvError(c)&&(c=QueryFilters.ebv(c));if(null==e)e=c;else if(QueryFilters.isEbvError(c)){if(QueryFilters.isEbvError(e)||!0!==e)e=QueryFilters.ebvError()}else!0===c?e=!0:QueryFilters.isEbvError(e)&&(e=QueryFilters.ebvError())}h(QueryFilters.ebvBoolean(e))})};QueryFilters.runAndFunction=function(b,
c,a,d,f,h){var e=null;QueryFilters.runFilters(b.operands,c,a,d,f,function(a){for(var b=0;b<a.length;++b){var c=a[b];0==QueryFilters.isEbvError(c)&&(c=QueryFilters.ebv(c));null==e?e=c:QueryFilters.isEbvError(c)?e=QueryFilters.isEbvError(e)?QueryFilters.ebvError():!0===e?QueryFilters.ebvError():!1:!0===c?QueryFilters.isEbvError(e)&&(e=QueryFilters.ebvError()):e=!1}h(QueryFilters.ebvBoolean(e))})};QueryFilters.runEqualityFunction=function(b,c,a,d,f,h,e){QueryFilters.isEbvError(b)||QueryFilters.isEbvError(c)?
e(QueryFilters.ebvError()):QueryFilters.isNumeric(b)&&QueryFilters.isNumeric(c)?(a=QueryFilters.effectiveTypeValue(b),f=QueryFilters.effectiveTypeValue(c),isNaN(a)||isNaN(f)?e(QueryFilters.ebvBoolean(QueryFilters.RDFTermEquality(b,c,d,h))):e(QueryFilters.ebvBoolean(a==f))):(QueryFilters.isSimpleLiteral(b)||QueryFilters.isXsdType("string",b))&&(QueryFilters.isSimpleLiteral(c)||QueryFilters.isXsdType("string",c))?e(QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(b)==QueryFilters.effectiveTypeValue(c))):
QueryFilters.isXsdType("boolean",b)&&QueryFilters.isXsdType("boolean",c)?e(QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(b)==QueryFilters.effectiveTypeValue(c))):(QueryFilters.isXsdType("dateTime",b)||QueryFilters.isXsdType("date",b))&&(QueryFilters.isXsdType("dateTime",c)||QueryFilters.isXsdType("date",c))?QueryFilters.isXsdType("dateTime",b)&&QueryFilters.isXsdType("date",c)?e(QueryFilters.ebvFalse()):QueryFilters.isXsdType("date",b)&&QueryFilters.isXsdType("dateTime",c)?e(QueryFilters.ebvFalse()):
(b=k.compareDateComponents(b.value,c.value),null!=b?0==b?e(QueryFilters.ebvTrue()):e(QueryFilters.ebvFalse()):e(QueryFilters.ebvError())):QueryFilters.isRDFTerm(b)&&QueryFilters.isRDFTerm(c)?e(QueryFilters.ebvBoolean(QueryFilters.RDFTermEquality(b,c,d,h))):e(QueryFilters.ebvFalse())};QueryFilters.runTotalGtFunction=function(b,c){return QueryFilters.isEbvError(b)||QueryFilters.isEbvError(c)?QueryFilters.ebvError():QueryFilters.isNumeric(b)&&QueryFilters.isNumeric(c)||QueryFilters.isSimpleLiteral(b)&&
QueryFilters.isSimpleLiteral(c)||QueryFilters.isXsdType("string",b)&&QueryFilters.isSimpleLiteral("string",c)||QueryFilters.isXsdType("boolean",b)&&QueryFilters.isSimpleLiteral("boolean",c)||QueryFilters.isXsdType("dateTime",b)&&QueryFilters.isSimpleLiteral("dateTime",c)?QueryFilters.runGtFunction(b,c,[]):b.token&&"uri"===b.token&&c.token&&"uri"===c.token?QueryFilters.ebvBoolean(b.value>c.value):b.token&&"literal"===b.token&&c.token&&"literal"===c.token?QueryFilters.ebvBoolean(""+b.value+b.type+b.lang>
""+c.value+c.type+c.lang):b.token&&"blank"===b.token&&c.token&&"blank"===c.token?QueryFilters.ebvBoolean(b.value>c.value):b.value&&c.value?QueryFilters.ebvBoolean(b.value>c.value):QueryFilters.ebvTrue()};QueryFilters.runComparisonFunction=function(b,c,a,d,f,h){QueryFilters.isEbvError(b)||QueryFilters.isEbvError(c)?h(QueryFilters.ebvError()):QueryFilters.isNumeric(b)&&QueryFilters.isNumeric(c)?h(QueryFilters.ebvBoolean(a(QueryFilters.effectiveTypeValue(b),QueryFilters.effectiveTypeValue(c)))):QueryFilters.isSimpleLiteral(b)&&
QueryFilters.isSimpleLiteral(c)?h(QueryFilters.ebvBoolean(a(QueryFilters.effectiveTypeValue(b),QueryFilters.effectiveTypeValue(c)))):QueryFilters.isXsdType("string",b)&&QueryFilters.isXsdType("string",c)?h(QueryFilters.ebvBoolean(a(QueryFilters.effectiveTypeValue(b),QueryFilters.effectiveTypeValue(c)))):QueryFilters.isXsdType("boolean",b)&&QueryFilters.isXsdType("boolean",c)?h(QueryFilters.ebvBoolean(a(QueryFilters.effectiveTypeValue(b),QueryFilters.effectiveTypeValue(c)))):(QueryFilters.isXsdType("dateTime",
b)||QueryFilters.isXsdType("date",b))&&(QueryFilters.isXsdType("dateTime",c)||QueryFilters.isXsdType("date",c))?QueryFilters.isXsdType("dateTime",b)&&QueryFilters.isXsdType("date",c)?h(QueryFilters.ebvFalse()):QueryFilters.isXsdType("date",b)&&QueryFilters.isXsdType("dateTime",c)?h(QueryFilters.ebvFalse()):(b=k.compareDateComponents(b.value,c.value),null!=b?h(QueryFilters.ebvBoolean(d(b))):h(QueryFilters.ebvError())):h(QueryFilters.ebvFalse())};QueryFilters.runLtFunction=function(b,c,a,d){QueryFilters.runComparisonFunction(b,
c,function(a,b){return a<b},function(a){return-1==compResult},a,d)};QueryFilters.runGtEqFunction=function(b,c,a,d){QueryFilters.runComparisonFunction(b,c,function(a,b){return a>=b},function(a){return-1!=a},a,d)};QueryFilters.runLtEqFunction=function(b,c,a,d){QueryFilters.runComparisonFunction(b,c,function(a,b){return a<=b},function(a){return 1!=a},a,d)};QueryFilters.runGtFunction=function(b,c,a,d){QueryFilters.runComparisonFunction(b,c,function(a,b){return a>b},function(a){return 1==a},a,d)};QueryFilters.runLtEqFunction=
function(b,c,a){if(QueryFilters.isEbvError(b)||QueryFilters.isEbvError(c))return QueryFilters.ebvError();if(QueryFilters.isNumeric(b)&&QueryFilters.isNumeric(c)||QueryFilters.isSimpleLiteral(b)&&QueryFilters.isSimpleLiteral(c)||QueryFilters.isXsdType("string",b)&&QueryFilters.isXsdType("string",c)||QueryFilters.isXsdType("boolean",b)&&QueryFilters.isXsdType("boolean",c))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(b)<=QueryFilters.effectiveTypeValue(c));if((QueryFilters.isXsdType("dateTime",
b)||QueryFilters.isXsdType("date",b))&&(QueryFilters.isXsdType("dateTime",c)||QueryFilters.isXsdType("date",c))){if(QueryFilters.isXsdType("dateTime",b)&&QueryFilters.isXsdType("date",c)||QueryFilters.isXsdType("date",b)&&QueryFilters.isXsdType("dateTime",c))return QueryFilters.ebvFalse();b=k.compareDateComponents(b.value,c.value);return null!=b?1!=b?QueryFilters.ebvTrue():QueryFilters.ebvFalse():QueryFilters.ebvError()}return QueryFilters.ebvFalse()};QueryFilters.runAddition=function(b,c,a,d,f,h,
e){QueryFilters.runFilter(b,a,d,f,h,function(b){QueryFilters.isEbvError(b)?e(QueryFilters.ebvError()):QueryFilters.isNumeric(b)?QueryFilters.runFilters(c.map(function(a){return a.expression}),a,d,f,h,function(a){for(var d=b,f=0;f<c.length;++f){var h=a[f];"+"===c[f].operator?d=QueryFilters.runSumFunction(d,h):"-"===c[f].operator&&(d=QueryFilters.runSubFunction(d,h))}e(d)}):(console.log(b),e(QueryFilters.ebvFalse()))})};QueryFilters.runSumFunction=function(b,c){if(QueryFilters.isEbvError(b)||QueryFilters.isEbvError(c))return QueryFilters.ebvError();
var a=QueryFilters.effectiveTypeValue(b)+QueryFilters.effectiveTypeValue(c);return QueryFilters.isDouble(b)||QueryFilters.isDouble(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:a}:QueryFilters.isFloat(b)||QueryFilters.isFloat(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",value:a}:QueryFilters.isDecimal(b)||QueryFilters.isDecimal(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",value:a}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",
value:a}};QueryFilters.runSubFunction=function(b,c){if(QueryFilters.isEbvError(b)||QueryFilters.isEbvError(c))return QueryFilters.ebvError();var a=QueryFilters.effectiveTypeValue(b)-QueryFilters.effectiveTypeValue(c);return QueryFilters.isDouble(b)||QueryFilters.isDouble(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:a}:QueryFilters.isFloat(b)||QueryFilters.isFloat(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",value:a}:QueryFilters.isDecimal(b)||QueryFilters.isDecimal(c)?
{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",value:a}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:a}};QueryFilters.runMultiplication=function(b,c,a,d,f,h,e){QueryFilters.runFilter(b,a,d,f,h,function(b){QueryFilters.isEbvError(b)?e(b):(QueryFilters.isNumeric(b)||e(QueryFilters.ebvFalse()),QueryFilters.runFilters(c.map(function(a){return a.expression}),a,d,f,h,function(a){for(var d=b,f=0;f<a.length;++f){if(QueryFilters.isEbvError(a[f])){e(b);return}if(QueryFilters.isNumeric(a[f]))"*"===
c[f].operator?d=QueryFilters.runMulFunction(d,a[f]):"/"===c[f].operator&&(d=QueryFilters.runDivFunction(d,a[f]));else{e(QueryFilters.ebvFalse());return}}e(d)}))})};QueryFilters.runMulFunction=function(b,c){if(QueryFilters.isEbvError(b)||QueryFilters.isEbvError(c))return QueryFilters.ebvError();var a=QueryFilters.effectiveTypeValue(b)*QueryFilters.effectiveTypeValue(c);return QueryFilters.isDouble(b)||QueryFilters.isDouble(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:a}:
QueryFilters.isFloat(b)||QueryFilters.isFloat(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",value:a}:QueryFilters.isDecimal(b)||QueryFilters.isDecimal(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",value:a}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:a}};QueryFilters.runDivFunction=function(b,c){if(QueryFilters.isEbvError(b)||QueryFilters.isEbvError(c))return QueryFilters.ebvError();var a=QueryFilters.effectiveTypeValue(b)/QueryFilters.effectiveTypeValue(c);
return QueryFilters.isDouble(b)||QueryFilters.isDouble(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:a}:QueryFilters.isFloat(b)||QueryFilters.isFloat(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",value:a}:QueryFilters.isDecimal(b)||QueryFilters.isDecimal(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",value:a}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:a}};QueryFilters.runBuiltInCall=function(b,c,a,d,f,
h,e){if("notexists"===b||"exists"===b)c=k.clone(c[0],!0),c=d.abstractQueryTree.parseSelect({pattern:c},a),c=d.abstractQueryTree.bind(c.pattern,a),d.executeSelectUnit([{kind:"*"}],f,c,h,function(a){"exists"===b?e(QueryFilters.ebvBoolean(0!==a.length)):e(QueryFilters.ebvBoolean(0===a.length))});else{var g=[];k.eachSeries(c,function(b,c){"var"===b.token?(g.push(b),c()):QueryFilters.runFilter(b,a,d,f,h,function(a){QueryFilters.isEbvError(a)?e(a):(g.push(a),c())})},function(){if("str"===b)"literal"===
g[0].token?e({token:"literal",type:null,value:""+g[0].value}):"uri"===g[0].token?e({token:"literal",type:null,value:g[0].value}):e(QueryFilters.ebvFalse());else if("lang"===b)"literal"===g[0].token?null!=g[0].lang?e({token:"literal",value:""+g[0].lang}):e({token:"literal",value:""}):e(QueryFilters.ebvError());else if("datatype"===b)if("literal"===g[0].token){var c=g[0];null!=c.type?"string"===typeof c.type?e({token:"uri",value:c.type,prefix:null,suffix:null}):e(c.type):null==c.lang?e({token:"uri",
value:"http://www.w3.org/2001/XMLSchema#string",prefix:null,suffix:null}):e(QueryFilters.ebvError())}else e(QueryFilters.ebvError());else if("isliteral"===b)"literal"===g[0].token?e(QueryFilters.ebvTrue()):e(QueryFilters.ebvFalse());else if("isblank"===b)"blank"===g[0].token?e(QueryFilters.ebvTrue()):e(QueryFilters.ebvFalse());else if("isuri"===b||"isiri"===b)"uri"===g[0].token?e(QueryFilters.ebvTrue()):e(QueryFilters.ebvFalse());else if("sameterm"===b)c=QueryFilters.RDFTermEquality(g[0],g[1],d,h),
QueryFilters.isEbvError(c)&&(c=!1),e(QueryFilters.ebvBoolean(c));else if("langmatches"===b){var c=g[0],f=g[1];"literal"===c.token&&"literal"===f.token?"*"===f.value&&""!=c.value?e(QueryFilters.ebvTrue()):e(QueryFilters.ebvBoolean(0===c.value.toLowerCase().indexOf(f.value.toLowerCase()))):e(QueryFilters.ebvError())}else if("bound"===b)c=g[0].value,null==c?e(QueryFilters.ebvError()):null!=a[c]?e(QueryFilters.ebvTrue()):e(QueryFilters.ebvFalse());else if(null!=d.customFns[b])e(d.customFns[b](QueryFilters,
g));else throw"Builtin call "+b+" not implemented yet";})}};QueryFilters.runUnaryExpression=function(b,c,a,d,f,h){c=QueryFilters.runFilter(c,a,d,f,h);if(QueryFilters.isEbvError(c))return c;if("!"===b){var e=QueryFilters.ebv(c);return QueryFilters.isEbvError(e)?QueryFilters.ebvFalse():QueryFilters.ebvBoolean(!e)}if("+"===b)return QueryFilters.isNumeric(c)?c:QueryFilters.ebvError();if("-"===b){if(QueryFilters.isNumeric(c)){b={};for(e in c)b[e]=c[e];b.value=-b.value;return b}return QueryFilters.ebvError()}};
QueryFilters.runRegex=function(b,c,a,d,f,h,e,g){var l;k.seq(function(a){null!=b?QueryFilters.runFilter(b,d,f,h,e,function(c){b=c;a()}):g(QueryFilters.ebvError())},function(a){null!=c?QueryFilters.runFilter(c,d,f,h,e,function(b){c=b;a()}):g(QueryFilters.ebvError())},function(b){null!=a?QueryFilters.runFilter(a,d,f,h,e,function(c){a=c;b()}):b()},function(b){null==c||"literal"!==c.token||null!=a&&"literal"!==a.token?g(QueryFilters.ebvError()):(c=c.value,a=null==a?null:a.value,b())},function(a){null!=
b&&"var"==b.token?null!=d[b.value]?(b=d[b.value],a()):g(QueryFilters.ebvError()):null!=b&&"literal"===b.token?null==b.type||QueryFilters.isXsdType("string",b)?(b=b.value,a()):g(QueryFilters.ebvError()):g(QueryFilters.ebvError())},function(d){l=null==a?new RegExp(c):new RegExp(c,a.toLowerCase());l.exec(b)?g(QueryFilters.ebvTrue()):g(QueryFilters.ebvFalse())})()};QueryFilters.normalizeLiteralDatatype=function(b,c,a){null!=b.value.type&&"object"==typeof b.value.type&&(b.value.type=k.lexicalFormBaseUri(b.value.type,
a));return b};QueryFilters.runIriRefOrFunction=function(b,c,a,d,f,h){if(null==c)return b;for(var e=[],g=0;g<c.length;g++)e.push(QueryFilters.runFilter(c[g],a,d,f,h));b=k.lexicalFormBaseUri(b,h);if("http://www.w3.org/2001/XMLSchema#integer"==b||"http://www.w3.org/2001/XMLSchema#decimal"==b||"http://www.w3.org/2001/XMLSchema#double"==b||"http://www.w3.org/2001/XMLSchema#nonPositiveInteger"==b||"http://www.w3.org/2001/XMLSchema#negativeInteger"==b||"http://www.w3.org/2001/XMLSchema#long"==b||"http://www.w3.org/2001/XMLSchema#int"==
b||"http://www.w3.org/2001/XMLSchema#short"==b||"http://www.w3.org/2001/XMLSchema#byte"==b||"http://www.w3.org/2001/XMLSchema#nonNegativeInteger"==b||"http://www.w3.org/2001/XMLSchema#unsignedLong"==b||"http://www.w3.org/2001/XMLSchema#unsignedInt"==b||"http://www.w3.org/2001/XMLSchema#unsignedShort"==b||"http://www.w3.org/2001/XMLSchema#unsignedByte"==b||"http://www.w3.org/2001/XMLSchema#positiveInteger"==b)if(e=e[0],"literal"===e.token){e=QueryFilters.normalizeLiteralDatatype(e,d,h);if("http://www.w3.org/2001/XMLSchema#integer"==
e.type||"http://www.w3.org/2001/XMLSchema#decimal"==e.type||"http://www.w3.org/2001/XMLSchema#double"==e.type||"http://www.w3.org/2001/XMLSchema#nonPositiveInteger"==e.type||"http://www.w3.org/2001/XMLSchema#negativeInteger"==e.type||"http://www.w3.org/2001/XMLSchema#long"==e.type||"http://www.w3.org/2001/XMLSchema#int"==e.type||"http://www.w3.org/2001/XMLSchema#short"==e.type||"http://www.w3.org/2001/XMLSchema#byte"==e.type||"http://www.w3.org/2001/XMLSchema#nonNegativeInteger"==e.type||"http://www.w3.org/2001/XMLSchema#unsignedLong"==
e.type||"http://www.w3.org/2001/XMLSchema#unsignedInt"==e.type||"http://www.w3.org/2001/XMLSchema#unsignedShort"==e.type||"http://www.w3.org/2001/XMLSchema#unsignedByte"==e.type||"http://www.w3.org/2001/XMLSchema#positiveInteger"==e.type)return e.type=b,e;if("http://www.w3.org/2001/XMLSchema#boolean"==e.type)return 1==QueryFilters.ebv(e)?(e.type=b,e.value=1):(e.type=b,e.value=0),e;if("http://www.w3.org/2001/XMLSchema#float"==e.type||"http://www.w3.org/2001/XMLSchema#double"==e.type)return e.type=
b,e.value=parseInt(e.value),e;if("http://www.w3.org/2001/XMLSchema#string"==e.type||null==e.type){if(2<e.value.split(".").length||2<e.value.split("-").length||2<e.value.split("/").length||2<e.value.split("+").length||"http://www.w3.org/2001/XMLSchema#decimal"==b&&(-1!=e.value.indexOf("e")||-1!=e.value.indexOf("E")))return QueryFilters.ebvError();if("http://www.w3.org/2001/XMLSchema#int"==b||"http://www.w3.org/2001/XMLSchema#integer"==b)if(-1!=e.value.indexOf("e")||-1!=e.value.indexOf("E")||-1!=e.value.indexOf("."))return QueryFilters.ebvError();
try{e.value=parseInt(parseFloat(e.value));if(isNaN(e.value))return QueryFilters.ebvError();e.type=b;return e}catch(l){return QueryFilters.ebvError()}}else return QueryFilters.ebvError()}else return QueryFilters.ebvError();else{if("http://www.w3.org/2001/XMLSchema#boolean"==b)return e=e[0],"literal"===e.token&&null==e.type?"true"===e.value||"1"===e.value?QueryFilters.ebvTrue():"false"===e.value||"0"===e.value?QueryFilters.ebvFalse():QueryFilters.ebvError():"literal"===e.token?QueryFilters.isEbvError(e)?
e:QueryFilters.ebvBoolean(e):QueryFilters.ebvError();if("http://www.w3.org/2001/XMLSchema#string"==b)return e=e[0],"literal"===e.token?(e=QueryFilters.normalizeLiteralDatatype(e,d,h),"http://www.w3.org/2001/XMLSchema#integer"==e.type||"http://www.w3.org/2001/XMLSchema#decimal"==e.type||"http://www.w3.org/2001/XMLSchema#double"==e.type||"http://www.w3.org/2001/XMLSchema#nonPositiveInteger"==e.type||"http://www.w3.org/2001/XMLSchema#negativeInteger"==e.type||"http://www.w3.org/2001/XMLSchema#long"==
e.type||"http://www.w3.org/2001/XMLSchema#int"==e.type||"http://www.w3.org/2001/XMLSchema#short"==e.type||"http://www.w3.org/2001/XMLSchema#byte"==e.type||"http://www.w3.org/2001/XMLSchema#nonNegativeInteger"==e.type||"http://www.w3.org/2001/XMLSchema#unsignedLong"==e.type||"http://www.w3.org/2001/XMLSchema#unsignedInt"==e.type||"http://www.w3.org/2001/XMLSchema#unsignedShort"==e.type||"http://www.w3.org/2001/XMLSchema#unsignedByte"==e.type||"http://www.w3.org/2001/XMLSchema#positiveInteger"==e.type||
"http://www.w3.org/2001/XMLSchema#float"==e.type?(e.type=b,e.value=""+e.value,e):"http://www.w3.org/2001/XMLSchema#string"==e.type?e:"http://www.w3.org/2001/XMLSchema#boolean"==e.type?(QueryFilters.ebv(e)?(e.type=b,e.value="true"):(e.type=b,e.value="false"),e):"http://www.w3.org/2001/XMLSchema#dateTime"==e.type||"http://www.w3.org/2001/XMLSchema#date"==e.type?(e.type=b,"string"!=typeof e.value&&(e.value=k.iso8601(e.value)),e):null==e.type?(e.value=""+e.value,e.type=b,e):QueryFilters.ebvError()):"uri"===
e.token?{token:"literal",value:k.lexicalFormBaseUri(e,h),type:b,lang:null}:QueryFilters.ebvError();if("http://www.w3.org/2001/XMLSchema#dateTime"==b||"http://www.w3.org/2001/XMLSchema#date"==b){e=e[0];if("http://www.w3.org/2001/XMLSchema#dateTime"==e.type||"http://www.w3.org/2001/XMLSchema#date"==e.type)return e;if("http://www.w3.org/2001/XMLSchema#string"==e.type||null==e.type)try{return e.value=k.iso8601(k.parseISO8601(e.value)),e.type=b,e}catch(l){return QueryFilters.ebvError()}else return QueryFilters.ebvError()}else if("http://www.w3.org/2001/XMLSchema#float"==
b)if(e=e[0],"literal"===e.token){e=QueryFilters.normalizeLiteralDatatype(e,d,h);if("http://www.w3.org/2001/XMLSchema#decimal"==e.type||"http://www.w3.org/2001/XMLSchema#int"==e.type)return e.type=b,e.value=parseFloat(e.value),e;if("http://www.w3.org/2001/XMLSchema#boolean"==e.type)return 1==QueryFilters.ebv(e)?(e.type=b,e.value=1):(e.type=b,e.value=0),e;if("http://www.w3.org/2001/XMLSchema#float"==e.type||"http://www.w3.org/2001/XMLSchema#double"==e.type)return e.type=b,e.value=parseFloat(e.value),
e;if("http://www.w3.org/2001/XMLSchema#string"==e.type)try{e.value=parseFloat(e.value);if(isNaN(e.value))return QueryFilters.ebvError();e.type=b;return e}catch(l){return QueryFilters.ebvError()}else if(null==e.type){if(2<e.value.split(".").length||2<e.value.split("-").length||2<e.value.split("/").length||2<e.value.split("+").length)return QueryFilters.ebvError();try{e.value=parseFloat(e.value);if(isNaN(e.value))return QueryFilters.ebvError();e.type=b;return e}catch(l){return QueryFilters.ebvError()}}else return QueryFilters.ebvError()}else return QueryFilters.ebvError();
else return QueryFilters.ebvError()}};y.exports={QueryFilters:QueryFilters}},{"./utils":59}],55:[function(r,y,x){var k=r("./utils"),n=r("./utils"),b={variablesInBGP:function(b){var a=b.variables;if(a)return a;var d=b.value||b,a=[],f;for(f in d)d[f]&&"var"===d[f].token?a.push(d[f].value):d[f]&&"blank"===d[f].token&&a.push("blank:"+d[f].value);return b.variables=a},connected:function(b,a){for(var d="/"+b.vars.join("/")+"/",f=0;f<a.vars.length;f++)if(-1!=d.indexOf("/"+a.vars[f]+"/"))return!0;return!1},
variablesIntersectionBGP:function(c,a){for(var d=b.variablesInBGP(c),f=b.variablesInBGP(a),h={},e=0;e<d.lenght;e++)h[d[e]]=1;for(e=0;e<f.length;e++)d=h[f[e]]||0,d++,h[f[e]]=d;var f=[],g;for(g in h)2==h[g]&&f.push(h[g]);return f},executeAndBGPsGroups:function(c){for(var a={},d={},f=0,h=function(a,b){for(var c=0;c<a.length;c++)if(-1!=b.indexOf("/"+a[c]+"/"))return!0;return!1},e=function(b,c,e,f){var g=[],h="",l="",k;for(k in c)h+=k,g=g.concat(a[k]),l+=d[k];l=l+v.join("/")+"/";g.push(b);e[h]=g;f[h]=
l},g=0;g<c.length;g++){var l=c[g],m={},t={},v=b.variablesInBGP(l),n={},r;for(r in d)h(v,d[r])?n[r]=!0:(m[r]=a[r],t[r]=d[r]);0===k.size(n)?(m["g"+f]=[l],t["g"+f]="/"+v.join("/")+"/",f++):e(l,n,m,t);a=m;d=t}return k.values(a)},intersectionSize:function(b,a){for(var d=a.i.split("_"),f=0;f<d.length;f++)if(""!=d[f]&&-1!=b.i.indexOf("_"+d[f]+"_"))return 1;return 0},createJoinTree:function(b,a){for(var d="/"+b.vars.join("/")+"/",f=b.vars.concat([]),h=[],e=0;e<a.vars.length;e++)-1!=d.indexOf("/"+a.vars[e]+
"/")?0==a.vars[e].indexOf("_:")?h.push("blank:"+a.vars[e]):h.push(a.vars[e]):f.push(a.vars[e]);for(var d=a.i.split("_"),g=b.i.split("_"),l={},e=0;e<d.length;e++)""!=d[e]&&(l[d[e]]=!0);for(e=0;e<g.length;e++)""!=g[e]&&(l[g[e]]=!0);e=k.keys(l);return{left:b,right:a,cost:b.cost+a.cost,i:"_"+e.sort().join("_")+"_",vars:f,join:h}},executeBushyTree:function(c,a,d,f,h){null==c.left?b.executeEmptyJoinBGP(c.right,a,d,f,h):null==c.right?b.executeEmptyJoinBGP(c.left,a,d,f,h):b.executeBushyTree(c.left,a,d,f,
function(e){null!=e?b.executeBushyTree(c.right,a,d,f,function(a){null!=a?h(b.joinBindings2(c.join,e,a)):h(null)}):h(null)})},executeAndBGPsDPSize:function(c,a,d,f,h){c=b.executeAndBGPsGroups(c);var e=[];n.eachSeries(c,function(a,c){d.computeCosts(a,f,function(a){a=a.map(b.buildSize1Plan);for(var d=a[0],f=1;f<a.length;++f)d=b.createJoinTree(d,a[f]);e.push(d);c()})},function(){var c=null;n.eachSeries(e,function(e,h){b.executeBushyTree(e,a,d,f,function(a){a?(c=null==c?a:b.crossProductBindings(c,a),h()):
h("Error executing bushy tree")})},function(a){a?h(null,a):h(c)})})},buildSize1Plan:function(b,a){var d=[];delete b.variables;for(var f in b)"_cost"!=f&&("var"===b[f].token?d.push(b[f].value):"blank"===b[f].token&&d.push(b[f].value));d={left:b,right:null,cost:b._cost,i:"_"+a+"_",vars:d};delete b._cost;return d},executeAndBGPsDPSizeOld:function(c,a,d,f,h){c=b.executeAndBGPsGroups(c);var e=[];n.eachSeries(c,function(a,c){d.computeCosts(a,f,function(a){var d={},f={},g={},h,k=null,n={};g["1"]=[];for(var r=
0;r<a.length;r++){var x=[];delete a[r].variables;for(h in a[r])"_cost"!=h&&("var"===a[r][h].token?x.push(a[r][h].value):"blank"===a[r][h].token&&x.push(a[r][h].value));f["_"+r+"_"]={left:a[r],right:null,cost:a[r]._cost,i:"_"+r+"_",vars:x};x={left:a[r],right:null,cost:a[r]._cost,i:"_"+r+"_",vars:x};d["_"+r+"_"]=x;delete a[r]._cost;n["_"+r+"_"]=!0;g["1"].push("_"+r+"_");if(null==k||k.cost>x.cost)k=x}for(x=2;x<=a.length;x++)for(var y=1;y<x;y++)for(var u=g[""+y]||[],q=g[""+(x-y)]||[],r=0;r<u.length;r++)for(var C=
0;C<q.length;C++)if(u[r]!==q[C]){var A=f[u[r]],z=f[q[C]];if(0==b.intersectionSize(A,z)&&b.connected(A,z)&&(h=x,A=b.createJoinTree(d[A.i],d[z.i]),!n[A.i])){n[A.i]=!0;z=A.cost+1;null!=d[A.i]&&(z=d[A.i].cost);var N=g[x]||[];N.push(A.i);f[A.i]=A;g[x]=N;z>A.cost&&(h===x&&(k=A),d[A.i]=A)}}e.push(k);c()})},function(){var c=null;n.eachSeries(e,function(e,h){b.executeBushyTree(e,a,d,f,function(a){a?(c=null==c?a:b.crossProductBindings(c,a),h()):h("Error executing bushy tree")})},function(a){a?h(null,a):h(c)})})},
executeEmptyJoinBGP:function(c,a,d,f,h){return b.executeBGPDatasets(c,a,d,f,h)},executeBGPDatasets:function(c,a,d,f,h){var e={};if(null==c.graph){var g=[];n.eachSeries(a.implicit,function(a,h){null==e[a.oid]?(e[a.oid]=!0,c.graph=a,d.rangeQuery(c,f,function(a){a=b.buildBindingsFromRange(a,c);g.push(a);h()})):h()},function(){var a=b.unionManyBindings(g);h(a)})}else if("var"===c.graph.token){var k=c.graph.value,g=[];n.eachSeries(a.named,function(a,h){null==e[a.oid]&&(e[a.oid]=!0,c.graph=a,null!=g?d.rangeQuery(c,
f,function(d){if(null!=d){d=b.buildBindingsFromRange(d,c);for(var e=0;e<d.length;e++)d[e][k]=a.oid;g.push(d)}else g=null;h()}):h())},function(){if(null==g)h(null);else{var a=b.unionManyBindings(g);h(a)}})}else d.rangeQuery(c,f,function(a){null!=a?(a=b.buildBindingsFromRange(a,c),h(a)):h(null)})},buildBindingsFromRange:function(c,a){b.variablesInBGP(a);var d=a.value||a,f={};for(m in d)d[m]&&"var"===d[m].token?f[m]=d[m].value:d[m]&&"blank"===d[m].token&&(f[m]="blank:"+d[m].value);d=[];if(null!=c)for(var h=
0;h<c.length;h++){var e={},g=c[h],k=!1,m;for(m in f){var t=g[m];if(null==e[f[m]]||e[f[m]]===t)e[f[m]]=t;else{k=!0;break}}k||d.push(e)}return d},areCompatibleBindings:function(b,a){for(var d in b)if(null!=a[d]&&a[d]!=b[d])return!1;return!0},mergeBindings:function(b,a){var d={},f;for(f in b)d[f]=b[f];for(f in a)d[f]=a[f];return d},joinBindings2:function(c,a,d){for(var f={},h,e,g,k,m=[],t=0;t<a.length;t++){h=a[t];k=f;for(var v=0;v<c.length;v++)e=c[v],e=h[e],v==c.length-1?(g=k[e]||[],g.push(h),k[e]=g):
(g=k[e]||{},k=k[e]=g)}for(t=0;t<d.length;t++)for(h=d[t],k=f,v=0;v<c.length;v++)if(e=c[v],e=h[e],null!=k[e])if(v==c.length-1)for(a=0;a<k[e].length;a++)m.push(b.mergeBindings(k[e][a],h));else k=k[e];return m},joinBindings:function(c,a){for(var d=[],f=0;f<c.length;f++)for(var h=c[f],e=0;e<a.length;e++){var g=a[e];b.areCompatibleBindings(h,g)&&d.push(b.mergeBindings(h,g))}return d},augmentMissingBindings:function(b,a){for(var d in a)null==b[d]&&(b[d]=null);return b},leftOuterJoinBindings:function(c,a){for(var d=
[],f=0;f<c.length;f++){for(var h=c[f],e=!1,g=0;g<a.length;g++){var k=a[g];b.areCompatibleBindings(h,k)&&(e=!0,d.push(b.mergeBindings(h,k)))}!1===e&&(b.augmentMissingBindings(h,k),d.push(h))}return d},crossProductBindings:function(c,a){for(var d=[],f=0;f<c.length;f++)for(var h=c[f],e=0;e<a.length;e++)d.push(b.mergeBindings(h,a[e]));return d},unionBindings:function(b,a){return b.concat(a)},unionManyBindings:function(c){for(var a=[],d=0;d<c.length;d++)a=b.unionBindings(a,c[d]);return a}};y.exports={QueryPlan:b}},
{"./utils":59}],56:[function(r,y,x){var k=r("./network_transport").NetworkTransport,n=r("./rvn3_parser").RVN3Parser,b=r("./jsonld_parser").JSONLDParser,c=r("./utils");x=function(a){this.precedences=["text/turtle","text/n3","application/ld+json","application/json"];this.parsers={"text/turtle":n.parser,"text/n3":n.parser,"application/ld+json":b.parser,"application/json":b.parser};"undefined"!==typeof RDFXMLParser&&(this.precedences.push("application/rdf+xml"),this.parsers["application/rdf+xml"]=RDFXMLParser.parser);
if(null!=a)for(var d in a.parsers)this.parsers[d]=a.parsers[d];if(a&&null!=a.precedences)for(d in this.precedences=a.precedences,a.parsers)c.include(this.precedences,d)||this.precedences.push(d);this.acceptHeaderValue="";for(a=0;a<this.precedences.length;a++)this.acceptHeaderValue=0!=a?this.acceptHeaderValue+","+this.precedences[a]:this.acceptHeaderValue+this.precedences[a]};x.prototype.registerParser=function(a,b){this.parsers[a]=b;this.precedences.push(a)};x.prototype.unregisterParser=function(a){delete this.parsers[a];
for(var b=[],c=0;c<this.precedences.length;c++)this.precedences[c]!=a&&b.push(this.precedences[c]);this.precedences=b};x.prototype.setAcceptHeaderPrecedence=function(a){this.precedences=a};x.prototype.load=function(a,b,c){var h=this;k.load(a,this.acceptHeaderValue,function(e,g){if(e)c(e);else{var k=g.headers["Content-Type"]||g.headers["content-type"],m=g.data;if(null!=k){var k=k.split(";")[0],t;for(t in h.parsers)if(-1!=t.indexOf("/")){var v=t.split("/");if("*"===v[1]){if(-1!=k.indexOf(v[0]))return h.tryToParse(h.parsers[t],
b,m,{documentURI:a},c)}else if(-1!=k.indexOf(t)||-1!=k.indexOf(v[1]))return h.tryToParse(h.parsers[t],b,m,{documentURI:a},c)}else if(-1!=k.indexOf(t))return h.tryToParse(h.parsers[t],b,m,{documentURI:a},c);c(Error("Unknown media type : "+k))}else c(Error("Uknown media type"))}})};x.prototype.loadFromFile=function(a,b,c,h){try{var e=this;r("fs").readFile(c.split("file:/")[1],function(g,k){g?h(g):(k=k.toString("utf8"),e.tryToParse(a,b,k,{documentURI:c},h))})}catch(g){h(g)}};x.prototype.tryToParse=function(a,
b,f,h,e){try{"string"===typeof f&&(f=c.normalizeUnicodeLiterals(f)),a.parse(f,b,h,e)}catch(g){console.log(g.message),console.log(g.stack),e(g)}};y.exports={RDFLoader:x}},{"./jsonld_parser":45,"./network_transport":47,"./rvn3_parser":58,"./utils":59,fs:1}],57:[function(r,y,x){var k=r("./utils"),n=r("./query_filters").QueryFilters;RDFModel={defaultContext:{rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",owl:"http://www.w3.org/2002/07/owl#",xsd:"http://www.w3.org/2001/XMLSchema#",
dcterms:"http://purl.org/dc/terms/",foaf:"http://xmlns.com/foaf/0.1/",cal:"http://www.w3.org/2002/12/cal/ical#",vcard:"http://www.w3.org/2006/vcard/ns# ",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",cc:"http://creativecommons.org/ns#",sioc:"http://rdfs.org/sioc/ns#",doap:"http://usefulinc.com/ns/doap#",com:"http://purl.org/commerce#",ps:"http://purl.org/payswarm#",gr:"http://purl.org/goodrelations/v1#",sig:"http://purl.org/signature#",ccard:"http://purl.org/commerce/creditcard#",ldp:"http://www.w3.org/ns/ldp#"},
UrisMap:function(){this.defaultNs="";this.interfaceProperties="get remove set setDefault addAll resolve shrink".split(" ")}};RDFModel.UrisMap.prototype.values=function(){var b={},c;for(c in this)k.include(this.interfaceProperties,c)||"function"===typeof this[c]||"defaultNs"===c||"interfaceProperties"===c||(b[c]=this[c]);return b};RDFModel.UrisMap.prototype.get=function(b){if(-1!=b.indexOf(" "))throw"Prefix must not contain any whitespaces";return this[b]};RDFModel.UrisMap.prototype.remove=function(b){if(-1!=
b.indexOf(" "))throw"Prefix must not contain any whitespaces";delete this[b];return null};RDFModel.UrisMap.prototype.set=function(b,c){if(-1!=b.indexOf(" "))throw"Prefix must not contain any whitespaces";this[b]=c};RDFModel.UrisMap.prototype.setDefault=function(b){this.defaultNs=b};RDFModel.UrisMap.prototype.addAll=function(b,c){for(var a in b)k.include(this.interfaceProperties,a)||(null!=this[a]?!0===c&&(this[a]=b[a]):this[a]=b[a]);return this};RDFModel.UrisMap.prototype.resolve=function(b){var c=
b.split(":");b=c[0];c=c[1];return""===b?null==this.defaultNs?null:this.defaultNs+c:null!=this[b]?this[b]+c:null};RDFModel.UrisMap.prototype.shrink=function(b){for(var c in this){var a=this[c];if(0===b.indexOf(a)&&""!==a&&"defaultNs"!=c)return b=b.split(a)[1],c+":"+b}return b};RDFModel.Profile=function(){this.prefixes=new RDFModel.UrisMap;this.terms=new RDFModel.UrisMap};RDFModel.Profile.prototype.importProfile=function(b,c){this.prefixes.addAll(b.prefixes,c);this.terms.addAll(b.terms,c)};RDFModel.Profile.prototype.resolve=
function(b){return-1!=b.indexOf(":")?this.prefixes.resolve(b):null!=this.terms[b]?this.terms.resolve(b):null};RDFModel.Profile.prototype.setDefaultPrefix=function(b){this.prefixes.setDefault(b)};RDFModel.Profile.prototype.setDefaultVocabulary=function(b){this.terms.setDefault(b)};RDFModel.Profile.prototype.setPrefix=function(b,c){this.prefixes.set(b,c)};RDFModel.Profile.prototype.setTerm=function(b,c){this.terms.set(b,c)};RDFModel.RDFEnvironment=function(){RDFModel.Profile.call(this);this.blankNodeCounter=
0;var b=this;this.filters={s:function(a){return function(b){return b.subject.equals(a)}},p:function(a){return function(b){return b.predicate.equals(a)}},o:function(a){return function(b){return b.object.equals(a)}},sp:function(a,b){return function(c){return c.subject.equals(a)&&c.predicate.equals(b)}},so:function(a,b){return function(c){return c.subject.equals(a)&&c.object.equals(b)}},po:function(a,b){return function(c){return c.predicate.equals(a)&&c.object.equals(b)}},spo:function(a,b,c){return function(h){return h.subject.equals(a)&&
h.predicate.equals(b)&&h.object.equals(c)}},describes:function(a){return function(b){return b.subject.equals(a)||b.object.equals(a)}},type:function(a){var c=b.resolve("rdf:type");return function(b){return b.predicate.equals(c)&&b.object.equals(a)}}};for(var c in RDFModel.defaultContext)this.prefixes.set(c,RDFModel.defaultContext[c])};RDFModel.RDFEnvironment.prototype=k.create(RDFModel.Profile.prototype,{constructor:RDFModel.RDFEnvironment});RDFModel.RDFEnvironment.prototype.createBlankNode=function(){var b=
new RDFModel.BlankNode(this.blankNodeCounter);this.blankNodeCounter++;return b};RDFModel.RDFEnvironment.prototype.createNamedNode=function(b){var c=this.resolve(b);return null!=c?new RDFModel.NamedNode(c):new RDFModel.NamedNode(b)};RDFModel.RDFEnvironment.prototype.createLiteral=function(b,c,a){return null!=a?new RDFModel.Literal(b,c,a.toString()):new RDFModel.Literal(b,c,a)};RDFModel.RDFEnvironment.prototype.createTriple=function(b,c,a){return new RDFModel.Triple(b,c,a)};RDFModel.RDFEnvironment.prototype.createGraph=
function(b){var c=new RDFModel.Graph;if(null!=b)for(var a=0;a<b.length;a++)c.add(b[a]);return c};RDFModel.RDFEnvironment.prototype.createAction=function(b,c){return function(a){return b(a)?c(a):a}};RDFModel.RDFEnvironment.prototype.createProfile=function(b){if(!0===b)return new RDFModel.RDFEnvironment.Profile;b=new RDFModel.RDFEnvironment.Profile;b.importProfile(this);return b};RDFModel.RDFEnvironment.prototype.createTermMap=function(b){if(!0===b)return new RDFModel.UrisMap;b=this.terms.values();
var c=new RDFModel.UrisMap,a;for(a in b)c[a]=b[a];return c};RDFModel.RDFEnvironment.prototype.createPrefixMap=function(b){if(!0===b)return new RDFModel.UrisMap;b=this.prefixes.values();var c=new RDFModel.UrisMap,a;for(a in b)c[a]=b[a];return c};RDFModel.RDFNode=function(b){this.interfaceName=b;this.attributes=["interfaceName","nominalValue"]};RDFModel.RDFNode.prototype.equals=function(b){if(null==b.interfaceName)return this.valueOf()==b;for(var c in this.attributes){var a=this.attributes[c];if(this[a]!=
b[a])return!1}return!0};RDFModel.BlankNode=function(b){RDFModel.RDFNode.call(this,"BlankNode");this.nominalValue="_:"+b;this.bnodeId=b};RDFModel.BlankNode.prototype=k.create(RDFModel.RDFNode.prototype,{constructor:RDFModel.BlankNode});RDFModel.BlankNode.prototype.toString=function(){return this.nominalValue};RDFModel.BlankNode.prototype.toNT=function(){return this.nominalValue};RDFModel.BlankNode.prototype.valueOf=function(){return this.nominalValue};RDFModel.Literal=function(b,c,a){RDFModel.RDFNode.call(this,
"Literal");this.nominalValue=b;null!=c?this.language=c:null!=a&&(this.datatype=a)};RDFModel.Literal.prototype=k.create(RDFModel.RDFNode.prototype,{constructor:RDFModel.Literal});RDFModel.Literal.prototype.toString=function(){var b='"'+this.nominalValue+'"';if(null!=this.language)b=b+"@"+this.language;else if(null!=this.datatype||this.type)b=b+"^^<"+(this.datatype||this.type)+">";return b};RDFModel.Literal.prototype.toNT=function(){return this.toString()};RDFModel.Literal.prototype.valueOf=function(){return n.effectiveTypeValue({token:"literal",
type:this.type||this.datatype,value:this.nominalValue,language:this.language})};RDFModel.NamedNode=function(b){RDFModel.RDFNode.call(this,"NamedNode");this.nominalValue=null!=b.value?b.value:b};RDFModel.NamedNode.prototype=k.create(RDFModel.RDFNode.prototype,{constructor:RDFModel.NamedNode});RDFModel.NamedNode.prototype.toString=function(){return this.nominalValue};RDFModel.NamedNode.prototype.toNT=function(){return"<"+this.toString()+">"};RDFModel.NamedNode.prototype.valueOf=function(){return this.nominalValue};
RDFModel.Triple=function(b,c,a){this.subject=b;this.predicate=c;this.object=a};RDFModel.Triple.prototype.equals=function(b){return this.subject.equals(b.subject)&&this.predicate.equals(b.predicate)&&this.object.equals(b.object)};RDFModel.Triple.prototype.toString=function(){return this.subject.toNT()+" "+this.predicate.toNT()+" "+this.object.toNT()+" . \r\n"};RDFModel.Graph=function(){this.triples=[];this.duplicates={};this.actions=[];this.length=0};RDFModel.Graph.prototype.add=function(b){for(var c=
0;c<this.actions.length;c++)b=this.actions[c](b);c=b.subject.toString()+b.predicate.toString()+b.object.toString();this.duplicates[c]||(this.duplicates[c]=!0,this.triples.push(b));this.length=this.triples.length;return this};RDFModel.Graph.prototype.addAction=function(b,c){this.actions.push(b);if(1==c)for(var a=0;a<this.triples.length;a++)this.triples[a]=b(this.triples[a]);return this};RDFModel.Graph.prototype.addAll=function(b){b=b.toArray();for(var c=0;c<b.length;c++)this.add(b[c]);this.length=
this.triples.length;return this};RDFModel.Graph.prototype.remove=function(b){for(var c=null,a=0;a<this.triples.length;a++)if(this.triples[a].equals(b)){delete this.duplicates[b.subject.toString()+b.predicate.toString()+b.object.toString()];c=a;break}null!=c&&this.triples.splice(c,1);this.length=this.triples.length;return this};RDFModel.Graph.prototype.toArray=function(){return this.triples};RDFModel.Graph.prototype.some=function(b){for(var c=0;c<this.triples.length;c++)if(!0===b(this.triples[c],this))return!0;
return!1};RDFModel.Graph.prototype.every=function(b){for(var c=0;c<this.triples.length;c++)if(!1===b(this.triples[c],this))return!1;return!0};RDFModel.Graph.prototype.filter=function(b){for(var c=new RDFModel.Graph,a=0;a<this.triples.length;a++)!0===b(this.triples[a],this)&&c.add(this.triples[a]);return c};RDFModel.Graph.prototype.forEach=function(b){for(var c=0;c<this.triples.length;c++)b(this.triples[c],this)};RDFModel.Graph.prototype.merge=function(b){b=new RDFModel.Graph;for(var c=0;c<this.triples.length;c++)b.add(this.triples[c]);
return b};RDFModel.Graph.prototype.match=function(b,c,a,d){for(var f=new RDFModel.Graph,h=0,e=0;e<this.triples.length;e++){var g=this.triples[e];if(null==b||g.subject.equals(b))if(null==c||g.predicate.equals(c))if(null==a||g.object.equals(a))if(null==d||h<d)h++,f.add(g);else break}return f};RDFModel.Graph.prototype.removeMatches=function(b,c,a){for(var d=[],f=0;f<this.triples.length;f++){var h=this.triples[f];if(null==b||h.subject.equals(b))null!=c&&!h.predicate.equals(c)||null!=a&&!h.object.equals(a)||
d.push(h)}for(f=0;f<d.length;f++)this.remove(d[f]);return this};RDFModel.Graph.prototype.toNT=function(){var b="";this.forEach(function(c){b+=c.toString()});return b};RDFModel.buildRDFResource=function(b,c,a,d){return"blank"===b.token?RDFModel.buildBlankNode(b,c,a,d):"literal"===b.token?RDFModel.buildLiteral(b,c,a,d):"uri"===b.token?RDFModel.buildNamedNode(b,c,a,d):"var"===b.token?(b=c[b.value],null!=b?RDFModel.buildRDFResource(b,c,a,d):null):null};RDFModel.buildBlankNode=function(b,c,a,d){null!=
b.valuetmp&&(b.value=b.valuetmp);0===b.value.indexOf("_:")&&(b.value=b.value.split("_:")[1]);return new RDFModel.BlankNode(b.value)};RDFModel.buildLiteral=function(b,c,a,d){return new RDFModel.Literal(b.value,b.lang,b.type)};RDFModel.buildNamedNode=function(b,c,a,d){null==b.value&&null!=b.prefix&&(c=a.resolveNsInEnvironment(b.prefix,d),b.value=c+b.suffix);return new RDFModel.NamedNode(b)};RDFModel.rdf=new RDFModel.RDFEnvironment;y.exports=RDFModel},{"./query_filters":54,"./utils":59}],58:[function(r,
y,x){function k(b){switch(b[0]){case '"':return 0<b.indexOf("^^")?(b=b.split("^^"),{literal:b[0]+"^^<"+b[1]+">"}):{literal:b};case "_":return{blank:b.replace("b","")};default:return{token:"uri",value:b,prefix:null,suffix:null}}}var n=r("n3").Parser;y.exports={RVN3Parser:{parser:{async:!0,parse:function(b,c,a,d){d||(d=a,a=c,c=null);c&&"string"===typeof c&&(c={token:"uri",value:c,prefix:null,suffix:null});a&&a.baseURI&&(a.documentIRI=a.baseURI);var f=[];(new n(a)).parse(b,function(a,b){a?d(a):b?f.push({subject:k(b.subject),
predicate:k(b.predicate),object:k(b.object),graph:c}):d(!1,f)})},resetBlankNodeIds:function(){n._resetBlankNodeIds()}}}}},{n3:33}],59:[function(r,y,x){(function(k){var n=function(){return"undefined"!==typeof k&&k.nextTick?k.nextTick:"undefined"!==typeof window&&window.setImmediate?window.setImmediate:function(a){setTimeout(a,0)}}(),b=0,c=100,a=function(a){b++;b<c?a():(b=0,n(a))},d=function(a){try{if(null==a)return"";if("uri"===a.token)return"u"+a.value;if("blank"===a.token)return"b"+a.value;if("literal"===
a.token){var b="l"+a.value,b=b+(a.type||"");return b+=a.lang||""}}catch(c){if("object"===typeof a){b="";for(p in a)b=b+p+a[p];return b}return a}};parseISO8601=function(a){return Date.parse(a)};Date.prototype.toISOString||function(){function a(b){return 10>b?"0"+b:b}Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"."+(this.getUTCMilliseconds()/1E3).toFixed(3).slice(2,
5)+"Z"}}();iso8601=function(a){return a.toISOString()};compareDateComponents=function(a,b){var c=parseISO8601(a),d=parseISO8601(b);return c==d?0:c<d?-1:1};lexicalFormLiteral=function(a,b){var c=a.value,d=a.lang,e=a.type;null!=c&&null!=e&&"string"!=typeof e?(c=e.value,null==c&&(c=e.suffix,e=b.namespaces[e.prefix],a.type=e+c,c=e+c),e=-1!=c.indexOf("hexBinary")?'"'+a.value.toLowerCase()+'"^^<'+c+">":'"'+a.value+'"^^<'+c+">"):e=null==d&&null==e?'"'+c+'"':null==e?'"'+c+'"@'+d:-1!=e.indexOf("hexBinary")?
'"'+a.value.toLowerCase()+'"^^<'+e+">":'"'+a.value+'"^^<'+e+">";return e};normalizeUnicodeLiterals=function(a){for(var b=a.match(/\\u[0-9abcdefABCDEF]{4,4}/g)||[],c={},d=0;d<b.length;d++)null==c[b[d]]&&(c[b[d]]=!0,a=a.replace(new RegExp("\\"+b[d],"g"),eval("'"+b[d]+"'")));return a};registerIndexedDB=function(a){if("undefined"===typeof window){var b=r("sqlite3"),c=r("indexeddb-js"),b=new b.Database(":memory:"),c=c.makeScope("sqlite3",b);a.indexedDB=c.indexedDB;a.IDBKeyRange=c.IDBKeyRange}else window.indexedDB=
window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,window.IDBKeyRange=window.IDBKeyRange||window.webkitIDBKeyRange||window.msIDBKeyRange,window.indexedDB?(a.indexedDB=window.indexedDB,a.IDBKeyRange=window.IDBKeyRange):callback(null,Error("The browser does not support IndexDB."))};guid=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()};var d=function(a){try{if(null==a)return"";
if("uri"===a.token)return"u"+a.value;if("blank"===a.token)return"b"+a.value;if("literal"===a.token){var b="l"+a.value,b=b+(a.type||"");return b+=a.lang||""}}catch(c){if("object"===typeof a){b="";for(p in a)b=b+p+a[p];return b}return a}},f=function(a,b){for(var c=[],d=0;d<a.length;d++)b(a[d])&&c.push(a[d]);return c},h=function(a,b){if(a.forEach)a.forEach(b);else for(var c=0;c<a.length;c++)b(a[c])};clone=function(a){return JSON.parse(JSON.stringify(a))};var e=function(){function a(){}return function(b){var c=
typeof b;if("function"==c||b&&"object"==c){a.prototype=b;var d=new a;a.prototype=null}return d||void 0}}(),g=function(a,b,c){a()?b(function(d){if(d)return c(d);g(a,b,c)}):c()},l=function(b,c,d){d=d||function(){};if(!b.length)return d();var e=0,f=function(){c(b[e],function(c){c?(d(c),d=function(){}):(e+=1,e>=b.length?d():a(f))})};f()},m=function(a,b,c,d){l(a,function(a,d){c(b,a,function(a,c){b=c;d(a)})},function(a){d(a,b)})};y.exports={nextTick:a,hasTerm:d,lexicalFormBaseUri:function(a,b){var c;b=
b||{};if(null==a.value){c=a.prefix;var d=a.suffix,e=b.namespaces[c];c=null!=e?e+d:c+":"+d}else c=a.value;if(null===c)return null;-1==c.indexOf(":")&&(c=(b.base||"")+c);return c},parseISO8601:parseISO8601,compareDateComponents:compareDateComponents,iso8601:iso8601,normalizeUnicodeLiterals:normalizeUnicodeLiterals,lexicalFormLiteral:lexicalFormLiteral,registerIndexedDB:registerIndexedDB,guid:guid,hashTerm:d,keys:function(a){var b=[],c;for(c in a)b.push(c);return b},values:function(a){var b=[],c;for(c in a)b.push(a[c]);
return b},size:function(a){if(a.length)return a.length;var b=0,c;for(c in a)b++;return b},map:function(a,b){if(a.map)return a.map(b);for(var c=[],d=0;d<a.length;d++)c[d]=b(a[d]);return c},each:h,forEach:h,include:function(a,b){for(var c=0;c<a.length;c++)if(a[c]===b)return!0;return!1},reject:f,remove:f,clone:clone,create:e,whilst:g,eachSeries:l,seq:function(){var a=arguments;return function(){var b=this,c=Array.prototype.slice.call(arguments),d=c.pop();m(a,c,function(a,c,d){c.apply(b,a.concat([function(){var a=
arguments[0],b=Array.prototype.slice.call(arguments,1);d(a,b)}]))},function(a,c){d.apply(b,[a].concat(c))})}},range:function(a){for(var b=[],c=0;c<a;++c)b.push(c);return b},yieldFrequency:function(a){c=a}}}).call(this,r("1YiZ5S"))},{"1YiZ5S":13}]},{},[43])(43)});
