/*
 BSD 3-Clause License
 Copyright (c) 2011-2014 Digital Bazaar, Inc.
 All rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are met:

 Redistributions of source code must retain the above copyright notice,
 this list of conditions and the following disclaimer.

 Redistributions in binary form must reproduce the above copyright
 notice, this list of conditions and the following disclaimer in the
 documentation and/or other materials provided with the distribution.

 Neither the name of the Digital Bazaar, Inc. nor the names of its
 contributors may be used to endorse or promote products derived from
 this software without specific prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
 TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
 PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
 TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/
!function(ga){if("object"==typeof exports)module.exports=ga();else if("function"==typeof define&&define.amd)define(ga);else{var u;"undefined"!=typeof window?u=window:"undefined"!=typeof global?u=global:"undefined"!=typeof self&&(u=self);u.rdfstore=ga()}}(function(){return function u(z,w,l){function t(a,d){if(!w[a]){if(!z[a]){var c="function"==typeof require&&require;if(!d&&c)return c(a,!0);if(b)return b(a,!0);throw Error("Cannot find module '"+a+"'");}c=w[a]={exports:{}};z[a][0].call(c.exports,function(d){var b=
z[a][1][d];return t(b?b:d)},c,c.exports,u,z,w,l)}return w[a].exports}for(var b="function"==typeof require&&require,c=0;c<l.length;c++)t(l[c]);return t}({1:[function(u,z,w){(function(){function l(b){this.message=b}var t="undefined"!=typeof w?w:this;l.prototype=Error();l.prototype.name="InvalidCharacterError";t.btoa||(t.btoa=function(b){for(var c,a,d=0,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",g="";b.charAt(d|0)||(f="=",d%1);g+=f.charAt(63&c>>8-d%1*8)){a=b.charCodeAt(d+=
.75);if(255<a)throw new l("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");c=c<<8|a}return g});t.atob||(t.atob=function(b){b=b.replace(/=+$/,"");if(1==b.length%4)throw new l("'atob' failed: The string to be decoded is not correctly encoded.");for(var c=0,a,d,f=0,g="";d=b.charAt(f++);~d&&(a=c%4?64*a+d:d,c++%4)?g+=String.fromCharCode(255&a>>(-2*c&6)):0)d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(d);return g})})()},{}],2:[function(u,
z,w){(function(l){function t(b){b=b.charCodeAt(0);if(43===b||45===b)return 62;if(47===b||95===b)return 63;if(48>b)return-1;if(58>b)return b-48+52;if(91>b)return b-65;if(123>b)return b-97+26}var b="undefined"!==typeof Uint8Array?Uint8Array:Array;l.toByteArray=function(c){function a(a){h[k++]=a}var d,f,g,e,h;if(0<c.length%4)throw Error("Invalid string. Length must be a multiple of 4");d=c.length;e="="===c.charAt(d-2)?2:"="===c.charAt(d-1)?1:0;h=new b(3*c.length/4-e);f=0<e?c.length-4:c.length;var k=
0;for(d=0;d<f;d+=4)g=t(c.charAt(d))<<18|t(c.charAt(d+1))<<12|t(c.charAt(d+2))<<6|t(c.charAt(d+3)),a((g&16711680)>>16),a((g&65280)>>8),a(g&255);2===e?(g=t(c.charAt(d))<<2|t(c.charAt(d+1))>>4,a(g&255)):1===e&&(g=t(c.charAt(d))<<10|t(c.charAt(d+1))<<4|t(c.charAt(d+2))>>2,a(g>>8&255),a(g&255));return h};l.fromByteArray=function(b){var a,d=b.length%3,f="",g,e;a=0;for(e=b.length-d;a<e;a+=3)g=(b[a]<<16)+(b[a+1]<<8)+b[a+2],g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(g>>18&
63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(g>>12&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(g>>6&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(g&63),f+=g;switch(d){case 1:g=b[b.length-1];f+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(g>>2);f+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(g<<4&63);f+="==";break;case 2:g=(b[b.length-2]<<8)+b[b.length-
1],f+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(g>>10),f+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(g>>4&63),f+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(g<<2&63),f+="="}return f}})("undefined"===typeof w?this.base64js={}:w)},{}],3:[function(u,z,w){(function(l,t){(function(){function b(a){return"function"===typeof a}function c(){return function(){l.nextTick(g)}}function a(){var a=0,d=new N(g),b=document.createTextNode("");
d.observe(b,{characterData:!0});return function(){b.data=a=++a%2}}function d(){var a=new MessageChannel;a.port1.onmessage=g;return function(){a.port2.postMessage(0)}}function f(){return function(){setTimeout(g,1)}}function g(){for(var a=0;a<B;a+=2)(0,G[a])(G[a+1]),G[a]=void 0,G[a+1]=void 0;B=0}function e(){}function h(a,d,b,e){try{a.call(d,b,e)}catch(c){return c}}function k(a,d,b){A(function(a){var e=!1,c=h(b,d,function(b){e||(e=!0,d!==b?q(a,b):F(a,b))},function(d){e||(e=!0,v(a,d))},"Settle: "+(a._label||
" unknown promise"));!e&&c&&(e=!0,v(a,c))},a)}function m(a,d){1===d._state?F(a,d._result):2===a._state?v(a,d._result):C(d,void 0,function(d){q(a,d)},function(d){v(a,d)})}function q(a,d){if(a===d)v(a,new TypeError("You cannot resolve a promise with itself"));else if("function"===typeof d||"object"===typeof d&&null!==d)if(d.constructor===a.constructor)m(a,d);else{var e;try{e=d.then}catch(c){M.error=c,e=M}e===M?v(a,M.error):void 0===e?F(a,d):b(e)?k(a,d,e):F(a,d)}else F(a,d)}function x(a){a._onerror&&
a._onerror(a._result);H(a)}function F(a,d){void 0===a._state&&(a._result=d,a._state=1,0!==a._subscribers.length&&A(H,a))}function v(a,d){void 0===a._state&&(a._state=2,a._result=d,A(x,a))}function C(a,d,b,e){var c=a._subscribers,f=c.length;a._onerror=null;c[f]=d;c[f+1]=b;c[f+2]=e;0===f&&a._state&&A(H,a)}function H(a){var d=a._subscribers,b=a._state;if(0!==d.length){for(var e,c,f=a._result,g=0;g<d.length;g+=3)e=d[g],c=d[g+b],e?I(b,e,c,f):c(f);a._subscribers.length=0}}function D(){this.error=null}function I(a,
d,e,c){var f=b(e),g,n,r,h;if(f){try{g=e(c)}catch(m){ha.error=m,g=ha}g===ha?(h=!0,n=g.error,g=null):r=!0;if(d===g){v(d,new TypeError("A promises callback cannot return that same promise."));return}}else g=c,r=!0;void 0===d._state&&(f&&r?q(d,g):h?v(d,n):1===a?F(d,g):2===a&&v(d,g))}function W(a,d){try{d(function(d){q(a,d)},function(d){v(a,d)})}catch(b){v(a,b)}}function r(a,d,b,c){this._instanceConstructor=a;this.promise=new a(e,c);this._abortOnReject=b;this._validateInput(d)?(this._input=d,this._remaining=
this.length=d.length,this._init(),0===this.length?F(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&F(this.promise,this._result))):v(this.promise,this._validationError())}function n(a){this._id=va++;this._result=this._state=void 0;this._subscribers=[];if(e!==a){if(!b(a))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof n))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
W(this,a)}}var y=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},B=0,A=function(a,d){G[B]=a;G[B+1]=d;B+=2;2===B&&X()},u="undefined"!==typeof window?window:{},N=u.MutationObserver||u.WebKitMutationObserver,u="undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof importScripts&&"undefined"!==typeof MessageChannel,G=Array(1E3),X;X="undefined"!==typeof l&&"[object process]"==={}.toString.call(l)?c():N?a():u?d():f();var M=new D,ha=new D;r.prototype._validateInput=
function(a){return y(a)};r.prototype._validationError=function(){return Error("Array Methods must be provided an Array")};r.prototype._init=function(){this._result=Array(this.length)};r.prototype._enumerate=function(){for(var a=this.length,d=this.promise,b=this._input,e=0;void 0===d._state&&e<a;e++)this._eachEntry(b[e],e)};r.prototype._eachEntry=function(a,d){var b=this._instanceConstructor;"object"===typeof a&&null!==a?a.constructor===b&&void 0!==a._state?(a._onerror=null,this._settledAt(a._state,
d,a._result)):this._willSettleAt(b.resolve(a),d):(this._remaining--,this._result[d]=this._makeResult(1,d,a))};r.prototype._settledAt=function(a,d,b){var e=this.promise;void 0===e._state&&(this._remaining--,this._abortOnReject&&2===a?v(e,b):this._result[d]=this._makeResult(a,d,b));0===this._remaining&&F(e,this._result)};r.prototype._makeResult=function(a,d,b){return b};r.prototype._willSettleAt=function(a,d){var b=this;C(a,void 0,function(a){b._settledAt(1,d,a)},function(a){b._settledAt(2,d,a)})};
var va=0;n.all=function(a,d){return(new r(this,a,!0,d)).promise};n.race=function(a,d){function b(a){q(f,a)}function c(a){v(f,a)}var f=new this(e,d);if(!y(a))return v(f,new TypeError("You must pass an array to race.")),f;for(var g=a.length,n=0;void 0===f._state&&n<g;n++)C(this.resolve(a[n]),void 0,b,c);return f};n.resolve=function(a,d){if(a&&"object"===typeof a&&a.constructor===this)return a;var b=new this(e,d);q(b,a);return b};n.reject=function(a,d){var b=new this(e,d);v(b,a);return b};n.prototype=
{constructor:n,then:function(a,d){var b=this._state;if(1===b&&!a||2===b&&!d)return this;var c=new this.constructor(e),f=this._result;if(b){var g=arguments[b-1];A(function(){I(b,c,g,f)})}else C(this,c,a,d);return c},"catch":function(a){return this.then(null,a)}};u={Promise:n,polyfill:function(){var a;a="undefined"!==typeof t?t:"undefined"!==typeof window&&window.document?window:self;"Promise"in a&&"resolve"in a.Promise&&"reject"in a.Promise&&"all"in a.Promise&&"race"in a.Promise&&function(){var d;
new a.Promise(function(a){d=a});return b(d)}()||(a.Promise=n)}};"undefined"!==typeof z&&z.exports?z.exports=u:"undefined"!==typeof this&&(this.ES6Promise=u)}).call(this)}).call(this,u("7YKIPe"),"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"7YKIPe":10}],4:[function(u,z,w){function l(){this._events=this._events||{};this._maxListeners=this._maxListeners||void 0}function t(b){return"function"===typeof b}function b(b){return"object"===typeof b&&null!==b}z.exports=l;l.EventEmitter=
l;l.prototype._events=void 0;l.prototype._maxListeners=void 0;l.defaultMaxListeners=10;l.prototype.setMaxListeners=function(b){if("number"!==typeof b||0>b||isNaN(b))throw TypeError("n must be a positive number");this._maxListeners=b;return this};l.prototype.emit=function(c){var a,d,f,g;this._events||(this._events={});if("error"===c&&(!this._events.error||b(this._events.error)&&!this._events.error.length)){a=arguments[1];if(a instanceof Error)throw a;throw TypeError('Uncaught, unspecified "error" event.');
}d=this._events[c];if(void 0===d)return!1;if(t(d))switch(arguments.length){case 1:d.call(this);break;case 2:d.call(this,arguments[1]);break;case 3:d.call(this,arguments[1],arguments[2]);break;default:a=arguments.length;f=Array(a-1);for(g=1;g<a;g++)f[g-1]=arguments[g];d.apply(this,f)}else if(b(d)){a=arguments.length;f=Array(a-1);for(g=1;g<a;g++)f[g-1]=arguments[g];d=d.slice();a=d.length;for(g=0;g<a;g++)d[g].apply(this,f)}return!0};l.prototype.addListener=function(c,a){var d;if(!t(a))throw TypeError("listener must be a function");
this._events||(this._events={});this._events.newListener&&this.emit("newListener",c,t(a.listener)?a.listener:a);this._events[c]?b(this._events[c])?this._events[c].push(a):this._events[c]=[this._events[c],a]:this._events[c]=a;b(this._events[c])&&!this._events[c].warned&&(d=void 0!==this._maxListeners?this._maxListeners:l.defaultMaxListeners)&&0<d&&this._events[c].length>d&&(this._events[c].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",
this._events[c].length),"function"===typeof console.trace&&console.trace());return this};l.prototype.on=l.prototype.addListener;l.prototype.once=function(b,a){function d(){this.removeListener(b,d);f||(f=!0,a.apply(this,arguments))}if(!t(a))throw TypeError("listener must be a function");var f=!1;d.listener=a;this.on(b,d);return this};l.prototype.removeListener=function(c,a){var d,f,g;if(!t(a))throw TypeError("listener must be a function");if(!this._events||!this._events[c])return this;d=this._events[c];
g=d.length;f=-1;if(d===a||t(d.listener)&&d.listener===a)delete this._events[c],this._events.removeListener&&this.emit("removeListener",c,a);else if(b(d)){for(;0<g--;)if(d[g]===a||d[g].listener&&d[g].listener===a){f=g;break}if(0>f)return this;1===d.length?(d.length=0,delete this._events[c]):d.splice(f,1);this._events.removeListener&&this.emit("removeListener",c,a)}return this};l.prototype.removeAllListeners=function(b){var a;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?
this._events={}:this._events[b]&&delete this._events[b],this;if(0===arguments.length){for(a in this._events)"removeListener"!==a&&this.removeAllListeners(a);this.removeAllListeners("removeListener");this._events={};return this}a=this._events[b];if(t(a))this.removeListener(b,a);else for(;a.length;)this.removeListener(b,a[a.length-1]);delete this._events[b];return this};l.prototype.listeners=function(b){return this._events&&this._events[b]?t(this._events[b])?[this._events[b]]:this._events[b].slice():
[]};l.listenerCount=function(b,a){return b._events&&b._events[a]?t(b._events[a])?1:b._events[a].length:0}},{}],5:[function(u,z,w){},{}],6:[function(u,z,w){function l(a,d,b){if(!(this instanceof l))return new l(a,d,b);var e=typeof a;if("base64"===d&&"string"===e)for(a=a.trim?a.trim():a.replace(/^\s+|\s+$/g,"");0!==a.length%4;)a+="=";var f;if("number"===e)f=v(a);else if("string"===e)f=l.byteLength(a,d);else if("object"===e)f=v(a.length);else throw Error("First argument needs to be a number, array or string.");
var c;l._useTypedArrays?c=l._augment(new Uint8Array(f)):(c=this,c.length=f,c._isBuffer=!0);if(l._useTypedArrays&&"number"===typeof a.byteLength)c._set(a);else{var g=a;if(C(g)||l.isBuffer(g)||g&&"object"===typeof g&&"number"===typeof g.length)for(d=0;d<f;d++)l.isBuffer(a)?c[d]=a.readUInt8(d):c[d]=a[d];else if("string"===e)c.write(a,0,d);else if("number"===e&&!l._useTypedArrays&&!b)for(d=0;d<f;d++)c[d]=0}return c}function t(a,d,b){var e="";for(b=Math.min(a.length,b);d<b;d++)e+=String.fromCharCode(a[d]);
return e}function b(a,d,b,e){e||(A("boolean"===typeof b,"missing or invalid endian"),A(void 0!==d&&null!==d,"missing offset"),A(d+1<a.length,"Trying to read beyond buffer length"));e=a.length;if(!(d>=e))return b?(b=a[d],d+1<e&&(b|=a[d+1]<<8)):(b=a[d]<<8,d+1<e&&(b|=a[d+1])),b}function c(a,d,b,e){e||(A("boolean"===typeof b,"missing or invalid endian"),A(void 0!==d&&null!==d,"missing offset"),A(d+3<a.length,"Trying to read beyond buffer length"));e=a.length;if(!(d>=e)){var f;b?(d+2<e&&(f=a[d+2]<<16),
d+1<e&&(f|=a[d+1]<<8),f|=a[d],d+3<e&&(f+=a[d+3]<<24>>>0)):(d+1<e&&(f=a[d+1]<<16),d+2<e&&(f|=a[d+2]<<8),d+3<e&&(f|=a[d+3]),f+=a[d]<<24>>>0);return f}}function a(a,d,e,f){f||(A("boolean"===typeof e,"missing or invalid endian"),A(void 0!==d&&null!==d,"missing offset"),A(d+1<a.length,"Trying to read beyond buffer length"));if(!(d>=a.length))return a=b(a,d,e,!0),a&32768?-1*(65535-a+1):a}function d(a,d,b,e){e||(A("boolean"===typeof b,"missing or invalid endian"),A(void 0!==d&&null!==d,"missing offset"),
A(d+3<a.length,"Trying to read beyond buffer length"));if(!(d>=a.length))return a=c(a,d,b,!0),a&2147483648?-1*(4294967295-a+1):a}function f(a,d,b,e){e||(A("boolean"===typeof b,"missing or invalid endian"),A(d+3<a.length,"Trying to read beyond buffer length"));return N.read(a,d,b,23,4)}function g(a,d,b,e){e||(A("boolean"===typeof b,"missing or invalid endian"),A(d+7<a.length,"Trying to read beyond buffer length"));return N.read(a,d,b,52,8)}function e(a,d,b,e,f){f||(A(void 0!==d&&null!==d,"missing value"),
A("boolean"===typeof e,"missing or invalid endian"),A(void 0!==b&&null!==b,"missing offset"),A(b+1<a.length,"trying to write beyond buffer length"),n(d,65535));var c=a.length;if(!(b>=c))for(f=0,c=Math.min(c-b,2);f<c;f++)a[b+f]=(d&255<<8*(e?f:1-f))>>>8*(e?f:1-f)}function h(a,d,b,e,f){f||(A(void 0!==d&&null!==d,"missing value"),A("boolean"===typeof e,"missing or invalid endian"),A(void 0!==b&&null!==b,"missing offset"),A(b+3<a.length,"trying to write beyond buffer length"),n(d,4294967295));var c=a.length;
if(!(b>=c))for(f=0,c=Math.min(c-b,4);f<c;f++)a[b+f]=d>>>8*(e?f:3-f)&255}function k(a,d,b,f,c){c||(A(void 0!==d&&null!==d,"missing value"),A("boolean"===typeof f,"missing or invalid endian"),A(void 0!==b&&null!==b,"missing offset"),A(b+1<a.length,"Trying to write beyond buffer length"),y(d,32767,-32768));b>=a.length||(0<=d?e(a,d,b,f,c):e(a,65535+d+1,b,f,c))}function m(a,d,b,e,f){f||(A(void 0!==d&&null!==d,"missing value"),A("boolean"===typeof e,"missing or invalid endian"),A(void 0!==b&&null!==b,"missing offset"),
A(b+3<a.length,"Trying to write beyond buffer length"),y(d,2147483647,-2147483648));b>=a.length||(0<=d?h(a,d,b,e,f):h(a,4294967295+d+1,b,e,f))}function q(a,d,b,e,f){f||(A(void 0!==d&&null!==d,"missing value"),A("boolean"===typeof e,"missing or invalid endian"),A(void 0!==b&&null!==b,"missing offset"),A(b+3<a.length,"Trying to write beyond buffer length"),B(d,3.4028234663852886E38,-3.4028234663852886E38));b>=a.length||N.write(a,d,b,e,23,4)}function x(a,d,b,e,f){f||(A(void 0!==d&&null!==d,"missing value"),
A("boolean"===typeof e,"missing or invalid endian"),A(void 0!==b&&null!==b,"missing offset"),A(b+7<a.length,"Trying to write beyond buffer length"),B(d,1.7976931348623157E308,-1.7976931348623157E308));b>=a.length||N.write(a,d,b,e,52,8)}function F(a,d,b){if("number"!==typeof a)return b;a=~~a;if(a>=d)return d;if(0<=a)return a;a+=d;return 0<=a?a:0}function v(a){a=~~Math.ceil(+a);return 0>a?0:a}function C(a){return(Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)})(a)}
function H(a){return 16>a?"0"+a.toString(16):a.toString(16)}function D(a){for(var d=[],b=0;b<a.length;b++){var e=a.charCodeAt(b);if(127>=e)d.push(a.charCodeAt(b));else{var f=b;55296<=e&&57343>=e&&b++;e=encodeURIComponent(a.slice(f,b+1)).substr(1).split("%");for(f=0;f<e.length;f++)d.push(parseInt(e[f],16))}}return d}function I(a){for(var d=[],b=0;b<a.length;b++)d.push(a.charCodeAt(b)&255);return d}function W(a,d,b,e){for(var f=0;f<e&&!(f+b>=d.length||f>=a.length);f++)d[f+b]=a[f];return f}function r(a){try{return decodeURIComponent(a)}catch(d){return String.fromCharCode(65533)}}
function n(a,d){A("number"===typeof a,"cannot write a non-number as a number");A(0<=a,"specified a negative value for writing an unsigned value");A(a<=d,"value is larger than maximum value for type");A(Math.floor(a)===a,"value has a fractional component")}function y(a,d,b){A("number"===typeof a,"cannot write a non-number as a number");A(a<=d,"value larger than maximum allowed value");A(a>=b,"value smaller than minimum allowed value");A(Math.floor(a)===a,"value has a fractional component")}function B(a,
d,b){A("number"===typeof a,"cannot write a non-number as a number");A(a<=d,"value larger than maximum allowed value");A(a>=b,"value smaller than minimum allowed value")}function A(a,d){if(!a)throw Error(d||"Failed assertion");}var O=u("base64-js"),N=u("ieee754");w.Buffer=l;w.SlowBuffer=l;w.INSPECT_MAX_BYTES=50;l.poolSize=8192;l._useTypedArrays=function(){try{var a=new ArrayBuffer(0),d=new Uint8Array(a);d.foo=function(){return 42};return 42===d.foo()&&"function"===typeof d.subarray}catch(b){return!1}}();
l.isEncoding=function(a){switch(String(a).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "binary":case "base64":case "raw":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};l.isBuffer=function(a){return!(null===a||void 0===a||!a._isBuffer)};l.byteLength=function(a,d){var b;a+="";switch(d||"utf8"){case "hex":b=a.length/2;break;case "utf8":case "utf-8":b=D(a).length;break;case "ascii":case "binary":case "raw":b=a.length;break;case "base64":b=O.toByteArray(a).length;
break;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":b=2*a.length;break;default:throw Error("Unknown encoding");}return b};l.concat=function(a,d){A(C(a),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array.");if(0===a.length)return new l(0);if(1===a.length)return a[0];var b;if("number"!==typeof d)for(b=d=0;b<a.length;b++)d+=a[b].length;var e=new l(d),f=0;for(b=0;b<a.length;b++){var c=a[b];c.copy(e,f);f+=c.length}return e};l.prototype.write=function(a,d,b,e){if(isFinite(d))isFinite(b)||
(e=b,b=void 0);else{var f=e;e=d;d=b;b=f}d=Number(d)||0;f=this.length-d;b?(b=Number(b),b>f&&(b=f)):b=f;e=String(e||"utf8").toLowerCase();switch(e){case "hex":d=Number(d)||0;e=this.length-d;b?(b=Number(b),b>e&&(b=e)):b=e;e=a.length;A(0===e%2,"Invalid hex string");b>e/2&&(b=e/2);for(e=0;e<b;e++)f=parseInt(a.substr(2*e,2),16),A(!isNaN(f),"Invalid hex string"),this[d+e]=f;l._charsWritten=2*e;a=e;break;case "utf8":case "utf-8":a=l._charsWritten=W(D(a),this,d,b);break;case "ascii":a=l._charsWritten=W(I(a),
this,d,b);break;case "binary":a=l._charsWritten=W(I(a),this,d,b);break;case "base64":a=l._charsWritten=W(O.toByteArray(a),this,d,b);break;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":for(var c,f=[],g=0;g<a.length;g++)c=a.charCodeAt(g),e=c>>8,c%=256,f.push(c),f.push(e);a=l._charsWritten=W(f,this,d,b);break;default:throw Error("Unknown encoding");}return a};l.prototype.toString=function(a,d,b){a=String(a||"utf8").toLowerCase();d=Number(d)||0;b=void 0!==b?Number(b):b=this.length;if(b===d)return"";
switch(a){case "hex":a=this.length;if(!d||0>d)d=0;if(!b||0>b||b>a)b=a;for(a="";d<b;d++)a+=H(this[d]);b=a;break;case "utf8":case "utf-8":var e=a="";for(b=Math.min(this.length,b);d<b;d++)127>=this[d]?(a+=r(e)+String.fromCharCode(this[d]),e=""):e+="%"+this[d].toString(16);b=a+r(e);break;case "ascii":b=t(this,d,b);break;case "binary":b=t(this,d,b);break;case "base64":b=0===d&&b===this.length?O.fromByteArray(this):O.fromByteArray(this.slice(d,b));break;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":b=
this.slice(d,b);d="";for(a=0;a<b.length;a+=2)d+=String.fromCharCode(b[a]+256*b[a+1]);b=d;break;default:throw Error("Unknown encoding");}return b};l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};l.prototype.copy=function(a,d,b,e){b||(b=0);e||0===e||(e=this.length);d||(d=0);if(e!==b&&0!==a.length&&0!==this.length)if(A(e>=b,"sourceEnd < sourceStart"),A(0<=d&&d<a.length,"targetStart out of bounds"),A(0<=b&&b<this.length,"sourceStart out of bounds"),
A(0<=e&&e<=this.length,"sourceEnd out of bounds"),e>this.length&&(e=this.length),a.length-d<e-b&&(e=a.length-d+b),e-=b,100>e||!l._useTypedArrays)for(var f=0;f<e;f++)a[f+d]=this[f+b];else a._set(this.subarray(b,b+e),d)};l.prototype.slice=function(a,d){var b=this.length;a=F(a,b,0);d=F(d,b,b);if(l._useTypedArrays)return l._augment(this.subarray(a,d));for(var b=d-a,e=new l(b,void 0,!0),f=0;f<b;f++)e[f]=this[f+a];return e};l.prototype.get=function(a){console.log(".get() is deprecated. Access using array indexes instead.");
return this.readUInt8(a)};l.prototype.set=function(a,d){console.log(".set() is deprecated. Access using array indexes instead.");return this.writeUInt8(a,d)};l.prototype.readUInt8=function(a,d){d||(A(void 0!==a&&null!==a,"missing offset"),A(a<this.length,"Trying to read beyond buffer length"));if(!(a>=this.length))return this[a]};l.prototype.readUInt16LE=function(a,d){return b(this,a,!0,d)};l.prototype.readUInt16BE=function(a,d){return b(this,a,!1,d)};l.prototype.readUInt32LE=function(a,d){return c(this,
a,!0,d)};l.prototype.readUInt32BE=function(a,d){return c(this,a,!1,d)};l.prototype.readInt8=function(a,d){d||(A(void 0!==a&&null!==a,"missing offset"),A(a<this.length,"Trying to read beyond buffer length"));if(!(a>=this.length))return this[a]&128?-1*(255-this[a]+1):this[a]};l.prototype.readInt16LE=function(d,b){return a(this,d,!0,b)};l.prototype.readInt16BE=function(d,b){return a(this,d,!1,b)};l.prototype.readInt32LE=function(a,b){return d(this,a,!0,b)};l.prototype.readInt32BE=function(a,b){return d(this,
a,!1,b)};l.prototype.readFloatLE=function(a,d){return f(this,a,!0,d)};l.prototype.readFloatBE=function(a,d){return f(this,a,!1,d)};l.prototype.readDoubleLE=function(a,d){return g(this,a,!0,d)};l.prototype.readDoubleBE=function(a,d){return g(this,a,!1,d)};l.prototype.writeUInt8=function(a,d,b){b||(A(void 0!==a&&null!==a,"missing value"),A(void 0!==d&&null!==d,"missing offset"),A(d<this.length,"trying to write beyond buffer length"),n(a,255));d>=this.length||(this[d]=a)};l.prototype.writeUInt16LE=function(a,
d,b){e(this,a,d,!0,b)};l.prototype.writeUInt16BE=function(a,d,b){e(this,a,d,!1,b)};l.prototype.writeUInt32LE=function(a,d,b){h(this,a,d,!0,b)};l.prototype.writeUInt32BE=function(a,d,b){h(this,a,d,!1,b)};l.prototype.writeInt8=function(a,d,b){b||(A(void 0!==a&&null!==a,"missing value"),A(void 0!==d&&null!==d,"missing offset"),A(d<this.length,"Trying to write beyond buffer length"),y(a,127,-128));d>=this.length||(0<=a?this.writeUInt8(a,d,b):this.writeUInt8(255+a+1,d,b))};l.prototype.writeInt16LE=function(a,
d,b){k(this,a,d,!0,b)};l.prototype.writeInt16BE=function(a,d,b){k(this,a,d,!1,b)};l.prototype.writeInt32LE=function(a,d,b){m(this,a,d,!0,b)};l.prototype.writeInt32BE=function(a,d,b){m(this,a,d,!1,b)};l.prototype.writeFloatLE=function(a,d,b){q(this,a,d,!0,b)};l.prototype.writeFloatBE=function(a,d,b){q(this,a,d,!1,b)};l.prototype.writeDoubleLE=function(a,d,b){x(this,a,d,!0,b)};l.prototype.writeDoubleBE=function(a,d,b){x(this,a,d,!1,b)};l.prototype.fill=function(a,d,b){a||(a=0);d||(d=0);b||(b=this.length);
"string"===typeof a&&(a=a.charCodeAt(0));A("number"===typeof a&&!isNaN(a),"value is not a number");A(b>=d,"end < start");if(b!==d&&0!==this.length)for(A(0<=d&&d<this.length,"start out of bounds"),A(0<=b&&b<=this.length,"end out of bounds");d<b;d++)this[d]=a};l.prototype.inspect=function(){for(var a=[],d=this.length,b=0;b<d;b++)if(a[b]=H(this[b]),b===w.INSPECT_MAX_BYTES){a[b+1]="...";break}return"<Buffer "+a.join(" ")+">"};l.prototype.toArrayBuffer=function(){if("undefined"!==typeof Uint8Array){if(l._useTypedArrays)return(new l(this)).buffer;
for(var a=new Uint8Array(this.length),d=0,b=a.length;d<b;d+=1)a[d]=this[d];return a.buffer}throw Error("Buffer.toArrayBuffer not supported in this browser");};var G=l.prototype;l._augment=function(a){a._isBuffer=!0;a._get=a.get;a._set=a.set;a.get=G.get;a.set=G.set;a.write=G.write;a.toString=G.toString;a.toLocaleString=G.toString;a.toJSON=G.toJSON;a.copy=G.copy;a.slice=G.slice;a.readUInt8=G.readUInt8;a.readUInt16LE=G.readUInt16LE;a.readUInt16BE=G.readUInt16BE;a.readUInt32LE=G.readUInt32LE;a.readUInt32BE=
G.readUInt32BE;a.readInt8=G.readInt8;a.readInt16LE=G.readInt16LE;a.readInt16BE=G.readInt16BE;a.readInt32LE=G.readInt32LE;a.readInt32BE=G.readInt32BE;a.readFloatLE=G.readFloatLE;a.readFloatBE=G.readFloatBE;a.readDoubleLE=G.readDoubleLE;a.readDoubleBE=G.readDoubleBE;a.writeUInt8=G.writeUInt8;a.writeUInt16LE=G.writeUInt16LE;a.writeUInt16BE=G.writeUInt16BE;a.writeUInt32LE=G.writeUInt32LE;a.writeUInt32BE=G.writeUInt32BE;a.writeInt8=G.writeInt8;a.writeInt16LE=G.writeInt16LE;a.writeInt16BE=G.writeInt16BE;
a.writeInt32LE=G.writeInt32LE;a.writeInt32BE=G.writeInt32BE;a.writeFloatLE=G.writeFloatLE;a.writeFloatBE=G.writeFloatBE;a.writeDoubleLE=G.writeDoubleLE;a.writeDoubleBE=G.writeDoubleBE;a.fill=G.fill;a.inspect=G.inspect;a.toArrayBuffer=G.toArrayBuffer;return a}},{"base64-js":2,ieee754:23}],7:[function(u,z,w){var l=z.exports;u("events");var t=u("./lib/request"),b=u("url");l.request=function(a,d){"string"===typeof a&&(a=b.parse(a));a||(a={});a.host||a.port||(a.port=parseInt(window.location.port,10));
!a.host&&a.hostname&&(a.host=a.hostname);a.scheme||(a.scheme=window.location.protocol.split(":")[0]);a.host||(a.host=window.location.hostname||window.location.host);/:/.test(a.host)&&(a.port||(a.port=a.host.split(":")[1]),a.host=a.host.split(":")[0]);a.port||(a.port="https"==a.scheme?443:80);var f=new t(new c,a);if(d)f.on("response",d);return f};l.get=function(a,d){a.method="GET";var b=l.request(a,d);b.end();return b};l.Agent=function(){};l.Agent.defaultMaxSockets=4;var c=function(){if("undefined"===
typeof window)throw Error("no window object present");if(window.XMLHttpRequest)return window.XMLHttpRequest;if(window.ActiveXObject)for(var a=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Microsoft.XMLHTTP"],d=0;d<a.length;d++)try{var b=new window.ActiveXObject(a[d]);return function(){if(b){var c=b;b=null;return c}return new window.ActiveXObject(a[d])}}catch(c){}throw Error("ajax not supported in this browser");}();l.STATUS_CODES={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",
202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",
412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",
505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{"./lib/request":8,events:4,url:38}],8:[function(u,z,w){w=u("stream");var l=u("./response"),t=u("Base64");u=u("inherits");var b=z.exports=function(a,b){var g=this;g.writable=!0;g.xhr=a;g.body=[];g.uri=(b.scheme||"http")+"://"+b.host+(b.port?":"+b.port:"")+(b.path||"/");"undefined"===typeof b.withCredentials&&(b.withCredentials=
!0);try{a.withCredentials=b.withCredentials}catch(q){}a.open(b.method||"GET",g.uri,!0);g._headers={};if(b.headers)for(var e=c(b.headers),h=0;h<e.length;h++){var k=e[h];g.isSafeRequestHeader(k)&&g.setHeader(k,b.headers[k])}b.auth&&this.setHeader("Authorization","Basic "+t.btoa(b.auth));var m=new l;m.on("close",function(){g.emit("close")});m.on("ready",function(){g.emit("response",m)});a.onreadystatechange=function(){a.__aborted||m.handle(a)}};u(b,w);b.prototype.setHeader=function(a,b){this._headers[a.toLowerCase()]=
b};b.prototype.getHeader=function(a){return this._headers[a.toLowerCase()]};b.prototype.removeHeader=function(a){delete this._headers[a.toLowerCase()]};b.prototype.write=function(a){this.body.push(a)};b.prototype.destroy=function(a){this.xhr.__aborted=!0;this.xhr.abort();this.emit("close")};b.prototype.end=function(d){void 0!==d&&this.body.push(d);var b=c(this._headers);for(d=0;d<b.length;d++){var g=b[d],e=this._headers[g];if(a(e))for(var h=0;h<e.length;h++)this.xhr.setRequestHeader(g,e[h]);else this.xhr.setRequestHeader(g,
e)}if(0===this.body.length)this.xhr.send("");else if("string"===typeof this.body[0])this.xhr.send(this.body.join(""));else{if(a(this.body[0]))for(b=[],d=0;d<this.body.length;d++)b.push.apply(b,this.body[d]);else if(/Array/.test(Object.prototype.toString.call(this.body[0]))){for(d=h=0;d<this.body.length;d++)h+=this.body[d].length;b=new this.body[0].constructor(h);for(d=g=0;d<this.body.length;d++)for(e=this.body[d],h=0;h<e.length;h++)b[g++]=e[h]}else for(b="",d=0;d<this.body.length;d++)b+=this.body[d].toString();
this.xhr.send(b)}};b.unsafeHeaders="accept-charset accept-encoding access-control-request-headers access-control-request-method connection content-length cookie cookie2 content-transfer-encoding date expect host keep-alive origin referer te trailer transfer-encoding upgrade user-agent via".split(" ");b.prototype.isSafeRequestHeader=function(a){if(!a)return!1;var f;a:if(f=b.unsafeHeaders,a=a.toLowerCase(),f.indexOf)f=f.indexOf(a);else{for(var c=0;c<f.length;c++)if(f[c]===a){f=c;break a}f=-1}return-1===
f};var c=Object.keys||function(a){var b=[],c;for(c in a)b.push(c);return b},a=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}},{"./response":9,Base64:1,inherits:24,stream:15}],9:[function(u,z,w){function l(a){a=a.getAllResponseHeaders().split(/\r?\n/);for(var d={},b=0;b<a.length;b++){var g=a[b];if(""!==g){var e=g.match(/^([^:]+):\s*(.*)/);e?(g=e[1].toLowerCase(),e=e[2],void 0!==d[g]?c(d[g])?d[g].push(e):d[g]=[d[g],e]:d[g]=e):d[g]=!0}}return d}w=u("stream");u=
u("util");z=z.exports=function(a){this.offset=0;this.readable=!0};u.inherits(z,w);var t=!0,b=!0;z.prototype.getResponse=function(a){var d=String(a.responseType).toLowerCase();return"blob"===d?a.responseBlob||a.response:"arraybuffer"===d?a.response:a.responseText};z.prototype.getHeader=function(a){return this.headers[a.toLowerCase()]};z.prototype.handle=function(a){if(2===a.readyState&&b){try{this.statusCode=a.status,this.headers=l(a)}catch(d){b=!1}b&&this.emit("ready")}else if(t&&3===a.readyState){try{this.statusCode||
(this.statusCode=a.status,this.headers=l(a),this.emit("ready"))}catch(d){}try{this._emitData(a)}catch(d){t=!1}}else 4===a.readyState&&(this.statusCode||(this.statusCode=a.status,this.emit("ready")),this._emitData(a),a.error?this.emit("error",this.getResponse(a)):this.emit("end"),this.emit("close"))};z.prototype._emitData=function(a){a=this.getResponse(a);a.toString().match(/ArrayBuffer/)?(this.emit("data",new Uint8Array(a,this.offset)),this.offset=a.byteLength):a.length>this.offset&&(this.emit("data",
a.slice(this.offset)),this.offset=a.length)};var c=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}},{stream:15,util:40}],10:[function(u,z,w){function l(){}u=z.exports={};u.nextTick=function(){if("undefined"!==typeof window&&window.setImmediate)return function(b){return window.setImmediate(b)};if("undefined"!==typeof window&&window.postMessage&&window.addEventListener){var l=[];window.addEventListener("message",function(b){var c=b.source;c!==window&&null!==c||
"process-tick"!==b.data||(b.stopPropagation(),0<l.length&&l.shift()())},!0);return function(b){l.push(b);window.postMessage("process-tick","*")}}return function(b){setTimeout(b,0)}}();u.title="browser";u.browser=!0;u.env={};u.argv=[];u.on=l;u.addListener=l;u.once=l;u.off=l;u.removeListener=l;u.removeAllListeners=l;u.emit=l;u.binding=function(l){throw Error("process.binding is not supported");};u.cwd=function(){return"/"};u.chdir=function(l){throw Error("process.chdir is not supported");}},{}],11:[function(u,
z,w){z.exports=function(t,b,c,a){c=c||"=";var d={};if("string"!==typeof t||0===t.length)return d;var f=/\+/g;t=t.split(b||"&");b=1E3;a&&"number"===typeof a.maxKeys&&(b=a.maxKeys);a=t.length;0<b&&a>b&&(a=b);for(b=0;b<a;++b){var g=t[b].replace(f,"%20"),e=g.indexOf(c),h;0<=e?(h=g.substr(0,e),g=g.substr(e+1)):(h=g,g="");h=decodeURIComponent(h);g=decodeURIComponent(g);Object.prototype.hasOwnProperty.call(d,h)?l(d[h])?d[h].push(g):d[h]=[d[h],g]:d[h]=g}return d};var l=Array.isArray||function(l){return"[object Array]"===
Object.prototype.toString.call(l)}},{}],12:[function(u,z,w){function l(a,d){if(a.map)return a.map(d);for(var b=[],c=0;c<a.length;c++)b.push(d(a[c],c));return b}var t=function(a){switch(typeof a){case "string":return a;case "boolean":return a?"true":"false";case "number":return isFinite(a)?a:"";default:return""}};z.exports=function(a,d,f,g){d=d||"&";f=f||"=";null===a&&(a=void 0);return"object"===typeof a?l(c(a),function(e){var c=encodeURIComponent(t(e))+f;return b(a[e])?a[e].map(function(a){return c+
encodeURIComponent(t(a))}).join(d):c+encodeURIComponent(t(a[e]))}).join(d):g?encodeURIComponent(t(g))+f+encodeURIComponent(t(a)):""};var b=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},c=Object.keys||function(a){var d=[],b;for(b in a)Object.prototype.hasOwnProperty.call(a,b)&&d.push(b);return d}},{}],13:[function(u,z,w){w.decode=w.parse=u("./decode");w.encode=w.stringify=u("./encode")},{"./decode":11,"./encode":12}],14:[function(u,z,w){function l(d){if(!(this instanceof
l))return new l(d);c.call(this,d);a.call(this,d);d&&!1===d.readable&&(this.readable=!1);d&&!1===d.writable&&(this.writable=!1);this.allowHalfOpen=!0;d&&!1===d.allowHalfOpen&&(this.allowHalfOpen=!1);this.once("end",t)}function t(){if(!this.allowHalfOpen&&!this._writableState.ended){var a=this;b(function(){a.end()})}}z.exports=l;z=u("inherits");var b=u("process/browser.js").nextTick,c=u("./readable.js"),a=u("./writable.js");z(l,c);l.prototype.write=a.prototype.write;l.prototype.end=a.prototype.end;
l.prototype._write=a.prototype._write},{"./readable.js":18,"./writable.js":20,inherits:24,"process/browser.js":16}],15:[function(u,z,w){function l(){t.call(this)}z.exports=l;var t=u("events").EventEmitter;u("inherits")(l,t);l.Readable=u("./readable.js");l.Writable=u("./writable.js");l.Duplex=u("./duplex.js");l.Transform=u("./transform.js");l.PassThrough=u("./passthrough.js");l.Stream=l;l.prototype.pipe=function(b,c){function a(a){b.writable&&!1===b.write(a)&&k.pause&&k.pause()}function d(){k.readable&&
k.resume&&k.resume()}function f(){m||(m=!0,b.end())}function g(){m||(m=!0,"function"===typeof b.destroy&&b.destroy())}function e(a){h();if(0===t.listenerCount(this,"error"))throw a;}function h(){k.removeListener("data",a);b.removeListener("drain",d);k.removeListener("end",f);k.removeListener("close",g);k.removeListener("error",e);b.removeListener("error",e);k.removeListener("end",h);k.removeListener("close",h);b.removeListener("close",h)}var k=this;k.on("data",a);b.on("drain",d);b._isStdio||c&&!1===
c.end||(k.on("end",f),k.on("close",g));var m=!1;k.on("error",e);b.on("error",e);k.on("end",h);k.on("close",h);b.on("close",h);b.emit("pipe",k);return b}},{"./duplex.js":14,"./passthrough.js":17,"./readable.js":18,"./transform.js":19,"./writable.js":20,events:4,inherits:24}],16:[function(u,z,w){u=z.exports={};u.nextTick=function(){if("undefined"!==typeof window&&window.setImmediate)return function(l){return window.setImmediate(l)};if("undefined"!==typeof window&&window.postMessage&&window.addEventListener){var l=
[];window.addEventListener("message",function(t){var b=t.source;b!==window&&null!==b||"process-tick"!==t.data||(t.stopPropagation(),0<l.length&&l.shift()())},!0);return function(t){l.push(t);window.postMessage("process-tick","*")}}return function(l){setTimeout(l,0)}}();u.title="browser";u.browser=!0;u.env={};u.argv=[];u.binding=function(l){throw Error("process.binding is not supported");};u.cwd=function(){return"/"};u.chdir=function(l){throw Error("process.chdir is not supported");}},{}],17:[function(u,
z,w){function l(b){if(!(this instanceof l))return new l(b);t.call(this,b)}z.exports=l;var t=u("./transform.js");u("inherits")(l,t);l.prototype._transform=function(b,c,a){a(null,b)}},{"./transform.js":19,inherits:24}],18:[function(u,z,w){(function(l){function t(a,d){a=a||{};var b=a.highWaterMark;this.highWaterMark=b||0===b?b:16384;this.highWaterMark=~~this.highWaterMark;this.buffer=[];this.length=0;this.pipes=null;this.pipesCount=0;this.calledRead=this.reading=this.endEmitted=this.ended=this.flowing=
!1;this.sync=!0;this.readableListening=this.emittedReadable=this.needReadable=!1;this.objectMode=!!a.objectMode;this.defaultEncoding=a.defaultEncoding||"utf8";this.ranOut=!1;this.awaitDrain=0;this.readingMore=!1;this.encoding=this.decoder=null;a.encoding&&(D||(D=u("string_decoder").StringDecoder),this.decoder=new D(a.encoding),this.encoding=a.encoding)}function b(a){if(!(this instanceof b))return new b(a);this._readableState=new t(a,this);this.readable=!0;v.call(this)}function c(a,b,e,c,g){var h;
h=e;var m=null;C.isBuffer(h)||"string"===typeof h||null===h||void 0===h||b.objectMode||m||(m=new TypeError("Invalid non-string/buffer chunk"));(h=m)?a.emit("error",h):null===e||void 0===e?(b.reading=!1,b.ended||(b.decoder&&!b.ended&&(e=b.decoder.end())&&e.length&&(b.buffer.push(e),b.length+=b.objectMode?1:e.length),b.ended=!0,0<b.length?d(a):q(a))):b.objectMode||e&&0<e.length?b.ended&&!g?(e=Error("stream.push() after EOF"),a.emit("error",e)):b.endEmitted&&g?(e=Error("stream.unshift() after end event"),
a.emit("error",e)):(!b.decoder||g||c||(e=b.decoder.write(e)),b.length+=b.objectMode?1:e.length,g?b.buffer.unshift(e):(b.reading=!1,b.buffer.push(e)),b.needReadable&&d(a),f(a,b)):g||(b.reading=!1);return!b.ended&&(b.needReadable||b.length<b.highWaterMark||0===b.length)}function a(a,b){if(0===b.length&&b.ended)return 0;if(b.objectMode)return 0===a?0:1;if(isNaN(a)||null===a)return b.flowing&&b.buffer.length?b.buffer[0].length:b.length;if(0>=a)return 0;if(a>b.highWaterMark){var d=a;if(8388608<=d)d=8388608;
else{d--;for(var e=1;32>e;e<<=1)d|=d>>e;d++}b.highWaterMark=d}if(a>b.length){if(b.ended)return b.length;b.needReadable=!0;return 0}return a}function d(a){var b=a._readableState;b.needReadable=!1;b.emittedReadable||(b.emittedReadable=!0,b.sync?H(function(){a.emit("readable")}):a.emit("readable"))}function f(a,b){b.readingMore||(b.readingMore=!0,H(function(){for(var d=b.length;!b.reading&&!b.flowing&&!b.ended&&b.length<b.highWaterMark&&(a.read(0),d!==b.length);)d=b.length;b.readingMore=!1}))}function g(a){return function(){var b=
a._readableState;b.awaitDrain--;0===b.awaitDrain&&e(a)}}function e(a){function b(a,f,c){!1===a.write(e)&&d.awaitDrain++}var d=a._readableState,e;for(d.awaitDrain=0;d.pipesCount&&null!==(e=a.read());)if(1===d.pipesCount?b(d.pipes,0,null):x(d.pipes,b),a.emit("data",e),0<d.awaitDrain)return;0===d.pipesCount?(d.flowing=!1,0<F.listenerCount(a,"data")&&k(a)):d.ranOut=!0}function h(){this._readableState.ranOut&&(this._readableState.ranOut=!1,e(this))}function k(a,b){if(a._readableState.flowing)throw Error("Cannot switch to old mode now.");
var d=b||!1,e=!1;a.readable=!0;a.pipe=v.prototype.pipe;a.on=a.addListener=v.prototype.on;a.on("readable",function(){e=!0;for(var b;!d&&null!==(b=a.read());)a.emit("data",b);null===b&&(e=!1,a._readableState.needReadable=!0)});a.pause=function(){d=!0;this.emit("pause")};a.resume=function(){d=!1;e?H(function(){a.emit("readable")}):this.read(0);this.emit("resume")};a.emit("readable")}function m(a,b){var d=b.buffer,e=b.length,f=!!b.decoder,c=!!b.objectMode;if(0===d.length)return null;if(0===e)e=null;else if(c)e=
d.shift();else if(!a||a>=e)e=f?d.join(""):C.concat(d,e),d.length=0;else if(a<d[0].length)c=d[0],e=c.slice(0,a),d[0]=c.slice(a);else if(a===d[0].length)e=d.shift();else for(var e=f?"":new C(a),g=0,h=0,q=d.length;h<q&&g<a;h++){var c=d[0],m=Math.min(a-g,c.length);f?e+=c.slice(0,m):c.copy(e,g,0,m);m<c.length?d[0]=c.slice(m):d.shift();g+=m}return e}function q(a){var b=a._readableState;if(0<b.length)throw Error("endReadable called on non-empty stream");!b.endEmitted&&b.calledRead&&(b.ended=!0,H(function(){b.endEmitted||
0!==b.length||(b.endEmitted=!0,a.readable=!1,a.emit("end"))}))}function x(a,b){for(var d=0,e=a.length;d<e;d++)b(a[d],d)}z.exports=b;b.ReadableState=t;var F=u("events").EventEmitter,v=u("./index.js"),C=u("buffer").Buffer,H=u("process/browser.js").nextTick,D;u("inherits")(b,v);b.prototype.push=function(a,b){var d=this._readableState;"string"!==typeof a||d.objectMode||(b=b||d.defaultEncoding,b!==d.encoding&&(a=new C(a,b),b=""));return c(this,d,a,b,!1)};b.prototype.unshift=function(a){return c(this,this._readableState,
a,"",!0)};b.prototype.setEncoding=function(a){D||(D=u("string_decoder").StringDecoder);this._readableState.decoder=new D(a);this._readableState.encoding=a};b.prototype.read=function(b){var e=this._readableState;e.calledRead=!0;var c=b;if("number"!==typeof b||0<b)e.emittedReadable=!1;if(0===b&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return d(this),null;b=a(b,e);if(0===b&&e.ended)return 0===e.length&&q(this),null;var f=e.needReadable;e.length-b<=e.highWaterMark&&(f=!0);if(e.ended||e.reading)f=
!1;f&&(e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1);f&&!e.reading&&(b=a(c,e));c=0<b?m(b,e):null;null===c&&(e.needReadable=!0,b=0);e.length-=b;0!==e.length||e.ended||(e.needReadable=!0);e.ended&&!e.endEmitted&&0===e.length&&q(this);return c};b.prototype._read=function(a){this.emit("error",Error("not implemented"))};b.prototype.pipe=function(a,b){function d(a){a===v&&f()}function c(){a.end()}function f(){a.removeListener("close",m);a.removeListener("finish",
k);a.removeListener("drain",C);a.removeListener("error",q);a.removeListener("unpipe",d);v.removeListener("end",c);v.removeListener("end",f);a._writableState&&!a._writableState.needDrain||C()}function q(b){v.unpipe(a);0===t&&0===F.listenerCount(a,"error")&&a.emit("error",b)}function m(){a.removeListener("finish",k);v.unpipe(a)}function k(){a.removeListener("close",m);v.unpipe(a)}var v=this,x=this._readableState;switch(x.pipesCount){case 0:x.pipes=a;break;case 1:x.pipes=[x.pipes,a];break;default:x.pipes.push(a)}x.pipesCount+=
1;var D=b&&!1===b.end||a===l.stdout||a===l.stderr?f:c;if(x.endEmitted)H(D);else v.once("end",D);a.on("unpipe",d);var C=g(v);a.on("drain",C);var t=F.listenerCount(a,"error");a.once("error",q);a.once("close",m);a.once("finish",k);a.emit("pipe",v);x.flowing||(this.on("readable",h),x.flowing=!0,H(function(){e(v)}));return a};b.prototype.unpipe=function(a){var b=this._readableState;if(0===b.pipesCount)return this;if(1===b.pipesCount){if(a&&a!==b.pipes)return this;a||(a=b.pipes);b.pipes=null;b.pipesCount=
0;this.removeListener("readable",h);b.flowing=!1;a&&a.emit("unpipe",this);return this}if(!a){a=b.pipes;var d=b.pipesCount;b.pipes=null;b.pipesCount=0;this.removeListener("readable",h);b.flowing=!1;for(var e=0;e<d;e++)a[e].emit("unpipe",this);return this}a:{for(var e=b.pipes,d=0,c=e.length;d<c;d++)if(e[d]===a){e=d;break a}e=-1}if(-1===e)return this;b.pipes.splice(e,1);--b.pipesCount;1===b.pipesCount&&(b.pipes=b.pipes[0]);a.emit("unpipe",this);return this};b.prototype.on=function(a,b){var e=v.prototype.on.call(this,
a,b);"data"!==a||this._readableState.flowing||k(this);if("readable"===a&&this.readable){var c=this._readableState;c.readableListening||(c.readableListening=!0,c.emittedReadable=!1,c.needReadable=!0,c.reading?c.length&&d(this,c):this.read(0))}return e};b.prototype.addListener=b.prototype.on;b.prototype.resume=function(){k(this);this.read(0);this.emit("resume")};b.prototype.pause=function(){k(this,!0);this.emit("pause")};b.prototype.wrap=function(a){var b=this._readableState,d=!1,e=this;a.on("end",
function(){if(b.decoder&&!b.ended){var a=b.decoder.end();a&&a.length&&e.push(a)}e.push(null)});a.on("data",function(c){b.decoder&&(c=b.decoder.write(c));c&&(b.objectMode||c.length)&&!e.push(c)&&(d=!0,a.pause())});for(var c in a)"function"===typeof a[c]&&"undefined"===typeof this[c]&&(this[c]=function(b){return function(){return a[b].apply(a,arguments)}}(c));x(["error","close","destroy","pause","resume"],function(b){a.on(b,function(a){return e.emit.apply(e,b,a)})});e._read=function(b){d&&(d=!1,a.resume())};
return e};b._fromList=m}).call(this,u("7YKIPe"))},{"./index.js":15,"7YKIPe":10,buffer:6,events:4,inherits:24,"process/browser.js":16,string_decoder:21}],19:[function(u,z,w){function l(a,b){this.afterTransform=function(a,c){var e;e=b._transformState;e.transforming=!1;var h=e.writecb;h?(e.writechunk=null,e.writecb=null,null!==c&&void 0!==c&&b.push(c),h&&h(a),e=b._readableState,e.reading=!1,(e.needReadable||e.length<e.highWaterMark)&&b._read(e.highWaterMark),e=void 0):e=b.emit("error",Error("no writecb in Transform class"));
return e};this.transforming=this.needTransform=!1;this.writechunk=this.writecb=null}function t(a){if(!(this instanceof t))return new t(a);c.call(this,a);this._transformState=new l(a,this);var d=this;this._readableState.needReadable=!0;this._readableState.sync=!1;this.once("finish",function(){"function"===typeof this._flush?this._flush(function(a){b(d,a)}):b(d)})}function b(a,b){if(b)return a.emit("error",b);var c=a._transformState;if(a._writableState.length)throw Error("calling transform done when ws.length != 0");
if(c.transforming)throw Error("calling transform done when still transforming");return a.push(null)}z.exports=t;var c=u("./duplex.js");u("inherits")(t,c);t.prototype.push=function(a,b){this._transformState.needTransform=!1;return c.prototype.push.call(this,a,b)};t.prototype._transform=function(a,b,c){throw Error("not implemented");};t.prototype._write=function(a,b,c){var g=this._transformState;g.writecb=c;g.writechunk=a;g.writeencoding=b;g.transforming||(a=this._readableState,(g.needTransform||a.needReadable||
a.length<a.highWaterMark)&&this._read(a.highWaterMark))};t.prototype._read=function(a){a=this._transformState;a.writechunk&&a.writecb&&!a.transforming?(a.transforming=!0,this._transform(a.writechunk,a.writeencoding,a.afterTransform)):a.needTransform=!0}},{"./duplex.js":14,inherits:24}],20:[function(u,z,w){function l(a,b,d){this.chunk=a;this.encoding=b;this.callback=d}function t(a,b){a=a||{};var d=a.highWaterMark;this.highWaterMark=d||0===d?d:16384;this.objectMode=!!a.objectMode;this.highWaterMark=
~~this.highWaterMark;this.finished=this.ended=this.ending=this.needDrain=!1;this.decodeStrings=!1!==a.decodeStrings;this.defaultEncoding=a.defaultEncoding||"utf8";this.length=0;this.writing=!1;this.sync=!0;this.bufferProcessing=!1;this.onwrite=function(a){e(b,a)};this.writecb=null;this.writelen=0;this.buffer=[]}function b(a){if(!(this instanceof b||this instanceof F.Duplex))return new b(a);this._writableState=new t(a,this);this.writable=!0;F.call(this)}function c(a,b,d){var e=Error("write after end");
a.emit("error",e);v(function(){d(e)})}function a(a,b,d,e){var c=!0;if(!C.isBuffer(d)&&"string"!==typeof d&&null!==d&&void 0!==d&&!b.objectMode){var f=new TypeError("Invalid non-string/buffer chunk");a.emit("error",f);v(function(){e(f)});c=!1}return c}function d(a,b,d,e,c){b.objectMode||!1===b.decodeStrings||"string"!==typeof d||(d=new C(d,e));var f=b.objectMode?1:d.length;b.length+=f;var g=b.length<b.highWaterMark;b.needDrain=!g;b.writing?b.buffer.push(new l(d,e,c)):(b.writelen=f,b.writecb=c,b.writing=
!0,b.sync=!0,a._write(d,e,b.onwrite),b.sync=!1);return g}function f(a,b,d,e,c){d?v(function(){c(e)}):c(e);a.emit("error",e)}function g(a){a.writing=!1;a.writecb=null;a.length-=a.writelen;a.writelen=0}function e(a,b){var d=a._writableState,e=d.sync,c=d.writecb;g(d);if(b)f(a,d,e,b,c);else{var n=d.ending&&0===d.length&&!d.finished&&!d.writing;n||d.bufferProcessing||!d.buffer.length||k(a,d);e?v(function(){h(a,d,n,c)}):h(a,d,n,c)}}function h(a,b,d,e){!d&&0===b.length&&b.needDrain&&(b.needDrain=!1,a.emit("drain"));
e();d&&m(a,b)}function k(a,b){b.bufferProcessing=!0;for(var d=0;d<b.buffer.length;d++){var e=b.buffer[d],c=e.chunk,f=a,g=b,h=c,q=e.encoding,e=e.callback;g.writelen=b.objectMode?1:c.length;g.writecb=e;g.writing=!0;g.sync=!0;f._write(h,q,g.onwrite);g.sync=!1;if(b.writing){d++;break}}b.bufferProcessing=!1;d<b.buffer.length?b.buffer=b.buffer.slice(d):b.buffer.length=0}function m(a,b){var d=b.ending&&0===b.length&&!b.finished&&!b.writing;d&&(b.finished=!0,a.emit("finish"));return d}z.exports=b;b.WritableState=
t;var q="undefined"!==typeof Uint8Array?function(a){return a instanceof Uint8Array}:function(a){return a&&a.constructor&&"Uint8Array"===a.constructor.name},x="undefined"!==typeof ArrayBuffer?function(a){return a instanceof ArrayBuffer}:function(a){return a&&a.constructor&&"ArrayBuffer"===a.constructor.name};z=u("inherits");var F=u("./index.js"),v=u("process/browser.js").nextTick,C=u("buffer").Buffer;z(b,F);b.prototype.pipe=function(){this.emit("error",Error("Cannot pipe. Not readable."))};b.prototype.write=
function(b,e,f){var g=this._writableState,h=!1;"function"===typeof e&&(f=e,e=null);!C.isBuffer(b)&&q(b)&&(b=new C(b));x(b)&&"undefined"!==typeof Uint8Array&&(b=new C(new Uint8Array(b)));C.isBuffer(b)?e="buffer":e||(e=g.defaultEncoding);"function"!==typeof f&&(f=function(){});g.ended?c(this,g,f):a(this,g,b,f)&&(h=d(this,g,b,e,f));return h};b.prototype._write=function(a,b,d){d(Error("not implemented"))};b.prototype.end=function(a,b,d){var e=this._writableState;"function"===typeof a?(d=a,b=a=null):"function"===
typeof b&&(d=b,b=null);"undefined"!==typeof a&&null!==a&&this.write(a,b);if(!e.ending&&!e.finished){a=d;e.ending=!0;m(this,e);if(a)if(e.finished)v(a);else this.once("finish",a);e.ended=!0}}},{"./index.js":15,buffer:6,inherits:24,"process/browser.js":16}],21:[function(u,z,w){function l(a){return a.toString(this.encoding)}function t(a){this.charLength=(a=this.charReceived=a.length%2)?2:0;return a}function b(a){this.charLength=(a=this.charReceived=a.length%3)?3:0;return a}var c=u("buffer").Buffer;u=
w.StringDecoder=function(a){this.encoding=(a||"utf8").toLowerCase().replace(/[-_]/,"");if(a&&!c.isEncoding(a))throw Error("Unknown encoding: "+a);switch(this.encoding){case "utf8":this.surrogateSize=3;break;case "ucs2":case "utf16le":this.surrogateSize=2;this.detectIncompleteChar=t;break;case "base64":this.surrogateSize=3;this.detectIncompleteChar=b;break;default:this.write=l;return}this.charBuffer=new c(6);this.charLength=this.charReceived=0};u.prototype.write=function(a){for(var b="",c=0;this.charLength;){var g=
a.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:a.length;a.copy(this.charBuffer,this.charReceived,c,g);this.charReceived+=g-c;c=g;if(this.charReceived<this.charLength)return"";var b=this.charBuffer.slice(0,this.charLength).toString(this.encoding),e=b.charCodeAt(b.length-1);if(55296<=e&&56319>=e)this.charLength+=this.surrogateSize,b="";else{this.charReceived=this.charLength=0;if(g==a.length)return b;a=a.slice(g,a.length);break}}e=this.detectIncompleteChar(a);c=a.length;
this.charLength&&(a.copy(this.charBuffer,0,a.length-e,c),this.charReceived=e,c-=e);b+=a.toString(this.encoding,0,c);c=b.length-1;e=b.charCodeAt(c);return 55296<=e&&56319>=e?(a=this.surrogateSize,this.charLength+=a,this.charReceived+=a,this.charBuffer.copy(this.charBuffer,a,0,a),this.charBuffer.write(b.charAt(b.length-1),this.encoding),b.substring(0,c)):b};u.prototype.detectIncompleteChar=function(a){for(var b=3<=a.length?3:a.length;0<b;b--){var c=a[a.length-b];if(1==b&&6==c>>5){this.charLength=2;
break}if(2>=b&&14==c>>4){this.charLength=3;break}if(3>=b&&30==c>>3){this.charLength=4;break}}return b};u.prototype.end=function(a){var b="";a&&a.length&&(b=this.write(a));this.charReceived&&(a=this.encoding,b+=this.charBuffer.slice(0,this.charReceived).toString(a));return b}},{buffer:6}],22:[function(u,z,w){var l=u("http");u=z.exports;for(var t in l)l.hasOwnProperty(t)&&(u[t]=l[t]);u.request=function(b,c){b||(b={});b.scheme="https";b.protocol="https:";return l.request.call(this,b,c)}},{http:7}],23:[function(u,
z,w){w.read=function(l,t,b,c,a){var d;d=8*a-c-1;var f=(1<<d)-1,g=f>>1,e=-7;a=b?a-1:0;var h=b?-1:1,k=l[t+a];a+=h;b=k&(1<<-e)-1;k>>=-e;for(e+=d;0<e;b=256*b+l[t+a],a+=h,e-=8);d=b&(1<<-e)-1;b>>=-e;for(e+=c;0<e;d=256*d+l[t+a],a+=h,e-=8);if(0===b)b=1-g;else{if(b===f)return d?NaN:Infinity*(k?-1:1);d+=Math.pow(2,c);b-=g}return(k?-1:1)*d*Math.pow(2,b-c)};w.write=function(l,t,b,c,a,d){var f,g=8*d-a-1,e=(1<<g)-1,h=e>>1,k=23===a?Math.pow(2,-24)-Math.pow(2,-77):0;d=c?0:d-1;var m=c?1:-1,q=0>t||0===t&&0>1/t?1:0;
t=Math.abs(t);isNaN(t)||Infinity===t?(t=isNaN(t)?1:0,c=e):(c=Math.floor(Math.log(t)/Math.LN2),1>t*(f=Math.pow(2,-c))&&(c--,f*=2),t=1<=c+h?t+k/f:t+k*Math.pow(2,1-h),2<=t*f&&(c++,f/=2),c+h>=e?(t=0,c=e):1<=c+h?(t=(t*f-1)*Math.pow(2,a),c+=h):(t=t*Math.pow(2,h-1)*Math.pow(2,a),c=0));for(;8<=a;l[b+d]=t&255,d+=m,t/=256,a-=8);c=c<<a|t;for(g+=a;0<g;l[b+d]=c&255,d+=m,c/=256,g-=8);l[b+d-m]|=128*q}},{}],24:[function(u,z,w){z.exports="function"===typeof Object.create?function(l,t){l.super_=t;l.prototype=Object.create(t.prototype,
{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}})}:function(l,t){l.super_=t;var b=function(){};b.prototype=t.prototype;l.prototype=new b;l.prototype.constructor=l}},{}],25:[function(u,z,w){},{}],26:[function(u,z,w){(function(l,t,b){(function(){var c="undefined"!==typeof l&&l.versions&&l.versions.node,a=!c&&("undefined"!==typeof window||"undefined"!==typeof self);a&&"undefined"===typeof t&&("undefined"!==typeof window?t=window:"undefined"!==typeof self?t=self:"undefined"!==typeof $&&
(t=$));var d=function(d){function e(){}function f(a,d){if(z(d))for(var b=0;b<d.length;++b)d[b]=f(a,d[b]);else if(Q(d))d["@list"]=f(a,d["@list"]);else if(w(d)){da(d)&&(d["@id"]=a.getName(d["@id"]));for(var b=Object.keys(d).sort(),e=0;e<b.length;++e){var c=b[e];"@id"!==c&&(d[c]=f(a,d[c]))}}return d}function k(a,b,e){if(null===e||void 0===e)return null;var c=G(a,b,{vocab:!0});if("@id"===c)return G(a,e,{base:!0});if("@type"===c)return G(a,e,{vocab:!0,base:!0});var f=d.getContextValue(a,b,"@type");if("@id"===
f||"@graph"===c&&J(e))return{"@id":G(a,e,{base:!0})};if("@vocab"===f)return{"@id":G(a,e,{vocab:!0,base:!0})};if(M(c))return e;c={};null!==f?c["@type"]=f:J(e)&&(a=d.getContextValue(a,b,"@language"),null!==a&&(c["@language"]=a));-1===["boolean","number","string"].indexOf(typeof e)&&(e=e.toString());c["@value"]=e;return c}function m(a){var d={};if(R(a)){d.type="literal";var b=a["@value"],e=a["@type"]||null;"boolean"===typeof b||"[object Boolean]"===Object.prototype.toString.call(b)?(d.value=b.toString(),
d.datatype=e||"http://www.w3.org/2001/XMLSchema#boolean"):qa(b)||"http://www.w3.org/2001/XMLSchema#double"===e?(qa(b)||(b=parseFloat(b)),d.value=b.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),d.datatype=e||"http://www.w3.org/2001/XMLSchema#double"):pa(b)?(d.value=b.toFixed(0),d.datatype=e||"http://www.w3.org/2001/XMLSchema#integer"):"@language"in a?(d.value=b,d.datatype=e||ea,d.language=a["@language"]):(d.value=b,d.datatype=e||aa)}else a=w(a)?a["@id"]:a,d.type=0===a.indexOf("_:")?"blank node":"IRI",
d.value=a;return"IRI"!==d.type||V(d.value)?d:null}function q(a,d){if("hash"in d[a])return d[a].hash;for(var b=d[a].quads,e=[],c=0;c<b.length;++c)e.push(ia(b[c],b[c].name?b[c].name.value:null,a));e.sort();return d[a].hash=K.hash(e)}function x(a,b,e,c,f){function n(f){if(f===v.length)return k=Object.keys(m).sort(),h(0);var r=v[f],y=F(r.subject,a),x=null;null!==y?x="p":(y=F(r.object,a),null!==y&&(x="r"));if(null!==y){var B;B=e.isNamed(y)?e.getName(y):c.isNamed(y)?c.getName(y):q(y,b);var A=K.create();
A.update(x);A.update(r.predicate.value);A.update(B);r=A.digest();r in m?m[r].push(y):m[r]=[y]}d.setImmediate(function(){n(f+1)})}function h(a){function n(){function ba(a){if(a===ja.length)return m(!1);var d=ja[a];x(d,b,e,B,function(b,e){if(b)return f(b);A+=B.getName(d)+"<"+e.hash+">";B=e.pathNamer;if(null!==q&&A.length>=q.length&&A>q)return m(!0);ba(a+1)})}function m(b){!b&&(null===q||A<q)&&(q=A,v=B);y.hasNext()?d.setImmediate(function(){n()}):(r.update(q),c=v,h(a+1))}var k=y.next(),B=c.clone(),A=
"",ja=[],l;for(l in k){var C=k[l];e.isNamed(C)?A+=e.getName(C):(B.isNamed(C)||ja.push(C),A+=B.getName(C));if(null!==q&&A.length>=q.length&&A>q)return m(!0)}ba(0)}if(a===k.length)return f(null,{hash:r.digest(),pathNamer:c});var ba=k[a];r.update(ba);var q=null,v=null,y=new ka(m[ba]);d.setImmediate(function(){n()})}var r=K.create(),m={},k,v=b[a].quads;d.setImmediate(function(){n(0)})}function F(a,d){return"blank node"===a.type&&a.value!==d?a.value:null}function v(a,b,e,c,f,n){if(z(a))for(var r=0;r<a.length;++r)v(a[r],
b,e,c,void 0,n);else if(w(a))if(R(a)){if("@type"in a){var h=a["@type"];0===h.indexOf("_:")&&(a["@type"]=c.getName(h))}n&&n.push(a)}else{if("@type"in a)for(var q=a["@type"],r=0;r<q.length;++r)h=q[r],0===h.indexOf("_:")&&c.getName(h);T(f)&&(f=da(a)?c.getName(a["@id"]):a["@id"]);n&&n.push({"@id":f});n=b[e];r=n[f]=n[f]||{};r["@id"]=f;h=Object.keys(a).sort();for(q=0;q<h.length;++q){var m=h[q];if("@id"!==m)if("@reverse"===m){var m={"@id":f},k=a["@reverse"],y;for(y in k)for(var B=k[y],x=0;x<B.length;++x){var A=
B[x],l=A["@id"];da(A)&&(l=c.getName(l));v(A,b,e,c,l);d.addValue(n[l],y,m,{propertyIsArray:!0,allowDuplicate:!1})}}else if("@graph"===m)f in b||(b[f]={}),v(a[m],b,"@merged"===e?e:f,c);else if("@type"!==m&&M(m)){if("@index"===m&&m in r&&(a[m]!==r[m]||a[m]["@id"]!==r[m]["@id"]))throw new E("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:r});r[m]=a[m]}else if(k=a[m],0===m.indexOf("_:")&&(m=c.getName(m)),0===k.length)d.addValue(r,
m,[],{propertyIsArray:!0});else for(B=0;B<k.length;++B)x=k[B],"@type"===m&&(x=0===x.indexOf("_:")?c.getName(x):x),A=x,l=!1,!w(A)||"@value"in A||"@set"in A||"@list"in A||(l=1<Object.keys(A).length||!("@id"in A)),l||U(x)?(A=da(x)?c.getName(x["@id"]):x["@id"],d.addValue(r,m,{"@id":A},{propertyIsArray:!0,allowDuplicate:!1}),v(x,b,e,c,A)):(Q(x)?(A=[],v(x["@list"],b,e,c,f,A),x={"@list":A}):v(x,b,e,c,f),d.addValue(r,m,x,{propertyIsArray:!0,allowDuplicate:!1}))}}else n&&n.push(a)}function C(a){for(var d=
a["@default"],b=Object.keys(a).sort(),e=0;e<b.length;++e){var c=b[e];if("@default"!==c){var f=a[c],g=d[c];g?"@graph"in g||(g["@graph"]=[]):d[c]=g={"@id":c,"@graph":[]};for(var c=g["@graph"],g=Object.keys(f).sort(),n=0;n<g.length;++n){var r=f[g[n]];U(r)||c.push(r)}}}return d}function H(a,d,b,e,c){var f=b;if(!z(f)||1!==f.length||!w(f[0]))throw new E("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:f});b=b[0];for(var f=a.options,g={embed:I(b,f,"embed"),explicit:I(b,
f,"explicit"),requireAll:I(b,f,"requireAll")},h=b,q={},m=0;m<d.length;++m){var k=d[m],v=a.subjects[k];W(v,h,g)&&(q[k]=v)}d=Object.keys(q).sort();for(h=0;h<d.length;++h)if(v=d[h],k=q[v],"@link"===g.embed&&v in a.link)n(e,c,a.link[v]);else{null===c&&(a.uniqueEmbeds={});m={};m["@id"]=v;a.link[v]=m;var y;if(!(y="@never"===g.embed))a:{y=a.subjectStack;for(var x=y.length-1;0<=x;--x)if(y[x]["@id"]===k["@id"]){y=!0;break a}y=!1}if(y)n(e,c,m);else{"@last"===g.embed&&(v in a.uniqueEmbeds&&r(a,v),a.uniqueEmbeds[v]=
{parent:e,property:c});a.subjectStack.push(k);v=Object.keys(k).sort();for(y=0;y<v.length;y++)if(x=v[y],M(x))m[x]=P(k[x]);else if(!g.explicit||x in b)for(var B=k[x],A=0;A<B.length;++A){var l=B[A];if(Q(l)){var C={"@list":[]};n(m,x,C);var F=l["@list"],t;for(t in F)if(l=F[t],U(l)){var G=x in b?b[x][0]["@list"]:D(g);H(a,[l["@id"]],G,C,"@list")}else n(C,"@list",P(l))}else U(l)?(G=x in b?b[x]:D(g),H(a,[l["@id"]],G,m,x)):n(m,x,P(l))}v=Object.keys(b).sort();for(y=0;y<v.length;++y)x=v[y],M(x)||(k=b[x][0],I(k,
f,"omitDefault")||x in m||(B="@null","@default"in k&&(B=P(k["@default"])),z(B)||(B=[B]),m[x]=[{"@preserve":B}]));n(e,c,m);a.subjectStack.pop()}}}function D(a){var d={},b;for(b in a)void 0!==a[b]&&(d["@"+b]=[a[b]]);return[d]}function I(a,d,b){var e="@"+b;a=e in a?a[e][0]:d[b];"embed"===b&&(!0===a?a="@last":!1===a?a="@never":"@always"!==a&&"@never"!==a&&"@link"!==a&&(a="@last"));return a}function W(a,b,e){if("@type"in b&&(1!==b["@type"].length||!w(b["@type"][0]))){b=b["@type"];for(e=0;e<b.length;++e)if(d.hasValue(a,
"@type",b[e]))return!0;return!1}var c=!0,f=!1,n;for(n in b){if(M(n)){if("@id"!==n&&"@type"!==n)continue;c=!1;if("@id"===n&&J(b[n])){if(a[n]!==b[n])return!1;f=!0;continue}}c=!1;if(n in a){if(z(b[n])&&0===b[n].length&&void 0!==a[n])return!1;f=!0}else{var r=z(b[n])&&w(b[n][0])&&"@default"in b[n][0];if(e.requireAll&&!r)return!1}}return c||f}function r(a,b){var e=a.uniqueEmbeds,c=e[b],f=c.parent,n=c.property,c={"@id":b};if(z(f))for(n=0;n<f.length;++n){if(d.compareValues(f[n],c)){f[n]=c;break}}else{var r=
z(f[n]);d.removeValue(f,n,c,{propertyIsArray:r});d.addValue(f,n,c,{propertyIsArray:r})}var h=function(a){for(var d=Object.keys(e),b=0;b<d.length;++b){var c=d[b];c in e&&w(e[c].parent)&&e[c].parent["@id"]===a&&(delete e[c],h(c))}};h(b)}function n(a,b,e){w(a)?d.addValue(a,b,e,{propertyIsArray:!0}):a.push(e)}function y(a,b,e){if(z(b)){for(var c=[],f=0;f<b.length;++f){var n=y(a,b[f],e);null!==n&&c.push(n)}b=c}else if(w(b)){if("@preserve"in b)return"@null"===b["@preserve"]?null:b["@preserve"];if(R(b))return b;
if(Q(b))return b["@list"]=y(a,b["@list"],e),b;n=A(a,"@id");if(n in b)if(n=b[n],n in e.link)if(f=e.link[n].indexOf(b),-1===f)e.link[n].push(b);else return e.link[n][f];else e.link[n]=[b];for(c in b)n=y(a,b[c],e),f=d.getContextValue(a,c,"@container"),e.compactArrays&&z(n)&&1===n.length&&null===f&&(n=n[0]),b[c]=n}return b}function B(a,b){return a.length<b.length?-1:b.length<a.length?1:a===b?0:a<b?-1:1}function A(a,b,e,c,f){if(null===b)return b;T(e)&&(e=null);T(f)&&(f=!1);c=c||{};M(b)&&(c.vocab=!0);if(c.vocab&&
b in a.getInverse()){var n=a["@language"]||"@none",r=[];w(e)&&"@index"in e&&r.push("@index");var h="@language",m="@null";if(f)h="@type",m="@reverse",r.push("@set");else if(Q(e)){"@index"in e||r.push("@list");m=e["@list"];f=0===m.length?n:null;for(var n=null,q=0;q<m.length;++q){var k=m[q],v="@none",y="@none";R(k)?"@language"in k?v=k["@language"]:"@type"in k?y=k["@type"]:v="@null":y="@id";null===f?f=v:v!==f&&R(k)&&(f="@none");null===n?n=y:y!==n&&(n="@none");if("@none"===f&&"@none"===n)break}f=f||"@none";
n=n||"@none";"@none"!==n?(h="@type",m=n):m=f}else R(e)?"@language"in e&&!("@index"in e)?(r.push("@language"),m=e["@language"]):"@type"in e&&(h="@type",m=e["@type"]):(h="@type",m="@id"),r.push("@set");r.push("@none");a:{f=e;n=m;null===n&&(n="@null");m=[];"@id"!==n&&"@reverse"!==n||!U(f)?m.push(n):("@reverse"===n&&m.push("@reverse"),n=A(a,f["@id"],null,{vocab:!0}),n in a.mappings&&a.mappings[n]&&a.mappings[n]["@id"]===f["@id"]?m.push.apply(m,["@vocab","@id"]):m.push.apply(m,["@id","@vocab"]));m.push("@none");
f=a.inverse[b];for(n=0;n<r.length;++n)if(q=r[n],q in f)for(q=f[q][h],k=0;k<m.length;++k)if(v=m[k],v in q){r=q[v];break a}r=null}if(null!==r)return r}if(c.vocab&&"@vocab"in a&&(h=a["@vocab"],0===b.indexOf(h)&&b!==h&&(h=b.substr(h.length),!(h in a.mappings))))return h;h=null;for(r in a.mappings)-1===r.indexOf(":")&&(m=a.mappings[r])&&m["@id"]!==b&&0===b.indexOf(m["@id"])&&(m=r+":"+b.substr(m["@id"].length),m in a.mappings&&(null!==e||!a.mappings[m]||a.mappings[m]["@id"]!==b)||!(null===h||0>B(m,h))||
(h=m));if(null!==h)return h;if(!c.vocab&&(a=a["@base"],null!==a&&(J(a)&&(a=d.url.parse(a||"")),e="",""!==a.href?e+=(a.protocol||"")+"//"+(a.authority||""):b.indexOf("//")&&(e+="//"),0===b.indexOf(e)))){b=d.url.parse(b.substr(e.length));a=a.normalizedPath.split("/");e=b.normalizedPath.split("/");for(c=b.fragment||b.query?0:1;0<a.length&&e.length>c&&a[0]===e[0];)a.shift(),e.shift();c="";if(0<a.length)for(a.pop(),r=0;r<a.length;++r)c+="../";c+=e.join("/");null!==b.query&&(c+="?"+b.query);null!==b.fragment&&
(c+="#"+b.fragment);""===c&&(c="./");b=c}return b}function O(a,b,e){if(R(e)){var c=d.getContextValue(a,b,"@type"),f=d.getContextValue(a,b,"@language"),n=d.getContextValue(a,b,"@container"),n="@index"in e&&"@index"!==n;if(!n&&(e["@type"]===c||e["@language"]===f))return e["@value"];var c=Object.keys(e).length,c=1===c||2===c&&"@index"in e&&!n,f="@language"in a,r=J(e["@value"]);b=a.mappings[b]&&null===a.mappings[b]["@language"];if(c&&(!f||!r||b))return e["@value"];b={};n&&(b[A(a,"@index")]=e["@index"]);
"@type"in e?b[A(a,"@type")]=A(a,e["@type"],null,{vocab:!0}):"@language"in e&&(b[A(a,"@language")]=e["@language"]);b[A(a,"@value")]=e["@value"];return b}n=G(a,b,{vocab:!0});c=d.getContextValue(a,b,"@type");e=A(a,e["@id"],null,{vocab:"@vocab"===c});if("@id"===c||"@vocab"===c||"@graph"===n)return e;b={};b[A(a,"@id")]=e;return b}function N(a,b,d,e){if(d in e){if(e[d])return;throw new E("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:b,term:d});}e[d]=
!1;if(M(d))throw new E("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:b,term:d});if(""===d)throw new E("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:b});a.mappings[d]&&delete a.mappings[d];var c=b[d];if(null===c||w(c)&&null===c["@id"])a.mappings[d]=null,e[d]=!0;else{J(c)&&(c={"@id":c});if(!w(c))throw new E("Invalid JSON-LD syntax; @context property values must be strings or objects.",
"jsonld.SyntaxError",{code:"invalid term definition",context:b});var f=a.mappings[d]={};f.reverse=!1;if("@reverse"in c){if("@id"in c)throw new E("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:b});var n=c["@reverse"];if(!J(n))throw new E("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:b});n=G(a,n,{vocab:!0,base:!1},b,e);if(!V(n))throw new E("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.",
"jsonld.SyntaxError",{code:"invalid IRI mapping",context:b});f["@id"]=n;f.reverse=!0}else if("@id"in c){n=c["@id"];if(!J(n))throw new E("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:b});if(n!==d){n=G(a,n,{vocab:!0,base:!1},b,e);if(!V(n)&&!M(n))throw new E("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",
context:b});f["@id"]=n}}if(!("@id"in f)){var g=d.indexOf(":");if(-1!==g)n=d.substr(0,g),n in b&&N(a,b,n,e),a.mappings[n]?(g=d.substr(g+1),f["@id"]=a.mappings[n]["@id"]+g):f["@id"]=d;else{if(!("@vocab"in a))throw new E("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:b,term:d});f["@id"]=a["@vocab"]+d}}e[d]=!0;if("@type"in c){d=c["@type"];if(!J(d))throw new E("Invalid JSON-LD syntax; an @context @type values must be a string.","jsonld.SyntaxError",
{code:"invalid type mapping",context:b});if("@id"!==d&&"@vocab"!==d){d=G(a,d,{vocab:!0,base:!1},b,e);if(!V(d))throw new E("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:b});if(0===d.indexOf("_:"))throw new E("Invalid JSON-LD syntax; an @context @type values must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:b});}f["@type"]=d}if("@container"in c){a=c["@container"];
if("@list"!==a&&"@set"!==a&&"@index"!==a&&"@language"!==a)throw new E("Invalid JSON-LD syntax; @context @container value must be one of the following: @list, @set, @index, or @language.","jsonld.SyntaxError",{code:"invalid container mapping",context:b});if(f.reverse&&"@index"!==a&&"@set"!==a&&null!==a)throw new E("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:b});f["@container"]=
a}if("@language"in c&&!("@type"in c)){c=c["@language"];if(null!==c&&!J(c))throw new E("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:b});null!==c&&(c=c.toLowerCase());f["@language"]=c}n=f["@id"];if("@context"===n||"@preserve"===n)throw new E("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:b});}}function G(a,b,e,c,f){if(null===b||
M(b))return b;b=String(b);c&&b in c&&!0!==f[b]&&N(a,c,b,f);e=e||{};if(e.vocab){var n=a.mappings[b];if(null===n)return null;if(n)return n["@id"]}n=b.indexOf(":");if(-1!==n){e=b.substr(0,n);var r=b.substr(n+1);if("_"===e||0===r.indexOf("//"))return b;c&&e in c&&N(a,c,e,f);return(n=a.mappings[e])?n["@id"]+r:b}if(e.vocab&&"@vocab"in a)return a["@vocab"]+b;e.base&&(b=d.prependBase(a["@base"],b));return b}function X(a){return{"@base":d.url.parse(a.base||""),mappings:{},inverse:null,getInverse:function(){if(this.inverse)return this.inverse;
for(var a=this.inverse={},b=this["@language"]||"@none",d=this.mappings,e=Object.keys(d).sort(B),c=0;c<e.length;++c){var f=e[c],n=d[f];if(null!==n){var g=n["@container"]||"@none",r=n["@id"];z(r)||(r=[r]);for(var h=0;h<r.length;++h){var m=r[h],q=a[m];q||(a[m]=q={});q[g]||(q[g]={"@language":{},"@type":{}});q=q[g];n.reverse?(q=q["@type"],"@reverse"in q||(q["@reverse"]=f)):"@type"in n?(q=q["@type"],m=n["@type"],m in q||(q[m]=f)):"@language"in n?(q=q["@language"],m=n["@language"]||"@null",m in q||(q[m]=
f)):(m=q["@language"],b in m||(m[b]=f),m=q["@type"],"@none"in m||(m["@none"]=f),q=q["@language"],"@none"in q||(q["@none"]=f))}}}return a},clone:function(){var a={};a["@base"]=this["@base"];a.mappings=P(this.mappings);a.clone=this.clone;a.inverse=null;a.getInverse=this.getInverse;"@language"in this&&(a["@language"]=this["@language"]);"@vocab"in this&&(a["@vocab"]=this["@vocab"]);return a}}}function M(a){if(!J(a))return!1;switch(a){case "@base":case "@context":case "@container":case "@default":case "@embed":case "@explicit":case "@graph":case "@id":case "@index":case "@language":case "@list":case "@omitDefault":case "@preserve":case "@requireAll":case "@reverse":case "@set":case "@type":case "@value":case "@vocab":return!0}return!1}
function w(a){return"[object Object]"===Object.prototype.toString.call(a)}function z(a){return Array.isArray(a)}function J(a){return"string"===typeof a||"[object String]"===Object.prototype.toString.call(a)}function pa(a){return"number"===typeof a||"[object Number]"===Object.prototype.toString.call(a)}function qa(a){return pa(a)&&-1!==String(a).indexOf(".")}function T(a){return"undefined"===typeof a}function U(a){return w(a)&&1===Object.keys(a).length&&"@id"in a}function R(a){return w(a)&&"@value"in
a}function Q(a){return w(a)&&"@list"in a}function da(a){var b=!1;w(a)&&(b="@id"in a?0===a["@id"].indexOf("_:"):0===Object.keys(a).length||!("@value"in a||"@set"in a||"@list"in a));return b}function V(a){return J(a)&&-1!==a.indexOf(":")}function P(a){if(a&&"object"===typeof a){var b;if(z(a)){b=[];for(var d=0;d<a.length;++d)b[d]=P(a[d])}else if(w(a))for(d in b={},a)b[d]=P(a[d]);else b=a.toString();return b}return a}function ca(a,b,e,c){var f=Object.keys(b).length;if(z(a)){for(var n=0;n<a.length;++n)ca(a[n],
b,e,c);return f<Object.keys(b).length}if(w(a)){for(var r in a)if("@context"!==r)ca(a[r],b,e,c);else{var h=a[r];if(z(h))for(var m=h.length,n=0;n<m;++n){var q=h[n];J(q)&&(q=d.prependBase(c,q),e?(q=b[q],z(q)?(Array.prototype.splice.apply(h,[n,1].concat(q)),n+=q.length-1,m=h.length):h[n]=q):q in b||(b[q]=!1))}else J(h)&&(h=d.prependBase(c,h),e?a[r]=b[h]:h in b||(b[h]=!1))}return f<Object.keys(b).length}return!1}function ra(a,b,d){var e=null,c=function(a,b,d,f,n){if(Object.keys(b).length>sa)return e=new E("Maximum number of @context URLs exceeded.",
"jsonld.ContextUrlError",{code:"loading remote context failed",max:sa}),n(e);var g={};ca(a,g,!1,f)||(ca(a,g,!0,f),n(null,a));var r=[],h;for(h in g)!1===g[h]&&r.push(h);var m=r.length;for(h=0;h<r.length;++h)(function(r){if(r in b)return e=new E("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"recursive context inclusion",url:r}),n(e);var h=P(b);h[r]=!0;var q=function(b,q){if(!e){var k=q?q.document:null;if(!b&&J(k))try{k=JSON.parse(k)}catch(v){b=v}b?b=new E("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.",
"jsonld.InvalidUrl",{code:"loading remote context failed",url:r,cause:b}):w(k)||(b=new E("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:r,cause:b}));if(b)return e=b,n(e);k="@context"in k?{"@context":k["@context"]}:{"@context":{}};q.contextUrl&&(z(k["@context"])||(k["@context"]=[k["@context"]]),k["@context"].push(q.contextUrl));c(k,h,d,r,function(b,d){if(b)return n(b);g[r]=d["@context"];
--m;0===m&&(ca(a,g,!0,f),n(null,a))})}},k=d(r,q);k&&"then"in k&&k.then(q.bind(null,null),q)})(r[h])};c(a,{},b.documentLoader,b.base,d)}function ta(a){var b=/^[ \t]*$/,d=/^[ \t]*(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z0-9]+)))[ \t]+(?:<([^:]+:[^>]*)>)[ \t]+(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z0-9]+))|(?:"([^"\\]*(?:\\.[^"\\]*)*)"(?:(?:\^\^(?:<([^:]+:[^>]*)>))|(?:@([a-z]+(?:-[a-z0-9]+)*)))?))[ \t]*(?:\.|(?:(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z0-9]+)))[ \t]*\.))[ \t]*$/,e={};a=a.split(/(?:\r\n)|(?:\n)|(?:\r)/g);
for(var c=0,f=0;f<a.length;++f){var n=a[f];c++;if(!b.test(n)){var g=n.match(d);if(null===g)throw new E("Error while parsing N-Quads; invalid quad.","jsonld.ParseError",{line:c});n={};T(g[1])?n.subject={type:"blank node",value:g[2]}:n.subject={type:"IRI",value:g[1]};n.predicate={type:"IRI",value:g[3]};if(T(g[4]))if(T(g[5])){n.object={type:"literal"};T(g[7])?T(g[8])?n.object.datatype=aa:(n.object.datatype=ea,n.object.language=g[8]):n.object.datatype=g[7];var r=g[6].replace(/\\"/g,'"').replace(/\\t/g,
"\t").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\\\/g,"\\");n.object.value=r}else n.object={type:"blank node",value:g[5]};else n.object={type:"IRI",value:g[4]};r="@default";T(g[9])?T(g[10])||(r=g[10]):r=g[9];if(r in e){for(var g=!0,r=e[r],h=0;g&&h<r.length;++h){var q;a:{q=r[h];for(var m=["subject","predicate","object"],k=0;k<m.length;++k){var v=m[k];if(q[v].type!==n[v].type||q[v].value!==n[v].value){q=!1;break a}}q=q.object.language!==n.object.language||q.object.datatype!==n.object.datatype?
!1:!0}q&&(g=!1)}g&&r.push(n)}else e[r]=[n]}}return e}function ia(a,b,d){var e=a.subject,c=a.predicate;a=a.object;var f="",f="IRI"===e.type?f+("<"+e.value+">"):d?f+(e.value===d?"_:a":"_:z"):f+e.value,f=f+" ",f="IRI"===c.type?f+("<"+c.value+">"):d?f+"_:p":f+c.value,f=f+" ";"IRI"===a.type?f+="<"+a.value+">":"blank node"===a.type?f=d?f+(a.value===d?"_:a":"_:z"):f+a.value:(e=a.value.replace(/\\/g,"\\\\").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\"/g,'\\"'),f+='"'+e+'"',a.datatype===
ea?a.language&&(f+="@"+a.language):a.datatype!==aa&&(f+="^^<"+a.datatype+">"));null!==b&&(f=0!==b.indexOf("_:")?f+(" <"+b+">"):d?f+" _:g":f+(" "+b));return f+" .\n"}function S(a){this.prefix=a;this.counter=0;this.existing={}}function ua(a,b){var d="";0===a.indexOf("/")&&(d="/");for(var e=a.split("/"),c=[];0<e.length;)"."===e[0]||""===e[0]&&1<e.length?e.shift():".."===e[0]?(e.shift(),b||0<c.length&&".."!==c[c.length-1]?c.pop():c.push("..")):c.push(e.shift());return d+c.join("/")}d.compact=function(a,
b,e,c){if(2>arguments.length)return d.nextTick(function(){c(new TypeError("Could not compact, too few arguments."))});"function"===typeof e&&(c=e,e={});e=e||{};if(null===b)return d.nextTick(function(){c(new E("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"}))});if(null===a)return d.nextTick(function(){c(null,null)});"base"in e||(e.base="string"===typeof a?a:"");"compactArrays"in e||(e.compactArrays=!0);"graph"in e||(e.graph=!1);"skipExpansion"in e||(e.skipExpansion=
!1);"documentLoader"in e||(e.documentLoader=d.loadDocument);"link"in e||(e.link=!1);e.link&&(e.skipExpansion=!0);(function(a,b,e){d.nextTick(function(){if(b.skipExpansion)return e(null,a);d.expand(a,b,e)})})(a,e,function(a,f){if(a)return c(new E("Could not expand input before compaction.","jsonld.CompactError",{cause:a}));var n=X(e);d.processContext(n,b,e,function(a,d){if(a)return c(new E("Could not process context before compaction.","jsonld.CompactError",{cause:a}));var n;try{n=(new L).compact(d,
null,f,e)}catch(g){return c(g)}var r=e;r.compactArrays&&!r.graph&&z(n)?1===n.length?n=n[0]:0===n.length&&(n={}):r.graph&&w(n)&&(n=[n]);w(b)&&"@context"in b&&(b=b["@context"]);b=P(b);z(b)||(b=[b]);r=b;b=[];for(var h=0;h<r.length;++h)(!w(r[h])||0<Object.keys(r[h]).length)&&b.push(r[h]);r=0<b.length;1===b.length&&(b=b[0]);if(z(n)){var q=A(d,"@graph"),h=n;n={};r&&(n["@context"]=b);n[q]=h}else if(w(n)&&r)for(q in h=n,n={"@context":b},h)n[q]=h[q];c(null,n,d)})})};d.expand=function(a,b,e){function c(a){"base"in
b||(b.base=a.documentUrl||"");a={document:P(a.document),remoteContext:{"@context":a.contextUrl}};if("expandContext"in b){var d=P(b.expandContext);a.expandContext="object"===typeof d&&"@context"in d?d:{"@context":d}}ra(a,b,function(a,d){if(a)return e(a);var c;try{var f=new L,n=X(b),g=d.document,r=d.remoteContext["@context"];d.expandContext&&(n=f.processContext(n,d.expandContext["@context"],b));r&&(n=f.processContext(n,r,b));c=f.expand(n,null,g,b,!1);w(c)&&"@graph"in c&&1===Object.keys(c).length?c=
c["@graph"]:null===c&&(c=[]);z(c)||(c=[c])}catch(h){return e(h)}e(null,c)})}if(1>arguments.length)return d.nextTick(function(){e(new TypeError("Could not expand, too few arguments."))});"function"===typeof b&&(e=b,b={});b=b||{};"documentLoader"in b||(b.documentLoader=d.loadDocument);"keepFreeFloatingNodes"in b||(b.keepFreeFloatingNodes=!1);d.nextTick(function(){if("string"===typeof a){var d=function(a,b){if(a)return e(a);try{if(!b.document)throw new E("No remote document found at the given URL.",
"jsonld.NullRemoteDocument");"string"===typeof b.document&&(b.document=JSON.parse(b.document))}catch(d){return e(new E("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",cause:d,remoteDoc:b}))}c(b)},f=b.documentLoader(a,d);f&&"then"in f&&f.then(d.bind(null,null),d)}else c({contextUrl:null,documentUrl:null,document:a})})};d.flatten=function(a,b,e,c){if(1>arguments.length)return d.nextTick(function(){c(new TypeError("Could not flatten, too few arguments."))});
"function"===typeof e?(c=e,e={}):"function"===typeof b&&(c=b,b=null,e={});e=e||{};"base"in e||(e.base="string"===typeof a?a:"");"documentLoader"in e||(e.documentLoader=d.loadDocument);d.expand(a,e,function(a,f){if(a)return c(new E("Could not expand input before flattening.","jsonld.FlattenError",{cause:a}));var n;try{n=(new L).flatten(f)}catch(r){return c(r)}if(null===b)return c(null,n);e.graph=!0;e.skipExpansion=!0;d.compact(n,b,e,function(a,b){if(a)return c(new E("Could not compact flattened output.",
"jsonld.FlattenError",{cause:a}));c(null,b)})})};d.frame=function(a,b,e,c){function f(b){var n=b.document,r;n?(r=n["@context"],b.contextUrl?(r?z(r)?r.push(b.contextUrl):r=[r,b.contextUrl]:r=b.contextUrl,n["@context"]=r):r=r||{}):r={};d.expand(a,e,function(a,b){if(a)return c(new E("Could not expand input before framing.","jsonld.FrameError",{cause:a}));var f=P(e);f.isFrame=!0;f.keepFreeFloatingNodes=!0;d.expand(n,f,function(a,e){if(a)return c(new E("Could not expand frame before framing.","jsonld.FrameError",
{cause:a}));var n;try{n=(new L).frame(b,e,f)}catch(h){return c(h)}f.graph=!0;f.skipExpansion=!0;f.link={};d.compact(n,r,f,function(a,b,d){if(a)return c(new E("Could not compact framed output.","jsonld.FrameError",{cause:a}));a=A(d,"@graph");f.link={};b[a]=y(d,b[a],f);c(null,b)})})})}if(2>arguments.length)return d.nextTick(function(){c(new TypeError("Could not frame, too few arguments."))});"function"===typeof e&&(c=e,e={});e=e||{};"base"in e||(e.base="string"===typeof a?a:"");"documentLoader"in e||
(e.documentLoader=d.loadDocument);"embed"in e||(e.embed="@last");e.explicit=e.explicit||!1;"requireAll"in e||(e.requireAll=!0);e.omitDefault=e.omitDefault||!1;d.nextTick(function(){if("string"===typeof b){var a=function(a,b){if(a)return c(a);try{if(!b.document)throw new E("No remote document found at the given URL.","jsonld.NullRemoteDocument");"string"===typeof b.document&&(b.document=JSON.parse(b.document))}catch(d){return c(new E("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.",
"jsonld.LoadDocumentError",{code:"loading document failed",cause:d,remoteDoc:b}))}f(b)},d=e.documentLoader(b,a);d&&"then"in d&&d.then(a.bind(null,null),a)}else f({contextUrl:null,documentUrl:null,document:b})})};d.link=function(a,b,e,c){var f={};b&&(f["@context"]=b);f["@embed"]="@link";d.frame(a,f,e,c)};d.objectify=function(a,b,e,c){"function"===typeof e&&(c=e,e={});e=e||{};"base"in e||(e.base="string"===typeof a?a:"");"documentLoader"in e||(e.documentLoader=d.loadDocument);d.expand(a,e,function(a,
f){if(a)return c(new E("Could not expand input before linking.","jsonld.LinkError",{cause:a}));var n;try{n=(new L).flatten(f)}catch(r){return c(r)}e.graph=!0;e.skipExpansion=!0;d.compact(n,b,e,function(a,b,e){if(a)return c(new E("Could not compact flattened output before linking.","jsonld.LinkError",{cause:a}));a=A(e,"@graph");var f=b[a][0],n=function(a){if(w(a)||z(a)){if(w(a)){if(n.visited[a["@id"]])return;n.visited[a["@id"]]=!0}for(var b in a){var c=a[b],r="@id"===d.getContextValue(e,b,"@type");
if(z(c)||w(c)||r)if(J(c)&&r)a[b]=c=f[c],n(c);else if(z(c))for(var h=0;h<c.length;++h)J(c[h])&&r?c[h]=f[c[h]]:w(c[h])&&"@id"in c[h]&&(c[h]=f[c[h]["@id"]]),n(c[h]);else w(c)&&(a[b]=c=f[c["@id"]],n(c))}}};n.visited={};n(f);b.of_type={};for(var r in f)if("@type"in f[r]){a=f[r]["@type"];z(a)||(a=[a]);for(var h=0;h<a.length;++h)a[h]in b.of_type||(b.of_type[a[h]]=[]),b.of_type[a[h]].push(f[r])}c(null,b)})})};d.normalize=function(a,b,e){if(1>arguments.length)return d.nextTick(function(){e(new TypeError("Could not normalize, too few arguments."))});
"function"===typeof b&&(e=b,b={});b=b||{};"base"in b||(b.base="string"===typeof a?a:"");"documentLoader"in b||(b.documentLoader=d.loadDocument);var c=P(b);delete c.format;c.produceGeneralizedRdf=!1;d.toRDF(a,c,function(a,d){if(a)return e(new E("Could not convert input to RDF dataset before normalization.","jsonld.NormalizeError",{cause:a}));(new L).normalize(d,b,e)})};d.fromRDF=function(a,b,e){if(1>arguments.length)return d.nextTick(function(){e(new TypeError("Could not convert from RDF, too few arguments."))});
"function"===typeof b&&(e=b,b={});b=b||{};"useRdfType"in b||(b.useRdfType=!1);"useNativeTypes"in b||(b.useNativeTypes=!1);"format"in b||!J(a)||"format"in b||(b.format="application/nquads");d.nextTick(function(){function d(a,b,e){(new L).fromRDF(a,b,e)}var c;if(b.format){if(c=b.rdfParser||la[b.format],!c)return e(new E("Unknown input format.","jsonld.UnknownFormat",{format:b.format}))}else c=function(){return a};var f=!1;try{a=c(a,function(a,c){f=!0;if(a)return e(a);d(c,b,e)})}catch(n){if(!f)return e(n);
throw n;}if(a){if("then"in a)return a.then(function(a){d(a,b,e)},e);d(a,b,e)}})};d.toRDF=function(a,b,e){if(1>arguments.length)return d.nextTick(function(){e(new TypeError("Could not convert to RDF, too few arguments."))});"function"===typeof b&&(e=b,b={});b=b||{};"base"in b||(b.base="string"===typeof a?a:"");"documentLoader"in b||(b.documentLoader=d.loadDocument);d.expand(a,b,function(a,d){if(a)return e(new E("Could not expand input before serialization to RDF.","jsonld.RdfError",{cause:a}));var c;
try{if(c=L.prototype.toRDF(d,b),b.format){if("application/nquads"===b.format){var f=e,n,g=[],r;for(r in c)for(var h=c[r],q=0;q<h.length;++q){var m=h[q];"@default"===r&&(r=null);g.push(ia(m,r))}g.sort();n=g.join("");return f(null,n)}throw new E("Unknown output format.","jsonld.UnknownFormat",{format:b.format});}}catch(k){return e(k)}e(null,c)})};d.createNodeMap=function(a,b,e){if(1>arguments.length)return d.nextTick(function(){e(new TypeError("Could not create node map, too few arguments."))});"function"===
typeof b&&(e=b,b={});b=b||{};"base"in b||(b.base="string"===typeof a?a:"");"documentLoader"in b||(b.documentLoader=d.loadDocument);d.expand(a,b,function(a,d){if(a)return e(new E("Could not expand input before creating node map.","jsonld.CreateNodeMapError",{cause:a}));var c;try{c=(new L).createNodeMap(d,b)}catch(f){return e(f)}e(null,c)})};d.merge=function(a,b,e,c){function f(a,b){if(!h){if(a)return h=a,c(new E("Could not expand input before flattening.","jsonld.FlattenError",{cause:a}));r.push(b);
0===--q&&n(r)}}function n(a){var f=!0;"mergeNodes"in e&&(f=e.mergeNodes);var r=e.namer||new S("_:b"),h={"@default":{}},q;try{for(var m=0;m<a.length;++m){var k=a[m],k=d.relabelBlankNodes(k,{namer:new S("_:b"+m+"-")}),y=f||0===m?h:{"@default":{}};v(k,y,"@default",r);if(y!==h)for(var x in y){var B=y[x];if(x in h){var A=h[x],l;for(l in B)l in A||(A[l]=B[l])}else h[x]=B}}q=C(h)}catch(F){return c(F)}a=[];f=Object.keys(q).sort();for(r=0;r<f.length;++r)h=q[f[r]],U(h)||a.push(h);if(null===b)return c(null,
a);e.graph=!0;e.skipExpansion=!0;d.compact(a,b,e,function(a,b){if(a)return c(new E("Could not compact merged output.","jsonld.MergeError",{cause:a}));c(null,b)})}if(1>arguments.length)return d.nextTick(function(){c(new TypeError("Could not merge, too few arguments."))});if(!z(a))return d.nextTick(function(){c(new TypeError('Could not merge, "docs" must be an array.'))});"function"===typeof e?(c=e,e={}):"function"===typeof b&&(c=b,b=null,e={});e=e||{};for(var r=[],h=null,q=a.length,m=0;m<a.length;++m){var k=
{},y;for(y in e)k[y]=e[y];d.expand(a[m],k,f)}};d.relabelBlankNodes=function(a,b){b=b||{};var d=b.namer||new S("_:b");return f(d,a)};d.prependBase=function(a,b){var e;var c=a;if(null===c)e=b;else if(-1!==b.indexOf(":"))e=b;else{J(c)&&(c=d.url.parse(c||""));e=d.url.parse(b);var f=c.protocol||"",n,r;null!==e.authority?(n=e.authority,r=e.path,c=e.query):(n=c.authority,""===e.path?(r=c.path,c=null!==e.query?e.query:c.query):(0===e.path.indexOf("/")?r=e.path:(r=c.path,""!==e.path&&(r=r.substr(0,r.lastIndexOf("/")+
1),0<r.length&&"/"!==r.substr(-1)&&(r+="/"),r+=e.path)),c=e.query));r=ua(r,!!n);null!==n&&(f+="//"+n);f+=r;null!==c&&(f+="?"+c);null!==e.fragment&&(f+="#"+e.fragment);""===f&&(f="./");e=f}return e};d.documentLoader=function(a,b){var e=new E("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed"});return c?b(e,{contextUrl:null,documentUrl:a,document:null}):d.promisify(function(a){a(e)})};d.loadDocument=function(a,
b){var e=d.documentLoader(a,b);e&&"then"in e&&e.then(b.bind(null,null),b)};d.promises=function(a){a=a||{};var b=Array.prototype.slice,e=d.promisify,c=a.api||{},f=a.version||"jsonld.js";"string"===typeof a.api&&(a.version||(f=a.api),c={});c.expand=function(a){if(1>arguments.length)throw new TypeError("Could not expand, too few arguments.");return e.apply(null,[d.expand].concat(b.call(arguments)))};c.compact=function(a,c){if(2>arguments.length)throw new TypeError("Could not compact, too few arguments.");
return e.apply(null,[function(a,b,e,c){d.compact(a,b,e,function(a,b){c(a,b)})}].concat(b.call(arguments)))};c.flatten=function(a){if(1>arguments.length)throw new TypeError("Could not flatten, too few arguments.");return e.apply(null,[d.flatten].concat(b.call(arguments)))};c.frame=function(a,c){if(2>arguments.length)throw new TypeError("Could not frame, too few arguments.");return e.apply(null,[d.frame].concat(b.call(arguments)))};c.fromRDF=function(a){if(1>arguments.length)throw new TypeError("Could not convert from RDF, too few arguments.");
return e.apply(null,[d.fromRDF].concat(b.call(arguments)))};c.toRDF=function(a){if(1>arguments.length)throw new TypeError("Could not convert to RDF, too few arguments.");return e.apply(null,[d.toRDF].concat(b.call(arguments)))};c.normalize=function(a){if(1>arguments.length)throw new TypeError("Could not normalize, too few arguments.");return e.apply(null,[d.normalize].concat(b.call(arguments)))};"jsonld.js"===f&&(c.link=function(a,c){if(2>arguments.length)throw new TypeError("Could not link, too few arguments.");
return e.apply(null,[d.link].concat(b.call(arguments)))},c.objectify=function(a){return e.apply(null,[d.objectify].concat(b.call(arguments)))},c.createNodeMap=function(a){return e.apply(null,[d.createNodeMap].concat(b.call(arguments)))},c.merge=function(a){return e.apply(null,[d.merge].concat(b.call(arguments)))});try{d.Promise=t.Promise||u("es6-promise").Promise}catch(n){a=function(){throw Error("Unable to find a Promise implementation.");};for(var r in c)c[r]=a}return c};d.promisify=function(a){if(!d.Promise)try{d.Promise=
t.Promise||u("es6-promise").Promise}catch(b){throw Error("Unable to find a Promise implementation.");}var e=Array.prototype.slice.call(arguments,1);return new d.Promise(function(b,d){a.apply(null,e.concat(function(a,e){a?d(a):b(e)}))})};d.promises({api:d.promises});e.prototype=d.promises({version:"json-ld-1.0"});e.prototype.toString=function(){return this instanceof e?"[object JsonLdProcessor]":"[object JsonLdProcessorPrototype]"};d.JsonLdProcessor=e;var Y=!!Object.defineProperty;if(Y)try{Object.defineProperty({},
"x",{})}catch(ba){Y=!1}Y&&(Object.defineProperty(e,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(e.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:e}));a&&"undefined"===typeof t.JsonLdProcessor&&(Y?Object.defineProperty(t,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:e}):t.JsonLdProcessor=e);var ma="function"===typeof setImmediate&&setImmediate,Y=ma?function(a){ma(a)}:function(a){setTimeout(a,0)};d.nextTick="object"===typeof l&&"function"===
typeof l.nextTick?l.nextTick:Y;d.setImmediate=ma?Y:d.nextTick;d.parseLinkHeader=function(a){var b={};a=a.match(/(?:<[^>]*?>|"[^"]*?"|[^,])+/g);for(var d=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,e=0;e<a.length;++e){var c=a[e].match(d);if(c){for(var f={target:c[1]},n=c[2],g=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g;c=g.exec(n);)f[c[1]]=void 0===c[2]?c[3]:c[2];c=f.rel||"";z(b[c])?b[c].push(f):b[c]=c in b?[b[c],f]:f}}return b};d.RequestQueue=function(){this._requests={}};d.RequestQueue.prototype.wrapLoader=
function(a){this._loader=a;this._usePromise=1===a.length;return this.add.bind(this)};d.RequestQueue.prototype.add=function(a,b){var e=this;if(!b&&!e._usePromise)throw Error("callback must be specified.");if(e._usePromise)return new d.Promise(function(b,d){var c=e._requests[a];c||(c=e._requests[a]=e._loader(a).then(function(b){delete e._requests[a];return b})["catch"](function(b){delete e._requests[a];throw b;}));c.then(function(a){b(a)})["catch"](function(a){d(a)})});a in e._requests?e._requests[a].push(b):
(e._requests[a]=[b],e._loader(a,function(b,d){var c=e._requests[a];delete e._requests[a];for(var f=0;f<c.length;++f)c[f](b,d)}))};d.DocumentCache=function(a){this.order=[];this.cache={};this.size=a||50;this.expires=3E4};d.DocumentCache.prototype.get=function(a){if(a in this.cache){var b=this.cache[a];if(b.expires>=+new Date)return b.ctx;delete this.cache[a];this.order.splice(this.order.indexOf(a),1)}return null};d.DocumentCache.prototype.set=function(a,b){this.order.length===this.size&&delete this.cache[this.order.shift()];
this.order.push(a);this.cache[a]={ctx:b,expires:+new Date+this.expires}};d.ActiveContextCache=function(a){this.order=[];this.cache={};this.size=a||100};d.ActiveContextCache.prototype.get=function(a,b){var d=JSON.stringify(a),e=JSON.stringify(b);return(d=this.cache[d])&&e in d?d[e]:null};d.ActiveContextCache.prototype.set=function(a,b,d){if(this.order.length===this.size){var e=this.order.shift();delete this.cache[e.activeCtx][e.localCtx]}a=JSON.stringify(a);b=JSON.stringify(b);this.order.push({activeCtx:a,
localCtx:b});a in this.cache||(this.cache[a]={});this.cache[a][b]=P(d)};d.cache={activeCtx:new d.ActiveContextCache};d.documentLoaders={};d.documentLoaders.jquery=function(a,b){function e(c,f){if(0!==c.indexOf("http:")&&0!==c.indexOf("https:"))return f(new E('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:c}),{contextUrl:null,documentUrl:c,document:null});if(b.secure&&0!==c.indexOf("https"))return f(new E('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',
"jsonld.InvalidUrl",{code:"loading document failed",url:c}),{contextUrl:null,documentUrl:c,document:null});a.ajax({url:c,accepts:{json:"application/ld+json, application/json"},headers:{Accept:"application/ld+json, application/json"},dataType:"json",crossDomain:!0,success:function(a,b,e){a={contextUrl:null,documentUrl:c,document:a};b=e.getResponseHeader("Content-Type");if((e=e.getResponseHeader("Link"))&&"application/ld+json"!==b){e=d.parseLinkHeader(e)[na];if(z(e))return f(new E("URL could not be dereferenced, it has more than one associated HTTP Link Header.",
"jsonld.InvalidUrl",{code:"multiple context link headers",url:c}),a);e&&(a.contextUrl=e.target)}f(null,a)},error:function(a,b,d){f(new E("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:c,cause:d}),{contextUrl:null,documentUrl:c,document:null})}})}b=b||{};var c=new d.RequestQueue;return("usePromise"in b?b.usePromise:"undefined"!==typeof Promise)?c.wrapLoader(function(a){return d.promisify(e,a)}):c.wrapLoader(e)};d.documentLoaders.node=
function(a){function b(h,q,m){if(0!==h.indexOf("http:")&&0!==h.indexOf("https:"))return m(new E('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:h}),{contextUrl:null,documentUrl:h,document:null});if(a.secure&&0!==h.indexOf("https"))return m(new E('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:h}),{contextUrl:null,
documentUrl:h,document:null});var k=r.get(h);if(null!==k)return m(null,k);f({url:h,headers:{Accept:"application/ld+json, application/json"},strictSSL:e,followRedirect:!1},function(a,e,f){k={contextUrl:null,documentUrl:h,document:f||null};if(a)return m(new E("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:h,cause:a}),k);var v=n.STATUS_CODES[e.statusCode];if(400<=e.statusCode)return m(new E("URL could not be dereferenced: "+v,"jsonld.InvalidUrl",
{code:"loading document failed",url:h,httpStatusCode:e.statusCode}),k);if(e.headers.link&&"application/ld+json"!==e.headers["content-type"]){v=d.parseLinkHeader(e.headers.link)[na];if(z(v))return m(new E("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:h}),k);v&&(k.contextUrl=v.target)}if(300<=e.statusCode&&400>e.statusCode&&e.headers.location){if(q.length===c)return m(new E("URL could not be dereferenced; there were too many redirects.",
"jsonld.TooManyRedirects",{code:"loading document failed",url:h,httpStatusCode:e.statusCode,redirects:q}),k);if(-1!==q.indexOf(h))return m(new E("URL could not be dereferenced; infinite redirection was detected.","jsonld.InfiniteRedirectDetected",{code:"recursive context inclusion",url:h,httpStatusCode:e.statusCode,redirects:q}),k);q.push(h);return b(e.headers.location,q,m)}q.push(h);for(e=0;e<q.length;++e)r.set(q[e],{contextUrl:null,documentUrl:q[e],document:f});m(a,k)})}a=a||{};var e="strictSSL"in
a?a.strictSSL:!0,c="maxRedirects"in a?a.maxRedirects:-1,f=u("request"),n=u("http"),r=new d.DocumentCache,h=new d.RequestQueue;return a.usePromise?h.wrapLoader(function(a){return d.promisify(b,a,[])}):h.wrapLoader(function(a,d){b(a,[],d)})};d.documentLoaders.xhr=function(a){function b(c,f){if(0!==c.indexOf("http:")&&0!==c.indexOf("https:"))return f(new E('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:c}),{contextUrl:null,
documentUrl:c,document:null});if(a.secure&&0!==c.indexOf("https"))return f(new E('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:c}),{contextUrl:null,documentUrl:c,document:null});var n=new (a.xhr||XMLHttpRequest);n.onload=function(){if(400<=n.status)return f(new E("URL could not be dereferenced: "+n.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:c,httpStatusCode:n.status}),
{contextUrl:null,documentUrl:c,document:null});var a={contextUrl:null,documentUrl:c,document:n.response},b=n.getResponseHeader("Content-Type"),r;e.test(n.getAllResponseHeaders())&&(r=n.getResponseHeader("Link"));if(r&&"application/ld+json"!==b){r=d.parseLinkHeader(r)[na];if(z(r))return f(new E("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:c}),a);r&&(a.contextUrl=r.target)}f(null,a)};n.onerror=function(){f(new E("URL could not be dereferenced, an error occurred.",
"jsonld.LoadDocumentError",{code:"loading document failed",url:c}),{contextUrl:null,documentUrl:c,document:null})};n.open("GET",c,!0);n.setRequestHeader("Accept","application/ld+json, application/json");n.send()}a=a||{};var e=/(^|(\r\n))link:/i,c=new d.RequestQueue;return("usePromise"in a?a.usePromise:"undefined"!==typeof Promise)?c.wrapLoader(function(a){return d.promisify(b,a)}):c.wrapLoader(b)};d.useDocumentLoader=function(a){if(!(a in d.documentLoaders))throw new E('Unknown document loader type: "'+
a+'"',"jsonld.UnknownDocumentLoader",{type:a});d.documentLoader=d.documentLoaders[a].apply(d,Array.prototype.slice.call(arguments,1))};d.processContext=function(a,b){var e={},c=2;3<arguments.length&&(e=arguments[2]||{},c+=1);var f=arguments[c];"base"in e||(e.base="");"documentLoader"in e||(e.documentLoader=d.loadDocument);if(null===b)return f(null,X(e));b=P(b);w(b)&&"@context"in b||(b={"@context":b});ra(b,e,function(b,d){if(b)return f(b);try{d=(new L).processContext(a,d,e)}catch(c){return f(c)}f(null,
d)})};d.hasProperty=function(a,b){var d=!1;b in a&&(d=a[b],d=!z(d)||0<d.length);return d};d.hasValue=function(a,b,e){var c=!1;if(d.hasProperty(a,b))if(a=a[b],b=Q(a),z(a)||b)for(b&&(a=a["@list"]),b=0;b<a.length;++b){if(d.compareValues(e,a[b])){c=!0;break}}else z(e)||(c=d.compareValues(e,a));return c};d.addValue=function(a,b,e,c){c=c||{};"propertyIsArray"in c||(c.propertyIsArray=!1);"allowDuplicate"in c||(c.allowDuplicate=!0);if(z(e)){0!==e.length||!c.propertyIsArray||b in a||(a[b]=[]);for(var f=0;f<
e.length;++f)d.addValue(a,b,e[f],c)}else b in a?(f=!c.allowDuplicate&&d.hasValue(a,b,e),z(a[b])||f&&!c.propertyIsArray||(a[b]=[a[b]]),f||a[b].push(e)):a[b]=c.propertyIsArray?[e]:e};d.getValues=function(a,b){var d=a[b]||[];z(d)||(d=[d]);return d};d.removeProperty=function(a,b){delete a[b]};d.removeValue=function(a,b,e,c){c=c||{};"propertyIsArray"in c||(c.propertyIsArray=!1);var f=d.getValues(a,b).filter(function(a){return!d.compareValues(a,e)});0===f.length?d.removeProperty(a,b):a[b]=1!==f.length||
c.propertyIsArray?f:f[0]};d.compareValues=function(a,b){return a===b||R(a)&&R(b)&&a["@value"]===b["@value"]&&a["@type"]===b["@type"]&&a["@language"]===b["@language"]&&a["@index"]===b["@index"]?!0:w(a)&&"@id"in a&&w(b)&&"@id"in b?a["@id"]===b["@id"]:!1};d.getContextValue=function(a,b,d){var e=null;if(null===b)return e;"@language"===d&&d in a&&(e=a[d]);a.mappings[b]&&(a=a.mappings[b],T(d)?e=a:d in a&&(e=a[d]));return e};var la={};d.registerRDFParser=function(a,b){la[a]=b};d.unregisterRDFParser=function(a){delete la[a]};
if(c){if("undefined"===typeof fa)var fa=null;if("undefined"===typeof oa)var oa={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12}}var aa="http://www.w3.org/2001/XMLSchema#string",ea="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",na="http://www.w3.org/ns/json-ld#context",sa=10,E=function(a,b,d){c?(Error.call(this),
Error.captureStackTrace(this,this.constructor)):"undefined"!==typeof Error&&(this.stack=Error().stack);this.name=b||"jsonld.Error";this.message=a||"An unspecified JSON-LD error occurred.";this.details=d||{}};c?u("util").inherits(E,Error):"undefined"!==typeof Error&&(E.prototype=Error());var L=function(){};L.prototype.compact=function(a,b,e,c){if(z(e)){for(var f=[],n=0;n<e.length;++n){var r=this.compact(a,b,e[n],c);null!==r&&f.push(r)}if(c.compactArrays&&1===f.length){var h=d.getContextValue(a,b,"@container");
null===h&&(f=f[0])}return f}if(w(e)){if(c.link&&"@id"in e&&e["@id"]in c.link)for(f=c.link[e["@id"]],n=0;n<f.length;++n)if(f[n].expanded===e)return f[n].compacted;if(R(e)||U(e))return f=O(a,b,e),c.link&&U(e)&&(e["@id"]in c.link||(c.link[e["@id"]]=[]),c.link[e["@id"]].push({expanded:e,compacted:f})),f;n="@reverse"===b;f={};c.link&&"@id"in e&&(e["@id"]in c.link||(c.link[e["@id"]]=[]),c.link[e["@id"]].push({expanded:e,compacted:f}));for(var q=Object.keys(e).sort(),m=0;m<q.length;++m){var k=q[m],v=e[k];
if("@id"===k||"@type"===k){var y;if(J(v))y=A(a,v,null,{vocab:"@type"===k});else{y=[];for(var x=0;x<v.length;++x)y.push(A(a,v[x],null,{vocab:!0}))}k=A(a,k);h=z(y)&&0===v.length;d.addValue(f,k,y,{propertyIsArray:h})}else if("@reverse"===k){y=this.compact(a,"@reverse",v,c);for(r in y)a.mappings[r]&&a.mappings[r].reverse&&(v=y[r],h=d.getContextValue(a,r,"@container"),d.addValue(f,r,v,{propertyIsArray:"@set"===h||!c.compactArrays}),delete y[r]);0<Object.keys(y).length&&(k=A(a,k),d.addValue(f,k,y))}else if("@index"===
k)h=d.getContextValue(a,b,"@container"),"@index"!==h&&(k=A(a,k),d.addValue(f,k,v));else if("@graph"!==k&&"@list"!==k&&M(k))k=A(a,k),d.addValue(f,k,v);else for(0===v.length&&(y=A(a,k,v,{vocab:!0},n),d.addValue(f,y,v,{propertyIsArray:!0})),x=0;x<v.length;++x){var B=v[x];y=A(a,k,B,{vocab:!0},n);var h=d.getContextValue(a,y,"@container"),l=Q(B),C=null;l&&(C=B["@list"]);C=this.compact(a,y,l?C:B,c);if(l)if(z(C)||(C=[C]),"@list"!==h)l={},l[A(a,"@list")]=C,C=l,"@index"in B&&(C[A(a,"@index")]=B["@index"]);
else if(y in f)throw new E('JSON-LD compact error; property has a "@list" @container rule but there is more than a single @list that matches the compacted term in the document. Compaction might mix unwanted items into the list.',"jsonld.SyntaxError",{code:"compaction to list of lists"});if("@language"===h||"@index"===h){var F;y in f?F=f[y]:f[y]=F={};"@language"===h&&R(C)&&(C=C["@value"]);d.addValue(F,B[h],C)}else h=!c.compactArrays||"@set"===h||"@list"===h||z(C)&&0===C.length||"@list"===k||"@graph"===
k,d.addValue(f,y,C,{propertyIsArray:h})}}return f}return e};L.prototype.expand=function(a,b,e,c,f){if(null===e||void 0===e)return null;if(!z(e)&&!w(e))return f||null!==b&&"@graph"!==G(a,b,{vocab:!0})?k(a,b,e):null;if(z(e)){var n=[],r=d.getContextValue(a,b,"@container");f=f||"@list"===r;for(var h=0;h<e.length;++h){var q=this.expand(a,b,e[h],c);if(f&&(z(q)||Q(q)))throw new E("Invalid JSON-LD syntax; lists of lists are not permitted.","jsonld.SyntaxError",{code:"list of lists"});null!==q&&(z(q)?n=n.concat(q):
n.push(q))}return n}"@context"in e&&(a=this.processContext(a,e["@context"],c));for(var h=G(a,b,{vocab:!0}),n={},q=Object.keys(e).sort(),m=0;m<q.length;++m){var v=q[m],y=e[v];if("@context"!==v){var x=G(a,v,{vocab:!0});if(null!==x&&(V(x)||M(x))){if(M(x)){if("@reverse"===h)throw new E("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:y});if(x in n)throw new E("Invalid JSON-LD syntax; colliding keywords detected.",
"jsonld.SyntaxError",{code:"colliding keywords",keyword:x});}if("@id"===x&&!J(y)){if(!c.isFrame)throw new E('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:y});if(!w(y))throw new E('Invalid JSON-LD syntax; "@id" value must be a string or an object.',"jsonld.SyntaxError",{code:"invalid @id value",value:y});}if("@type"===x){var r=y,B=void 0;(B=J(r))||(B=w(r)&&0===Object.keys(r).length);if(!B){B=!1;if(z(r))for(var B=!0,A=0;A<r.length;++A)if(!J(r[A])){B=
!1;break}if(!B)throw new E('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, or an empty object.',"jsonld.SyntaxError",{code:"invalid type value",value:r});}}if("@graph"===x&&!w(y)&&!z(y))throw new E('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:y});if("@value"===x&&(w(y)||z(y)))throw new E('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",
value:y});if("@language"===x){if(null===y)continue;if(!J(y))throw new E('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:y});y=y.toLowerCase()}if("@index"===x&&!J(y))throw new E('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:y});if("@reverse"===x){if(!w(y))throw new E('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",
value:y});y=this.expand(a,"@reverse",y,c);if("@reverse"in y)for(var l in y["@reverse"])d.addValue(n,l,y["@reverse"][l],{propertyIsArray:!0});v=n["@reverse"]||null;for(l in y)if("@reverse"!==l)for(null===v&&(v=n["@reverse"]={}),d.addValue(v,l,[],{propertyIsArray:!0}),x=y[l],r=0;r<x.length;++r){B=x[r];if(R(B)||Q(B))throw new E('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:y});d.addValue(v,l,B,{propertyIsArray:!0})}}else{r=
d.getContextValue(a,v,"@container");if("@language"===r&&w(y)){for(var B=[],A=Object.keys(y).sort(),C=0;C<A.length;++C){var F=A[C],H=y[F];z(H)||(H=[H]);for(var D=0;D<H.length;++D){var t=H[D];if(!J(t))throw new E("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:y});B.push({"@value":t,"@language":F.toLowerCase()})}}y=B}else if("@index"===r&&w(y)){B=v;A=[];C=Object.keys(y).sort();for(F=0;F<C.length;++F)for(H=C[F],D=y[H],
z(D)||(D=[D]),D=this.expand(a,B,D,c,!1),t=0;t<D.length;++t){var I=D[t];"@index"in I||(I["@index"]=H);A.push(I)}y=A}else if((B="@list"===x)||"@set"===x){if(A=b,B&&"@graph"===h&&(A=null),y=this.expand(a,A,y,c,B),B&&Q(y))throw new E("Invalid JSON-LD syntax; lists of lists are not permitted.","jsonld.SyntaxError",{code:"list of lists"});}else y=this.expand(a,v,y,c,!1);if(null!==y||"@value"===x)if("@list"===x||Q(y)||"@list"!==r||(y=z(y)?y:[y],y={"@list":y}),a.mappings[v]&&a.mappings[v].reverse)for(v=n["@reverse"]=
n["@reverse"]||{},z(y)||(y=[y]),r=0;r<y.length;++r){B=y[r];if(R(B)||Q(B))throw new E('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:y});d.addValue(v,x,B,{propertyIsArray:!0})}else v=-1===["@index","@id","@type","@value","@language"].indexOf(x),d.addValue(n,x,y,{propertyIsArray:v})}}}}q=Object.keys(n);a=q.length;if("@value"in n){if("@type"in n&&"@language"in n)throw new E('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and "@language".',
"jsonld.SyntaxError",{code:"invalid value object",element:n});e=a-1;"@type"in n&&--e;"@index"in n&&--e;"@language"in n&&--e;if(0!==e)throw new E('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and at most one other property which can be "@type" or "@language".',"jsonld.SyntaxError",{code:"invalid value object",element:n});if(null===n["@value"])n=null;else{if("@language"in n&&!J(n["@value"]))throw new E("Invalid JSON-LD syntax; only strings may be language-tagged.",
"jsonld.SyntaxError",{code:"invalid language-tagged value",element:n});if("@type"in n&&(!V(n["@type"])||0===n["@type"].indexOf("_:")))throw new E('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:n});}}else if("@type"in n&&!z(n["@type"]))n["@type"]=[n["@type"]];else if("@set"in n||"@list"in n){if(1<a&&!(2===a&&"@index"in n))throw new E('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',
"jsonld.SyntaxError",{code:"invalid set or list object",element:n});"@set"in n&&(n=n["@set"],q=Object.keys(n),a=q.length)}else 1===a&&"@language"in n&&(n=null);!w(n)||c.keepFreeFloatingNodes||f||null!==b&&"@graph"!==h||!(0===a||"@value"in n||"@list"in n||1===a&&"@id"in n)||(n=null);return n};L.prototype.createNodeMap=function(a,b){b=b||{};var d=b.namer||new S("_:b"),e={"@default":{}};v(a,e,"@default",d);return C(e)};L.prototype.flatten=function(a){a=this.createNodeMap(a);for(var b=[],d=Object.keys(a).sort(),
e=0;e<d.length;++e){var c=a[d[e]];U(c)||b.push(c)}return b};L.prototype.frame=function(a,b,d){d={options:d,graphs:{"@default":{},"@merged":{}},subjectStack:[],link:{}};var e=new S("_:b");v(a,d.graphs,"@merged",e);d.subjects=d.graphs["@merged"];a=[];H(d,Object.keys(d.subjects).sort(),b,a,null);return a};L.prototype.normalize=function(a,b,e){function c(a){function b(c){if(c===a.length)return f(r,n,e);var h=a[c],k=q(h,m);k in n?(n[k].push(h),e.push(h)):k in r?(n[k]=[r[k],h],e.push(r[k]),e.push(h),delete r[k]):
r[k]=h;d.setImmediate(function(){b(c+1)})}var e=[],n={},r={};d.setImmediate(function(){b(0)})}function f(a,b,d){for(var e=!1,r=Object.keys(a).sort(),g=0;g<r.length;++g)F.getName(a[r[g]]),e=!0;e?c(d):n(b)}function n(a){function b(c){function f(a,d){if(d===a.length){n.sort(function(a,b){a=a.hash;b=b.hash;return a<b?-1:a>b?1:0});for(var r=0;r<n.length;++r)for(var g in n[r].pathNamer.existing)F.getName(g);return b(c+1)}r=a[d];if(F.isNamed(r))return f(a,d+1);g=new S("_:b");g.getName(r);x(r,m,F,g,function(b,
c){if(b)return e(b);n.push(c);f(a,d+1)})}if(c===d.length)return r();var n=[];f(a[d[c]],0)}var d=Object.keys(a).sort();b(0)}function r(){for(var a=[],d=0;d<h.length;++d){for(var c=h[d],f=["subject","object","name"],n=0;n<f.length;++n){var g=f[n];c[g]&&"blank node"===c[g].type&&0!==c[g].value.indexOf("_:c14n")&&(c[g].value=F.getName(c[g].value))}a.push(ia(c,c.name?c.name.value:null))}a.sort();if(b.format)return"application/nquads"===b.format?e(null,a.join("")):e(new E("Unknown output format.","jsonld.UnknownFormat",
{format:b.format}));e(null,ta(a.join("")))}var h=[],m={},k;for(k in a){var y=a[k];"@default"===k&&(k=null);for(var v=0;v<y.length;++v){var B=y[v];null!==k&&(0===k.indexOf("_:")?B.name={type:"blank node",value:k}:B.name={type:"IRI",value:k});h.push(B);for(var A=["subject","object","name"],l=0;l<A.length;++l){var C=A[l];B[C]&&"blank node"===B[C].type&&(C=B[C].value,C in m?m[C].quads.push(B):m[C]={quads:[B]})}}}var F=new S("_:c14n");return c(Object.keys(m))};L.prototype.fromRDF=function(a,b,e){var c=
{},f={"@default":c},n={},r;for(r in a){var h=a[r];r in f||(f[r]={});"@default"===r||r in c||(c[r]={"@id":r});for(var q=f[r],m=0;m<h.length;++m){var k=h[m],y=k.subject.value,v=k.predicate.value,k=k.object;y in q||(q[y]={"@id":y});var y=q[y],x="IRI"===k.type||"blank node"===k.type;!x||k.value in q||(q[k.value]={"@id":k.value});if("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"===v&&!b.useRdfType&&x)d.addValue(y,"@type",k.value,{propertyIsArray:!0});else{var B;var A=k,l=b.useNativeTypes;"IRI"===A.type||
"blank node"===A.type?B={"@id":A.value}:(B={"@value":A.value},A.language?B["@language"]=A.language:((A=A.datatype)||(A=aa),l?("http://www.w3.org/2001/XMLSchema#boolean"===A?"true"===B["@value"]?B["@value"]=!0:"false"===B["@value"]&&(B["@value"]=!1):(l=B["@value"],!isNaN(parseFloat(l))&&isFinite(l)&&("http://www.w3.org/2001/XMLSchema#integer"===A?(l=parseInt(B["@value"],10),l.toFixed(0)===B["@value"]&&(B["@value"]=l)):"http://www.w3.org/2001/XMLSchema#double"===A&&(B["@value"]=parseFloat(B["@value"])))),
-1===["http://www.w3.org/2001/XMLSchema#boolean","http://www.w3.org/2001/XMLSchema#integer","http://www.w3.org/2001/XMLSchema#double",aa].indexOf(A)&&(B["@type"]=A)):A!==aa&&(B["@type"]=A)));d.addValue(y,v,B,{propertyIsArray:!0});x&&("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"===k.value?(k=q[k.value],"usages"in k||(k.usages=[]),k.usages.push({node:y,property:v,value:B})):n[k.value]=k.value in n?!1:{node:y,property:v,value:B})}}}for(r in f)if(b=f[r],"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"in
b){h=b["http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"];for(a=0;a<h.usages.length;++a){k=h.usages[a];y=k.node;m=k.property;k=k.value;v=[];q=[];for(x=Object.keys(y).length;"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"===m&&w(n[y["@id"]])&&z(y["http://www.w3.org/1999/02/22-rdf-syntax-ns#first"])&&1===y["http://www.w3.org/1999/02/22-rdf-syntax-ns#first"].length&&z(y["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"])&&1===y["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"].length&&(3===x||4===
x&&z(y["@type"])&&1===y["@type"].length&&"http://www.w3.org/1999/02/22-rdf-syntax-ns#List"===y["@type"][0])&&(v.push(y["http://www.w3.org/1999/02/22-rdf-syntax-ns#first"][0]),q.push(y["@id"]),k=n[y["@id"]],y=k.node,m=k.property,k=k.value,x=Object.keys(y).length,0===y["@id"].indexOf("_:")););if("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"===m){if("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"===y["@id"])continue;k=b[k["@id"]]["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"][0];v.pop();q.pop()}delete k["@id"];
k["@list"]=v.reverse();for(y=0;y<q.length;++y)delete b[q[y]]}delete h.usages}n=[];r=Object.keys(c).sort();for(a=0;a<r.length;++a){b=r[a];y=c[b];if(b in f)for(h=y["@graph"]=[],b=f[b],q=Object.keys(b).sort(),m=0;m<q.length;++m)v=b[q[m]],U(v)||h.push(v);U(y)||n.push(y)}e(null,n)};L.prototype.toRDF=function(a,b){var d=new S("_:b"),e={"@default":{}};v(a,e,"@default",d);for(var c={},f=Object.keys(e).sort(),n=0;n<f.length;++n){var r=f[n];if("@default"===r||V(r)){for(var g=r,r=e[r],h=d,q=b,k=[],y=Object.keys(r).sort(),
x=0;x<y.length;++x)for(var B=y[x],A=r[B],l=Object.keys(A).sort(),C=0;C<l.length;++C){var F=l[C],H=A[F];if("@type"===F)F="http://www.w3.org/1999/02/22-rdf-syntax-ns#type";else if(M(F))continue;for(var D=0;D<H.length;++D){var t=H[D],G={};G.type=0===B.indexOf("_:")?"blank node":"IRI";G.value=B;if(V(B)){var I={};I.type=0===F.indexOf("_:")?"blank node":"IRI";I.value=F;if(V(F)&&("blank node"!==I.type||q.produceGeneralizedRdf))if(Q(t)){for(var t=t["@list"],u=h,O=k,W={type:"IRI",value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first"},
w={type:"IRI",value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},z=0;z<t.length;++z){var X=t[z],N={type:"blank node",value:u.getName()};O.push({subject:G,predicate:I,object:N});G=N;I=W;(X=m(X))&&O.push({subject:G,predicate:I,object:X});I=w}O.push({subject:G,predicate:I,object:{type:"IRI",value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}})}else(t=m(t))&&k.push({subject:G,predicate:I,object:t})}}}c[g]=k}}return c};L.prototype.processContext=function(a,b,e){w(b)&&"@context"in b&&z(b["@context"])&&
(b=b["@context"]);b=z(b)?b:[b];if(0===b.length)return a.clone();for(var c=a,f=0;f<b.length;++f){var n=b[f];if(null===n)c=a=X(e);else{w(n)&&"@context"in n&&(n=n["@context"]);if(!w(n))throw new E("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:n});if(d.cache.activeCtx&&(a=d.cache.activeCtx.get(a,n))){c=a;continue}a=c;var c=c.clone(),r={};if("@base"in n){var h=n["@base"];if(null===h)h=null;else{if(!J(h))throw new E('Invalid JSON-LD syntax; the value of "@base" in a @context must be a string or null.',
"jsonld.SyntaxError",{code:"invalid base IRI",context:n});if(""!==h&&!V(h))throw new E('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI or the empty string.',"jsonld.SyntaxError",{code:"invalid base IRI",context:n});}null!==h&&(h=d.url.parse(h||""));c["@base"]=h;r["@base"]=!0}if("@vocab"in n){h=n["@vocab"];if(null===h)delete c["@vocab"];else if(J(h))if(V(h))c["@vocab"]=h;else throw new E('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',
"jsonld.SyntaxError",{code:"invalid vocab mapping",context:n});else throw new E('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:n});r["@vocab"]=!0}if("@language"in n){h=n["@language"];if(null===h)delete c["@language"];else if(J(h))c["@language"]=h.toLowerCase();else throw new E('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",
context:n});r["@language"]=!0}for(var q in n)N(c,n,q,r);d.cache.activeCtx&&d.cache.activeCtx.set(a,n,c)}}return c};Object.keys||(Object.keys=function(a){if(a!==Object(a))throw new TypeError("Object.keys called on non-object");var b=[],d;for(d in a)Object.prototype.hasOwnProperty.call(a,d)&&b.push(d);return b});d.registerRDFParser("application/nquads",ta);d.registerRDFParser("rdfa-api",function(a){for(var b={"@default":[]},d=a.getSubjects(),e=0;e<d.length;++e){var c=d[e];if(null!==c){var f=a.getSubjectTriples(c);
if(null!==f){var f=f.predicates,n;for(n in f)for(var r=f[n].objects,h=0;h<r.length;++h){var g=r[h],q={};0===c.indexOf("_:")?q.subject={type:"blank node",value:c}:q.subject={type:"IRI",value:c};0===n.indexOf("_:")?q.predicate={type:"blank node",value:n}:q.predicate={type:"IRI",value:n};var m=g.value;if("http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral"===g.type){fa||(fa=u("xmldom").XMLSerializer);for(var k=new fa,m="",y=0;y<g.value.length;y++)g.value[y].nodeType===oa.ELEMENT_NODE?m+=k.serializeToString(g.value[y]):
g.value[y].nodeType===oa.TEXT_NODE&&(m+=g.value[y].nodeValue)}q.object={};"http://www.w3.org/1999/02/22-rdf-syntax-ns#object"===g.type?0===g.value.indexOf("_:")?q.object.type="blank node":q.object.type="IRI":(q.object.type="literal","http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral"===g.type?g.language?(q.object.datatype=ea,q.object.language=g.language):q.object.datatype=aa:q.object.datatype=g.type);q.object.value=m;b["@default"].push(q)}}}}return b});d.UniqueNamer=S;S.prototype.clone=function(){var a=
new S(this.prefix);a.counter=this.counter;a.existing=P(this.existing);return a};S.prototype.getName=function(a){if(a&&a in this.existing)return this.existing[a];var b=this.prefix+this.counter;this.counter+=1;a&&(this.existing[a]=b);return b};S.prototype.isNamed=function(a){return a in this.existing};var ka=function(a){this.list=a.sort();this.done=!1;this.left={};for(var b=0;b<a.length;++b)this.left[a[b]]=!0};ka.prototype.hasNext=function(){return!this.done};ka.prototype.next=function(){for(var a=
this.list.slice(),b=null,d=0,e=this.list.length,c=0;c<e;++c){var f=this.list[c],n=this.left[f];(null===b||f>b)&&(n&&0<c&&f>this.list[c-1]||!n&&c<e-1&&f>this.list[c+1])&&(b=f,d=c)}if(null===b)this.done=!0;else for(c=this.left[b]?d-1:d+1,this.list[d]=this.list[c],this.list[c]=b,c=0;c<e;++c)this.list[c]>b&&(this.left[this.list[c]]=!this.left[this.list[c]]);return a};var K=d.sha1={};if(c){var wa=u("crypto");K.create=function(){var a=wa.createHash("sha1");return{update:function(b){a.update(b,"utf8")},
digest:function(){return a.digest("hex")}}}}else K.create=function(){return new K.MessageDigest};K.hash=function(a){for(var b=K.create(),d=0;d<a.length;++d)b.update(a[d]);return b.digest()};if(!c){K.Buffer=function(){this.data="";this.read=0};K.Buffer.prototype.putInt32=function(a){this.data+=String.fromCharCode(a>>24&255)+String.fromCharCode(a>>16&255)+String.fromCharCode(a>>8&255)+String.fromCharCode(a&255)};K.Buffer.prototype.getInt32=function(){var a=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+
1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);this.read+=4;return a};K.Buffer.prototype.bytes=function(){return this.data.slice(this.read)};K.Buffer.prototype.length=function(){return this.data.length-this.read};K.Buffer.prototype.compact=function(){this.data=this.data.slice(this.read);this.read=0};K.Buffer.prototype.toHex=function(){for(var a="",b=this.read;b<this.data.length;++b){var d=this.data.charCodeAt(b);16>d&&(a+="0");a+=d.toString(16)}return a};K.MessageDigest=
function(){Z.initialized||Z.init();this.blockLength=64;this.digestLength=20;this.messageLength=0;this.input=new K.Buffer;this.words=Array(80);this.state={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520}};K.MessageDigest.prototype.update=function(a){a=unescape(encodeURIComponent(a));this.messageLength+=a.length;this.input.data+=a;Z.update(this.state,this.words,this.input);(2048<this.input.read||0===this.input.length())&&this.input.compact()};K.MessageDigest.prototype.digest=function(){var a=
this.messageLength,b=new K.Buffer;b.data+=this.input.bytes();b.data+=Z.padding.substr(0,64-(a+8)%64);b.putInt32(a>>>29&255);b.putInt32(a<<3&4294967295);Z.update(this.state,this.words,b);a=new K.Buffer;a.putInt32(this.state.h0);a.putInt32(this.state.h1);a.putInt32(this.state.h2);a.putInt32(this.state.h3);a.putInt32(this.state.h4);return a.toHex()};var Z={padding:null,initialized:!1,init:function(){Z.padding=String.fromCharCode(128);for(var a=String.fromCharCode(0),b=64;0<b;)b&1&&(Z.padding+=a),b>>>=
1,0<b&&(a+=a);Z.initialized=!0},update:function(a,b,d){for(var e,c,f,n,r,g,h,q,m=d.length();64<=m;){c=a.h0;f=a.h1;n=a.h2;r=a.h3;g=a.h4;for(q=0;16>q;++q)e=d.getInt32(),b[q]=e,h=r^f&(n^r),e=(c<<5|c>>>27)+h+g+1518500249+e,g=r,r=n,n=f<<30|f>>>2,f=c,c=e;for(;20>q;++q)e=b[q-3]^b[q-8]^b[q-14]^b[q-16],e=e<<1|e>>>31,b[q]=e,h=r^f&(n^r),e=(c<<5|c>>>27)+h+g+1518500249+e,g=r,r=n,n=f<<30|f>>>2,f=c,c=e;for(;32>q;++q)e=b[q-3]^b[q-8]^b[q-14]^b[q-16],e=e<<1|e>>>31,b[q]=e,h=f^n^r,e=(c<<5|c>>>27)+h+g+1859775393+e,g=
r,r=n,n=f<<30|f>>>2,f=c,c=e;for(;40>q;++q)e=b[q-6]^b[q-16]^b[q-28]^b[q-32],e=e<<2|e>>>30,b[q]=e,h=f^n^r,e=(c<<5|c>>>27)+h+g+1859775393+e,g=r,r=n,n=f<<30|f>>>2,f=c,c=e;for(;60>q;++q)e=b[q-6]^b[q-16]^b[q-28]^b[q-32],e=e<<2|e>>>30,b[q]=e,h=f&n|r&(f^n),e=(c<<5|c>>>27)+h+g+2400959708+e,g=r,r=n,n=f<<30|f>>>2,f=c,c=e;for(;80>q;++q)e=b[q-6]^b[q-16]^b[q-28]^b[q-32],e=e<<2|e>>>30,b[q]=e,h=f^n^r,e=(c<<5|c>>>27)+h+g+3395469782+e,g=r,r=n,n=f<<30|f>>>2,f=c,c=e;a.h0+=c;a.h1+=f;a.h2+=n;a.h3+=r;a.h4+=g;m-=64}}}}d.url=
{};d.url.parsers={simple:{keys:"href scheme authority path query fragment".split(" "),regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:"href protocol scheme authority auth user password hostname port path directory file query fragment".split(" "),regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}};d.url.parse=function(a,b){for(var e={},c=d.url.parsers[b||"full"],f=
c.regex.exec(a),n=c.keys.length;n--;)e[c.keys[n]]=void 0===f[n]?null:f[n];e.normalizedPath=ua(e.path,!!e.authority);return e};c?d.useDocumentLoader("node"):"undefined"!==typeof XMLHttpRequest&&d.useDocumentLoader("xhr");c&&(d.use=function(a){switch(a){case "request":d.request=u("./request");break;default:throw new E("Unknown extension.","jsonld.UnknownExtension",{extension:a});}},Y={exports:{},filename:b},u("pkginfo")(Y,"version"),d.version=Y.exports.version);return d},f=function(){return d(function(){return f()})};
d(f);"function"===typeof u&&"undefined"!==typeof z&&z.exports&&(z.exports=f);a&&("undefined"===typeof jsonld?jsonld=jsonldjs=f:jsonldjs=f);return f})()}).call(this,u("7YKIPe"),"undefined"!==typeof self?self:"undefined"!==typeof window?window:{},"/../node_modules/jsonld/js")},{"./request":25,"7YKIPe":10,crypto:25,"es6-promise":3,http:25,pkginfo:36,request:25,util:25,xmldom:25}],27:[function(u,z,w){var l=u;u=function(){};w=z.exports={Lexer:u("./lib/N3Lexer"),Parser:u("./lib/N3Parser"),Writer:u("./lib/N3Writer"),
Store:u("./lib/N3Store"),StreamParser:u("./lib/N3StreamParser"),StreamWriter:u("./lib/N3StreamWriter"),Util:u("./lib/N3Util")};Object.keys(w).forEach(function(t){Object.defineProperty(w,t,{configurable:!0,enumerable:!0,get:function(){delete w[t];return w[t]=l("./lib/N3"+t)}})})},{"./lib/N3Lexer":28,"./lib/N3Parser":29,"./lib/N3Store":30,"./lib/N3StreamParser":31,"./lib/N3StreamWriter":32,"./lib/N3Util":33,"./lib/N3Writer":34}],28:[function(u,z,w){function l(a){if(!(this instanceof l))return new l(a);
if(a&&a.lineMode){this._tripleQuotedString=this._number=this._boolean=/$0^/;var b=this;this._tokenize=this.tokenize;this.tokenize=function(a,d){this._tokenize(a,function(a,e){!a&&/^(?:IRI|prefixed|literal|langcode|type|\.|eof)$/.test(e.type)?d&&d(a,e):d&&d(a||b._syntaxError(e.type,d=null))})}}}var t=String.fromCharCode,b="function"===typeof setImmediate?setImmediate:function(a){setTimeout(a,0)},c=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\[uU]|\\(.)/g,a={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",
f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},d=/[\x00-\x20<>\\"\{\}\|\^\`]/;l.prototype={_iri:/^<((?:[^>\\]|\\[uU])+)>/,_unescapedIri:/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>/,_unescapedString:/^"[^"\\]+"(?=[^"\\])/,_singleQuotedString:/^"[^"\\]*(?:\\.[^"\\]*)*"(?=[^"\\])|^'[^'\\]*(?:\\.[^'\\]*)*'(?=[^'\\])/,_tripleQuotedString:/^""("[^"\\]*(?:(?:\\.|"(?!""))[^"\\]*)*")""|^''('[^'\\]*(?:(?:\\.|'(?!''))[^'\\]*)*')''/,
_langcode:/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,_prefix:/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,_prefixed:/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?=\.?[,;\s#()\[\]\{\}"'<])/,
_blank:/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=\.?[,;:\s#()\[\]\{\}"'<])/,_number:/^[\-+]?(?:\d+\.?\d*([eE](?:[\-\+])?\d+)|\d*\.?\d+)(?=[.,;:\s#()\[\]\{\}"'<])/,_boolean:/^(?:true|false)(?=[.,;:\s#()\[\]\{\}"'<])/,
_keyword:/^@[a-z]+(?=[\s#<:])/,_sparqlKeyword:/^(?:PREFIX|BASE|GRAPH)(?=[\s#<:])/i,_shortPredicates:/^a(?=\s+|<)/,_newline:/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,_whitespace:/^[ \t]+/,_endOfFile:/^(?:#[^\n\r]*)?$/,_tokenizeToEnd:function(a,b){function e(b){a(b._syntaxError(/^\S*/.exec(c)[0]))}for(var c=this._input;;){for(var k;k=this._newline.exec(c);)c=c.substr(k[0].length,c.length),this._line++;if(k=this._whitespace.exec(c))c=c.substr(k[0].length,c.length);if(this._endOfFile.test(c))return b&&
a(c=null,{line:this._line,type:"eof",value:"",prefix:""}),this._input=c;k=this._line;var m="",q="",x="",l=c[0],v=null,C=0,H=!1;switch(l){case "^":if(1===c.length)break;else if("^"!==c[1])return e(this);this._prevTokenType="^";c=c.substr(2);if("<"!==c[0]){H=!0;break}case "<":if(v=this._unescapedIri.exec(c))m="IRI",q=v[1];else if(v=this._iri.exec(c)){q=this._unescape(v[1]);if(null===q||d.test(q))return e(this);m="IRI"}break;case "_":if((v=this._blank.exec(c))||b&&(v=this._blank.exec(c+" ")))m="prefixed",
x="_",q=v[1];break;case '"':case "'":if(v=this._unescapedString.exec(c))m="literal",q=v[0];else if(v=this._singleQuotedString.exec(c)){q=this._unescape(v[0]);if(null===q)return e(this);m="literal";q=q.replace(/^'|'$/g,'"')}else if(v=this._tripleQuotedString.exec(c)){q=v[1]||v[2];this._line+=q.split(/\r\n|\r|\n/).length-1;q=this._unescape(q);if(null===q)return e(this);m="literal";q=q.replace(/^'|'$/g,'"')}break;case "@":if("literal"===this._prevTokenType&&(v=this._langcode.exec(c)))m="langcode",q=
v[1];else if(v=this._keyword.exec(c))m=v[0];break;case ".":if(1===c.length?b:"0">c[1]||"9"<c[1]){m=".";C=1;break}case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":case "+":case "-":if(v=this._number.exec(c))m="literal",q='"'+v[0]+'"^^http://www.w3.org/2001/XMLSchema#'+(v[1]?"double":/^[+\-]?\d+$/.test(v[0])?"integer":"decimal");break;case "B":case "b":case "p":case "P":case "G":case "g":(v=this._sparqlKeyword.exec(c))?m=v[0].toUpperCase():H=!0;break;case "f":case "t":(v=
this._boolean.exec(c))?(m="literal",q='"'+v[0]+'"^^http://www.w3.org/2001/XMLSchema#boolean'):H=!0;break;case "a":(v=this._shortPredicates.exec(c))?(m="abbreviation",q="http://www.w3.org/1999/02/22-rdf-syntax-ns#type"):H=!0;break;case ",":case ";":case "[":case "]":case "(":case ")":case "{":case "}":C=1;m=l;break;default:H=!0}if(H)if(("@prefix"===this._prevTokenType||"PREFIX"===this._prevTokenType)&&(v=this._prefix.exec(c)))m="prefix",q=v[1]||"";else if((v=this._prefixed.exec(c))||b&&(v=this._prefixed.exec(c+
" ")))m="prefixed",x=v[1]||"",q=this._unescape(v[2]);"^"===this._prevTokenType&&(m="IRI"===m||"prefixed"===m?"type":"");if(!m)return b||!/^'''|^"""/.test(c)&&/\n|\r/.test(c)?e(this):this._input=c;a(null,{line:k,type:m,value:q,prefix:x});this._prevTokenType=m;c=c.substr(C||v[0].length,c.length)}},_unescape:function(b){try{return b.replace(c,function(b,d,c,f){if(d){b=parseInt(d,16);if(isNaN(b))throw Error();return t(b)}if(c){b=parseInt(c,16);if(isNaN(b))throw Error();return 65535>=b?t(b):t(55296+(b-=
65536)/1024,56320+(b&1023))}b=a[f];if(!b)throw Error();return b})}catch(d){return null}},_syntaxError:function(a){this._input=null;return Error('Syntax error: unexpected "'+a+'" on line '+this._line+".")},tokenize:function(a,d){function e(a){null!==k._input&&(k._input+=a,k._tokenizeToEnd(d,!1))}function c(){null!==k._input&&k._tokenizeToEnd(d,!0)}var k=this;this._line=1;"string"===typeof a?(this._input=a,b(function(){k._tokenizeToEnd(d,!0)})):(this._input="",a&&"function"!==typeof a?("function"===
typeof a.setEncoding&&a.setEncoding("utf8"),a.on("data",e),a.on("end",c)):(this.addChunk=e,this.end=c,d||(d=a)))}};z.exports=l},{}],29:[function(u,z,w){function l(a){if(!(this instanceof l))return new l(a);this._tripleStack=[];this._graph=null;a=a||{};this._setBase(a.documentIRI);var d="string"===typeof a.format&&a.format.match(/\w*$/)[0].toLowerCase(),c="turtle"===d,f="trig"===d,g=/triple/.test(d),d=/quad/.test(d),d=g||d;(this._supportsNamedGraphs=!c)||(this._readPredicateOrNamedGraph=this._readPredicate);
this._supportsQuads=!(c||f||g);d&&(this._base="",this._resolveIRI=function(a){this._error("Disallowed relative IRI",a);return this._callback=t,this._subject=null});this._blankNodePrefix="string"!==typeof a.blankNodePrefix?"":"_:"+a.blankNodePrefix.replace(/^_:/,"");this._lexer=a.lexer||new b({lineMode:d})}function t(){}var b=u("./N3Lexer"),c=/^[a-z][a-z0-9+.-]*:/i,a=/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i,d=/(?:^|\/)\.\.?(?:$|[\/#?])/,f=0,g=0;l._resetBlankNodeIds=function(){f=g=0};l.prototype=
{_setBase:function(b){if(!b)b=null;else if(0<=b.indexOf("#"))throw Error("Invalid base IRI "+b);if(this._base=b)this._basePath=b.replace(/[^\/?]*(?:\?.*)?$/,""),b=b.match(a),this._baseRoot=b[0],this._baseScheme=b[1]},_readInTopContext:function(a){switch(a.type){case "eof":if(null!==this._graph)return this._error("Unclosed graph",a);delete this._prefixes._;return this._callback(null,null,this._prefixes);case "@prefix":return this._sparqlStyle=!1,this._readPrefix;case "PREFIX":return this._sparqlStyle=
!0,this._readPrefix;case "@base":return this._sparqlStyle=!1,this._readBaseIRI;case "BASE":return this._sparqlStyle=!0,this._readBaseIRI;case "{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case "GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(a)}},_readSubject:function(a){this._predicate=null;switch(a.type){case "IRI":null===this._base||c.test(a.value)?this._subject=a.value:this._subject=this._resolveIRI(a);
break;case "prefixed":var b=this._prefixes[a.prefix];if(void 0===b)return this._error('Undefined prefix "'+a.prefix+':"',a);this._subject=b+a.value;break;case "[":return this._subject="_:b"+g++,this._tripleStack.push({subject:this._subject,predicate:null,object:null,type:"blank"}),this._readBlankNodeHead;case "(":return this._tripleStack.push({subject:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil",predicate:null,object:null,type:"list"}),this._subject=null,this._readListItem;case "}":return this._readPunctuation(a);
default:return this._error("Expected subject but got "+a.type,a)}return this._readPredicateOrNamedGraph},_readPredicate:function(a){var b=a.type;switch(b){case "IRI":case "abbreviation":null===this._base||c.test(a.value)?this._predicate=a.value:this._predicate=this._resolveIRI(a);break;case "prefixed":if("_"===a.prefix)return this._error("Disallowed blank node as predicate",a);b=this._prefixes[a.prefix];if(void 0===b)return this._error('Undefined prefix "'+a.prefix+':"',a);this._predicate=b+a.value;
break;case ".":case "]":case "}":if(null===this._predicate)return this._error("Unexpected "+b,a);this._subject=null;return"]"===b?this._readBlankNodeTail(a):this._readPunctuation(a);case ";":return this._readPredicate;default:return this._error('Expected predicate to follow "'+this._subject+'"',a)}return this._readObject},_readObject:function(a){switch(a.type){case "IRI":null===this._base||c.test(a.value)?this._object=a.value:this._object=this._resolveIRI(a);break;case "prefixed":var b=this._prefixes[a.prefix];
if(void 0===b)return this._error('Undefined prefix "'+a.prefix+':"',a);this._object=b+a.value;break;case "literal":return this._object=a.value,this._readDataTypeOrLang;case "[":return a="_:b"+g++,this._tripleStack.push({subject:this._subject,predicate:this._predicate,object:a,type:"blank"}),this._subject=a,this._readBlankNodeHead;case "(":return this._tripleStack.push({subject:this._subject,predicate:this._predicate,object:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil",type:"list"}),this._subject=
null,this._readListItem;default:return this._error('Expected object to follow "'+this._predicate+'"',a)}return this._getTripleEndReader()},_readPredicateOrNamedGraph:function(a){return"{"===a.type?this._readGraph(a):this._readPredicate(a)},_readGraph:function(a){if("{"!==a.type)return this._error("Expected graph but got "+a.type,a);this._graph=this._subject;this._subject=null;return this._readSubject},_readBlankNodeHead:function(a){if("]"===a.type)return this._subject=null,this._readBlankNodeTail(a);
this._predicate=null;return this._readPredicate(a)},_readBlankNodeTail:function(a){if("]"!==a.type)return this._readBlankNodePunctuation(a);null!==this._subject&&this._callback(null,{subject:this._subject,predicate:this._predicate,object:this._object,graph:this._graph||""});a=this._tripleStack.pop();this._subject=a.subject;return null!==a.object?(this._predicate=a.predicate,this._object=a.object,this._getTripleEndReader()):null!==this._predicate?this._readPredicate:this._readPredicateOrNamedGraph},
_readDataTypeOrLang:function(a){switch(a.type){case "type":if(""===a.prefix)a=null===this._base||c.test(a.value)?a.value:this._resolveIRI(a);else{var b=this._prefixes[a.prefix];if(void 0===b)return this._error('Undefined prefix "'+a.prefix+':"',a);a=b+a.value}this._object+="^^"+a;return this._getTripleEndReader();case "langcode":return this._object+="@"+a.value.toLowerCase(),this._getTripleEndReader();default:return this._getTripleEndReader().call(this,a)}},_readListItem:function(a){var b=null,d=
null,f=this._subject,q=this._tripleStack,x=q[q.length-1],l=this._readListItem;switch(a.type){case "IRI":b=null===this._base||c.test(a.value)?a.value:this._resolveIRI(a);break;case "prefixed":b=this._prefixes[a.prefix];if(void 0===b)return this._error('Undefined prefix "'+a.prefix+':"',a);b+=a.value;break;case "literal":b=a.value;l=this._readDataTypeOrLang;break;case "[":d="_:b"+g++;b="_:b"+g++;q.push({subject:d,predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",object:b,type:"blank"});this._subject=
b;l=this._readBlankNodeHead;break;case "(":d="_:b"+g++;q.push({subject:d,predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",object:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil",type:"list"});this._subject=null;l=this._readListItem;break;case ")":q.pop();0!==q.length&&"list"===q[q.length-1].type&&this._callback(null,{subject:x.subject,predicate:x.predicate,object:x.object,graph:this._graph||""});this._subject=x.subject;if(null===x.predicate){if(l=this._readPredicate,"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"===
x.subject)return l}else if(this._predicate=x.predicate,this._object=x.object,l=this._getTripleEndReader(),"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"===x.object)return l;d="http://www.w3.org/1999/02/22-rdf-syntax-ns#nil";break;default:return this._error('Expected list item instead of "'+a.type+'"',a)}null===d&&(this._subject=d="_:b"+g++);null===f?"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"===x.object?x.object=d:x.subject=d:this._callback(null,{subject:f,predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",
object:d,graph:this._graph||""});null!==b&&this._callback(null,{subject:d,predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",object:b,graph:this._graph||""});return l},_readPunctuation:function(a){var b=this._subject,d=this._graph;switch(a.type){case "}":if(null===this._graph)return this._error("Unexpected graph closing",a);this._graph=null;case ".":this._subject=null;a=this._readInTopContext;break;case ";":a=this._readPredicate;break;case ",":a=this._readObject;break;case "IRI":if(this._supportsQuads&&
null===this._graph){d=null===this._base||c.test(a.value)?a.value:this._resolveIRI(a);b=this._subject;a=this._readQuadPunctuation;break}case "prefixed":if(this._supportsQuads&&null===this._graph){d=this._prefixes[a.prefix];if(void 0===d)return this._error('Undefined prefix "'+a.prefix+':"',a);d+=a.value;a=this._readQuadPunctuation;break}default:return this._error('Expected punctuation to follow "'+this._object+'"',a)}null!==b&&this._callback(null,{subject:b,predicate:this._predicate,object:this._object,
graph:d||""});return a},_readBlankNodePunctuation:function(a){switch(a.type){case ";":a=this._readPredicate;break;case ",":a=this._readObject;break;default:return this._error('Expected punctuation to follow "'+this._object+'"',a)}this._callback(null,{subject:this._subject,predicate:this._predicate,object:this._object,graph:this._graph||""});return a},_readQuadPunctuation:function(a){return"."!==a.type?this._error("Expected dot to follow quad",a):this._readInTopContext},_readPrefix:function(a){if("prefix"!==
a.type)return this._error("Expected prefix to follow @prefix",a);this._prefix=a.value;return this._readPrefixIRI},_readPrefixIRI:function(a){if("IRI"!==a.type)return this._error('Expected IRI to follow prefix "'+this._prefix+':"',a);a=null===this._base||c.test(a.value)?a.value:this._resolveIRI(a);this._prefixes[this._prefix]=a;this._prefixCallback(this._prefix,a);return this._readDeclarationPunctuation},_readBaseIRI:function(a){if("IRI"!==a.type)return this._error("Expected IRI to follow base declaration",
a);try{this._setBase(null===this._base||c.test(a.value)?a.value:this._resolveIRI(a))}catch(b){this._error(b.message,a)}return this._readDeclarationPunctuation},_readNamedGraphLabel:function(a){switch(a.type){case "IRI":case "prefixed":return this._readSubject(a),this._readGraph;case "[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",a)}},_readNamedGraphBlankLabel:function(a){if("]"!==a.type)return this._error("Invalid graph label",a);this._subject="_:b"+g++;
return this._readGraph},_readDeclarationPunctuation:function(a){return this._sparqlStyle?this._readInTopContext(a):"."!==a.type?this._error("Expected declaration to end with a dot",a):this._readInTopContext},_getTripleEndReader:function(){var a=this._tripleStack;if(0===a.length)return this._readPunctuation;switch(a[a.length-1].type){case "blank":return this._readBlankNodeTail;case "list":return this._readListItem}},_error:function(a,b){this._callback(Error(a+" at line "+b.line+"."))},_resolveIRI:function(a){a=
a.value;switch(a[0]){case void 0:return this._base;case "#":return this._base+a;case "?":return this._base.replace(/(?:\?.*)?$/,a);case "/":return("/"===a[1]?this._baseScheme:this._baseRoot)+this._removeDotSegments(a);default:return this._removeDotSegments(this._basePath+a)}},_removeDotSegments:function(a){if(!d.test(a))return a;for(var b="",c=a.length,f=-1,g=-1,x=0,l="/";f<c;){switch(l){case ":":if(0>g&&"/"===a[++f]&&"/"===a[++f])for(;(g=f+1)<c&&"/"!==a[g];)f=g;break;case "?":case "#":f=c;break;
case "/":if("."===a[f+1])switch(l=a[++f+1],l){case "/":b+=a.substring(x,f-1);x=f+1;break;case void 0:case "?":case "#":return b+a.substring(x,f)+a.substr(f+1);case ".":if(l=a[++f+1],void 0===l||"/"===l||"?"===l||"#"===l){b+=a.substring(x,f-2);(x=b.lastIndexOf("/"))>=g&&(b=b.substr(0,x));if("/"!==l)return b+"/"+a.substr(f+1);x=f+1}}}l=a[++f]}return b+a.substring(x)},parse:function(a,b,d){this._readCallback=this._readInTopContext;this._prefixes=Object.create(null);this._prefixes._=this._blankNodePrefix||
"_:b"+f++ +"_";"function"===typeof a&&(d=b,b=a,a=null);this._callback=b||t;this._prefixCallback=d||t;var c=this;this._lexer.tokenize(a,function(a,b){null!==a?(c._callback(a),c._callback=t):void 0!==c._readCallback&&(c._readCallback=c._readCallback(b))});a||(this.addChunk=this._lexer.addChunk,this.end=this._lexer.end)}};z.exports=l},{"./N3Lexer":28}],30:[function(u,z,w){function l(b,c){if(!(this instanceof l))return new l(b,c);this._size=0;this._graphs=Object.create(null);this._entities=Object.create(null);
this._blankNodeIndex=this._entityCount=this._entities["><"]=0;c||!b||b[0]||(c=b,b=null);this._prefixes=Object.create(null);c&&c.prefixes&&this.addPrefixes(c.prefixes);b&&this.addTriples(b)}var t=u("./N3Util").expandPrefixedName;l.prototype={get size(){var b=this._size;if(null!==b)return b;var c=this._graphs,a,d,f;for(f in c)for(var g in a=c[f].subjects)for(var e in d=a[g])b+=Object.keys(d[e]).length;return this._size=b},_addToIndex:function(b,c,a,d){b=b[c]||(b[c]={});(b[a]||(b[a]={}))[d]=null},_removeFromIndex:function(b,
c,a,d){var f=b[c],g=f[a],e;delete g[d];for(e in g)return;delete f[a];for(e in f)return;delete b[c]},_findInIndex:function(b,c,a,d,f,g,e,h){var k=[],m=Object.keys(this._entities),q,x;c&&((q=b,b={})[c]=q[c]);for(var l in b){var v=m[l];if(c=b[l]){a&&((q=c,c={})[a]=q[a]);for(var C in c){var H=m[C];if(x=c[C]){x=d?d in x?[d]:[]:Object.keys(x);for(var D=x.length-1;0<=D;D--){var t={subject:"",predicate:"",object:"",graph:h};t[f]=v;t[g]=H;t[e]=m[x[D]];k.push(t)}}}}}return k},_countInIndex:function(b,c,a,d){var f=
0,g,e;c&&((g=b,b={})[c]=g[c]);for(var h in b)if(c=b[h]){a&&((g=c,c={})[a]=g[a]);for(var k in c)if(e=c[k])d?d in e&&f++:f+=Object.keys(e).length}return f},addTriple:function(b,c,a,d){c||(d=b.graph,a=b.object,c=b.predicate,b=b.subject);d=d||"";var f=this._graphs[d];f||(f=this._graphs[d]={subjects:{},predicates:{},objects:{}},Object.freeze(f));d=this._entities;b=d[b]||(d[b]=++this._entityCount);c=d[c]||(d[c]=++this._entityCount);a=d[a]||(d[a]=++this._entityCount);this._addToIndex(f.subjects,b,c,a);this._addToIndex(f.predicates,
c,a,b);this._addToIndex(f.objects,a,b,c);this._size=null},addTriples:function(b){for(var c=b.length-1;0<=c;c--)this.addTriple(b[c])},addPrefix:function(b,c){this._prefixes[b]=c},addPrefixes:function(b){for(var c in b)this.addPrefix(c,b[c])},removeTriple:function(b,c,a,d){c||(d=b.graph,a=b.object,c=b.predicate,b=b.subject);d=d||"";var f;f=this._entities;var g=this._graphs;if(b=f[b])if(c=f[c])if(a=f[a])if(f=g[d]){var e,h;if((e=f.subjects[b])&&(h=e[c])&&a in h){this._removeFromIndex(f.subjects,b,c,a);
this._removeFromIndex(f.predicates,c,a,b);this._removeFromIndex(f.objects,a,b,c);null!==this._size&&this._size--;for(b in f.subjects)return;delete g[d]}}},removeTriples:function(b){for(var c=b.length-1;0<=c;c--)this.removeTriple(b[c])},find:function(b,c,a,d){var f=this._prefixes;return this.findByIRI(t(b,f),t(c,f),t(a,f),t(d,f))},findByIRI:function(b,c,a,d){d=d||"";var f=this._graphs[d],g=this._entities;return!f||b&&!(b=g[b])||c&&!(c=g[c])||a&&!(a=g[a])?[]:b?a?this._findInIndex(f.objects,a,b,c,"object",
"subject","predicate",d):this._findInIndex(f.subjects,b,c,null,"subject","predicate","object",d):c?this._findInIndex(f.predicates,c,a,null,"predicate","object","subject",d):a?this._findInIndex(f.objects,a,null,null,"object","subject","predicate",d):this._findInIndex(f.subjects,null,null,null,"subject","predicate","object",d)},count:function(b,c,a,d){var f=this._prefixes;return this.countByIRI(t(b,f),t(c,f),t(a,f),t(d,f))},countByIRI:function(b,c,a,d){d=this._graphs[d||""];var f=this._entities;return!d||
b&&!(b=f[b])||c&&!(c=f[c])||a&&!(a=f[a])?0:b?a?this._countInIndex(d.objects,a,b,c):this._countInIndex(d.subjects,b,c,a):c?this._countInIndex(d.predicates,c,a,b):this._countInIndex(d.objects,a,b,c)},createBlankNode:function(b){var c,a;if(b)for(c=b="_:"+b,a=1;this._entities[c];)c=b+a++;else{do c="_:b"+this._blankNodeIndex++;while(this._entities[c])}this._entities[c]=++this._entityCount;return c}};z.exports=l},{"./N3Util":33}],31:[function(u,z,w){function l(c){if(!(this instanceof l))return new l(c);
t.call(this,{decodeStrings:!0});this._readableState.objectMode=!0;var a=this,d=new b(c);d.parse(function(b,d){d&&a.push(d)||b&&a.emit("error",b)},this.emit.bind(this,"prefix"));this._transform=function(a,b,e){d.addChunk(a);e()};this._flush=function(a){d.end();a()}}var t=u("stream").Transform;w=u("util");var b=u("./N3Parser.js");w.inherits(l,t);z.exports=l},{"./N3Parser.js":29,stream:15,util:40}],32:[function(u,z,w){function l(c){if(!(this instanceof l))return new l(c);t.call(this,{encoding:"utf8"});
this._writableState.objectMode=!0;var a=this,d=new b({write:function(b,d,e){a.push(b);e&&e()},end:function(b){a.push(null);b&&b()}},c);this._transform=function(a,b,e){d.addTriple(a,e)};this._flush=function(a){d.end(a)}}var t=u("stream").Transform;w=u("util");var b=u("./N3Writer.js");w.inherits(l,t);z.exports=l},{"./N3Writer.js":34,stream:15,util:40}],33:[function(u,z,w){function l(c,a){for(var d in b)a?c.prototype[d]=t(b[d]):c[d]=b[d];return c}function t(b){return function(a){return b(this,a)}}var b=
{isIRI:function(b){if(!b)return b;b=b[0];return'"'!==b&&"_"!==b},isLiteral:function(b){return b&&'"'===b[0]},isBlank:function(b){return b&&"_:"===b.substr(0,2)},getLiteralValue:function(b){var a=/^"([^]*)"/.exec(b);if(!a)throw Error(b+" is not a literal");return a[1]},getLiteralType:function(b){var a=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(b);if(!a)throw Error(b+" is not a literal");return a[1]||(a[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")},
getLiteralLanguage:function(b){var a=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(b);if(!a)throw Error(b+" is not a literal");return a[1]?a[1].toLowerCase():""},isPrefixedName:function(b){return b&&/^[^:\/"']*:[^:\/"']+$/.test(b)},expandPrefixedName:function(b,a){var d=/(?:^|"\^\^)([^:\/#"'\^_]*):[^\/]*$/.exec(b),f,g,e;d&&(f=d[1],g=a[f],e=d.index);return void 0===g?b:0===e?g+b.substr(f.length+1):b.substr(0,e+3)+g+b.substr(e+f.length+4)},createIRI:function(c){return c&&'"'===c[0]?b.getLiteralValue(c):c},
createLiteral:function(b,a){if(!a)switch(typeof b){case "boolean":a="http://www.w3.org/2001/XMLSchema#boolean";break;case "number":if(isFinite(b)){a=0===b%1?"http://www.w3.org/2001/XMLSchema#integer":"http://www.w3.org/2001/XMLSchema#decimal";break}default:return'"'+b+'"'}return'"'+b+(/^[a-z]+(-[a-z0-9]+)*$/i.test(a)?'"@'+a.toLowerCase():'"^^'+a)}};z.exports=l(l)},{}],34:[function(u,z,w){function l(a,b){if(!(this instanceof l))return new l(a,b);a&&"function"!==typeof a.write&&(b=a,a=null);b=b||{};
if(a)this._outputStream=a,this._endStream=void 0===b.end?!0:!!b.end;else{var d="";this._outputStream={write:function(a,b,c){d+=a;c&&c()},end:function(a){a&&a(null,d)}};this._endStream=!0}this._subject=null;/triple|quad/i.test(b.format)?this._writeTriple=this._writeTripleLine:(this._graph="",this._prefixIRIs=Object.create(null),b.prefixes&&this.addPrefixes(b.prefixes))}function t(a){var b=d[a];void 0===b&&(1===a.length?(b=a.charCodeAt(0).toString(16),b="\\u0000".substr(0,6-b.length)+b):(b=(1024*(a.charCodeAt(0)-
55296)+a.charCodeAt(1)+9216).toString(16),b="\\U00000000".substr(0,10-b.length)+b));return b}var b=/^"([^]*)"(?:\^\^(.+)|@([\-a-z]+))?$/i,c=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,a=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,d={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};l.prototype={_write:function(a,b){this._outputStream.write(a,"utf8",b)},_writeTriple:function(a,b,d,c,k){try{this._graph!==c&&(this._write((null===this._subject?"":this._graph?
"\n}\n":".\n")+(c?this._encodeIriOrBlankNode(c)+" {\n":"")),this._subject=null,this._graph="["!==c[0]?c:"]"),this._subject===a?this._predicate===b?this._write(", "+this._encodeObject(d),k):this._write(";\n    "+this._encodePredicate(this._predicate=b)+" "+this._encodeObject(d),k):this._write((null===this._subject?"":".\n")+this._encodeSubject(this._subject=a)+" "+this._encodePredicate(this._predicate=b)+" "+this._encodeObject(d),k)}catch(m){k&&k(m)}},_writeTripleLine:function(a,b,d,c,k){delete this._prefixMatch;
try{this._write(this._encodeIriOrBlankNode(a)+" "+this._encodeIriOrBlankNode(b)+" "+this._encodeObject(d)+(c?" "+this._encodeIriOrBlankNode(c)+".\n":".\n"),k)}catch(m){k&&k(m)}},_encodeIriOrBlankNode:function(b){var d=b[0];if("["===d||"("===d||"_"===d&&":"===b[1])return b;c.test(b)&&(b=b.replace(a,t));return(d=this._prefixRegex.exec(b))?d[1]?this._prefixIRIs[d[1]]+d[2]:b:"<"+b+">"},_encodeLiteral:function(b,d,e){c.test(b)&&(b=b.replace(a,t));return e?'"'+b+'"@'+e:d?'"'+b+'"^^'+this._encodeIriOrBlankNode(d):
'"'+b+'"'},_encodeSubject:function(a){if('"'===a[0])throw Error("A literal as subject is not allowed: "+a);"["===a[0]&&(this._subject="]");return this._encodeIriOrBlankNode(a)},_encodePredicate:function(a){if('"'===a[0])throw Error("A literal as predicate is not allowed: "+a);return"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"===a?"a":this._encodeIriOrBlankNode(a)},_encodeObject:function(a){if('"'!==a[0])return this._encodeIriOrBlankNode(a);var d=b.exec(a);if(!d)throw Error("Invalid literal: "+
a);return this._encodeLiteral(d[1],d[2],d[3])},_blockedWrite:function(){throw Error("Cannot write because the writer has been closed.");},addTriple:function(a,b,d,c,k){void 0===d?this._writeTriple(a.subject,a.predicate,a.object,a.graph||"",b):"string"!==typeof c?this._writeTriple(a,b,d,"",c):this._writeTriple(a,b,d,c,k)},addTriples:function(a){for(var b=0;b<a.length;b++)this.addTriple(a[b])},addPrefix:function(a,b,d){var c={};c[a]=b;this.addPrefixes(c,d)},addPrefixes:function(a,b){var d=this._prefixIRIs,
c=!1,k;for(k in a){var m=a[k];/[#\/]$/.test(m)&&d[m]!==(k+=":")&&(c=!0,d[m]=k,null!==this._subject&&(this._write(this._graph?"\n}\n":".\n"),this._subject=null,this._graph=""),this._write("@prefix "+k+" <"+m+">.\n"))}if(c){var m=k="",q;for(q in d)k+=k?"|"+q:q,m+=(m?"|":"")+d[q];k=k.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&");this._prefixRegex=new RegExp("^(?:"+m+")[^/]*$|^("+k+")([a-zA-Z][\\-_a-zA-Z0-9]*)$")}this._write(c?"\n":"",b)},blank:function(a,b){var d=a,c,k;void 0===a?d=[]:"string"===typeof a?
d=[{predicate:a,object:b}]:"length"in a||(d=[a]);switch(k=d.length){case 0:return"[]";case 1:if(c=d[0],"["!==c.object[0])return"[ "+this._encodePredicate(c.predicate)+" "+this._encodeObject(c.object)+" ]";default:for(var m="[",q=0;q<k;q++)c=d[q],c.predicate===a?m+=", "+this._encodeObject(c.object):(m+=(q?";\n  ":"\n  ")+this._encodePredicate(c.predicate)+" "+this._encodeObject(c.object),a=c.predicate);return m+"\n]"}},list:function(a){for(var b=a&&a.length||0,d=Array(b),c=0;c<b;c++)d[c]=this._encodeObject(a[c]);
return"("+d.join(" ")+")"},_prefixRegex:/$0^/,end:function(a){null!==this._subject&&(this._write(this._graph?"\n}\n":".\n"),this._subject=null);this._write=this._blockedWrite;var b=a&&function(d,c){b=null;a(d,c)};if(this._endStream)try{return this._outputStream.end(b)}catch(d){}b&&b()}};z.exports=l},{}],35:[function(u,z,w){(function(l){function t(a,b){for(var c=0,e=a.length-1;0<=e;e--){var h=a[e];"."===h?a.splice(e,1):".."===h?(a.splice(e,1),c++):c&&(a.splice(e,1),c--)}if(b)for(;c--;c)a.unshift("..");
return a}function b(a,b){if(a.filter)return a.filter(b);for(var c=[],e=0;e<a.length;e++)b(a[e],e,a)&&c.push(a[e]);return c}var c=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;w.resolve=function(){for(var a="",c=!1,g=arguments.length-1;-1<=g&&!c;g--){var e=0<=g?arguments[g]:l.cwd();if("string"!==typeof e)throw new TypeError("Arguments to path.resolve must be strings");e&&(a=e+"/"+a,c="/"===e.charAt(0))}a=t(b(a.split("/"),function(a){return!!a}),!c).join("/");return(c?"/":"")+a||"."};
w.normalize=function(d){var c=w.isAbsolute(d),g="/"===a(d,-1);(d=t(b(d.split("/"),function(a){return!!a}),!c).join("/"))||c||(d=".");d&&g&&(d+="/");return(c?"/":"")+d};w.isAbsolute=function(a){return"/"===a.charAt(0)};w.join=function(){var a=Array.prototype.slice.call(arguments,0);return w.normalize(b(a,function(a,b){if("string"!==typeof a)throw new TypeError("Arguments to path.join must be strings");return a}).join("/"))};w.relative=function(a,b){function c(a){for(var b=0;b<a.length&&""===a[b];b++);
for(var d=a.length-1;0<=d&&""===a[d];d--);return b>d?[]:a.slice(b,d-b+1)}a=w.resolve(a).substr(1);b=w.resolve(b).substr(1);for(var e=c(a.split("/")),h=c(b.split("/")),k=Math.min(e.length,h.length),m=k,q=0;q<k;q++)if(e[q]!==h[q]){m=q;break}k=[];for(q=m;q<e.length;q++)k.push("..");k=k.concat(h.slice(m));return k.join("/")};w.sep="/";w.delimiter=":";w.dirname=function(a){var b=c.exec(a).slice(1);a=b[0];b=b[1];if(!a&&!b)return".";b&&(b=b.substr(0,b.length-1));return a+b};w.basename=function(a,b){var g=
c.exec(a).slice(1)[2];b&&g.substr(-1*b.length)===b&&(g=g.substr(0,g.length-b.length));return g};w.extname=function(a){return c.exec(a).slice(1)[3]};var a="b"==="ab".substr(-1)?function(a,b,c){return a.substr(b,c)}:function(a,b,c){0>b&&(b=a.length+b);return a.substr(b,c)}}).call(this,u("7YKIPe"))},{"7YKIPe":10}],36:[function(u,z,w){(function(l){var t=u("fs"),b=u("path"),c=z.exports=function(a,b){var f=[].slice.call(arguments,2).filter(function(a){return"string"===typeof a});Array.isArray(b)?b={include:b}:
"string"===typeof b&&(b={include:[b]});b=b||{};b.include=b.include||[];0<f.length&&(b.include=b.include.concat(f));var g=c.read(a,b.dir)["package"];Object.keys(g).forEach(function(c){0<b.include.length&&!~b.include.indexOf(c)||a.exports[c]||(a.exports[c]=g[c])});return c};c.find=function(a,d){d||(d=b.dirname(a.filename));if(~t.readdirSync(d).indexOf("package.json"))return b.join(d,"package.json");if("/"===d)throw Error("Could not find package.json up from: "+d);if(!d||"."===d)throw Error("Cannot find package.json from unspecified directory");
return c.find(a,b.dirname(d))};c.read=function(a,b){b=c.find(a,b);var f=t.readFileSync(b).toString();return{dir:b,"package":JSON.parse(f)}};c(z,{dir:l,include:["version"],target:c})}).call(this,"/../node_modules/pkginfo/lib")},{fs:5,path:35}],37:[function(u,z,w){(function(l){(function(t){function b(a){throw RangeError(H[a]);}function c(a,b){for(var d=a.length;d--;)a[d]=b(a[d]);return a}function a(a,b){return c(a.split(C),b).join(".")}function d(a){for(var b=[],d=0,c=a.length,e,f;d<c;)e=a.charCodeAt(d++),
55296<=e&&56319>=e&&d<c?(f=a.charCodeAt(d++),56320==(f&64512)?b.push(((e&1023)<<10)+(f&1023)+65536):(b.push(e),d--)):b.push(e);return b}function f(a){return c(a,function(a){var b="";65535<a&&(a-=65536,b+=I(a>>>10&1023|55296),a=56320|a&1023);return b+=I(a)}).join("")}function g(a,b){return a+22+75*(26>a)-((0!=b)<<5)}function e(a,b,d){var c=0;a=d?D(a/700):a>>1;for(a+=D(a/b);455<a;c+=36)a=D(a/35);return D(c+36*a/(a+38))}function h(a){var d=[],c=a.length,g,h=0,q=128,m=72,k,v,x,l,C;k=a.lastIndexOf("-");
0>k&&(k=0);for(v=0;v<k;++v)128<=a.charCodeAt(v)&&b("not-basic"),d.push(a.charCodeAt(v));for(k=0<k?k+1:0;k<c;){v=h;g=1;for(x=36;;x+=36){k>=c&&b("invalid-input");l=a.charCodeAt(k++);l=10>l-48?l-22:26>l-65?l-65:26>l-97?l-97:36;(36<=l||l>D((2147483647-h)/g))&&b("overflow");h+=l*g;C=x<=m?1:x>=m+26?26:x-m;if(l<C)break;l=36-C;g>D(2147483647/l)&&b("overflow");g*=l}g=d.length+1;m=e(h-v,g,0==v);D(h/g)>2147483647-q&&b("overflow");q+=D(h/g);h%=g;d.splice(h++,0,q)}return f(d)}function k(a){var c,f,h,q,m,k,v,x,
l,C=[],H,F,t;a=d(a);H=a.length;c=128;f=0;m=72;for(k=0;k<H;++k)l=a[k],128>l&&C.push(I(l));for((h=q=C.length)&&C.push("-");h<H;){v=2147483647;for(k=0;k<H;++k)l=a[k],l>=c&&l<v&&(v=l);F=h+1;v-c>D((2147483647-f)/F)&&b("overflow");f+=(v-c)*F;c=v;for(k=0;k<H;++k)if(l=a[k],l<c&&2147483647<++f&&b("overflow"),l==c){x=f;for(v=36;;v+=36){l=v<=m?1:v>=m+26?26:v-m;if(x<l)break;t=x-l;x=36-l;C.push(I(g(l+t%x,0)));x=D(t/x)}C.push(I(g(x,0)));m=e(f,F,h==q);f=0;++h}++f;++c}return C.join("")}var m="object"==typeof w&&
w,q="object"==typeof z&&z&&z.exports==m&&z,x="object"==typeof l&&l;if(x.global===x||x.window===x)t=x;var F=/^xn--/,v=/[^ -~]/,C=/\x2E|\u3002|\uFF0E|\uFF61/g,H={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},D=Math.floor,I=String.fromCharCode,u,x={version:"1.2.4",ucs2:{decode:d,encode:f},decode:h,encode:k,toASCII:function(b){return a(b,function(a){return v.test(a)?"xn--"+k(a):a})},toUnicode:function(b){return a(b,
function(a){return F.test(a)?h(a.slice(4).toLowerCase()):a})}};if(m&&!m.nodeType)if(q)q.exports=x;else for(u in x)x.hasOwnProperty(u)&&(m[u]=x[u]);else t.punycode=x})(this)}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],38:[function(u,z,w){function l(){this.href=this.path=this.pathname=this.query=this.search=this.hash=this.hostname=this.port=this.host=this.auth=this.slashes=this.protocol=null}function t(a,d,c){if(a&&b(a)&&a instanceof l)return a;var e=new l;
e.parse(a,d,c);return e}function b(a){return"object"===typeof a&&null!==a}var c=u("punycode");w.parse=t;w.resolve=function(a,b){return t(a,!1,!0).resolve(b)};w.resolveObject=function(a,b){return a?t(a,!1,!0).resolveObject(b):b};w.format=function(a){"string"===typeof a&&(a=t(a));return a instanceof l?a.format():l.prototype.format.call(a)};w.Url=l;var a=/^([a-z0-9.+-]+:)/i,d=/:[0-9]*$/;z="{}|\\^`".split("").concat('<>"` \r\n\t'.split(""));var f=["'"].concat(z),g=["%","/","?",";","#"].concat(f),e=["/",
"?","#"],h=/^[a-z0-9A-Z_-]{0,63}$/,k=/^([a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},q={javascript:!0,"javascript:":!0},x={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},F=u("querystring");l.prototype.parse=function(b,d,l){if("string"!==typeof b)throw new TypeError("Parameter 'url' must be a string, not "+typeof b);b=b.trim();var D=a.exec(b);if(D){var D=D[0],t=D.toLowerCase();this.protocol=t;b=b.substr(D.length)}if(l||D||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var u=
"//"===b.substr(0,2);!u||D&&q[D]||(b=b.substr(2),this.slashes=!0)}if(!q[D]&&(u||D&&!x[D])){u=-1;for(l=0;l<e.length;l++)D=b.indexOf(e[l]),-1!==D&&(-1===u||D<u)&&(u=D);u=-1===u?b.lastIndexOf("@"):b.lastIndexOf("@",u);-1!==u&&(l=b.slice(0,u),b=b.slice(u+1),this.auth=decodeURIComponent(l));u=-1;for(l=0;l<g.length;l++)D=b.indexOf(g[l]),-1!==D&&(-1===u||D<u)&&(u=D);-1===u&&(u=b.length);this.host=b.slice(0,u);b=b.slice(u);this.parseHost();this.hostname=this.hostname||"";u="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-
1];if(!u){var r=this.hostname.split(/\./);l=0;for(D=r.length;l<D;l++){var n=r[l];if(n&&!n.match(h)){for(var y="",B=0,A=n.length;B<A;B++)y=127<n.charCodeAt(B)?y+"x":y+n[B];if(!y.match(h)){D=r.slice(0,l);l=r.slice(l+1);if(n=n.match(k))D.push(n[1]),l.unshift(n[2]);l.length&&(b="/"+l.join(".")+b);this.hostname=D.join(".");break}}}}this.hostname=255<this.hostname.length?"":this.hostname.toLowerCase();if(!u){n=this.hostname.split(".");r=[];for(l=0;l<n.length;++l)D=n[l],r.push(D.match(/[^A-Za-z0-9_-]/)?
"xn--"+c.encode(D):D);this.hostname=r.join(".")}l=this.port?":"+this.port:"";this.host=(this.hostname||"")+l;this.href+=this.host;u&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!m[t])for(l=0,D=f.length;l<D;l++)u=f[l],n=encodeURIComponent(u),n===u&&(n=escape(u)),b=b.split(u).join(n);l=b.indexOf("#");-1!==l&&(this.hash=b.substr(l),b=b.slice(0,l));l=b.indexOf("?");-1!==l?(this.search=b.substr(l),this.query=b.substr(l+1),d&&(this.query=F.parse(this.query)),
b=b.slice(0,l)):d&&(this.search="",this.query={});b&&(this.pathname=b);x[t]&&this.hostname&&!this.pathname&&(this.pathname="/");if(this.pathname||this.search)l=this.pathname||"",D=this.search||"",this.path=l+D;this.href=this.format();return this};l.prototype.format=function(){var a=this.auth||"";a&&(a=encodeURIComponent(a),a=a.replace(/%3A/i,":"),a+="@");var d=this.protocol||"",c=this.pathname||"",e=this.hash||"",f=!1,g="";this.host?f=a+this.host:this.hostname&&(f=a+(-1===this.hostname.indexOf(":")?
this.hostname:"["+this.hostname+"]"),this.port&&(f+=":"+this.port));this.query&&b(this.query)&&Object.keys(this.query).length&&(g=F.stringify(this.query));a=this.search||g&&"?"+g||"";d&&":"!==d.substr(-1)&&(d+=":");this.slashes||(!d||x[d])&&!1!==f?(f="//"+(f||""),c&&"/"!==c.charAt(0)&&(c="/"+c)):f||(f="");e&&"#"!==e.charAt(0)&&(e="#"+e);a&&"?"!==a.charAt(0)&&(a="?"+a);c=c.replace(/[?#]/g,function(a){return encodeURIComponent(a)});a=a.replace("#","%23");return d+f+c+a+e};l.prototype.resolve=function(a){return this.resolveObject(t(a,
!1,!0)).format()};l.prototype.resolveObject=function(a){if("string"===typeof a){var b=new l;b.parse(a,!1,!0);a=b}var d=new l;Object.keys(this).forEach(function(a){d[a]=this[a]},this);d.hash=a.hash;if(""===a.href)return d.href=d.format(),d;if(a.slashes&&!a.protocol)return Object.keys(a).forEach(function(b){"protocol"!==b&&(d[b]=a[b])}),x[d.protocol]&&d.hostname&&!d.pathname&&(d.path=d.pathname="/"),d.href=d.format(),d;if(a.protocol&&a.protocol!==d.protocol){if(!x[a.protocol])return Object.keys(a).forEach(function(b){d[b]=
a[b]}),d.href=d.format(),d;d.protocol=a.protocol;if(a.host||q[a.protocol])d.pathname=a.pathname;else{for(var c=(a.pathname||"").split("/");c.length&&!(a.host=c.shift()););a.host||(a.host="");a.hostname||(a.hostname="");""!==c[0]&&c.unshift("");2>c.length&&c.unshift("");d.pathname=c.join("/")}d.search=a.search;d.query=a.query;d.host=a.host||"";d.auth=a.auth;d.hostname=a.hostname||a.host;d.port=a.port;if(d.pathname||d.search)d.path=(d.pathname||"")+(d.search||"");d.slashes=d.slashes||a.slashes;d.href=
d.format();return d}var b=d.pathname&&"/"===d.pathname.charAt(0),e=a.host||a.pathname&&"/"===a.pathname.charAt(0),f=b=e||b||d.host&&a.pathname,r=d.pathname&&d.pathname.split("/")||[],c=a.pathname&&a.pathname.split("/")||[],n=d.protocol&&!x[d.protocol];n&&(d.hostname="",d.port=null,d.host&&(""===r[0]?r[0]=d.host:r.unshift(d.host)),d.host="",a.protocol&&(a.hostname=null,a.port=null,a.host&&(""===c[0]?c[0]=a.host:c.unshift(a.host)),a.host=null),b=b&&(""===c[0]||""===r[0]));if(e)d.host=a.host||""===a.host?
a.host:d.host,d.hostname=a.hostname||""===a.hostname?a.hostname:d.hostname,d.search=a.search,d.query=a.query,r=c;else if(c.length)r||(r=[]),r.pop(),r=r.concat(c),d.search=a.search,d.query=a.query;else if(null!=a.search){n&&(d.hostname=d.host=r.shift(),n=d.host&&0<d.host.indexOf("@")?d.host.split("@"):!1)&&(d.auth=n.shift(),d.host=d.hostname=n.shift());d.search=a.search;d.query=a.query;if(null!==d.pathname||null!==d.search)d.path=(d.pathname?d.pathname:"")+(d.search?d.search:"");d.href=d.format();
return d}if(!r.length)return d.pathname=null,d.path=d.search?"/"+d.search:null,d.href=d.format(),d;for(var e=r.slice(-1)[0],c=(d.host||a.host)&&("."===e||".."===e)||""===e,g=0,h=r.length;0<=h;h--)e=r[h],"."==e?r.splice(h,1):".."===e?(r.splice(h,1),g++):g&&(r.splice(h,1),g--);if(!b&&!f)for(;g--;g)r.unshift("..");!b||""===r[0]||r[0]&&"/"===r[0].charAt(0)||r.unshift("");c&&"/"!==r.join("/").substr(-1)&&r.push("");f=""===r[0]||r[0]&&"/"===r[0].charAt(0);n&&(d.hostname=d.host=f?"":r.length?r.shift():"",
n=d.host&&0<d.host.indexOf("@")?d.host.split("@"):!1)&&(d.auth=n.shift(),d.host=d.hostname=n.shift());(b=b||d.host&&r.length)&&!f&&r.unshift("");r.length?d.pathname=r.join("/"):(d.pathname=null,d.path=null);if(null!==d.pathname||null!==d.search)d.path=(d.pathname?d.pathname:"")+(d.search?d.search:"");d.auth=a.auth||d.auth;d.slashes=d.slashes||a.slashes;d.href=d.format();return d};l.prototype.parseHost=function(){var a=this.host,b=d.exec(a);b&&(b=b[0],":"!==b&&(this.port=b.substr(1)),a=a.substr(0,
a.length-b.length));a&&(this.hostname=a)}},{punycode:37,querystring:13}],39:[function(u,z,w){z.exports=function(l){return l&&"object"===typeof l&&"function"===typeof l.copy&&"function"===typeof l.fill&&"function"===typeof l.readUInt8}},{}],40:[function(u,z,w){(function(l,t){function b(b,d){var e={seen:[],stylize:a};3<=arguments.length&&(e.depth=arguments[2]);4<=arguments.length&&(e.colors=arguments[3]);x(d)?e.showHidden=d:d&&w._extend(e,d);C(e.showHidden)&&(e.showHidden=!1);C(e.depth)&&(e.depth=2);
C(e.colors)&&(e.colors=!1);C(e.customInspect)&&(e.customInspect=!0);e.colors&&(e.stylize=c);return f(e,b,e.depth)}function c(a,d){var c=b.styles[d];return c?"\u001b["+b.colors[c][0]+"m"+a+"\u001b["+b.colors[c][1]+"m":a}function a(a,b){return a}function d(a){var b={};a.forEach(function(a,d){b[a]=!0});return b}function f(a,b,c){if(a.customInspect&&b&&r(b.inspect)&&b.inspect!==w.inspect&&(!b.constructor||b.constructor.prototype!==b)){var n=b.inspect(c,a);v(n)||(n=f(a,n,c));return n}if(n=g(a,b))return n;
var y=Object.keys(b),x=d(y);a.showHidden&&(y=Object.getOwnPropertyNames(b));if(z(b)&&(0<=y.indexOf("message")||0<=y.indexOf("description")))return e(b);if(0===y.length){if(r(b))return a.stylize("[Function"+(b.name?": "+b.name:"")+"]","special");if(H(b))return a.stylize(RegExp.prototype.toString.call(b),"regexp");if(I(b))return a.stylize(Date.prototype.toString.call(b),"date");if(z(b))return e(b)}var n="",l=!1,B=["{","}"];q(b)&&(l=!0,B=["[","]"]);r(b)&&(n=" [Function"+(b.name?": "+b.name:"")+"]");
H(b)&&(n=" "+RegExp.prototype.toString.call(b));I(b)&&(n=" "+Date.prototype.toUTCString.call(b));z(b)&&(n=" "+e(b));if(0===y.length&&(!l||0==b.length))return B[0]+n+B[1];if(0>c)return H(b)?a.stylize(RegExp.prototype.toString.call(b),"regexp"):a.stylize("[Object]","special");a.seen.push(b);y=l?h(a,b,c,x,y):y.map(function(d){return k(a,b,c,x,d,l)});a.seen.pop();return m(y,n,B)}function g(a,b){if(C(b))return a.stylize("undefined","undefined");if(v(b)){var d="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,
"\\'").replace(/\\"/g,'"')+"'";return a.stylize(d,"string")}if(F(b))return a.stylize(""+b,"number");if(x(b))return a.stylize(""+b,"boolean");if(null===b)return a.stylize("null","null")}function e(a){return"["+Error.prototype.toString.call(a)+"]"}function h(a,b,d,c,e){for(var f=[],n=0,r=b.length;n<r;++n)Object.prototype.hasOwnProperty.call(b,String(n))?f.push(k(a,b,d,c,String(n),!0)):f.push("");e.forEach(function(e){e.match(/^\d+$/)||f.push(k(a,b,d,c,e,!0))});return f}function k(a,b,d,c,e,n){var r,
g;b=Object.getOwnPropertyDescriptor(b,e)||{value:b[e]};b.get?g=b.set?a.stylize("[Getter/Setter]","special"):a.stylize("[Getter]","special"):b.set&&(g=a.stylize("[Setter]","special"));Object.prototype.hasOwnProperty.call(c,e)||(r="["+e+"]");g||(0>a.seen.indexOf(b.value)?(g=null===d?f(a,b.value,null):f(a,b.value,d-1),-1<g.indexOf("\n")&&(g=n?g.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+g.split("\n").map(function(a){return"   "+a}).join("\n"))):g=a.stylize("[Circular]","special"));
if(C(r)){if(n&&e.match(/^\d+$/))return g;r=JSON.stringify(""+e);r.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(r=r.substr(1,r.length-2),r=a.stylize(r,"name")):(r=r.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),r=a.stylize(r,"string"))}return r+": "+g}function m(a,b,d){var c=0;return 60<a.reduce(function(a,b){c++;0<=b.indexOf("\n")&&c++;return a+b.replace(/\u001b\[\d\d?m/g,"").length+1},0)?d[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+d[1]:d[0]+b+" "+a.join(", ")+" "+d[1]}function q(a){return Array.isArray(a)}
function x(a){return"boolean"===typeof a}function F(a){return"number"===typeof a}function v(a){return"string"===typeof a}function C(a){return void 0===a}function H(a){return D(a)&&"[object RegExp]"===Object.prototype.toString.call(a)}function D(a){return"object"===typeof a&&null!==a}function I(a){return D(a)&&"[object Date]"===Object.prototype.toString.call(a)}function z(a){return D(a)&&("[object Error]"===Object.prototype.toString.call(a)||a instanceof Error)}function r(a){return"function"===typeof a}
function n(a){return 10>a?"0"+a.toString(10):a.toString(10)}function y(){var a=new Date,b=[n(a.getHours()),n(a.getMinutes()),n(a.getSeconds())].join(":");return[a.getDate(),N[a.getMonth()],b].join(" ")}var B=/%[sdj%]/g;w.format=function(a){if(!v(a)){for(var d=[],c=0;c<arguments.length;c++)d.push(b(arguments[c]));return d.join(" ")}for(var c=1,e=arguments,f=e.length,d=String(a).replace(B,function(a){if("%%"===a)return"%";if(c>=f)return a;switch(a){case "%s":return String(e[c++]);case "%d":return Number(e[c++]);
case "%j":try{return JSON.stringify(e[c++])}catch(b){return"[Circular]"}default:return a}}),n=e[c];c<f;n=e[++c])d=null!==n&&D(n)?d+(" "+b(n)):d+(" "+n);return d};w.deprecate=function(a,b){if(C(t.process))return function(){return w.deprecate(a,b).apply(this,arguments)};if(!0===l.noDeprecation)return a;var d=!1;return function(){if(!d){if(l.throwDeprecation)throw Error(b);l.traceDeprecation?console.trace(b):console.error(b);d=!0}return a.apply(this,arguments)}};var A={},O;w.debuglog=function(a){C(O)&&
(O=l.env.NODE_DEBUG||"");a=a.toUpperCase();if(!A[a])if((new RegExp("\\b"+a+"\\b","i")).test(O)){var b=l.pid;A[a]=function(){var d=w.format.apply(w,arguments);console.error("%s %d: %s",a,b,d)}}else A[a]=function(){};return A[a]};w.inspect=b;b.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};b.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey",
"null":"bold",string:"green",date:"magenta",regexp:"red"};w.isArray=q;w.isBoolean=x;w.isNull=function(a){return null===a};w.isNullOrUndefined=function(a){return null==a};w.isNumber=F;w.isString=v;w.isSymbol=function(a){return"symbol"===typeof a};w.isUndefined=C;w.isRegExp=H;w.isObject=D;w.isDate=I;w.isError=z;w.isFunction=r;w.isPrimitive=function(a){return null===a||"boolean"===typeof a||"number"===typeof a||"string"===typeof a||"symbol"===typeof a||"undefined"===typeof a};w.isBuffer=u("./support/isBuffer");
var N="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");w.log=function(){console.log("%s - %s",y(),w.format.apply(w,arguments))};w.inherits=u("inherits");w._extend=function(a,b){if(!b||!D(b))return a;for(var d=Object.keys(b),c=d.length;c--;)a[d[c]]=b[d[c]];return a}}).call(this,u("7YKIPe"),"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./support/isBuffer":39,"7YKIPe":10,inherits:24}],41:[function(u,z,w){function l(a,b){this.name="NonSupportedSparqlFeatureError";
this.feature=a;this.message=b||"SPARQL feature "+a+" non supported"}function t(a){this.name=ParserError;this.message=a||"Error parsing SPARQL query"}var b=u("./parser"),c=u("./utils");l.prototype=Error();l.constructor=l;t.prototype=Error();t.constructor=t;AbstractQueryTree=function(){};AbstractQueryTree.prototype.parseQueryString=function(a){return b.parse(a)};AbstractQueryTree.prototype.parseExecutableUnit=function(a){if("select"===a.kind||"ask"===a.kind||"modify"===a.kind||"construct"===a.kind)return this.parseSelect(a);
if("insertdata"===a.kind||"deletedata"===a.kind)return this.parseInsertData(a);if("load"===a.kind||"clear"===a.kind||"drop"===a.kind||"create"===a.kind)return a;throw Error("unknown executable unit: "+a.kind);};AbstractQueryTree.prototype.parseSelect=function(a){if(null==a)return console.log("error parsing query"),null;a.pattern=this.build(a.pattern,{freshCounter:0});return a};AbstractQueryTree.prototype.parseInsertData=function(a){return null==a?(console.log("error parsing query"),null):a};AbstractQueryTree.prototype.build=
function(a,b){if("groupgraphpattern"===a.token)return this._buildGroupGraphPattern(a,b);if("basicgraphpattern"===a.token){var c={kind:"BGP",value:a.triplesContext};return c=AbstractQueryTree.translatePathExpressionsInBGP(c,b)}if("graphunionpattern"===a.token){var c=this.build(a.value[0],b),g=this.build(a.value[1],b);return{kind:"UNION",value:[c,g]}}if("graphgraphpattern"===a.token)return{kind:"GRAPH",value:this.build(a.value,b),graph:a.graph};if(null!=a.token)throw new l(a.token,"Non implemented SPARQL graph pattern: '"+
a.token+"'");throw new t("Error parsing graph pattern: '"+JSON.stringify(a)+"'");};AbstractQueryTree.translatePathExpressionsInBGP=function(a,b){var f,g=[],e,h;for(h=0;h<a.value.length;h++)if(a.value[h].predicate&&"path"===a.value[h].predicate.token){f=a.value[h];e=a.value.slice(h+1);var k=AbstractQueryTree.translatePathExpression(f,b);f=null;if("BGP"===k.kind)g=g.concat(k.value);else{if("ZERO_OR_MORE_PATH"===k.kind||"ONE_OR_MORE_PATH"===k.kind){h=0<g.length?{kind:"JOIN",lvalue:{kind:"BGP",value:g},
rvalue:k}:k;if("ZERO_OR_MORE_PATH"===k.kind)if("var"===k.y.token&&0===k.y.value.indexOf("fresh:")&&"var"===k.x.token&&0===k.x.value.indexOf("fresh:"))for(var m=0;m<a.value.length;m++)a.value[m].object&&"var"===a.value[m].object.token&&a.value[m].object.value===k.x.value&&(f=c.clone(a.value[m],!0),f.object=k.y);else if("var"===k.y.token&&0===k.y.value.indexOf("fresh:"))for(m=0;m<a.value.length;m++)a.value[m].subject&&"var"===a.value[m].subject.token&&a.value[m].subject.value===k.y.value&&(f=c.clone(a.value[m],
!0),f.subject=k.x);return 0<e.length?(k=AbstractQueryTree.translatePathExpressionsInBGP({kind:"BGP",value:e},b),null!=f?(g=g.concat([f]).concat(e),{kind:"UNION",value:[{kind:"JOIN",lvalue:h,rvalue:k},{kind:"BGP",value:g}]}):{kind:"JOIN",lvalue:h,rvalue:k}):h}return k}}else g.push(a.value[h]);a.value=g;return a};AbstractQueryTree.translatePathExpression=function(a,b){if("element"===a.predicate.kind){if("+"===a.predicate.modifier){a.predicate.modifier=null;var f=AbstractQueryTree.translatePathExpression(a,
b);return{kind:"ONE_OR_MORE_PATH",path:f,x:a.subject,y:a.object}}if("*"===a.predicate.modifier)return a.predicate.modifier=null,f=AbstractQueryTree.translatePathExpression(a,b),{kind:"ZERO_OR_MORE_PATH",path:f,x:a.subject,y:a.object};a.predicate=a.predicate.value;return{kind:"BGP",value:[a]}}if("sequence"===a.predicate.kind){for(var f=a.subject,g=a.object,e=a.graph,h,k,m=[],q=0;q<a.predicate.value.length;q++)q!=a.predicate.value.length-1?(h={token:"var",value:"fresh:"+b.freshCounter},b.freshCounter++):
h=g,k={subject:f,predicate:a.predicate.value[q],object:h},null!=e&&(k.graph=c.clone(e,!0)),m.push(k),q!=a.predicate.value.length-1&&(f=c.clone(h,!0));return AbstractQueryTree.translatePathExpressionsInBGP({kind:"BGP",value:m},b)}throw new l("Non supported path expression "+a.predicate.kind);};AbstractQueryTree.prototype._buildGroupGraphPattern=function(a,b){for(var c=a.filters||[],g=a.binds||[],e={kind:"EMPTY_PATTERN"},h=0;h<a.patterns.length;h++){var k=a.patterns[h];"optionalgraphpattern"===k.token?
(k=this.build(k.value,b),e="FILTER"===k.kind?{kind:"LEFT_JOIN",lvalue:e,rvalue:k.value,filter:k.filter}:{kind:"LEFT_JOIN",lvalue:e,rvalue:k,filter:!0}):(k=this.build(k,b),e="EMPTY_PATTERN"==e.kind?k:{kind:"JOIN",lvalue:e,rvalue:k})}e.binds=g;if(0!=c.length){if("EMPTY_PATTERN"===e.kind||"LEFT_JOIN"===e.kind&&!0===e.filter||"LEFT_JOIN"===e.kind||"JOIN"===e.kind||"UNION"===e.kind||"GRAPH"===e.kind||"BGP"===e.kind)return{kind:"FILTER",filter:c,value:e};throw Error("Unknow kind of algebra expression: "+
e.kind);}return e};AbstractQueryTree.prototype.collectBasicTriples=function(a,b){null==b&&(b=[]);if("select"===a.kind)b=this.collectBasicTriples(a.pattern,b);else if("BGP"===a.kind)b=b.concat(a.value);else if("ZERO_OR_MORE_PATH"===a.kind)b=this.collectBasicTriples(a.path);else if("UNION"===a.kind)b=this.collectBasicTriples(a.value[0],b),b=this.collectBasicTriples(a.value[1],b);else if("GRAPH"===a.kind)b=this.collectBasicTriples(a.value,b);else if("LEFT_JOIN"===a.kind||"JOIN"===a.kind)b=this.collectBasicTriples(a.lvalue,
b),b=this.collectBasicTriples(a.rvalue,b);else if("FILTER"===a.kind)b=this.collectBasicTriples(a.value,b);else if("construct"===a.kind)b=this.collectBasicTriples(a.pattern,b);else if("EMPTY_PATTERN"!==a.kind)throw"Unknown pattern: "+a.kind;return b};AbstractQueryTree.prototype.bind=function(a,b){null!=a.graph&&a.graph.token&&"var"===a.graph.token&&null!=b[a.graph.value]&&(a.graph=b[a.graph.value]);if(null!=a.filter){for(var c=[],g=0;g<a.filter.length;g++)a.filter[g].value=this._bindFilter(a.filter[g].value,
b),c.push(a.filter[g]);a.filter=c}if("select"===a.kind)a.pattern=this.bind(a.pattern,b);else if("BGP"===a.kind)a.value=this._bindTripleContext(a.value,b);else if("ZERO_OR_MORE_PATH"===a.kind)a.path=this._bindTripleContext(a.path,b),a.x&&"var"===a.x.token&&null!=b[a.x.value]&&(a.x=b[a.x.value]),a.y&&"var"===a.y.token&&null!=b[a.y.value]&&(a.y=b[a.y.value]);else if("UNION"===a.kind)a.value[0]=this.bind(a.value[0],b),a.value[1]=this.bind(a.value[1],b);else if("GRAPH"===a.kind)a.value=this.bind(a.value,
b);else if("LEFT_JOIN"===a.kind||"JOIN"===a.kind)a.lvalue=this.bind(a.lvalue,b),a.rvalue=this.bind(a.rvalue,b);else if("FILTER"===a.kind)a.filter=this._bindFilter(a.filter[g].value,b);else if("EMPTY_PATTERN"!==a.kind)throw"Unknown pattern: "+a.kind;return a};AbstractQueryTree.prototype._bindTripleContext=function(a,b){for(var c=0;c<a.length;c++){delete a[c].graph;delete a[c].variables;for(var g in a[c]){var e=a[c][g];"var"===e.token&&null!=b[e.value]&&(a[c][g]=b[e.value])}}return a};AbstractQueryTree.prototype._bindFilter=
function(a,b){if(null!=a.expressionType){var c=a.expressionType;if("relationalexpression"==c)a.op1=this._bindFilter(a.op1,b),a.op2=this._bindFilter(a.op2,b);else if("conditionalor"==c||"conditionaland"==c)for(c=0;c<a.operands.length;c++)a.operands[c]=this._bindFilter(a.operands[c],b);else if("additiveexpression"==c)for(a.summand=this._bindFilter(a.summand,b),c=0;c<a.summands.length;c++)a.summands[c].expression=this._bindFilter(a.summands[c].expression,b);else if("builtincall"==c)for(c=0;c<a.args.length;c++)a.args[c]=
this._bindFilter(a.args[c],b);else if("multiplicativeexpression"==c)for(a.factor=this._bindFilter(a.factor,b),c=0;c<a.factors.length;c++)a.factors[c].expression=this._bindFilter(a.factors[c].expression,b);else if("unaryexpression"==c)a.expression=this._bindFilter(a.expression,b);else if("irireforfunction"==c)for(c=0;c<a.factors.args;c++)a.args[c]=this._bindFilter(a.args[c],b);else"atomic"==c&&"var"==a.primaryexpression&&null!=b[a.value.value]&&(c=b[a.value.value],a.primaryexpression="uri"===c.token?
"iri":"literal",a.value=c)}return a};AbstractQueryTree.prototype.replace=function(a,b,f,g){null!=a.graph&&a.graph.token&&a.graph.token===b.token&&a.graph.value==b.value&&(a.graph=c.clone(f,!0));if(null!=a.filter){for(var e=[],h=0;h<a.filter.length;h++)a.filter[h].value=this._replaceFilter(a.filter[h].value,b,f,g),e.push(a.filter[h]);a.filter=e}if("select"===a.kind)a.pattern=this.replace(a.pattern,b,f,g);else if("BGP"===a.kind)a.value=this._replaceTripleContext(a.value,b,f,g);else if("ZERO_OR_MORE_PATH"===
a.kind)a.path=this._replaceTripleContext(a.path,b,f,g),a.x&&a.x.token===b.token&&a.value===b.value&&(a.x=c.clone(f,!0)),a.y&&a.y.token===b.token&&a.value===b.value&&(a.y=c.clone(f,!0));else if("UNION"===a.kind)a.value[0]=this.replace(a.value[0],b,f,g),a.value[1]=this.replace(a.value[1],b,f,g);else if("GRAPH"===a.kind)a.value=this.replace(a.value,b,f);else if("LEFT_JOIN"===a.kind||"JOIN"===a.kind)a.lvalue=this.replace(a.lvalue,b,f,g),a.rvalue=this.replace(a.rvalue,b,f,g);else if("FILTER"===a.kind)a.value=
this._replaceFilter(a.value,b,f,g);else if("EMPTY_PATTERN"!==a.kind)throw"Unknown pattern: "+a.kind;return a};AbstractQueryTree.prototype._replaceTripleContext=function(a,b,f,g){for(var e=0;e<a.length;e++)for(var h in a[e]){var k=a[e][h];"var"===k.token&&"var"===b.token&&k.value===b.value?a[e][h]=f:"blank"===k.token&&"blank"===b.token&&k.value===b.value?a[e][h]=f:"literal"!==k.token&&"uri"!==k.token||"literal"!==b.token&&"uri"!==b.token||k.token!==b.token||c.lexicalFormTerm(k,g)[k.token]!==c.lexicalFormTerm(b,
g)[k.token]||(a[e][h]=f)}return a};AbstractQueryTree.prototype._replaceFilter=function(a,b,c,g){if(null!=a.expressionType){var e=a.expressionType;if("relationalexpression"==e)a.op1=this._replaceFilter(a.op1,b,c,g),a.op2=this._replaceFilter(a.op2,b,c,g);else if("conditionalor"==e||"conditionaland"==e)for(e=0;e<a.operands.length;e++)a.operands[e]=this._replaceFilter(a.operands[e],b,c,g);else if("additiveexpression"==e)for(a.summand=this._replaceFilter(a.summand,b,c,g),e=0;e<a.summands.length;e++)a.summands[e].expression=
this._replaceFilter(a.summands[e].expression,b,c,g);else if("builtincall"==e)for(e=0;e<a.args.length;e++)a.args[e]=this._replaceFilter(a.args[e],b,c,g);else if("multiplicativeexpression"==e)for(a.factor=this._replaceFilter(a.factor,b,c,g),e=0;e<a.factors.length;e++)a.factors[e].expression=this._replaceFilter(a.factors[e].expression,b,c,g);else if("unaryexpression"==e)a.expression=this._replaceFilter(a.expression,b,c,g);else if("irireforfunction"==e)for(e=0;e<a.factors.args;e++)a.args[e]=this._replaceFilter(a.args[e],
b,c,g);else"atomic"==e&&(g=null,a.primaryexpression==b.token&&a.value==b.value?g=c.value:"iri"==a.primaryexpression&&"uri"==b.token&&a.value==b.value&&(g=c.value),null!=g&&(a.primaryexpression="uri"===c.token?"iri":c.token,a.value=g))}return a};AbstractQueryTree.prototype.treeWithUnion=function(a){if(null==a||null==a.kind)return!1;if("select"===a.kind)return this.treeWithUnion(a.pattern);if("BGP"===a.kind)return this.treeWithUnion(a.value);if("ZERO_OR_MORE_PATH"===a.kind)return!1;if("UNION"===a.kind)if(null!=
a.value[0].value&&null!=a.value[0].value.variables&&null!=a.value[1].value&&null!=a.value[1].value.variables){if(a.value[0].variables.join("/")===a.values[1].variables.join("/"))return this.treeWithUnion(a.value[0])?!0:this.treeWithUnion(a.value[1])}else return!0;else{if("GRAPH"===a.kind||"LEFT_JOIN"!==a.kind&&"JOIN"!==a.kind)return!1;if(this.treeWithUnion(a.lvalue))return!0;this.treeWithUnion(a.rvalue)}};z.exports={AbstractQueryTree:AbstractQueryTree,NonSupportedSparqlFeatureError:l,SparqlParserError:t}},
{"./parser":48,"./utils":59}],42:[function(u,z,w){var l=u("./utils"),t=l.nextTick,b=function(a,b){if(0!=arguments.length){this.order=a;this.root=this._allocateNode();this.root.isLeaf=!0;this.root.level=0;var c=this;this._diskWrite(this.root,function(a){c.root=a;c._updateRootNode(c.root,function(a){c.comparator=function(a,b){return a<b?-1:a>b?1:0};c.merger=null;null!=b&&b(c)})})}};b.prototype._allocateNode=function(){return new c};b.prototype._diskWrite=function(a,b){t(function(){b(a)})};b.prototype._diskRead=
function(a,b){t(function(){b(a)})};b.prototype._diskDelete=function(a,b){t(function(){b()})};b.prototype._updateRootNode=function(a,b){b(a)};b.prototype.search=function(a,b,c){this.__search(this,a,this.root,b,c)};b.prototype.__search=function(a,b,c,g,e){for(var h=0;h<c.numberActives&&1===a.comparator(b,c.keys[h].key);)h++;h<c.numberActives&&0===a.comparator(c.keys[h].key,b)?null!=e&&1==e?g(!0):g(c.keys[h].data):!0===c.isLeaf?g(null):a._diskRead(c.children[h],function(c){a.__search(a,b,c,g,e)})};b.prototype.walk=
function(a,b){this.__walk(this,this.root,a,b)};b.prototype.__walk=function(a,b,c,g){var e=b.numberActives,h=0;if(b.isLeaf){for(h=0;h<b.numberActives;h++)c(b.keys[h]);return g()}l.whilst(function(){return h<e},function(e){a._diskRead(b.children[h],function(g){a.__walk(a,g,c,function(){a._diskRead(b.keys[h],function(a){c(a);h++;e()})})})},function(){a._diskRead(b.children[e],function(b){a.__walk(a,b,c,function(){g()})})})};b.prototype.walkNodes=function(a){this.__walkNodes(this,root,a,function(){})};
b.prototype.__walkNodes=function(a,b,c,g){if(b.isLeaf)return c(b),g();c(b);var e=b.numberActives,h=0;l.whilst(function(){return h<e},function(e){a._diskRead(b.children[h],function(b){a.__walkNodes(a,b,c,function(){h++;e()})})},function(){a._diskRead(b.children[e],function(b){a.__walkNodes(a,b,c,function(){})})})};b.prototype._splitChild=function(a,b,c,g){var e=this._allocateNode();e.isLeaf=c.isLeaf;e.level=c.level;e.numberActives=this.order-1;var h=c.keys[this.order-1];c.keys[this.order-1]=null;for(var k=
0;k<this.order-1;k++)e.keys[k]=c.keys[k+this.order],c.keys[k+this.order]=null,c.isLeaf||(e.children[k]=c.children[k+this.order],c.children[k+this.order]=null);c.isLeaf||(e.children[k]=c.children[k+this.order],c.children[k+this.order]=null);c.numberActives=this.order-1;for(k=a.numberActives+1;k>b+1;k--)a.children[k]=a.children[k-1];a.children[b+1]=e;for(k=a.numberActives;k>b;k--)a.keys[k]=a.keys[k-1];a.keys[b]=h;a.numberActives++;var m=this;this._diskWrite(e,function(e){m._diskWrite(a,function(a){a.children[b+
1]=e;m._diskWrite(c,function(b){return g(a)})})})};b.prototype.insert=function(a,b,c){if(this.root.numberActives===2*this.order-1){var g=this._allocateNode();g.isLeaf=!1;g.level=this.root.level+1;g.numberActives=0;g.children[0]=this.root;var e=this;this._splitChild(g,0,this.root,function(h){g=h;e.root=g;e._updateRootNode(g,function(g){e._insertNonFull(g,a,b,c)})})}else this._insertNonFull(this.root,a,b,c)};b.prototype._insertNonFull=function(a,b,c,g){this.__insertNonFull(this,a,a.numberActives-1,
b,c,g)};b.prototype.__insertNonFull=function(a,b,c,g,e,h){if(b.isLeaf){for(;0<=c&&-1===a.comparator(g,b.keys[c].key);)b.keys[c+1]=b.keys[c],c--;0<=c&&0===a.comparator(g,b.keys[c].key)?b.keys[c]={key:g,data:e}:(b.keys[c+1]={key:g,data:e},b.numberActives++);a._diskWrite(b,function(a){return h(a)})}else{for(;0<=c&&-1===a.comparator(g,b.keys[c].key);)c--;c++;a._diskRead(b.children[c],function(k){k.numberActives===2*a.order-1?a._splitChild(b,c,k,function(){1===a.comparator(g,b.keys[c].key)&&c++;a._diskRead(b.children[c],
function(b){c=b.numberActives-1;a.__insertNonFull(a,b,c,g,e,h)})}):a._diskRead(b.children[c],function(b){c=b.numberActives-1;a.__insertNonFull(a,b,c,g,e,h)})})}};b.prototype["delete"]=function(a,d){b.prototype.__deleteSearchNode(this,a,this.root,d)};b.prototype.__deleteSearchNode=function(a,b,c,g){var e=0;if(0===c.numberActives)return g(!1);for(;e<c.numberActives&&1===a.comparator(b,c.keys[e].key);)e++;var h=e;if(e<c.numberActives&&0===a.comparator(b,c.keys[e].key))return a.__deleteNodeFound(a,h,
b,c,g);if(!0===c.isLeaf)return g(!1);a._diskRead(c.children[e],function(k){if(null===k)return g(!1);var m=!1,q=!1,x=null,l=null;h===c.numberActives?(q=!0,l=c.children[h-1],x=c.children[h-1]):0===h?(m=!0,x=c.children[1],l=c.children[1]):(l=c.children[h-1],x=c.children[h+1]);a._diskRead(l,function(h){a._diskRead(x,function(x){!0===q&&(x=null);!0===m&&(h=null);k.numberActives===a.order-1&&null!=c?null!=x&&x.numberActives>a.order-1?a._moveKey(c,e,-1,function(c){a.__deleteSearchNode(a,b,k,g)}):null!=h&&
h.numberActives>a.order-1?a._moveKey(c,e,1,function(c){a.__deleteSearchNode(a,b,k,g)}):null!=h&&h.numberActives===a.order-1?a._mergeSiblings(c,e,-1,function(c){a.__deleteSearchNode(a,b,c,g)}):null!=x&&x.numberActives===a.order-1&&a._mergeSiblings(c,e,1,function(c){a.__deleteSearchNode(a,b,c,g)}):a.__deleteSearchNode(a,b,k,g)})})})};b.prototype.__deleteNodeFound=function(a,b,c,g,e){if(g.isLeaf&&g.numberActives>a.order-1||g.isLeaf&&g===a.root)return a._deleteKeyFromNode(g,b,function(){e(!0)}),!0;!1===
g.isLeaf&&a._diskRead(g.children[b],function(h){h.numberActives>a.order-1?a._getMaxKeyPos(a,h,function(k){c=k.node.keys[k.index];g.keys[b]=c;a._diskWrite(g,function(b){b=h;c=c.key;a.__deleteSearchNode(a,c,b,e)})}):a._diskRead(g.children[b+1],function(k){k.numberActives>a.order-1?a._getMinKeyPos(a,k,function(h){c=h.node.keys[h.index];g.keys[b]=c;a._diskWrite(g,function(b){b=k;c=c.key;a.__deleteSearchNode(a,c,b,e)})}):h.numberActives===a.order-1&&k.numberActives===a.order-1&&a._mergeNodes(h,g.keys[b],
k,function(h){g.children[b]=h;b++;for(var q=b;q<g.numberActives;q++)g.children[q]=g.children[q+1],g.keys[q-1]=g.keys[q];g.children[q]=null;g.keys[q-1]=null;g.numberActives--;0===g.numberActives&&a.root===g&&(a.root=h);a._diskWrite(g,function(b){a.__deleteSearchNode(a,c,h,e)})})})});g.isLeaf&&g.numberActives>a.order-1&&a._deleteKeyFromNode(g,b,function(b){a.__deleteSearchNode(a,c,b,e)})};b.prototype._moveKey=function(a,b,c,g){1===c&&b--;var e=this;e._diskRead(a.children[b],function(h){e._diskRead(a.children[b+
1],function(k){if(-1==c){h.keys[h.numberActives]=a.keys[b];h.children[h.numberActives+1]=k.children[0];k.children[0]=null;h.numberActives++;a.keys[b]=k.keys[0];for(var m=1;m<k.numberActives;m++)k.keys[m-1]=k.keys[m],k.children[m-1]=k.children[m];k.children[k.numberActives-1]=k.children[k.numberActives];k.numberActives--}else{k.children[k.numberActives+1]=k.children[k.numberActives];for(m=k.numberActives;0<m;m--)k.children[m]=k.children[m-1],k.keys[m]=k.keys[m-1];k.keys[0]=null;k.children[0]=null;
k.children[0]=h.children[h.numberActives];k.keys[0]=a.keys[b];k.numberActives++;h.children[h.numberActives]=null;a.keys[b]=h.keys[h.numberActives-1];h.keys[h.numberActives-1]=null;h.numberActives--}e._diskWrite(h,function(b){e._diskWrite(k,function(b){e._diskWrite(a,function(a){return g(a)})})})})})};b.prototype._mergeSiblings=function(a,b,c,g){var e,h,k;b===a.numberActives?(b--,c=a.children[a.numberActives-1],k=a.children[a.numberActives]):(c=a.children[b],k=a.children[b+1]);var m=this;m._diskRead(c,
function(c){m._diskRead(k,function(f){var k=m._allocateNode();k.isLeaf=c.isLeaf;k.level=c.level;for(h=0;h<m.order-1;h++)k.keys[h]=c.keys[h],k.children[h]=c.children[h];k.keys[m.order-1]=a.keys[b];k.children[m.order-1]=c.children[m.order-1];for(h=0;h<m.order-1;h++)k.keys[h+m.order]=f.keys[h],k.children[h+m.order]=f.children[h];k.children[2*m.order-1]=f.children[m.order-1];a.children[b]=k;for(h=b;h<a.numberActives;h++)a.keys[h]=a.keys[h+1],a.children[h+1]=a.children[h+2];k.numberActives=c.numberActives+
f.numberActives+1;a.numberActives--;for(e=a.numberActives;e<2*m.order-1;e++)a.keys[e]=null;0===a.numberActives&&m.root===a&&(m.root=k,k.isLeaf=k.level?!1:!0);m._diskWrite(k,function(b){m._diskWrite(a,function(a){m._diskDelete(c,function(){m._diskDelete(f,function(){if(m.root===b)m._updateRootNode(m.root,function(){return g(b)});else return g(b)})})})})})})};b.prototype._deleteKeyFromNode=function(a,b,c){var g=2*this.order-1;a.numberActives<g&&(g=a.numberActives);if(!1===a.isLeaf)return!1;for(;b<g-
1;b++)a.keys[b]=a.keys[b+1];a.keys.pop();a.numberActives--;this._diskWrite(a,function(a){return c(a)})};b.prototype._mergeNodes=function(a,b,c,g){var e,h;e=this._allocateNode();e.isLeaf=!0;for(h=0;h<a.numberActives;h++)e.keys[h]=a.keys[h],e.children[h]=a.children[h];e.children[a.numberActives]=a.children[a.numberActives];e.keys[a.numberActives]=b;for(h=0;h<c.numberActives;h++)e.keys[h+a.numberActives+1]=c.keys[h],e.children[h+a.numberActives+1]=c.children[h];e.children[2*this.order-1]=c.children[c.numberActives];
e.numberActives=a.numberActives+c.numberActives+1;e.isLeaf=a.isLeaf;e.level=a.level;var k=this;this._diskWrite(e,function(b){k._diskDelete(a,function(){k._diskDelete(c,function(){return g(b)})})})};b.prototype.audit=function(a){var b=[],c=[],g=this,e=function(e){for(var h=0;h<c.length;h++)if(0===g.comparator(c[h],e)){var q=" !!! duplicated key "+e;!0===a&&console.log(q);b.push(q)}},h=null,g=this;this.walkNodes(function(k){!0===a&&(console.log("--- Node at "+k.level+" level"),console.log(" - leaf? "+
k.isLeaf),console.log(" - num actives? "+k.numberActives),console.log(" - keys: "));for(var m=k.numberActives;m<k.keys.length;m++)null!=k.keys[m]&&!0===a&&(console.log(" * warning : redundant key data"),b.push(" * warning : redundant key data"));for(m=k.numberActives+1;m<k.children.length;m++)null!=k.children[m]&&!0===a&&(console.log(" * warning : redundant children data"),b.push(" * warning : redundant key data"));if(!1===k.isLeaf)for(m=0;m<k.numberActives;m++){var q=this._diskRead(k.children[m]).keys[this._diskRead(k.children[m]).numberActives-
1].key,x=this._diskRead(k.children[m+1]).keys[0].key;!0===a&&console.log("   "+k.keys[m].key+"("+q+","+x+")");if(-1===g.comparator(k.keys[m].key,q)){var l=" !!! value max left "+q+" > key "+k.keys[m].key;!0===a&&console.log(l);b.push(l)}1===g.comparator(k.keys[m].key,x)&&(l=" !!! value min right "+x+" < key "+k.keys[m].key,!0===a&&console.log(l),b.push(l));e(k.keys[m].key);c.push(k.keys[m].key)}else for(null===h?h=k.level:h!=k.level&&(l=" !!! Leaf node with wrong level value",!0===a&&console.log(l),
b.push(l)),m=0;m<k.numberActives;m++)!0===a&&console.log(" "+k.keys[m].key),e(k.keys[m].key),c.push(k.keys[m].key);k!=g.root&&(k.numberActives>2*g.order-1&&(!0===a&&(l=" !!!! MAX num keys restriction violated "),console.log(l),b.push(l)),k.numberActives<g.order-1&&(!0===a&&(l=" !!!! MIN num keys restriction violated "),console.log(l),b.push(l)))});return b};b.prototype._getMaxKeyPos=function(a,b,c){var g={};if(null===b)return c(null);if(!0===b.isLeaf)return g.node=b,g.index=b.numberActives-1,c(g);
g.node=b;g.index=b.numberActives-1;a._diskRead(b.children[b.numberActives],function(b){return a._getMaxKeyPos(a,b,c)})};b.prototype._getMinKeyPos=function(a,b,c){var g={};null===b&&c(null);if(!0===b.isLeaf)return g.node=b,g.index=0,c(g);g.node=b;g.index=0;a._diskRead(b.children[0],function(b){return a._getMinKeyPos(a,b,c)})};var c=function(){this.numberActives=0;this.isLeaf=null;this.keys=[];this.children=[];this.level=0};z.exports={Tree:b,Node:c}},{"./utils":59}],43:[function(u,z,w){(function(l){var t=
u("./query_engine").QueryEngine,b=u("./quad_backend").QuadBackend,c=u("./persistent_quad_backend").QuadBackend,a=u("./lexicon").Lexicon,d=u("./persistent_lexicon").Lexicon,f=u("./rdf_model"),g=u("./utils");Store=function(e,f){var g=null,m=null;if(0==arguments.length)m={};else if(1==arguments.length)m={},g=e;else if(1<arguments.length)m=e,g=f;else throw"An optional argument map and a callback must be provided";null==m.treeOrder&&(m.treeOrder=15);var q=a,l=b;!0===m.persistent&&(q=d,l=c);this.functionMap=
{};var F=this;this.customFns={};new q(function(a){var b=function(){new l(m,function(b){var d=function(){m.backend=b;m.lexicon=a;F.engine=new t(m);g(null,F)};m.overwrite?b.clear(d):d()})};!0===m.overwrite?a.clear(b):b()},m.name)};Store.prototype.rdf=f.rdf;Store.prototype.rdf.api=f;Store.prototype.registerCustomFunction=function(a,b){this.customFns[a]=b;this.engine.setCustomFunctions(this.customFns)};Store.prototype.execute=function(){if(3===arguments.length)this.executeWithEnvironment(arguments[0],
arguments[1],arguments[2]);else if(4===arguments.length)this.executeWithEnvironment(arguments[0],arguments[1],arguments[2],arguments[3]);else{var a,b;1===arguments.length?(a=arguments[0],b=function(){}):2===arguments.length&&(a=arguments[0],b=arguments[1]);this.engine.execute(a,b)}};Store.prototype.executeWithEnvironment=function(){var a,b,d;if(3===arguments.length){a=arguments[0];var c=function(){};b=arguments[1];d=arguments[2]}else 4===arguments.length&&(a=arguments[0],c=arguments[3],b=arguments[1],
d=arguments[2]);b=g.map(b,function(a){return{token:"uri",value:a}});d=g.map(d,function(a){return{token:"uri",value:a}});this.engine.execute(a,c,b,d)};Store.prototype.graph=function(){var a=null,b=null;if(1===arguments.length)b=arguments[0]||function(){},a=this.engine.lexicon.defaultGraphUri;else if(2===arguments.length)b=arguments[1]||function(){},a=arguments[0];else throw"An optional graph URI and a callback function must be provided";null!=this.rdf.resolve(a)&&(a=this.rdf.resolve(a));this.engine.execute("CONSTRUCT { ?s ?p ?o } WHERE { GRAPH <"+
a+"> { ?s ?p ?o } }",b)};Store.prototype.node=function(){var a=null,b=null,d=null;if(2===arguments.length)d=arguments[0],b=arguments[1]||function(){},a=this.engine.lexicon.defaultGraphUri;else if(3===arguments.length)d=arguments[0],a=arguments[1],b=arguments[2]||function(){};else throw"An optional graph URI, node URI and a callback function must be provided";null!=this.rdf.resolve(a)&&(a=this.rdf.resolve(a));null!=this.rdf.resolve(d)&&(d=this.rdf.resolve(d));this.engine.execute("CONSTRUCT { <"+d+
"> ?p ?o } WHERE { GRAPH <"+a+"> { <"+d+"> ?p ?o } }",b)};Store.prototype.startObservingNode=function(){var a,b,d;2===arguments.length?(a=arguments[0],d=arguments[1],this.engine.callbacksBackend.observeNode(a,d,function(){})):3===arguments.length&&(a=arguments[0],b=arguments[1],d=arguments[2],this.engine.callbacksBackend.observeNode(a,b,d,function(){}))};Store.prototype.stopObservingNode=function(a){this.engine.callbacksBackend.stopObservingNode(a)};Store.prototype.startObservingQuery=function(a,
b,d){null!=d?this.engine.callbacksBackend.observeQuery(a,b,d):this.engine.callbacksBackend.observeQuery(a,b,function(){})};Store.prototype.stopObservingQuery=function(a){this.engine.callbacksBackend.stopObservingQuery(a)};Store.prototype.subscribe=function(a,b,d,c,q){var l=this,t=function(a,b){var d=[],c={blanks:{},outCache:{}},e=[];g.each(b,function(a){var b=f.buildRDFResource(a.subject,e,l.engine,c),n=f.buildRDFResource(a.predicate,e,l.engine,c);a=f.buildRDFResource(a.object,e,l.engine,c);null!=
b&&null!=n&&null!=a&&(a=new f.Triple(b,n,a),d.push(a))});q(a,d)};this.functionMap[q]=t;this.engine.callbacksBackend.subscribe(a,b,d,c,t,function(){})};Store.prototype.unsubscribe=function(a){this.engine.callbacksBackend.unsubscribe(this.functionMap[a]);delete this.functionMap[a]};Store.prototype.setPrefix=function(a,b){this.rdf.setPrefix(a,b)};Store.prototype.setDefaultPrefix=function(a){this.rdf.setDefaultPrefix(a)};Store.prototype.insert=function(){var a,b,d;if(1===arguments.length)b=arguments[0],
d=function(){};else if(2===arguments.length)b=arguments[0],d=arguments[1]||function(){};else if(3===arguments.length)b=arguments[0],a=this.rdf.createNamedNode(arguments[1]),d=arguments[2]||function(){};else throw"The triples to insert, an optional graph and callback must be provided";var c="",f=this;b.forEach(function(a){c=c+f._nodeToQuery(a.subject)+f._nodeToQuery(a.predicate)+f._nodeToQuery(a.object)+"."});c=null!=a?"INSERT DATA { GRAPH "+this._nodeToQuery(a)+" { "+c+" } }":"INSERT DATA { "+c+" }";
this.engine.execute(c,d)};Store.prototype._nodeToQuery=function(a){if("NamedNode"===a.interfaceName){var b=this.rdf.resolve(a.valueOf());return null!=b?"<"+b+">":"<"+a.valueOf()+">"}return a.toString()};Store.prototype["delete"]=function(){var a,b,d;if(1===arguments.length)b=arguments[0],d=function(){};else if(2===arguments.length)b=arguments[0],d=arguments[1]||function(){};else if(3===arguments.length)b=arguments[0],a=this.rdf.createNamedNode(arguments[1]),d=arguments[2]||function(){};else throw"The triples to delete, an optional graph and callback must be provided";
var c="",f=this;b.forEach(function(a){c=c+f._nodeToQuery(a.subject)+f._nodeToQuery(a.predicate)+f._nodeToQuery(a.object)+"."});c=null!=a?"DELETE DATA { GRAPH "+this._nodeToQuery(a)+" { "+c+" } }":"DELETE DATA { "+c+" }";this.engine.execute(c,d)};Store.prototype.clear=function(){var a,b;if(0===arguments.length)a=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),b=function(){};else if(1===arguments.length)a=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),b=arguments[0]||function(){};
else if(2===arguments.length)a=this.rdf.createNamedNode(arguments[0]),b=arguments[1]||function(){};else throw"The optional graph and a callback must be provided";a="CLEAR GRAPH "+this._nodeToQuery(a);this.engine.execute(a,b)};Store.prototype.setBatchLoadEvents=function(a){this.engine.eventsOnBatchLoad=a};Store.prototype.registerDefaultNamespace=function(a,b){this.rdf.prefixes.set(a,b);this.engine.registerDefaultNamespace(a,b)};Store.prototype.registerDefaultProfileNamespaces=function(){var a=this.rdf.prefixes.values(),
b;for(b in a)this.registerDefaultNamespace(b,a[b])};Store.prototype.load=function(){var a,b,d,c,f={};if(3===arguments.length)d=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),a=arguments[0],b=arguments[1],c=arguments[2]||function(){};else if(4===arguments.length)a=arguments[0],b=arguments[1],f=arguments[2],"string"===typeof f?(d=this.rdf.createNamedNode(f),f={}):(d=this.rdf.createNamedNode(f.graph||this.engine.lexicon.defaultGraphUri),delete f.graph),c=arguments[3]||function(){};else if(2===
arguments.length)throw"The mediaType of the parser, the data a callback and an optional graph must be provided";if("remote"===a)b=this.rdf.createNamedNode(b),this.engine.execute("LOAD <"+b.valueOf()+"> INTO GRAPH <"+d.valueOf()+">",c);else{var g=this,l=this.engine.rdfLoader.parsers[a];if(!l)return c(Error("Cannot find parser for the provided media type:"+a));a=[l,{token:"uri",value:d.valueOf()},b,f,function(a,b){a?c(a,b):g.engine.batchLoad(b,function(a){null!=a?c(null,a):c(Error("Erro batch-loading triples."))})}];
b&&"string"===typeof b&&0===b.indexOf("file://")?this.engine.rdfLoader.loadFromFile.apply(null,a):this.engine.rdfLoader.tryToParse.apply(null,a)}};Store.prototype.registerParser=function(a,b){this.engine.rdfLoader.registerParser(a,b)};Store.prototype.registeredGraphs=function(a){this.engine.lexicon.registeredGraphs(!0,function(b){b=g.map(b,function(a){return new f.NamedNode(a)});a(null,b)})};Store.prototype.getNetworkTransport=function(){return NetworkTransport};Store.prototype.setNetworkTransport=
function(a){NetworkTransport=a};Store.prototype.close=function(a){null==a&&(a=function(){});this.engine.close?this.engine.close(a):a()};Store.VERSION="0.9.9";Store.yieldFrequency=function(a){Utils.yieldFrequency(a)};z.exports.Store=Store;z.exports.create=function(){return 1==arguments.length?new Store(arguments[0]):2==arguments.length?new Store(arguments[0],arguments[1]):new Store};z.exports.connect=function(){(1==arguments.length?arguments[0]:2==arguments.length?arguments[1]:arguments[2])(Error("Store#connect is not supported in the 1.x series of the library"))}}).call(this,
"/")},{"./lexicon":46,"./persistent_lexicon":49,"./persistent_quad_backend":50,"./quad_backend":51,"./query_engine":53,"./rdf_model":57,"./utils":59}],44:[function(u,z,w){var l=u("./utils"),t=u("./utils");u("./quad_index");var b=u("./quad_index").Pattern,c=u("./rdf_model"),a=u("./abstract_query_tree").AbstractQueryTree;Callbacks={ANYTHING:{token:"var",value:"_"},added:"added",deleted:"deleted",eventsFlushed:"eventsFlushed",CallbacksBackend:function(b){this.aqt=new a;this.engine=b;this.indexMap={};
this.observersMap={};this.queriesIndexMap={};this.emptyNotificationsMap={};this.queriesList=[];this.pendingQueries=[];this.matchedQueries=[];this.updateInProgress=null;this.indices="SPOG GP OGS POG GSP OS".split(" ");this.componentOrders={SPOG:["subject","predicate","object","graph"],GP:["graph","predicate","subject","object"],OGS:["object","graph","subject","predicate"],POG:["predicate","object","graph","subject"],GSP:["graph","subject","predicate","object"],OS:["object","subject","predicate","graph"]};
this.callbackCounter=0;this.callbacksMap={};this.callbacksInverseMap={};this.queryCounter=0;this.queriesMap={};this.queriesCallbacksMap={};this.queriesInverseMap={};for(b=0;b<this.indices.length;b++){var c=this.indices[b];this.indexMap[c]={};this.queriesIndexMap[c]={}}}};Callbacks.CallbacksBackend.prototype.startGraphModification=function(){!0!==this.ongoingModification&&(this.pendingQueries=[].concat(this.queriesList),this.matchedQueries=[],null==this.updateInProgress&&(this.updateInProgress={},
this.updateInProgress[Callbacks.added]=[],this.updateInProgress[Callbacks.deleted]=[]))};Callbacks.CallbacksBackend.prototype.nextGraphModification=function(a,b){this.updateInProgress[a].push(b)};Callbacks.CallbacksBackend.prototype.endGraphModification=function(a){if(!0!==this.ongoingModification){var b=this;if(null!=this.updateInProgress){var c=b.updateInProgress;b.updateInProgress=null;this.sendNotification(Callbacks.deleted,c[Callbacks.deleted],function(){b.sendNotification(Callbacks.added,c[Callbacks.added],
function(){b.sendEmptyNotification(Callbacks.eventsFlushed,null,function(){b.dispatchQueries(function(){a(!0)})})})})}else a(!0)}else a(!0)};Callbacks.CallbacksBackend.prototype.cancelGraphModification=function(){!0!==this.ongoingModification&&(this.updateInProgress=null)};Callbacks.CallbacksBackend.prototype.sendNotification=function(a,b,c){for(var e={},h=0;h<b.length;h++){var k=b[h],m;for(m in this.indexMap){var q=this.indexMap[m],l=this.componentOrders[m];this._searchCallbacksInIndex(q,l,a,k,e);
0!=this.pendingQueries.length&&(q=this.queriesIndexMap[m],this._searchQueriesInIndex(q,l,k))}}this.dispatchNotifications(e);null!=c&&c(!0)};Callbacks.CallbacksBackend.prototype.sendEmptyNotification=function(a,b,c){for(var e=this.emptyNotificationsMap[a]||[],h=0;h<e.length;h++)e[h](a,b);c()};Callbacks.CallbacksBackend.prototype.dispatchNotifications=function(a){for(var b in a){var c=this.callbacksMap[b],e=a[b][Callbacks.deleted];if(null!=e)try{c(Callbacks.deleted,e)}catch(k){}for(var h in a[b])if(h!=
Callbacks.deleted)try{c(h,a[b][h])}catch(k){}}};Callbacks.CallbacksBackend.prototype._searchCallbacksInIndex=function(a,b,c,e,h){var k=e[1];e=e[0];for(var m=0;m<b.length+1;m++){for(var q=a._||[],l=[],t=0;t<q.length;t++){var v=q[t];null!=this.callbacksMap[v]&&(h[v]=h[v]||{},h[v][c]=h[v][c]||[],h[v][c].push(e),l.push(v))}a._=l;q=b[m];if(null!=a[""+k[q]])a=a[""+k[q]];else break}};Callbacks.CallbacksBackend.prototype.subscribeEmpty=function(a,b){var c=this.emptyNotificationsMap[a]||[];c.push(b);this.emptyNotificationsMap[a]=
c};Callbacks.CallbacksBackend.prototype.unsubscribeEmpty=function(a,b){var c=this.emptyNotificationsMap[a];null!=c&&(c=l.reject(c,function(a){return a===b}));this.emptyNotificationsMap[a]=c};Callbacks.CallbacksBackend.prototype.subscribe=function(a,c,g,e,h,k){a=this._tokenizeComponents(a,c,g,e);c={blanks:{},outCache:{}};this.engine.registerNsInEnvironment(null,c);var m=this;this.engine.normalizeQuad(a,c,!0,function(a){for(var d=new b(a),c=m._indexForPattern(d),d=m.componentOrders[c],c=m.indexMap[c],
e=0;e<d.length;e++){var f=a[d[e]];if("_"===f){null==c._&&(c._=[]);m.callbackCounter++;c._.push(m.callbackCounter);m.callbacksMap[m.callbackCounter]=h;m.callbacksInverseMap[h]=m.callbackCounter;break}else e===d.length-1?(c[f]=c[f]||{_:[]},m.callbackCounter++,c[f]._.push(m.callbackCounter),m.callbacksMap[m.callbackCounter]=h,m.callbacksInverseMap[h]=m.callbackCounter):(c[f]=c[f]||{},c=c[f])}null!=k&&k(!0)})};Callbacks.CallbacksBackend.prototype.unsubscribe=function(a){var b=this.callbacksInverseMap[a];
null!=b&&(delete this.callbacksInverseMap[a],delete this.callbacksMap[b])};Callbacks.CallbacksBackend.prototype._tokenizeComponents=function(a,b,c,e){var h={};null==a?h.subject=Callbacks.ANYTHING:0==a.indexOf("_:")?h.subject={token:"blank",value:a}:h.subject={token:"uri",value:a};h.predicate=null==b?Callbacks.ANYTHING:{token:"uri",value:b};h.object=null==c?Callbacks.ANYTHING:{token:"uri",value:c};h.graph=null==e?Callbacks.ANYTHING:{token:"uri",value:e};return h};Callbacks.CallbacksBackend.prototype._indexForPattern=
function(a){a=a.indexKey;for(var b=this.indices,c=0;c<b.length;c++)for(var e=b[c],h=this.componentOrders[e],k=0;k<h.length&&!1!==l.include(a,h[k]);k++)if(k==a.length-1)return e;return"SPOG"};Callbacks.CallbacksBackend.prototype.observeNode=function(){var a,b,g,e;4===arguments.length?(a=arguments[0],b=arguments[1],g=arguments[2],e=arguments[3]):(a=arguments[0],b=this.engine.lexicon.defaultGraphUri,g=arguments[1],e=arguments[2]);b="CONSTRUCT { <"+a+"> ?p ?o } WHERE { GRAPH <"+b+"> { <"+a+"> ?p ?o } }";
var h=this,k={blanks:{},outCache:{}};this.engine.registerNsInEnvironment(null,k);var m=[];this.engine.execute(b,function(b,f){if(b)e&&e(!1);else{var l=!1,v=function(a,b){if("eventsFlushed"===a&&l){l=!1;try{g(f)}catch(d){}}else if("eventsFlushed"!==a){l=!0;for(var e=0;e<b.length;e++){var q=b[e],v=c.buildRDFResource(q.subject,m,h.engine,k),r=c.buildRDFResource(q.predicate,m,h.engine,k),q=c.buildRDFResource(q.object,m,h.engine,k);null!=v&&null!=r&&null!=q&&(q=new c.Triple(v,r,q),a===Callbacks.added?
f.add(q):a===Callbacks.deleted&&f.remove(q))}}};h.observersMap[g]=v;h.subscribeEmpty(Callbacks.eventsFlushed,v);h.subscribe(a,null,null,null,v,function(){try{g(f)}catch(a){}e&&e(!0)})}})};Callbacks.CallbacksBackend.prototype.stopObservingNode=function(a){return(a=this.observersMap[a])?(this.unsubscribe(a),this.unsubscribeEmpty(Callbacks.eventsFlushed,a),!0):!1};Callbacks.CallbacksBackend.prototype.observeQuery=function(a,c,g){var e=this.aqt.parseQueryString(a),e=this.aqt.parseSelect(e.units[0]),e=
this.aqt.collectBasicTriples(e),h=this,k={blanks:{},outCache:{}};this.engine.registerNsInEnvironment(null,k);var m=this.queryCounter;this.queryCounter++;this.queriesMap[m]=a;this.queriesInverseMap[a]=m;this.queriesList.push(m);this.queriesCallbacksMap[m]=c;t.eachSeries(e,function(a,c){null==a.graph&&(a.graph=h.engine.lexicon.defaultGraphUriTerm);h.engine.normalizeQuad(a,k,!0,function(a){for(var d=new b(a),e=h._indexForPattern(d),d=h.componentOrders[e],e=h.queriesIndexMap[e],f=0;f<d.length;f++){var g=
a[d[f]];if("string"===typeof g){null==e._&&(e._=[]);e._.push(m);break}else f===d.length-1?(e[g]=e[g]||{_:[]},e[g]._.push(m)):(e[g]=e[g]||{},e=e[g])}c()})},function(){h.engine.execute(a,function(a,b){a?console.log("ERROR in query callback "+b):c(b)});null!=g&&g()})};Callbacks.CallbacksBackend.prototype.stopObservingQuery=function(a){var b=this.queriesInverseMap[a];null!=b&&(delete this.queriesInverseMap[a],delete this.queriesMap[b],this.queriesList=l.reject(this.queriesList,function(a){return a===
b}))};Callbacks.CallbacksBackend.prototype._searchQueriesInIndex=function(a,b,c){var e=c[1];c=c[0];for(c=0;c<b.length+1;c++){for(var h=a._||[],k=[],m=0;m<h.length;m++){var q=h[m];l.include(this.pendingQueries,q)&&(l.remove(this.pendingQueries,function(a){return a===q}),this.matchedQueries.push(q));null!=this.queriesMap[q]&&k.push(q)}a._=k;h=b[c];if(null!=a[""+e[h]])a=a[""+e[h]];else break}};Callbacks.CallbacksBackend.prototype.dispatchQueries=function(a){var b=this,c,e,h={};t.eachSeries(this.matchedQueries,
function(a,d){null==h[a]?(h[a]=!0,c=b.queriesMap[a],e=b.queriesCallbacksMap[a],b.engine.execute(c,function(a,b){if(!a)try{e(b)}catch(c){}d()})):d()},function(){a()})};Callbacks.CallbacksBackend.added=Callbacks.added;Callbacks.CallbacksBackend.deleted=Callbacks.deleted;Callbacks.CallbacksBackend.eventsFlushed=Callbacks.eventsFlushed;z.exports=Callbacks},{"./abstract_query_tree":41,"./quad_index":52,"./rdf_model":57,"./utils":59}],45:[function(u,z,w){var l=u("jsonld"),t=function(b,c,a){var d=null;l.normalize(b,
{},function(b,g){if(b)a(b);else{var e=function(a){if("blank node"===a.type)return{blank:a.value};if("IRI"===a.type)return{token:"uri",value:a.value};if("literal"===a.type)return null!==a.datatype?{literal:'"'+a.value+'"^^<'+a.datatype+">"}:null!=a.language?{literal:'"'+a.value+'"@'+a.language}:{literal:'"'+a.value+'"'}};d=[];var h=function(a,b,f){d.push({subject:e(a),predicate:e(b),object:e(f),graph:c})},k;for(k in g)for(var m=g[k],q=0;q<m.length;q++){var l=m[q];h(l.subject,l.predicate,l.object)}a(null,
d)}})};w.JSONLDParser={};u=w.JSONLDParser;u.parser={async:!0,parse:function(b,c,a,d){try{"string"===typeof b&&(b=JSON.parse(b)),t(b,c,d)}catch(f){d(f)}}};z.exports={JSONLDParser:u}},{jsonld:26}],46:[function(u,z,w){var l=u("./utils"),t=u("./btree").Tree;Lexicon=function(b){var c=this;this.defaultGraphOid=0;this.defaultGraphUri="https://github.com/antoniogarrote/rdfstore-js#default_graph";this.defaultGraphUriTerm={token:"uri",prefix:null,suffix:null,value:this.defaultGraphUri};this.oidCounter=1;l.seq(function(a){new t(2,
function(b){c.uris=b;a()})},function(a){new t(2,function(b){c.literals=b;a()})},function(a){new t(2,function(b){c.knownGraphs=b;a()})},function(a){new t(2,function(b){c.oidUris=b;a()})},function(a){new t(2,function(b){c.oidLiterals=b;a()})},function(a){new t(2,function(b){c.oidBlanks=b;a()})})(function(){null!=b&&b(c)})};Lexicon.prototype.registerGraph=function(b,c,a){b!=this.defaultGraphOid?this.knownGraphs.insert(b,c,function(){a()}):a()};Lexicon.prototype.registeredGraphs=function(b,c){var a=[];
this.knownGraphs.walk(function(c){!0===b?a.push(c.data):a.push(c.key)},function(){c(a)})};Lexicon.prototype.registerUri=function(b,c){var a=this;b===this.defaultGraphUri?c(this.defaultGraphOid):this.uris.search(b,function(d){if(null==d){var f=a.oidCounter,g="u"+f;a.oidCounter++;l.seq(function(c){a.uris.insert(b,[f,0],function(){c()})},function(c){a.oidUris.insert(g,b,function(){c()})})(function(){c(f)})}else f=d[0],d[1]+=1,c(f)})};Lexicon.prototype.resolveUri=function(b,c){b===this.defaultGraphUri?
c(this.defaultGraphOid):this.uris.search(b,function(a){null!=a?c(a[0]):c(-1)})};Lexicon.prototype.resolveUriCost=function(b,c){b===this.defaultGraphUri?c(0):this.uris.search(b,function(a){null!=a?c(a[1]):c(-1)})};Lexicon.prototype.registerBlank=function(b){var c=this.oidCounter;this.oidCounter++;var a=""+c;this.oidBlanks.insert(a,a,function(){b(c)})};Lexicon.prototype.resolveBlank=function(b,c){var a=this;this.oidBlanks.search(b,function(b){null!=b?c(b):(b=a.oidCounter,this.oidCounter++,c(""+b))})};
Lexicon.prototype.resolveBlankCost=function(b,c){c(0)};Lexicon.prototype.registerLiteral=function(b,c){var a=this;this.literals.search(b,function(d){if(null==d){var f=a.oidCounter,g="l"+f;a.oidCounter++;l.seq(function(c){a.literals.insert(b,[f,0],function(){c()})},function(c){a.oidLiterals.insert(g,b,function(){c()})})(function(){c(f)})}else f=d[0],d[1]+=1,c(f)})};Lexicon.prototype.resolveLiteral=function(b,c){this.literals.search(b,function(a){null!=a?c(a[0]):c(-1)})};Lexicon.prototype.resolveLiteralCost=
function(b,c){this.literals.search(b,function(a){null!=a?c(a[1]):c(-1)})};Lexicon.prototype.parseLiteral=function(b){var c=b.lastIndexOf("@");if(-1!=c&&'"'===b[c-1]&&null!=b.substring(c,b.length).match(/^@[a-zA-Z\-]+$/g)){var a=b.substring(1,c-1);b=b.substring(c+1,b.length);return{token:"literal",value:a,lang:b}}c=b.lastIndexOf("^^");if(-1!=c&&'"'===b[c-1]&&"<"===b[c+2]&&">"===b[b.length-1])return a=b.substring(1,c-1),b=b.substring(c+3,b.length-1),{token:"literal",value:a,type:b};a=b.substring(1,
b.length-1);return{token:"literal",value:a}};Lexicon.prototype.parseUri=function(b){return{token:"uri",value:b}};Lexicon.prototype.retrieve=function(b,c){var a=this;b===this.defaultGraphOid?c({token:"uri",value:this.defaultGraphUri,prefix:null,suffix:null,defaultGraph:!0}):l.seq(function(c,f){a.oidUris.search("u"+b,function(b){null!=b?f(null,a.parseUri(b)):f(null,null)})},function(c,f){null==c?a.oidLiterals.search("l"+b,function(b){null!=b?f(null,a.parseLiteral(b)):f(null,null)}):f(null,c)},function(c,
f){null==c?a.oidBlanks.search(""+b,function(a){null!=a?f(null,{token:"blank",value:"_:"+b}):f(null,null)}):f(null,c)})(null,function(a,b){c(b)})};Lexicon.prototype.clear=function(b){var c=this;this.defaultGraphOid=0;this.defaultGraphUri="https://github.com/antoniogarrote/rdfstore-js#default_graph";this.defaultGraphUriTerm={token:"uri",prefix:null,suffix:null,value:this.defaultGraphUri};this.oidCounter=1;l.seq(function(a){new t(2,function(b){c.uris=b;a()})},function(a){new t(2,function(b){c.literals=
b;a()})},function(a){new t(2,function(b){c.knownGraphs=b;a()})},function(a){new t(2,function(b){c.oidUris=b;a()})},function(a){new t(2,function(b){c.oidLiterals=b;a()})},function(a){new t(2,function(b){c.oidBlanks=b;a()})})(function(){null!=b&&b()})};Lexicon.prototype.unregister=function(b,c,a){var d=this;l.seq(function(a){d._unregisterTerm(b.subject.token,c.subject,a)},function(a){d._unregisterTerm(b.predicate.token,c.predicate,a)},function(a){d._unregisterTerm(b.object.token,c.object,a)},function(a){null!=
b.graph?d._unregisterTerm(b.graph.token,c.graph,a):a()})(function(){a(!0)})};Lexicon.prototype._unregisterTerm=function(b,c,a){var d=this;if("uri"===b)if(c!=this.defaultGraphOid){var f="u"+c;d.oidUris.search(f,function(b){d.uris.search(b,function(e){var h=e[1];""+e[0]===""+c?0===h?l.seq(function(a){d.oidUris["delete"](f,function(){a()})},function(a){d.uris["delete"](b,function(){a()})},function(a){d.knownGraphs["delete"](c,function(){a()})})(function(){a()}):d.uris.insert(b,[c,h-1],function(){a()}):
a()})})}else a();else"literal"===b?(this.oidCounter++,f="l"+c,d.oidLiterals.search(f,function(b){d.literals.search(b,function(e){var h=e[1];""+e[0]===""+c?0===h?l.seq(function(a){d.oidLiterals["delete"](f,function(){a()})},function(a){d.literals["delete"](b,function(){a()})})(function(){a()}):d.literals.insert(b,[c,h-1],function(){a()}):a()})})):"blank"===b?d.oidBlanks["delete"](""+c,function(){a()}):a()};z.exports={Lexicon:Lexicon}},{"./btree":42,"./utils":59}],47:[function(u,z,w){var l=u("http"),
t=u("https"),b=u("url");NetworkTransport={load:function(c,a,d,f){var g=null==f?3:f;c=b.parse(c,!0,!0);f={host:c.host,hostname:c.hostname,method:"GET",path:c.path,headers:{host:c.hostname,Accept:a}};var e=null;"http:"===c.protocol?(f.port=c.port||80,e=l):"https:"===c.protocol&&(f.port=c.port||443,e=t);c=e.request(f,function(b){var c=b.headers,e="";"2"==(""+b.statusCode)[0]?(b.on("end",function(){d(null,{headers:c,data:e})}),b.on("data",function(a){e+=a})):"3"==(""+b.statusCode)[0]?0==g?d(Error("Too many redirections")):
(b=c.Location||c.location,null!=b?NetworkTransport.load(b,a,d,g-1):d(Error("Redirection without location header"))):d(Error("HTTP error: "+b.statusCode))});c.on("error",d);c.end()}};z.exports={NetworkTransport:NetworkTransport}},{http:7,https:22,url:38}],48:[function(u,z,w){z.exports=function(){function l(t,b,c,a){this.message=t;this.expected=b;this.found=c;this.location=a;this.name="SyntaxError";"function"===typeof Error.captureStackTrace&&Error.captureStackTrace(this,l)}(function(l,b){function c(){this.constructor=
l}c.prototype=b.prototype;l.prototype=new c})(l,Error);return{SyntaxError:l,parse:function(t){function b(a){var b=u[a],c,d;if(!b){for(c=a-1;!u[c];)c--;b=u[c];for(b={line:b.line,column:b.column,seenCR:b.seenCR};c<a;)d=t.charAt(c),"\n"===d?(b.seenCR||b.line++,b.column=1,b.seenCR=!1):"\r"===d||"\u2028"===d||"\u2029"===d?(b.line++,b.column=1,b.seenCR=!0):(b.column++,b.seenCR=!1),c++;u[a]=b}return b}function c(a,c){var d=b(a),e=b(c);return{start:{offset:a,line:d.line,column:d.column},end:{offset:c,line:e.line,
column:e.column}}}function a(a){x<v||(x>v&&(v=x,C=[]),C.push(a))}function d(a){var b=Array(a.length),c;for(c=0;c<a.length;c++)b[c]=a.charCodeAt(c)-32;return b}function f(b){b=q[b];for(var c=0,d=[],g=b.length,h=[],k=[],l,v;;){for(;c<g;)switch(b[c]){case 0:k.push(m[b[c+1]]);c+=2;break;case 1:k.push(void 0);c++;break;case 2:k.push(null);c++;break;case 3:k.push(e);c++;break;case 4:k.push([]);c++;break;case 5:k.push(x);c++;break;case 6:k.pop();c++;break;case 7:x=k.pop();c++;break;case 8:k.length-=b[c+
1];c+=2;break;case 9:k.splice(-2,1);c++;break;case 10:k[k.length-2].push(k.pop());c++;break;case 11:k.push(k.splice(k.length-b[c+1],b[c+1]));c+=2;break;case 12:k.push(t.substring(k.pop(),x));c++;break;case 13:h.push(g);d.push(c+3+b[c+1]+b[c+2]);k[k.length-1]?(g=c+3+b[c+1],c+=3):(g=c+3+b[c+1]+b[c+2],c+=3+b[c+1]);break;case 14:h.push(g);d.push(c+3+b[c+1]+b[c+2]);k[k.length-1]===e?(g=c+3+b[c+1],c+=3):(g=c+3+b[c+1]+b[c+2],c+=3+b[c+1]);break;case 15:h.push(g);d.push(c+3+b[c+1]+b[c+2]);k[k.length-1]!==
e?(g=c+3+b[c+1],c+=3):(g=c+3+b[c+1]+b[c+2],c+=3+b[c+1]);break;case 16:k[k.length-1]!==e?(h.push(g),d.push(c),g=c+2+b[c+1],c+=2):c+=2+b[c+1];break;case 17:h.push(g);d.push(c+3+b[c+1]+b[c+2]);t.length>x?(g=c+3+b[c+1],c+=3):(g=c+3+b[c+1]+b[c+2],c+=3+b[c+1]);break;case 18:h.push(g);d.push(c+4+b[c+2]+b[c+3]);t.substr(x,m[b[c+1]].length)===m[b[c+1]]?(g=c+4+b[c+2],c+=4):(g=c+4+b[c+2]+b[c+3],c+=4+b[c+2]);break;case 19:h.push(g);d.push(c+4+b[c+2]+b[c+3]);t.substr(x,m[b[c+1]].length).toLowerCase()===m[b[c+
1]]?(g=c+4+b[c+2],c+=4):(g=c+4+b[c+2]+b[c+3],c+=4+b[c+2]);break;case 20:h.push(g);d.push(c+4+b[c+2]+b[c+3]);m[b[c+1]].test(t.charAt(x))?(g=c+4+b[c+2],c+=4):(g=c+4+b[c+2]+b[c+3],c+=4+b[c+2]);break;case 21:k.push(t.substr(x,b[c+1]));x+=b[c+1];c+=2;break;case 22:k.push(m[b[c+1]]);x+=m[b[c+1]].length;c+=2;break;case 23:k.push(e);0===w&&a(m[b[c+1]]);c+=2;break;case 24:c+=2;break;case 25:c++;break;case 26:l=b.slice(c+4,c+4+b[c+3]);for(v=0;v<b[c+3];v++)l[v]=k[k.length-1-l[v]];k.splice(k.length-b[c+2],b[c+
2],m[b[c+1]].apply(null,l));c+=4+b[c+3];break;case 27:k.push(f(b[c+1]));c+=2;break;case 28:w++;c++;break;case 29:w--;c++;break;default:throw Error("Invalid opcode: "+b[c]+".");}if(0<h.length)g=h.pop(),c=d.pop();else break}return k[0]}var g=1<arguments.length?arguments[1]:{},e={},h={DOCUMENT:0},k=0,m=[{type:"other",description:"[1] QueryUnit"},{type:"other",description:"[2] Query"},function(a,b,c){return{token:"query",kind:"query",prologue:a,units:[b],inlineData:c}},{type:"other",description:"[3] Prologue"},
function(a,b){return{token:"prologue",base:a,prefixes:b}},{type:"other",description:"[4] BaseDecl"},"BASE",{type:"literal",value:"BASE",description:'"BASE"'},"base",{type:"literal",value:"base",description:'"base"'},function(a){var b={token:"base"};b.value=a;return b},{type:"other",description:"[5] PrefixDecl"},"PREFIX",{type:"literal",value:"PREFIX",description:'"PREFIX"'},"prefix",{type:"literal",value:"prefix",description:'"prefix"'},function(a,b){var c={token:"prefix"};c.prefix=a;c.local=b;return c},
{type:"other",description:"[6] SelectQuery"},function(a,b,c,d){for(var e={named:[],implicit:[]},f=0;f<b.length;f++){var g=b[f];"default"===g.kind?e.implicit.push(g.graph):e.named.push(g.graph)}0===e.named.length&&0===e.implicit.length&&e.implicit.push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});b={kind:"select",token:"executableunit"};b.dataset=e;b.projection=a.vars;b.modifier=a.modifier;b.pattern=c;null!=d&&null!=d.limit&&(b.limit=d.limit);
null!=d&&null!=d.offset&&(b.offset=d.offset);null!=d&&null!=d.order&&""!=d.order&&(b.order=d.order);null!=d&&null!=d.group&&(b.group=d.group);return b},{type:"other",description:"[7] SubSelect"},function(a,b,c){var d={kind:"select",token:"subselect"};d.projection=a.vars;d.modifier=a.modifier;d.pattern=b;null!=c&&null!=c.limit&&(d.limit=c.limit);null!=c&&null!=c.offset&&(d.offset=c.offset);null!=c&&null!=c.order&&""!=c.order&&(d.order=c.order);null!=c&&null!=c.group&&(d.group=c.group);return d},{type:"other",
description:"[8] SelectClause"},"SELECT",{type:"literal",value:"SELECT",description:'"SELECT"'},"select",{type:"literal",value:"select",description:'"select"'},"DISTINCT",{type:"literal",value:"DISTINCT",description:'"DISTINCT"'},"distinct",{type:"literal",value:"distinct",description:'"distinct"'},"REDUCED",{type:"literal",value:"REDUCED",description:'"REDUCED"'},"reduced",{type:"literal",value:"reduced",description:'"reduced"'},"(",{type:"literal",value:"(",description:'"("'},"AS",{type:"literal",
value:"AS",description:'"AS"'},"as",{type:"literal",value:"as",description:'"as"'},")",{type:"literal",value:")",description:'")"'},"*",{type:"literal",value:"*",description:'"*"'},function(a,b){var c=[];if(3===b.length&&"*"===b[1])return{vars:[{token:"variable",kind:"*"}],modifier:z(a)};for(var d=0;d<b.length;d++){var e=b[d];3===e.length?c.push({token:"variable",kind:"var",value:e[1]}):c.push({token:"variable",kind:"aliased",expression:e[3],alias:e[7]})}return{vars:c,modifier:z(a)}},{type:"other",
description:"[9] ConstructQuery"},"CONSTRUCT",{type:"literal",value:"CONSTRUCT",description:'"CONSTRUCT"'},"construct",{type:"literal",value:"construct",description:'"construct"'},function(a,b,c,d){for(var e={named:[],implicit:[]},f=0;f<b.length;f++){var g=b[f];"default"===g.kind?e.implicit.push(g.graph):e.named.push(g.graph)}0===e.named.length&&0===e.implicit.length&&e.implicit.push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});b={kind:"construct",
token:"executableunit"};b.dataset=e;b.template=a;b.pattern=c;null!=d&&null!=d.limit&&(b.limit=d.limit);null!=d&&null!=d.offset&&(b.offset=d.offset);null!=d&&null!=d.order&&""!=d.order&&(b.order=d.order);return b},"WHERE",{type:"literal",value:"WHERE",description:'"WHERE"'},"where",{type:"literal",value:"where",description:'"where"'},"{",{type:"literal",value:"{",description:'"{"'},"}",{type:"literal",value:"}",description:'"}"'},function(a,b,c){for(var d={named:[],implicit:[]},e=0;e<a.length;e++){var f=
a[e];"default"===f.kind?d.implicit.push(f.graph):d.named.push(f.graph)}0===d.named.length&&0===d.implicit.length&&d.implicit.push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});a={kind:"construct",token:"executableunit"};a.dataset=d;a.template=b;a.pattern={token:"basicgraphpattern",triplesContext:b.triplesContext};null!=c&&null!=c.limit&&(a.limit=c.limit);null!=c&&null!=c.offset&&(a.offset=c.offset);null!=c&&null!=c.order&&""!=c.order&&(a.order=
c.order);return a},{type:"other",description:"[10] DescribeQuery"},"DESCRIBE",{type:"literal",value:"DESCRIBE",description:'"DESCRIBE"'},{type:"other",description:"[11] AskQuery"},"ASK",{type:"literal",value:"ASK",description:'"ASK"'},"ask",{type:"literal",value:"ask",description:'"ask"'},function(a,b){for(var c={named:[],implicit:[]},d=0;d<a.length;d++){var e=a[d];"implicit"===e.kind?c.implicit.push(e.graph):c.named.push(e.graph)}0===c.named.length&&0===c.implicit.length&&c.implicit.push({token:"uri",
prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});d={kind:"ask",token:"executableunit"};d.dataset=c;d.pattern=b;return d},{type:"other",description:"[12] DatasetClause"},"FROM",{type:"literal",value:"FROM",description:'"FROM"'},"from",{type:"literal",value:"from",description:'"from"'},function(a){return a},{type:"other",description:"[13] DefaultGraphClause"},function(a){return{graph:a,kind:"default",token:"graphClause"}},{type:"other",description:"[14] NamedGraphClause"},
"NAMED",{type:"literal",value:"NAMED",description:'"NAMED"'},"named",{type:"literal",value:"named",description:'"named"'},function(a){return{graph:a,kind:"named",token:"graphCluase"}},{type:"other",description:"[15] SourceSelector"},{type:"other",description:"[16] WhereClause"},function(a){return a},{type:"other",description:"[17] SolutionModifier"},function(a,b,c){var d={};null!=c&&(null!=c.limit&&(d.limit=c.limit),null!=c.offset&&(d.offset=c.offset));null!=a&&(d.group=a);d.order=b;return d},{type:"other",
description:"[18] GroupClause"},"GROUP",{type:"literal",value:"GROUP",description:'"GROUP"'},"group",{type:"literal",value:"group",description:'"group"'},"BY",{type:"literal",value:"BY",description:'"BY"'},"by",{type:"literal",value:"by",description:'"by"'},function(a){return a},{type:"other",description:"[19] GroupCondition"},function(a){return a},function(a){return a},function(a,b){return 0!=b.length?{token:"aliased_expression",expression:a,alias:b[2]}:a},function(a){return a},{type:"other",description:"[20] HavingClause"},
"HAVING",{type:"literal",value:"HAVING",description:'"HAVING"'},{type:"other",description:"[21] HavingCondition"},{type:"other",description:"[22] OrderClause"},"ORDER",{type:"literal",value:"ORDER",description:'"ORDER"'},"order",{type:"literal",value:"order",description:'"order"'},function(a){return a},{type:"other",description:"[23] OrderCondition"},"ASC",{type:"literal",value:"ASC",description:'"ASC"'},"asc",{type:"literal",value:"asc",description:'"asc"'},"DESC",{type:"literal",value:"DESC",description:'"DESC"'},
"desc",{type:"literal",value:"desc",description:'"desc"'},function(a,b){return{direction:a.toUpperCase(),expression:b}},function(a){"var"===a.token&&(a={token:"expression",expressionType:"atomic",primaryexpression:"var",value:a});return{direction:"ASC",expression:a}},{type:"other",description:"[24] LimitOffsetClauses"},function(a){for(var b={},c=0;c<a.length;c++){var d=a[c];null!=d&&null!=d.limit?b.limit=d.limit:null!=d&&null!=d.offset&&(b.offset=d.offset)}return b},{type:"other",description:"[25] LimitClause"},
"LIMIT",{type:"literal",value:"LIMIT",description:'"LIMIT"'},"limit",{type:"literal",value:"limit",description:'"limit"'},function(a){return{limit:parseInt(a.value)}},{type:"other",description:"[26] OffsetClause"},"OFFSET",{type:"literal",value:"OFFSET",description:'"OFFSET"'},"offset",{type:"literal",value:"offset",description:'"offset"'},function(a){return{offset:parseInt(a.value)}},{type:"other",description:"[27] BindingsClause"},"BINDINGS",{type:"literal",value:"BINDINGS",description:'"BINDINGS"'},
{type:"other",description:"[28] BindingValue"},"UNDEF",{type:"literal",value:"UNDEF",description:'"UNDEF"'},{type:"other",description:"[28]\tValuesClause\t  ::=\t( 'VALUES' DataBlock )?"},"VALUES",{type:"literal",value:"VALUES",description:'"VALUES"'},"values",{type:"literal",value:"values",description:'"values"'},function(a){return null!=a?a[1]:null},{type:"other",description:"[29] UpdateUnit"},{type:"other",description:"[30] Update"},";",{type:"literal",value:";",description:'";"'},function(a,b,
c){var d={token:"query",kind:"update"};d.prologue=a;a=[b];null!=c&&null!=c.length&&null!=c[3]&&null!=c[3].units&&(a=a.concat(c[3].units));d.units=a;return d},{type:"other",description:"[31] Update1"},{type:"other",description:"[32] Load"},"LOAD",{type:"literal",value:"LOAD",description:'"LOAD"'},"load",{type:"literal",value:"load",description:'"load"'},"INTO",{type:"literal",value:"INTO",description:'"INTO"'},"into",{type:"literal",value:"into",description:'"into"'},function(a,b){var c={kind:"load",
token:"executableunit"};c.sourceGraph=a;null!=b&&(c.destinyGraph=b[2]);return c},{type:"other",description:"[33] Clear"},"CLEAR",{type:"literal",value:"CLEAR",description:'"CLEAR"'},"clear",{type:"literal",value:"clear",description:'"clear"'},"SILENT",{type:"literal",value:"SILENT",description:'"SILENT"'},"silent",{type:"literal",value:"silent",description:'"silent"'},function(a){var b={kind:"clear",token:"executableunit"};b.destinyGraph=a;return b},{type:"other",description:"[34] Drop"},"DROP",{type:"literal",
value:"DROP",description:'"DROP"'},"drop",{type:"literal",value:"drop",description:'"drop"'},function(a){var b={kind:"drop",token:"executableunit"};b.destinyGraph=a;return b},{type:"other",description:"[35] Create"},"CREATE",{type:"literal",value:"CREATE",description:'"CREATE"'},"create",{type:"literal",value:"create",description:'"create"'},function(a){var b={kind:"create",token:"executableunit"};b.destinyGraph=a;return b},{type:"other",description:"[36] InsertData"},"INSERT",{type:"literal",value:"INSERT",
description:'"INSERT"'},"insert",{type:"literal",value:"insert",description:'"insert"'},"DATA",{type:"literal",value:"DATA",description:'"DATA"'},"data",{type:"literal",value:"data",description:'"data"'},function(a){var b={kind:"insertdata",token:"executableunit"};b.quads=a;return b},{type:"other",description:"[37] DeleteData"},"DELETE",{type:"literal",value:"DELETE",description:'"DELETE"'},"delete",{type:"literal",value:"delete",description:'"delete"'},function(a){var b={kind:"deletedata",token:"executableunit"};
b.quads=a;return b},{type:"other",description:"[38] DeleteWhere"},function(a){var b={kind:"modify"};b.pattern=a;b["with"]=null;b.using=null;var c=[];a=a.patterns[0];a=null==a.triplesContext&&null!=a.patterns?a.patterns[0].triplesContext:a.triplesContext;for(var d=0;d<a.length;d++){var e={},f=a[d];e.subject=f.subject;e.predicate=f.predicate;e.object=f.object;e.graph=f.graph;c.push(e)}b["delete"]=c;return b},{type:"other",description:"[39] Modify"},"WITH",{type:"literal",value:"WITH",description:'"WITH"'},
"with",{type:"literal",value:"with",description:'"with"'},function(a,b,c,d){var e={kind:"modify"};e["with"]=""!=a&&null!=a?a[2]:null;3!==b.length||""!==b[2]&&null!=b[2]?3===b.length&&null!=b[0].length&&null!=b[1].length&&null!=b[2].length?(e["delete"]=b[0],e.insert=b[2]):(e.insert=b,e["delete"]=null):(e["delete"]=b[0],e.insert=null);""!=c&&(e.using=c);e.pattern=d;return e},{type:"other",description:"[40] DeleteClause"},function(a){return a},{type:"other",description:"[41] InsertClause"},{type:"other",
description:"[42] UsingClause"},"USING",{type:"literal",value:"USING",description:'"USING"'},"using",{type:"literal",value:"using",description:'"using"'},function(a){return null!=a.length?{kind:"named",uri:a[2]}:{kind:"default",uri:a}},{type:"other",description:"[43] GraphRef"},"GRAPH",{type:"literal",value:"GRAPH",description:'"GRAPH"'},"graph",{type:"literal",value:"graph",description:'"graph"'},function(a){return a},{type:"other",description:"[44] GraphRefAll"},"DEFAULT",{type:"literal",value:"DEFAULT",
description:'"DEFAULT"'},"default",{type:"literal",value:"default",description:'"default"'},function(){return"default"},function(){return"named"},"ALL",{type:"literal",value:"ALL",description:'"ALL"'},"all",{type:"literal",value:"all",description:'"all"'},function(){return"all"},{type:"other",description:"[45] QuadPattern"},function(a){return a.quadsContext},{type:"other",description:"[46] QuadData"},{type:"other",description:"[47] Quads"},".",{type:"literal",value:".",description:'"."'},function(a,
b){var c=[];if(null!=a&&null!=a.triplesContext)for(var d=0;d<a.triplesContext.length;d++){var e=a.triplesContext[d];e.graph=null;c.push(e)}if(b&&0<b.length&&0<b[0].length&&(c=c.concat(b[0][0].quadsContext),null!=b[0][2]&&null!=b[0][2].triplesContext))for(d=0;d<b[0][2].triplesContext.length;d++)e=b[0][2].triplesContext[d],e.graph=null,c.push(e);return{token:"quads",quadsContext:c}},{type:"other",description:"[48] QuadsNotTriples"},function(a,b){var c=[];if(null!=b)for(var d=0;d<b.triplesContext.length;d++){var e=
b.triplesContext[d];e.graph=a;c.push(e)}return{token:"quadsnottriples",quadsContext:c}},{type:"other",description:"[49] TriplesTemplate"},function(a,b){var c=a.triplesContext;null!=b&&"object"===typeof b&&null!=b.length&&null!=b[3]&&null!=b[3].triplesContext&&(c=c.concat(b[3].triplesContext));return{token:"triplestemplate",triplesContext:c}},{type:"other",description:"[50] GroupGraphPattern"},function(a){return a},{type:"other",description:"[51] GroupGraphPatternSub"},function(a,b){var c=[];null!=
a&&a!=[]&&c.push(a);for(var d=0;d<b.length;d++)for(var e=0;e<b[d].length;e++)null!=b[d][e]&&null!=b[d][e].token&&c.push(b[d][e]);for(var f=[],g=[],h=[],q=[],d=0;d<c.length;d++)if("triplespattern"!==c[d].token&&"filter"!==c[d].token&&"bind"!==c[d].token){if(0!=g.length||0!=h.length){for(var k=[],e=0;e<g.length;e++)k=k.concat(g[e].triplesContext);0<k.length&&f.push({token:"basicgraphpattern",triplesContext:k});g=[]}f.push(c[d])}else"triplespattern"===c[d].token?g.push(c[d]):"bind"===c[d].token?q.push(c[d]):
h.push(c[d]);if(0!=g.length||0!=h.length){k=[];for(e=0;e<g.length;e++)k=k.concat(g[e].triplesContext);0<k.length&&f.push({token:"basicgraphpattern",triplesContext:k})}return{token:"groupgraphpattern",patterns:f,filters:h,binds:q}},{type:"other",description:"[54] TriplesBlock"},function(a,b){var c=a.triplesContext;null!=b&&"object"===typeof b&&null!=b&&null!=b.length&&null!=b[2]&&null!=b[2].triplesContext&&(c=c.concat(b[2].triplesContext));return{token:"triplespattern",triplesContext:c}},{type:"other",
description:"[53] GraphPatternNotTriples"},{type:"other",description:"[54] OptionalGraphPattern"},"OPTIONAL",{type:"literal",value:"OPTIONAL",description:'"OPTIONAL"'},"optional",{type:"literal",value:"optional",description:'"optional"'},function(a){return{token:"optionalgraphpattern",value:a}},{type:"other",description:"[55] GraphGraphPattern"},function(a,b){for(var c=0;c<b.patterns.length;c++)for(var d=b.patterns[c],e=0;e<d.triplesContext.length;e++)d.triplesContext[e].graph=a;b.token="groupgraphpattern";
return b},{type:"other",description:"[56] ServiceGraphPattern"},"SERVICE",{type:"literal",value:"SERVICE",description:'"SERVICE"'},function(a,b){return{token:"servicegraphpattern",status:"todo",value:[a,b]}},{type:"other",description:"[57] MinusGraphPattern"},"MINUS",{type:"literal",value:"MINUS",description:'"MINUS"'},"minus",{type:"literal",value:"minus",description:'"minus"'},function(a){return{token:"minusgraphpattern",status:"todo",value:a}},{type:"other",description:"[58] GroupOrUnionGraphPattern"},
"UNION",{type:"literal",value:"UNION",description:'"UNION"'},"union",{type:"literal",value:"union",description:'"union"'},function(a,b){if(0===b.length)return a;for(var c={token:"graphunionpattern",value:[a]},d=0;d<b.length;d++)d==b.length-1?c.value.push(b[d][3]):(c.value.push(b[d][3]),c={token:"graphunionpattern",value:[c]});return c},{type:"other",description:"[59] Filter"},"FILTER",{type:"literal",value:"FILTER",description:'"FILTER"'},"filter",{type:"literal",value:"filter",description:'"filter"'},
function(a){return{token:"filter",value:a}},{type:"other",description:"[60] Bind"},"BIND",{type:"literal",value:"BIND",description:'"BIND"'},"bind",{type:"literal",value:"bind",description:'"bind"'},function(a,b){return{token:"bind",expression:a,as:b}},{type:"other",description:"[60] Constraint"},{type:"other",description:"[61] InlineData"},function(a){return a},{type:"other",description:"[62] DataBlock"},{type:"other",description:"[63] InlineDataOneVar"},function(a,b){return{token:"inlineData",values:[{"var":a,
value:b}]}},{type:"other",description:"[64] InlineDataFull"},function(a,b){return{token:"inlineData",values:[],todo:!0}},{type:"other",description:"[65] DataBlockValue"},{type:"other",description:"[61] FunctionCall"},function(a,b){var c={token:"expression",expressionType:"irireforfunction"};c.iriref=a;c.args=b.value;return c},{type:"other",description:"[62] ArgList"},function(){return{token:"args",value:[]}},",",{type:"literal",value:",",description:'","'},function(a,b,c){for(var d=[],e=0;e<c.length;e++)d.push(c[e][1]);
c={token:"args"};c.value=[b].concat(d);null!=a&&"DISTINCT"===a.toUpperCase()?c.distinct=!0:c.distinct=!1;return c},{type:"other",description:"[63] ExpressionList"},function(a,b){for(var c=[],d=0;d<b.length;d++)c.push(b[d][1]);d={token:"args"};d.value=[a].concat(c);return d},{type:"other",description:"[64] ConstructTemplate"},function(a){return a},{type:"other",description:"[65] ConstructTriples"},function(a,b){var c=a.triplesContext;null!=b&&"object"===typeof b&&null!=b.length&&null!=b[3]&&null!=
b[3].triplesContext&&(c=c.concat(b[3].triplesContext));return{token:"triplestemplate",triplesContext:c}},{type:"other",description:"[66] TriplesSameSubject"},function(a,b){var c=b.triplesContext;if(b.pairs)for(var d=0;d<b.pairs.length;d++){var e=b.pairs[d],f=null;null!=e[1].length&&(e[1]=e[1][0]);a.token&&"triplesnodecollection"===a.token?(f={subject:a.chainSubject[0],predicate:e[0],object:e[1]},c.push(f),c=c.concat(a.triplesContext)):(f={subject:a,predicate:e[0],object:e[1]},c.push(f))}d={token:"triplessamesubject"};
d.triplesContext=c;d.chainSubject=a;return d},function(a,b){var c=a.triplesContext,d=a.chainSubject;if(b.pairs)for(var e=0;e<b.pairs.length;e++){var f=b.pairs[e];null!=f[1].length&&(f[1]=f[1][0]);if("triplesnodecollection"===a.token)for(var g=0;g<d.length;g++){var h=d[g];if(null!=h.triplesContext){var q={subject:h.chainSubject,predicate:f[0],object:f[1]};c.concat(h.triplesContext)}else q={subject:d[g],predicate:f[0],object:f[1]},c.push(q)}else q={subject:d,predicate:f[0],object:f[1]},c.push(q)}e=
{token:"triplessamesubject"};e.triplesContext=c;e.chainSubject=d;return e},{type:"other",description:"[83] PropertyListPathNotEmpty"},function(a,b,c){for(var d={token:"propertylist"},e=[],f=[],g=0;g<b.length;g++)null!=b[g].triplesContext?(e=e.concat(b[g].triplesContext),"triplesnodecollection"===b[g].token&&null!=b[g].chainSubject.length?f.push([a,b[g].chainSubject[0]]):f.push([a,b[g].chainSubject])):f.push([a,b[g]]);for(g=0;g<c.length;g++){b=c[g][3];a=b[0];b=b[2]||[];for(var h=0;h<b.length;h++)null!=
b[h].triplesContext?(e=e.concat(b[h].triplesContext),f.push([a,b[h].chainSubject])):f.push([a,b[h]])}d.pairs=f;d.triplesContext=e;return d},{type:"other",description:"[67] PropertyListNotEmpty"},function(a,b,c){for(var d={token:"propertylist"},e=[],f=[],g=0;g<b.length;g++)null!=b[g].triplesContext?(e=e.concat(b[g].triplesContext),"triplesnodecollection"===b[g].token&&null!=b[g].chainSubject.length?f.push([a,b[g].chainSubject[0]]):f.push([a,b[g].chainSubject])):f.push([a,b[g]]);for(g=0;g<c.length;g++){b=
c[g][3];a=b[0];b=b[2]||[];for(var h=0;h<b.length;h++)null!=b[h].triplesContext?(e=e.concat(b[h].triplesContext),f.push([a,b[h].chainSubject])):f.push([a,b[h]])}d.pairs=f;d.triplesContext=e;return d},{type:"other",description:"[68] PropertyList"},{type:"other",description:"[86] ObjectListPath"},function(a,b){var c=[];c.push(a);for(var d=0;d<b.length;d++)for(var e=0;e<b[d].length;e++)"object"==typeof b[d][e]&&null!=b[d][e].token&&c.push(b[d][e]);return c},{type:"other",description:"[69] ObjectList"},
function(a,b){var c=[];c.push(a);for(var d=0;d<b.length;d++)for(var e=0;e<b[d].length;e++)"object"==typeof b[d][e]&&null!=b[d][e].token&&c.push(b[d][e]);return c},{type:"other",description:"[87] ObjectPath"},{type:"other",description:"[70] Object"},{type:"other",description:"[71] Verb"},"a",{type:"literal",value:"a",description:'"a"'},function(){return{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"}},{type:"other",description:"[72] TriplesSameSubjectPath"},
function(a,b){var c=b.triplesContext;if(b.pairs)for(var d=0;d<b.pairs.length;d++){var e=b.pairs[d],f=null;null!=e[1].length&&(e[1]=e[1][0]);a.token&&"triplesnodecollection"===a.token?(f={subject:a.chainSubject[0],predicate:e[0],object:e[1]},"path"===f.predicate.token&&"element"===f.predicate.kind&&(f.predicate=f.predicate.value),c.push(f),c=c.concat(a.triplesContext)):(f={subject:a,predicate:e[0],object:e[1]},"path"===f.predicate.token&&"element"===f.predicate.kind&&(f.predicate=f.predicate.value),
c.push(f))}d={token:"triplessamesubject"};d.triplesContext=c;d.chainSubject=a;return d},function(a,b){var c=a.triplesContext,d=a.chainSubject;if(null!=b&&null!=b.pairs)for(var e=0;e<b.pairs.length;e++){var f=b.pairs[e];null!=f[1].length&&(f[1]=f[1][0]);if("triplesnodecollection"===a.token)for(var g=0;g<d.length;g++){var h=d[g];if(null!=h.triplesContext){var q={subject:h.chainSubject,predicate:f[0],object:f[1]};c.concat(h.triplesContext)}else q={subject:d[g],predicate:f[0],object:f[1]},c.push(q)}else q=
{subject:d,predicate:f[0],object:f[1]},c.push(q)}e={token:"triplessamesubject"};e.triplesContext=c;e.chainSubject=d;return e},{type:"other",description:"[73] PropertyListNotEmptyPath"},function(a,b,c){for(var d={token:"propertylist"},e=[],f=[],g=0;g<b.length;g++)null!=b[g].triplesContext?(e=e.concat(b[g].triplesContext),"triplesnodecollection"===b[g].token&&null!=b[g].chainSubject.length?f.push([a,b[g].chainSubject[0]]):f.push([a,b[g].chainSubject])):f.push([a,b[g]]);for(g=0;g<c.length;g++){b=c[g][3];
a=b[0];b=b[1]||[];for(var h=0;h<b.length;h++)null!=b[h].triplesContext?(e=e.concat(b[h].triplesContext),f.push([a,b[h].chainSubject])):f.push([a,b[h]])}d.pairs=f;d.triplesContext=e;return d},{type:"other",description:"[74] PropertyListPath"},{type:"other",description:"[75]"},function(a){return a},{type:"other",description:"[76] VerbSimple"},{type:"other",description:"[77] Path"},{type:"other",description:"[78] PathAlternative"},"|",{type:"literal",value:"|",description:'"|"'},function(a,b){if(null==
b||0===b.length)return a;for(var c=[],d=0;d<b.length;d++)c.push(b[1]);d={token:"path",kind:"alternative"};d.value=c;return d},{type:"other",description:"[79] PathSequence"},"/",{type:"literal",value:"/",description:'"/"'},function(a,b){if(null==b||0===b.length)return a;for(var c=[a],d=0;d<b.length;d++)c.push(b[d][1]);d={token:"path",kind:"sequence"};d.value=c;return d},{type:"other",description:"[88] PathElt"},function(a,b){if(a.token&&"path"!=a.token&&""==b)return a;if(a.token&&a.token!=c&&""!=b){var c=
{token:"path",kind:"element"};c.value=a;c.modifier=b;return c}a.modifier=b;return a},{type:"other",description:"[81] PathEltOrInverse"},"^",{type:"literal",value:"^",description:'"^"'},function(a){var b={token:"path",kind:"inversePath"};b.value=a;return b},{type:"other",description:"[82] PathMod"},"?",{type:"literal",value:"?",description:'"?"'},"+",{type:"literal",value:"+",description:'"+"'},{type:"other",description:"[83] PathPrimary"},"!",{type:"literal",value:"!",description:'"!"'},{type:"other",
description:"[85] PathOneInPropertySet"},{type:"other",description:"[86] Integer"},{type:"other",description:"[100] TriplesNodePath"},function(a){for(var b=[],c=[],d=null,e=0;e<a.length;e++)I++,d=null,null==a[e].chainSubject&&null==a[e].triplesContext?d=a[e]:(d=a[e].chainSubject,b=b.concat(a[e].triplesContext)),d={subject:{token:"blank",value:"_:"+I},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first"},object:d},0==e&&c.push(d.subject),b.push(d),
d=e===a.length-1?{subject:{token:"blank",value:"_:"+I},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}}:{subject:{token:"blank",value:"_:"+I},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"blank",value:"_:"+(I+1)}},b.push(d);return{token:"triplesnodecollection",triplesContext:b,
chainSubject:c}},{type:"other",description:"[87] TriplesNode"},function(a){for(var b=[],c=[],d=null,e=0;e<a.length;e++)I++,d=null,null==a[e].chainSubject&&null==a[e].triplesContext?d=a[e]:(d=a[e].chainSubject,b=b.concat(d.triplesContext)),d={subject:{token:"blank",value:"_:"+I},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first"},object:d},0==e&&c.push(d.subject),b.push(d),d=e===a.length-1?{subject:{token:"blank",value:"_:"+I},predicate:{token:"uri",
prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}}:{subject:{token:"blank",value:"_:"+I},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"blank",value:"_:"+(I+1)}},b.push(d);return{token:"triplesnodecollection",triplesContext:b,chainSubject:c}},{type:"other",description:"[101] BlankNodePropertyListPath"},
"[",{type:"literal",value:"[",description:'"["'},"]",{type:"literal",value:"]",description:'"]"'},function(a){I++;for(var b={token:"blank",value:"_:"+I},c=[],d=0;d<a.pairs.length;d++){var e=a.pairs[d],f={};f.subject=b;f.predicate=e[0];null!=e[1].length&&(e[1]=e[1][0]);f.object=e[1];c.push(f)}return{token:"triplesnode",kind:"blanknodepropertylist",triplesContext:a.triplesContext.concat(c),chainSubject:b}},{type:"other",description:"[88] BlankNodePropertyList"},function(a){I++;for(var b={token:"blank",
value:"_:"+I},c=[],d=0;d<a.pairs.length;d++){var e=a.pairs[d],f={};f.subject=b;f.predicate=e[0];null!=e[1].length&&(e[1]=e[1][0]);f.object=e[1];c.push(f)}return{token:"triplesnode",kind:"blanknodepropertylist",triplesContext:a.triplesContext.concat(c),chainSubject:b}},{type:"other",description:"[103] CollectionPath"},function(a){return a},{type:"other",description:"[89] Collection"},{type:"other",description:"[105] GraphNodePath"},function(a){return a[1]},{type:"other",description:"[90] GraphNode"},
{type:"other",description:"[91] VarOrTerm"},{type:"other",description:"[92] VarOrIRIref"},{type:"other",description:"[93] Var"},function(a){var b={token:"var"};b.value=a;return b},{type:"other",description:"[94] GraphTerm"},{type:"other",description:"[95] Expression"},{type:"other",description:"[96] ConditionalOrExpression"},"||",{type:"literal",value:"||",description:'"||"'},function(a,b){if(0===b.length)return a;for(var c={token:"expression",expressionType:"conditionalor"},d=[a],e=0;e<b.length;e++)d.push(b[e][3]);
c.operands=d;return c},{type:"other",description:"[97] ConditionalAndExpression"},"&&",{type:"literal",value:"&&",description:'"&&"'},function(a,b){if(0===b.length)return a;for(var c={token:"expression",expressionType:"conditionaland"},d=[a],e=0;e<b.length;e++)d.push(b[e][3]);c.operands=d;return c},{type:"other",description:"[98] ValueLogical"},{type:"other",description:"[99] RelationalExpression"},"=",{type:"literal",value:"=",description:'"="'},"!=",{type:"literal",value:"!=",description:'"!="'},
"<",{type:"literal",value:"<",description:'"<"'},">",{type:"literal",value:">",description:'">"'},"<=",{type:"literal",value:"<=",description:'"<="'},">=",{type:"literal",value:">=",description:'">="'},"I",{type:"literal",value:"I",description:'"I"'},"i",{type:"literal",value:"i",description:'"i"'},"N",{type:"literal",value:"N",description:'"N"'},"n",{type:"literal",value:"n",description:'"n"'},"O",{type:"literal",value:"O",description:'"O"'},"o",{type:"literal",value:"o",description:'"o"'},"T",{type:"literal",
value:"T",description:'"T"'},"t",{type:"literal",value:"t",description:'"t"'},function(a,b){if(0===b.length)return a;if("i"===b[0][1]||"I"===b[0][1]||"n"===b[0][1]||"N"===b[0][1]){var c={};if("i"===b[0][1]||"I"===b[0][1]){var d="=";c.expressionType="conditionalor"}else d="!=",c.expressionType="conditionaland";for(var e=[],f=0;f<b[0].length;f++)if("args"===b[0][f].token){e=b[0][f].value;break}c.token="expression";c.operands=[];for(f=0;f<e.length;f++){var g={token:"expression",expressionType:"relationalexpression"};
g.operator=d;g.op1=a;g.op2=e[f];c.operands.push(g)}}else c={expressionType:"relationalexpression"},c.operator=b[0][1],c.op1=a,c.op2=b[0][3],c.token="expression";return c},{type:"other",description:"[100] NumericExpression"},{type:"other",description:"[101] AdditiveExpression"},"-",{type:"literal",value:"-",description:'"-"'},function(a,b){if(0===b.length)return a;var c={token:"expression",expressionType:"additiveexpression"};c.summand=a;c.summands=[];for(var d=0;d<b.length;d++){var e=b[d],f={};if(4==
e.length&&"string"===typeof e[1])f.operator=e[1],f.expression=e[3];else{var e={},g=f[0],h=f[1][1],q=f[1][3],h=null;0>g.value?(f.operator="-",g.value=-g.value):f.operator="+";e.token="expression";e.expressionType="multiplicativeexpression";e.operator=g;e.factors=[{operator:h,expression:q}];f.expression=e}c.summands.push(f)}return c},{type:"other",description:"[102] MultiplicativeExpression"},function(a,b){if(0===b.length)return a;var c={token:"expression",expressionType:"multiplicativeexpression"};
c.factor=a;c.factors=[];for(var d=0;d<b.length;d++){var e=b[d],f={};f.operator=e[1];f.expression=e[3];c.factors.push(f)}return c},{type:"other",description:"[103] UnaryExpression"},function(a){var b={token:"expression",expressionType:"unaryexpression",unaryexpression:"!"};b.expression=a;return b},function(a){var b={token:"expression",expressionType:"unaryexpression",unaryexpression:"+"};b.expression=a;return b},function(a){var b={token:"expression",expressionType:"unaryexpression",unaryexpression:"-"};
b.expression=a;return b},{type:"other",description:"[104] PrimaryExpression"},function(a){var b={token:"expression",expressionType:"atomic",primaryexpression:"rdfliteral"};b.value=a;return b},function(a){var b={token:"expression",expressionType:"atomic",primaryexpression:"numericliteral"};b.value=a;return b},function(a){var b={token:"expression",expressionType:"atomic",primaryexpression:"booleanliteral"};b.value=a;return b},function(a){var b={token:"expression",expressionType:"atomic",primaryexpression:"var"};
b.value=a;return b},{type:"other",description:"[105] BrackettedExpression"},function(a){return a},{type:"other",description:"[106] BuiltInCall"},"STR",{type:"literal",value:"STR",description:'"STR"'},"str",{type:"literal",value:"str",description:'"str"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"str"};b.args=[a];return b},"LANG",{type:"literal",value:"LANG",description:'"LANG"'},"lang",{type:"literal",value:"lang",description:'"lang"'},function(a){var b={token:"expression",
expressionType:"builtincall",builtincall:"lang"};b.args=[a];return b},"LANGMATCHES",{type:"literal",value:"LANGMATCHES",description:'"LANGMATCHES"'},"langmatches",{type:"literal",value:"langmatches",description:'"langmatches"'},function(a,b){var c={token:"expression",expressionType:"builtincall",builtincall:"langmatches"};c.args=[a,b];return c},"DATATYPE",{type:"literal",value:"DATATYPE",description:'"DATATYPE"'},"datatype",{type:"literal",value:"datatype",description:'"datatype"'},function(a){var b=
{token:"expression",expressionType:"builtincall",builtincall:"datatype"};b.args=[a];return b},"BOUND",{type:"literal",value:"BOUND",description:'"BOUND"'},"bound",{type:"literal",value:"bound",description:'"bound"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"bound"};b.args=[a];return b},"IRI",{type:"literal",value:"IRI",description:'"IRI"'},"iri",{type:"literal",value:"iri",description:'"iri"'},function(a){var b={token:"expression",expressionType:"builtincall",
builtincall:"iri"};b.args=[a];return b},"URI",{type:"literal",value:"URI",description:'"URI"'},"uri",{type:"literal",value:"uri",description:'"uri"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"uri"};b.args=[a];return b},"BNODE",{type:"literal",value:"BNODE",description:'"BNODE"'},"bnode",{type:"literal",value:"bnode",description:'"bnode"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"bnode"};b.args=5===a.length?[a[2]]:null;return b},
"COALESCE",{type:"literal",value:"COALESCE",description:'"COALESCE"'},"coalesce",{type:"literal",value:"coalesce",description:'"coalesce"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"coalesce"};b.args=a;return b},"IF",{type:"literal",value:"IF",description:'"IF"'},"if",{type:"literal",value:"if",description:'"if"'},function(a,b,c){var d={token:"expression",expressionType:"builtincall",builtincall:"if"};d.args=[a,b,c];return d},"ISLITERAL",{type:"literal",value:"ISLITERAL",
description:'"ISLITERAL"'},"isliteral",{type:"literal",value:"isliteral",description:'"isliteral"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"isliteral"};b.args=[a];return b},"ISBLANK",{type:"literal",value:"ISBLANK",description:'"ISBLANK"'},"isblank",{type:"literal",value:"isblank",description:'"isblank"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"isblank"};b.args=[a];return b},"SAMETERM",{type:"literal",value:"SAMETERM",
description:'"SAMETERM"'},"sameterm",{type:"literal",value:"sameterm",description:'"sameterm"'},function(a,b){var c={token:"expression",expressionType:"builtincall",builtincall:"sameterm"};c.args=[a,b];return c},"ISURI",{type:"literal",value:"ISURI",description:'"ISURI"'},"isuri",{type:"literal",value:"isuri",description:'"isuri"'},"ISIRI",{type:"literal",value:"ISIRI",description:'"ISIRI"'},"isiri",{type:"literal",value:"isiri",description:'"isiri"'},function(a){var b={token:"expression",expressionType:"builtincall",
builtincall:"isuri"};b.args=[a];return b},"custom:",{type:"literal",value:"custom:",description:'"custom:"'},"CUSTOM:",{type:"literal",value:"CUSTOM:",description:'"CUSTOM:"'},/^[a-zA-Z0-9_]/,{type:"class",value:"[a-zA-Z0-9_]",description:"[a-zA-Z0-9_]"},function(a,b,c){var d={token:"expression",expressionType:"custom"};d.name=a.join("");a=[];for(var e=0;e<b.length;e++)a.push(b[e][1]);a.push(c);d.args=a;return d},{type:"other",description:"[107] RegexExpression"},"REGEX",{type:"literal",value:"REGEX",
description:'"REGEX"'},"regex",{type:"literal",value:"regex",description:'"regex"'},function(a,b,c){var d={token:"expression",expressionType:"regex"};d.text=a;d.pattern=b;d.flags=c[2];return d},{type:"other",description:"[108] ExistsFunc"},"EXISTS",{type:"literal",value:"EXISTS",description:'"EXISTS"'},"exists",{type:"literal",value:"exists",description:'"exists"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"exists"};b.args=[a];return b},{type:"other",description:"[109] NotExistsFunc"},
"NOT",{type:"literal",value:"NOT",description:'"NOT"'},"not",{type:"literal",value:"not",description:'"not"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"notexists"};b.args=[a];return b},{type:"other",description:"[110] Aggregate"},"COUNT",{type:"literal",value:"COUNT",description:'"COUNT"'},"count",{type:"literal",value:"count",description:'"count"'},function(a,b){var c={token:"expression",expressionType:"aggregate",aggregateType:"count"};c.distinct=""!=a?"DISTINCT":
a;c.expression=b;return c},"GROUP_CONCAT",{type:"literal",value:"GROUP_CONCAT",description:'"GROUP_CONCAT"'},"group_concat",{type:"literal",value:"group_concat",description:'"group_concat"'},"SEPARATOR",{type:"literal",value:"SEPARATOR",description:'"SEPARATOR"'},function(a,b,c){var d={token:"expression",expressionType:"aggregate",aggregateType:"group_concat"};d.distinct=""!=a?"DISTINCT":a;d.expression=b;d.separator=c;return d},"SUM",{type:"literal",value:"SUM",description:'"SUM"'},"sum",{type:"literal",
value:"sum",description:'"sum"'},function(a,b){var c={token:"expression",expressionType:"aggregate",aggregateType:"sum"};c.distinct=""!=a?"DISTINCT":a;c.expression=b;return c},"MIN",{type:"literal",value:"MIN",description:'"MIN"'},"min",{type:"literal",value:"min",description:'"min"'},function(a,b){var c={token:"expression",expressionType:"aggregate",aggregateType:"min"};c.distinct=""!=a?"DISTINCT":a;c.expression=b;return c},"MAX",{type:"literal",value:"MAX",description:'"MAX"'},"max",{type:"literal",
value:"max",description:'"max"'},function(a,b){var c={token:"expression",expressionType:"aggregate",aggregateType:"max"};c.distinct=""!=a?"DISTINCT":a;c.expression=b;return c},"AVG",{type:"literal",value:"AVG",description:'"AVG"'},"avg",{type:"literal",value:"avg",description:'"avg"'},function(a,b){var c={token:"expression",expressionType:"aggregate",aggregateType:"avg"};c.distinct=""!=a?"DISTINCT":a;c.expression=b;return c},{type:"other",description:"[117] IRIrefOrFunction"},function(a,b){var c=
{token:"expression",expressionType:"irireforfunction"};c.iriref=a;c.args=b.value;return c},{type:"other",description:"[112] RDFLiteral"},"^^",{type:"literal",value:"^^",description:'"^^"'},function(a,b){return"string"===typeof b&&0<b.length?{token:"literal",value:a.value,lang:b.slice(1),type:null}:null!=b&&"object"===typeof b?(b.shift(),{token:"literal",value:a.value,lang:null,type:b[0]}):{token:"literal",value:a.value,lang:null,type:null}},{type:"other",description:"[113] NumericLiteral"},{type:"other",
description:"[114] NumericLiteralUnsigned"},{type:"other",description:"[115] NumericLiteralPositive"},{type:"other",description:"[116] NumericLiteralNegative"},{type:"other",description:"[117] BooleanLiteral"},"TRUE",{type:"literal",value:"TRUE",description:'"TRUE"'},"true",{type:"literal",value:"true",description:'"true"'},function(){return{token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#boolean",value:!0}},"FALSE",{type:"literal",value:"FALSE",description:'"FALSE"'},"false",{type:"literal",
value:"false",description:'"false"'},function(){return{token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#boolean",value:!1}},{type:"other",description:"[118] String"},function(a){return{token:"string",value:a}},{type:"other",description:"[119] IRIref"},function(a){return{token:"uri",prefix:null,suffix:null,value:a}},function(a){return a},{type:"other",description:"[120] PrefixedName"},function(a){return{token:"uri",prefix:a[0],suffix:a[1],value:null}},function(a){return{token:"uri",
prefix:a,suffix:"",value:null}},{type:"other",description:"[121] BlankNode"},function(a){return{token:"blank",value:a}},function(){I++;return{token:"blank",value:"_:"+I}},{type:"other",description:"[122] IRI_REF"},/^[^<>"{}|\^`\\]/,{type:"class",value:'[^<>\\"\\{\\}|^`\\\\]',description:'[^<>\\"\\{\\}|^`\\\\]'},function(a){return a.join("")},{type:"other",description:"[123] PNAME_NS"},":",{type:"literal",value:":",description:'":"'},{type:"other",description:"[124] PNAME_LN"},function(a,b){return[a,
b]},{type:"other",description:"[125] BLANK_NODE_LABEL"},"_:",{type:"literal",value:"_:",description:'"_:"'},function(a){return a},{type:"other",description:"[126] VAR1"},function(a){return a},{type:"other",description:"[127] VAR2"},"$",{type:"literal",value:"$",description:'"$"'},{type:"other",description:"[128] LANGTAG"},"@",{type:"literal",value:"@",description:'"@"'},/^[a-zA-Z]/,{type:"class",value:"[a-zA-Z]",description:"[a-zA-Z]"},/^[a-zA-Z0-9]/,{type:"class",value:"[a-zA-Z0-9]",description:"[a-zA-Z0-9]"},
function(a,b){return 0===b.length?("@"+a.join("")).toLowerCase():("@"+a.join("")+"-"+b[0][1].join("")).toLowerCase()},{type:"other",description:"[129] INTEGER"},/^[0-9]/,{type:"class",value:"[0-9]",description:"[0-9]"},function(a){var b={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#integer"};b.value=D(a);return b},{type:"other",description:"[130] DECIMAL"},function(a,b,c){var d={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#decimal"};d.value=D([a,b,c]);return d},
function(a,b){var c={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#decimal"};c.value=D([a,b]);return c},{type:"other",description:"[131] DOUBLE"},function(a,b,c,d){var e={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};e.value=D([a,b,c,d]);return e},function(a,b,c){var d={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};d.value=D([a,b,c]);return d},function(a,b){var c={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};
c.value=D([a,b]);return c},{type:"other",description:"[132] INTEGER_POSITIVE"},function(a){a.value="+"+a.value;return a},{type:"other",description:"[133] DECIMAL_POSITIVE"},function(a){a.value="+"+a.value;return a},{type:"other",description:"[134] DOUBLE_POSITIVE"},{type:"other",description:"[135] INTEGER_NEGATIVE"},function(a){a.value="-"+a.value;return a},{type:"other",description:"[136] DECIMAL_NEGATIVE"},{type:"other",description:"[137] DOUBLE_NEGATIVE"},{type:"other",description:"[138] EXPONENT"},
/^[eE]/,{type:"class",value:"[eE]",description:"[eE]"},/^[+\-]/,{type:"class",value:"[+-]",description:"[+-]"},function(a,b,c){return D([a,b,c])},{type:"other",description:"[139] STRING_LITERAL1"},"'",{type:"literal",value:"'",description:'"\'"'},/^[^'\\\n\r]/,{type:"class",value:"[^\\u0027\\u005C\\u000A\\u000D]",description:"[^\\u0027\\u005C\\u000A\\u000D]"},function(a){return D(a)},{type:"other",description:"[140] STRING_LITERAL2"},'"',{type:"literal",value:'"',description:'"\\""'},/^[^"\\\n\r]/,
{type:"class",value:"[^\\u0022\\u005C\\u000A\\u000D]",description:"[^\\u0022\\u005C\\u000A\\u000D]"},{type:"other",description:"[141] STRING_LITERAL_LONG1"},"'''",{type:"literal",value:"'''",description:"\"'''\""},/^[^'\\]/,{type:"class",value:"[^\\'\\\\]",description:"[^\\'\\\\]"},{type:"other",description:"[142] STRING_LITERAL_LONG2"},'"""',{type:"literal",value:'"""',description:'"\\"\\"\\""'},/^[^"\\]/,{type:"class",value:'[^\\"\\\\]',description:'[^\\"\\\\]'},{type:"other",description:"[143] ECHAR"},
"\\",{type:"literal",value:"\\",description:'"\\\\"'},/^[tbnrf"']/,{type:"class",value:"[tbnrf\\\"\\']",description:"[tbnrf\\\"\\']"},{type:"other",description:"[144] NIL"},function(){return{token:"triplesnodecollection",triplesContext:[],chainSubject:[{token:"uri",value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}]}},{type:"other",description:"[145] WS"},/^[ ]/,{type:"class",value:"[\\u0020]",description:"[\\u0020]"},/^[\t]/,{type:"class",value:"[\\u0009]",description:"[\\u0009]"},/^[\r]/,{type:"class",
value:"[\\u000D]",description:"[\\u000D]"},/^[\n]/,{type:"class",value:"[\\u000A]",description:"[\\u000A]"},{type:"other",description:" COMMENT"},"#",{type:"literal",value:"#",description:'"#"'},/^[^\n\r]/,{type:"class",value:"[^\\u000A\\u000D]",description:"[^\\u000A\\u000D]"},{type:"other",description:"[146] ANON"},{type:"other",description:"[147] PN_CHARS_BASE"},/^[A-Z]/,{type:"class",value:"[A-Z]",description:"[A-Z]"},/^[a-z]/,{type:"class",value:"[a-z]",description:"[a-z]"},/^[\xC0-\xD6]/,{type:"class",
value:"[\\u00C0-\\u00D6]",description:"[\\u00C0-\\u00D6]"},/^[\xD8-\xF6]/,{type:"class",value:"[\\u00D8-\\u00F6]",description:"[\\u00D8-\\u00F6]"},/^[\xF8-\u02FF]/,{type:"class",value:"[\\u00F8-\\u02FF]",description:"[\\u00F8-\\u02FF]"},/^[\u0370-\u037D]/,{type:"class",value:"[\\u0370-\\u037D]",description:"[\\u0370-\\u037D]"},/^[\u037F-\u1FFF]/,{type:"class",value:"[\\u037F-\\u1FFF]",description:"[\\u037F-\\u1FFF]"},/^[\u200C-\u200D]/,{type:"class",value:"[\\u200C-\\u200D]",description:"[\\u200C-\\u200D]"},
/^[\u2070-\u218F]/,{type:"class",value:"[\\u2070-\\u218F]",description:"[\\u2070-\\u218F]"},/^[\u2C00-\u2FEF]/,{type:"class",value:"[\\u2C00-\\u2FEF]",description:"[\\u2C00-\\u2FEF]"},/^[\u3001-\uD7FF]/,{type:"class",value:"[\\u3001-\\uD7FF]",description:"[\\u3001-\\uD7FF]"},/^[\uF900-\uFDCF]/,{type:"class",value:"[\\uF900-\\uFDCF]",description:"[\\uF900-\\uFDCF]"},/^[\uFDF0-\uFFFD]/,{type:"class",value:"[\\uFDF0-\\uFFFD]",description:"[\\uFDF0-\\uFFFD]"},/^[\u1000-\uEFFF]/,{type:"class",value:"[\\u1000-\\uEFFF]",
description:"[\\u1000-\\uEFFF]"},{type:"other",description:"[148] PN_CHARS_U"},"_",{type:"literal",value:"_",description:'"_"'},{type:"other",description:"[149] VARNAME"},/^[\xB7]/,{type:"class",value:"[\\u00B7]",description:"[\\u00B7]"},/^[\u0300-\u036F]/,{type:"class",value:"[\\u0300-\\u036F]",description:"[\\u0300-\\u036F]"},/^[\u203F-\u2040]/,{type:"class",value:"[\\u203F-\\u2040]",description:"[\\u203F-\\u2040]"},function(a,b){return a+b.join("")},{type:"other",description:"[150] PN_CHARS"},
{type:"other",description:"[151] PN_PREFIX"},function(a,b){if("."==b[b.length-1])throw Error("Wrong PN_PREFIX, cannot finish with '.'");return a+b.join("")},{type:"other",description:"[152] PN_LOCAL"},function(a,b){return a+(b||[]).join("")},{type:"other",description:"[170] PLX"},{type:"other",description:"[171] PERCENT"},"%",{type:"literal",value:"%",description:'"%"'},function(a){return a.join("")},{type:"other",description:"[172] HEX"},/^[A-F]/,{type:"class",value:"[A-F]",description:"[A-F]"},
/^[a-f]/,{type:"class",value:"[a-f]",description:"[a-f]"},{type:"other",description:"[173] PN_LOCAL_ESC"},"~",{type:"literal",value:"~",description:'"~"'},"&",{type:"literal",value:"&",description:'"&"'},function(a){return"\\"+a}],q=[d(";!"),d(';".# &;?'),d('<;#=." 7 '),d("<%;$/N#;'./ &;*.) &;+.# &;,/3$;>/*$8#:\"##\"! )(#'#(\"'#&'#=.\" 7!"),d('<%;%." &"/I#$;\u00c00#*;\u00c0&/9$$;&0#*;&&/)$8#:$#"" )(#\'#("\'#&\'#=." 7#'),d('<%$;\u00c00#*;\u00c0&/\\#2&""6&7\'.) &2(""6(7)/A$$;\u00c00#*;\u00c0&/1$;\u00a9/($8$:*$! )($\'#(#\'#("\'#&\'#=." 7%'),
d('<%$;\u00c00#*;\u00c0&/v#2,""6,7-.) &2.""6.7//[$$;\u00c00#*;\u00c0&/K$;\u00aa/B$$;\u00c00#*;\u00c0&/2$;\u00a9/)$8&:0&"" )(&\'#(%\'#($\'#(#\'#("\'#&\'#=." 7+'),d("<%;)/\u0096#$;\u00c00#*;\u00c0&/\u0086$$;-0#*;-&/v$$;\u00c00#*;\u00c0&/f$;1/]$$;\u00c00#*;\u00c0&/M$;2/D$$;\u00c00#*;\u00c0&/4$;</+$8):2)$(&$\")()'#(('#(''#(&'#(%'#($'#(#'#(\"'#&'#=.\" 71"),d("<%;)/<#;1/3$;2/*$8#:4##\"! )(#'#(\"'#&'#=.\" 73"),d('<%$;\u00c00#*;\u00c0&/\u02a0#26""6677.) &28""6879/\u0285$$;\u00c00#*;\u00c0&/\u0275$2:""6:7;.) &2<""6<7=.5 &2>""6>7?.) &2@""6@7A." &"/\u023d$$;\u00c00#*;\u00c0&/\u022d$$%$;\u00c00#*;\u00c0&/<#;\u008c/3$$;\u00c00#*;\u00c0&/#$+#)(#\'#("\'#&\'#.\u00cf &%$;\u00c00#*;\u00c0&/\u00be#2B""6B7C/\u00af$$;\u00c00#*;\u00c0&/\u009f$;\u008e/\u0096$$;\u00c00#*;\u00c0&/\u0086$2D""6D7E.) &2F""6F7G/k$$;\u00c00#*;\u00c0&/[$;\u008c/R$$;\u00c00#*;\u00c0&/B$2H""6H7I/3$$;\u00c00#*;\u00c0&/#$++)(+\'#(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#/\u0102#0\u00ff*%$;\u00c00#*;\u00c0&/<#;\u008c/3$$;\u00c00#*;\u00c0&/#$+#)(#\'#("\'#&\'#.\u00cf &%$;\u00c00#*;\u00c0&/\u00be#2B""6B7C/\u00af$$;\u00c00#*;\u00c0&/\u009f$;\u008e/\u0096$$;\u00c00#*;\u00c0&/\u0086$2D""6D7E.) &2F""6F7G/k$$;\u00c00#*;\u00c0&/[$;\u008c/R$$;\u00c00#*;\u00c0&/B$2H""6H7I/3$$;\u00c00#*;\u00c0&/#$++)(+\'#(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#&&&#.S &%$;\u00c00#*;\u00c0&/B#2J""6J7K/3$$;\u00c00#*;\u00c0&/#$+#)(#\'#("\'#&\'#/)$8&:L&"" )(&\'#(%\'#($\'#(#\'#("\'#&\'#=." 75'),
d("<%$;\u00c00#*;\u00c0&/\u00b1#2N\"\"6N7O.) &2P\"\"6P7Q/\u0096$$;\u00c00#*;\u00c0&/\u0086$;h/}$$;\u00c00#*;\u00c0&/m$$;-0#*;-&/]$$;\u00c00#*;\u00c0&/M$;1/D$$;\u00c00#*;\u00c0&/4$;2/+$8*:R*$&$\" )(*'#()'#(('#(''#(&'#(%'#($'#(#'#(\"'#&'#.\u0116 &%$;\u00c00#*;\u00c0&/\u0105#2N\"\"6N7O.) &2P\"\"6P7Q/\u00ea$$;\u00c00#*;\u00c0&/\u00da$$;-0#*;-&/\u00ca$$;\u00c00#*;\u00c0&/\u00ba$2S\"\"6S7T.) &2U\"\"6U7V/\u009f$$;\u00c00#*;\u00c0&/\u008f$2W\"\"6W7X/\u0080$$;\u00c00#*;\u00c0&/p$;S.\" &\"/b$$;\u00c00#*;\u00c0&/R$2Y\"\"6Y7Z/C$$;\u00c00#*;\u00c0&/3$;2/*$8.:[.#*$ )(.'#(-'#(,'#(+'#(*'#()'#(('#(''#(&'#(%'#($'#(#'#(\"'#&'#=.\" 7M"),
d('<%2]""6]7^/l#$;\u008b/&#0#*;\u008b&&&#.) &2J""6J7K/J$$;-0#*;-&/:$;1." &"/,$;2/#$+%)(%\'#($\'#(#\'#("\'#&\'#=." 7\\'),d('<%$;\u00c00#*;\u00c0&/}#2`""6`7a.) &2b""6b7c/b$$;\u00c00#*;\u00c0&/R$$;-0#*;-&/B$$;\u00c00#*;\u00c0&/2$;1/)$8&:d&"" )(&\'#(%\'#($\'#(#\'#("\'#&\'#=." 7_'),d('<%2f""6f7g.) &2h""6h7i/W#$;\u00c00#*;\u00c0&/G$;..# &;//8$$;\u00c00#*;\u00c0&/($8$:j$!!)($\'#(#\'#("\'#&\'#=." 7e'),d('<%$;\u00c00#*;\u00c0&/1#;0/($8":l"! )("\'#&\'#=." 7k'),d('<%2n""6n7o.) &2p""6p7q/A#$;\u00c00#*;\u00c0&/1$;0/($8#:r#! )(#\'#("\'#&\'#=." 7m'),
d('<;\u00a6=." 7s'),d('<%2S""6S7T.) &2U""6U7V." &"/Q#$;\u00c00#*;\u00c0&/A$;T/8$$;\u00c00#*;\u00c0&/($8$:u$!!)($\'#(#\'#("\'#&\'#=." 7t'),d('<%;3." &"/T#;5." &"/F$;7." &"/8$;9." &"/*$8$:w$##! )($\'#(#\'#("\'#&\'#=." 7v'),d('<%2y""6y7z.) &2{""6{7|/y#$;\u00c00#*;\u00c0&/i$2}""6}7~.) &2\u007f""6\u007f7\u0080/N$$;\u00c00#*;\u00c0&/>$$;4/&#0#*;4&&&#/($8%:\u0081%! )(%\'#($\'#(#\'#("\'#&\'#=." 7x'),d("<%$;\u00c00#*;\u00c0&/A#;\u0099/8$$;\u00c00#*;\u00c0&/($8#:\u0083#!!)(#'#(\"'#&'#.\u014e &%$;\u00c00#*;\u00c0&/A#;e/8$$;\u00c00#*;\u00c0&/($8#:\u0084#!!)(#'#(\"'#&'#.\u0119 &%$;\u00c00#*;\u00c0&/\u00d3#2B\"\"6B7C/\u00c4$$;\u00c00#*;\u00c0&/\u00b4$;\u008e/\u00ab$$;\u00c00#*;\u00c0&/\u009b$%2D\"\"6D7E.) &2F\"\"6F7G/<#$;\u00c00#*;\u00c0&/,$;\u008c/#$+#)(#'#(\"'#&'#.\" &\"/X$$;\u00c00#*;\u00c0&/H$2H\"\"6H7I/9$$;\u00c00#*;\u00c0&/)$8):\u0085)\"%#)()'#(('#(''#(&'#(%'#($'#(#'#(\"'#&'#.R &%$;\u00c00#*;\u00c0&/A#;\u008c/8$$;\u00c00#*;\u00c0&/($8#:\u0086#!!)(#'#(\"'#&'#=.\" 7\u0082"),
d('<%2\u0088""6\u00887\u0089/9#$;6/&#0#*;6&&&#/#$+")("\'#&\'#=." 7\u0087'),d('<;_=." 7\u008a'),d('<%2\u008c""6\u008c7\u008d.) &2\u008e""6\u008e7\u008f/\u0089#$;\u00c00#*;\u00c0&/y$2}""6}7~.) &2\u007f""6\u007f7\u0080/^$$;\u00c00#*;\u00c0&/N$$;8/&#0#*;8&&&#/8$$;\u00c00#*;\u00c0&/($8&:\u0090&!!)(&\'#(%\'#($\'#(#\'#("\'#&\'#=." 7\u008b'),d('<%2\u0092""6\u00927\u0093.A &2\u0094""6\u00947\u0095.5 &2\u0096""6\u00967\u0097.) &2\u0098""6\u00987\u0099/R#$;\u00c00#*;\u00c0&/B$;\u0098/9$$;\u00c00#*;\u00c0&/)$8$:\u009a$"#!)($\'#(#\'#("\'#&\'#.H &%;_.# &;\u008c/8#$;\u00c00#*;\u00c0&/($8":\u009b"!!)("\'#&\'#=." 7\u0091'),
d('<%%;:/1#;;." &"/#$+")("\'#&\'#.; &%;;/1#;:." &"/#$+")("\'#&\'#/\' 8!:\u009d!! )=." 7\u009c'),d('<%2\u009f""6\u009f7\u00a0.) &2\u00a1""6\u00a17\u00a2/Q#$;\u00c00#*;\u00c0&/A$;\u00b0/8$$;\u00c00#*;\u00c0&/($8$:\u00a3$!!)($\'#(#\'#("\'#&\'#=." 7\u009e'),d('<%2\u00a5""6\u00a57\u00a6.) &2\u00a7""6\u00a77\u00a8/Q#$;\u00c00#*;\u00c0&/A$;\u00b0/8$$;\u00c00#*;\u00c0&/($8$:\u00a9$!!)($\'#(#\'#("\'#&\'#=." 7\u00a4'),d('<%2\u00ab""6\u00ab7\u00ac/\u00d7#$;\u008c0#*;\u008c&/\u00c7$2W""6W7X/\u00b8$$%2B""6B7C/H#$;=/&#0#*;=&&&#/2$2H""6H7I/#$+#)(#\'#("\'#&\'#.# &;\u00bf0^*%2B""6B7C/H#$;=/&#0#*;=&&&#/2$2H""6H7I/#$+#)(#\'#("\'#&\'#.# &;\u00bf&/2$2Y""6Y7Z/#$+%)(%\'#($\'#(#\'#("\'#&\'#." &"=." 7\u00aa'),
d('<;\u00a6.; &;\u009f.5 &;\u00a0./ &;\u00a4.) &2\u00ae""6\u00ae7\u00af=." 7\u00ad'),d('<%%2\u00b1""6\u00b17\u00b2.) &2\u00b3""6\u00b37\u00b4/,#;a/#$+")("\'#&\'#." &"/\' 8!:\u00b5!! )=." 7\u00b0'),d('<;@=." 7\u00b6'),d('<%;$/\u008f#$;\u00c00#*;\u00c0&/\u007f$;A/v$%$;\u00c00#*;\u00c0&/P#2\u00b8""6\u00b87\u00b9/A$$;\u00c00#*;\u00c0&/1$;@." &"/#$+$)($\'#(#\'#("\'#&\'#." &"/*$8$:\u00ba$##! )($\'#(#\'#("\'#&\'#=." 7\u00b7'),d('<;B.G &;C.A &;D.; &;E.5 &;F./ &;G.) &;H.# &;I=." 7\u00bb'),d('<%2\u00bd""6\u00bd7\u00be.) &2\u00bf""6\u00bf7\u00c0/\u0095#$;\u00c00#*;\u00c0&/\u0085$;\u00a6/|$$;\u00c00#*;\u00c0&/l$%2\u00c1""6\u00c17\u00c2.) &2\u00c3""6\u00c37\u00c4/<#$;\u00c00#*;\u00c0&/,$;M/#$+#)(#\'#("\'#&\'#." &"/)$8%:\u00c5%"" )(%\'#($\'#(#\'#("\'#&\'#=." 7\u00bc'),
d('<%2\u00c7""6\u00c77\u00c8.) &2\u00c9""6\u00c97\u00ca/q#$;\u00c00#*;\u00c0&/a$2\u00cb""6\u00cb7\u00cc.) &2\u00cd""6\u00cd7\u00ce." &"/A$$;\u00c00#*;\u00c0&/1$;N/($8%:\u00cf%! )(%\'#($\'#(#\'#("\'#&\'#=." 7\u00c6'),d('<%2\u00d1""6\u00d17\u00d2.) &2\u00d3""6\u00d37\u00d4/q#$;\u00c00#*;\u00c0&/a$2\u00cb""6\u00cb7\u00cc.) &2\u00cd""6\u00cd7\u00ce." &"/A$$;\u00c00#*;\u00c0&/1$;N/($8%:\u00d5%! )(%\'#($\'#(#\'#("\'#&\'#=." 7\u00d0'),d('<%2\u00d7""6\u00d77\u00d8.) &2\u00d9""6\u00d97\u00da/q#$;\u00c00#*;\u00c0&/a$2\u00cb""6\u00cb7\u00cc.) &2\u00cd""6\u00cd7\u00ce." &"/A$$;\u00c00#*;\u00c0&/1$;M/($8%:\u00db%! )(%\'#($\'#(#\'#("\'#&\'#=." 7\u00d6'),
d('<%2\u00dd""6\u00dd7\u00de.) &2\u00df""6\u00df7\u00e0/l#$;\u00c00#*;\u00c0&/\\$2\u00e1""6\u00e17\u00e2.) &2\u00e3""6\u00e37\u00e4/A$$;\u00c00#*;\u00c0&/1$;P/($8%:\u00e5%! )(%\'#($\'#(#\'#("\'#&\'#=." 7\u00dc'),d('<%2\u00e7""6\u00e77\u00e8.) &2\u00e9""6\u00e97\u00ea/\\#$;\u00c00#*;\u00c0&/L$2\u00e1""6\u00e17\u00e2.) &2\u00e3""6\u00e37\u00e4/1$;P/($8$:\u00eb$! )($\'#(#\'#("\'#&\'#=." 7\u00e6'),d('<%2\u00e7""6\u00e77\u00e8.) &2\u00e9""6\u00e97\u00ea/l#$;\u00c00#*;\u00c0&/\\$2S""6S7T.) &2U""6U7V/A$$;\u00c00#*;\u00c0&/1$;T/($8%:\u00ed%! )(%\'#($\'#(#\'#("\'#&\'#=." 7\u00ec'),
d("<%%2\u00ef\"\"6\u00ef7\u00f0.) &2\u00f1\"\"6\u00f17\u00f2/<#$;\u00c00#*;\u00c0&/,$;\u00a6/#$+#)(#'#(\"'#&'#.\" &\"/\u00e6#$;\u00c00#*;\u00c0&/\u00d6$%;J/A#$;\u00c00#*;\u00c0&/1$;K.\" &\"/#$+#)(#'#(\"'#&'#.# &;K/\u009f$$;\u00c00#*;\u00c0&/\u008f$$;L0#*;L&/\u007f$$;\u00c00#*;\u00c0&/o$2S\"\"6S7T.) &2U\"\"6U7V/T$$;\u00c00#*;\u00c0&/D$;T/;$$;\u00c00#*;\u00c0&/+$8*:\u00f3*$)'%!)(*'#()'#(('#(''#(&'#(%'#($'#(#'#(\"'#&'#=.\" 7\u00ee"),d('<%2\u00e7""6\u00e77\u00e8.) &2\u00e9""6\u00e97\u00ea/1#;O/($8":\u00f5"! )("\'#&\'#=." 7\u00f4'),
d('<%2\u00dd""6\u00dd7\u00de.) &2\u00df""6\u00df7\u00e0/1#;O/($8":\u00f5"! )("\'#&\'#=." 7\u00f6'),d('<%$;\u00c00#*;\u00c0&/\u0097#2\u00f8""6\u00f87\u00f9.) &2\u00fa""6\u00fa7\u00fb/|$$;\u00c00#*;\u00c0&/l$;\u00a6.X &%2n""6n7o.) &2p""6p7q/<#$;\u00c00#*;\u00c0&/,$;\u00a6/#$+#)(#\'#("\'#&\'#/($8$:\u00fc$! )($\'#(#\'#("\'#&\'#=." 7\u00f7'),d('<%2\u00fe""6\u00fe7\u00ff.) &2\u0100""6\u01007\u0101/A#$;\u00c00#*;\u00c0&/1$;\u00a6/($8#:\u0102#! )(#\'#("\'#&\'#=." 7\u00fd'),d('<%;M/\' 8!:u!! ).\u0086 &%2\u0104""6\u01047\u0105.) &2\u0106""6\u01067\u0107/& 8!:\u0108! ).c &%2n""6n7o.) &2p""6p7q/& 8!:\u0109! ).@ &%2\u010a""6\u010a7\u010b.) &2\u010c""6\u010c7\u010d/& 8!:\u010e! )=." 7\u0103'),
d("<%$;\u00c00#*;\u00c0&/\u007f#2W\"\"6W7X/p$$;\u00c00#*;\u00c0&/`$;Q/W$$;\u00c00#*;\u00c0&/G$2Y\"\"6Y7Z/8$$;\u00c00#*;\u00c0&/($8':\u0110'!#)(''#(&'#(%'#($'#(#'#(\"'#&'#=.\" 7\u010f"),d("<%$;\u00c00#*;\u00c0&/\u007f#2W\"\"6W7X/p$$;\u00c00#*;\u00c0&/`$;Q/W$$;\u00c00#*;\u00c0&/G$2Y\"\"6Y7Z/8$$;\u00c00#*;\u00c0&/($8':\u0110'!#)(''#(&'#(%'#($'#(#'#(\"'#&'#=.\" 7\u0111"),d('<%;S." &"/\u0091#$%;R/E#2\u0113""6\u01137\u0114." &"/1$;S." &"/#$+#)(#\'#("\'#&\'#0O*%;R/E#2\u0113""6\u01137\u0114." &"/1$;S." &"/#$+#)(#\'#("\'#&\'#&/)$8":\u0115""! )("\'#&\'#=." 7\u0112'),
d("<%$;\u00c00#*;\u00c0&/\u00c9#2\u00fe\"\"6\u00fe7\u00ff.) &2\u0100\"\"6\u01007\u0101/\u00ae$$;\u00c00#*;\u00c0&/\u009e$;\u008b/\u0095$$;\u00c00#*;\u00c0&/\u0085$2W\"\"6W7X/v$$;\u00c00#*;\u00c0&/f$;S.\" &\"/X$$;\u00c00#*;\u00c0&/H$2Y\"\"6Y7Z/9$$;\u00c00#*;\u00c0&/)$8+:\u0117+\"'#)(+'#(*'#()'#(('#(''#(&'#(%'#($'#(#'#(\"'#&'#=.\" 7\u0116"),d('<%;j/u#%$;\u00c00#*;\u00c0&/P#2\u0113""6\u01137\u0114/A$$;\u00c00#*;\u00c0&/1$;S." &"/#$+$)($\'#(#\'#("\'#&\'#." &"/)$8":\u0119""! )("\'#&\'#=." 7\u0118'),d('<%2W""6W7X/`#$;\u00c00#*;\u00c0&/P$;(/G$$;\u00c00#*;\u00c0&/7$2Y""6Y7Z/($8%:\u011b%!")(%\'#($\'#(#\'#("\'#&\'#.p &%2W""6W7X/`#$;\u00c00#*;\u00c0&/P$;U/G$$;\u00c00#*;\u00c0&/7$2Y""6Y7Z/($8%:\u011b%!")(%\'#($\'#(#\'#("\'#&\'#=." 7\u011a'),
d('<%;V." &"/\u00e1#$;\u00c00#*;\u00c0&/\u00d1$$%;W/e#$;\u00c00#*;\u00c0&/U$2\u0113""6\u01137\u0114." &"/A$$;\u00c00#*;\u00c0&/1$;V." &"/#$+%)(%\'#($\'#(#\'#("\'#&\'#0o*%;W/e#$;\u00c00#*;\u00c0&/U$2\u0113""6\u01137\u0114." &"/A$$;\u00c00#*;\u00c0&/1$;V." &"/#$+%)(%\'#($\'#(#\'#("\'#&\'#&/)$8#:\u011d#"" )(#\'#("\'#&\'#=." 7\u011c'),d('<%;s/e#%$;\u00c00#*;\u00c0&/@#2\u0113""6\u01137\u0114/1$;V." &"/#$+#)(#\'#("\'#&\'#." &"/)$8":\u011f""! )("\'#&\'#=." 7\u011e'),d('<;\\.G &;X.A &;[.; &;Y.5 &;Z./ &;].) &;^.# &;`=." 7\u0120'),
d('<%$;\u00c00#*;\u00c0&/\\#2\u0122""6\u01227\u0123.) &2\u0124""6\u01247\u0125/A$$;\u00c00#*;\u00c0&/1$;T/($8$:\u0126$! )($\'#(#\'#("\'#&\'#=." 7\u0121'),d('<%$;\u00c00#*;\u00c0&/v#2\u00fe""6\u00fe7\u00ff.) &2\u0100""6\u01007\u0101/[$$;\u00c00#*;\u00c0&/K$;\u008b/B$$;\u00c00#*;\u00c0&/2$;T/)$8&:\u0128&"" )(&\'#(%\'#($\'#(#\'#("\'#&\'#=." 7\u0127'),d('<%2\u012a""6\u012a7\u012b/;#;\u008b/2$;T/)$8#:\u012c#"! )(#\'#("\'#&\'#=." 7\u0129'),d('<%2\u012e""6\u012e7\u012f.) &2\u0130""6\u01307\u0131/A#$;\u00c00#*;\u00c0&/1$;T/($8#:\u0132#! )(#\'#("\'#&\'#=." 7\u012d'),
d('<%;T/\u00c3#$%$;\u00c00#*;\u00c0&/W#2\u0134""6\u01347\u0135.) &2\u0136""6\u01367\u0137/<$$;\u00c00#*;\u00c0&/,$;T/#$+$)($\'#(#\'#("\'#&\'#0h*%$;\u00c00#*;\u00c0&/W#2\u0134""6\u01347\u0135.) &2\u0136""6\u01367\u0137/<$$;\u00c00#*;\u00c0&/,$;T/#$+$)($\'#(#\'#("\'#&\'#&/)$8":\u0138""! )("\'#&\'#=." 7\u0133'),d('<%$;\u00c00#*;\u00c0&/\\#2\u013a""6\u013a7\u013b.) &2\u013c""6\u013c7\u013d/A$$;\u00c00#*;\u00c0&/1$;_/($8$:\u013e$! )($\'#(#\'#("\'#&\'#=." 7\u0139'),d('<%$;\u00c00#*;\u00c0&/\u00df#2\u0140""6\u01407\u0141.) &2\u0142""6\u01427\u0143/\u00c4$$;\u00c00#*;\u00c0&/\u00b4$2B""6B7C/\u00a5$$;\u00c00#*;\u00c0&/\u0095$;\u008e/\u008c$$;\u00c00#*;\u00c0&/|$2F""6F7G.) &2D""6D7E/a$$;\u00c00#*;\u00c0&/Q$;\u008c/H$$;\u00c00#*;\u00c0&/8$2H""6H7I/)$8,:\u0144,"&")(,\'#(+\'#(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#=." 7\u013f'),
d('<;\u0098.) &;\u0099.# &;e=." 7\u0145'),d('<%$;\u00c00#*;\u00c0&/\\#2\u00b1""6\u00b17\u00b2.) &2\u00b3""6\u00b37\u00b4/A$$;\u00c00#*;\u00c0&/1$;a/($8$:\u0147$! )($\'#(#\'#("\'#&\'#=." 7\u0146'),d('<;b.# &;c=." 7\u0148'),d("<%$;\u00c00#*;\u00c0&/\u0080#;\u008c/w$$;\u00c00#*;\u00c0&/g$2W\"\"6W7X/X$$;\u00c00#*;\u00c0&/H$$;d0#*;d&/8$2Y\"\"6Y7Z/)$8':\u014a'\"%!)(''#(&'#(%'#($'#(#'#(\"'#&'#=.\" 7\u0149"),d("<%$;\u00c00#*;\u00c0&/\u01cf#;\u00bf.r &%2B\"\"6B7C/b#$;\u00c00#*;\u00c0&/R$$;\u008c0#*;\u008c&/B$$;\u00c00#*;\u00c0&/2$2H\"\"6H7I/#$+%)(%'#($'#(#'#(\"'#&'#/\u0171$$;\u00c00#*;\u00c0&/\u0161$2W\"\"6W7X/\u0152$$;\u00c00#*;\u00c0&/\u0142$$%$;\u00c00#*;\u00c0&/\u0081#2B\"\"6B7C/r$$;\u00c00#*;\u00c0&/b$$;d0#*;d&/R$$;\u00c00#*;\u00c0&/B$2H\"\"6H7I/3$$;\u00c00#*;\u00c0&/#$+')(''#(&'#(%'#($'#(#'#(\"'#&'#.# &;\u00bf0\u0098*%$;\u00c00#*;\u00c0&/\u0081#2B\"\"6B7C/r$$;\u00c00#*;\u00c0&/b$$;d0#*;d&/R$$;\u00c00#*;\u00c0&/B$2H\"\"6H7I/3$$;\u00c00#*;\u00c0&/#$+')(''#(&'#(%'#($'#(#'#(\"'#&'#.# &;\u00bf&/H$$;\u00c00#*;\u00c0&/8$2Y\"\"6Y7Z/)$8(:\u014c(\"&\")(('#(''#(&'#(%'#($'#(#'#(\"'#&'#=.\" 7\u014b"),
d('<%$;\u00c00#*;\u00c0&/_#;\u00a9.; &;\u009f.5 &;\u00a0./ &;\u00a4.) &2\u00ae""6\u00ae7\u00af/8$$;\u00c00#*;\u00c0&/($8#:\u0086#!!)(#\'#("\'#&\'#=." 7\u014d'),d('<%;\u00a6/2#;f/)$8":\u014f""! )("\'#&\'#=." 7\u014e'),d('<%;\u00bf/& 8!:\u0151! ).\u00b4 &%2B""6B7C/\u00a4#2:""6:7;.) &2<""6<7=." &"/\u0084$;\u008e/{$$%2\u0152""6\u01527\u0153/,#;\u008e/#$+")("\'#&\'#0<*%2\u0152""6\u01527\u0153/,#;\u008e/#$+")("\'#&\'#&/9$2H""6H7I/*$8%:\u0154%##"!)(%\'#($\'#(#\'#("\'#&\'#=." 7\u0150'),d('<%;\u00bf/& 8!:\u0151! ).\u00a5 &%2B""6B7C/\u0095#;\u00a6.# &;\u008e/\u0086$$%2\u0152""6\u01527\u0153/2#;\u00a6.# &;\u008e/#$+")("\'#&\'#0B*%2\u0152""6\u01527\u0153/2#;\u00a6.# &;\u008e/#$+")("\'#&\'#&/8$2H""6H7I/)$8$:\u0156$""!)($\'#(#\'#("\'#&\'#=." 7\u0155'),
d('<%2W""6W7X/e#$;\u00c00#*;\u00c0&/U$;i." &"/G$$;\u00c00#*;\u00c0&/7$2Y""6Y7Z/($8%:\u0158%!")(%\'#($\'#(#\'#("\'#&\'#=." 7\u0157'),d('<%;j/u#%$;\u00c00#*;\u00c0&/P#2\u0113""6\u01137\u0114/A$$;\u00c00#*;\u00c0&/1$;i." &"/#$+$)($\'#(#\'#("\'#&\'#." &"/)$8":\u015a""! )("\'#&\'#=." 7\u0159'),d("<%$;\u00c00#*;\u00c0&/K#;\u008a/B$$;\u00c00#*;\u00c0&/2$;l/)$8$:\u015c$\"\" )($'#(#'#(\"'#&'#.\\ &%$;\u00c00#*;\u00c0&/K#;\u0083/B$$;\u00c00#*;\u00c0&/2$;m/)$8$:\u015d$\"\" )($'#(#'#(\"'#&'#=.\" 7\u015b"),d("<%;v.# &;w/\u0121#$;\u00c00#*;\u00c0&/\u0111$;n/\u0108$$%$;\u00c00#*;\u00c0&/y#2\u00b8\"\"6\u00b87\u00b9/j$$;\u00c00#*;\u00c0&/Z$%;v.# &;w/<#$;\u00c00#*;\u00c0&/,$;o/#$+#)(#'#(\"'#&'#.\" &\"/#$+$)($'#(#'#(\"'#&'#0\u008a*%$;\u00c00#*;\u00c0&/y#2\u00b8\"\"6\u00b87\u00b9/j$$;\u00c00#*;\u00c0&/Z$%;v.# &;w/<#$;\u00c00#*;\u00c0&/,$;o/#$+#)(#'#(\"'#&'#.\" &\"/#$+$)($'#(#'#(\"'#&'#&/*$8$:\u015f$##! )($'#(#'#(\"'#&'#=.\" 7\u015e"),
d("<%;r/\u0115#$;\u00c00#*;\u00c0&/\u0105$;o/\u00fc$$%$;\u00c00#*;\u00c0&/s#2\u00b8\"\"6\u00b87\u00b9/d$$;\u00c00#*;\u00c0&/T$%;r/<#$;\u00c00#*;\u00c0&/,$;o/#$+#)(#'#(\"'#&'#.\" &\"/#$+$)($'#(#'#(\"'#&'#0\u0084*%$;\u00c00#*;\u00c0&/s#2\u00b8\"\"6\u00b87\u00b9/d$$;\u00c00#*;\u00c0&/T$%;r/<#$;\u00c00#*;\u00c0&/,$;o/#$+#)(#'#(\"'#&'#.\" &\"/#$+$)($'#(#'#(\"'#&'#&/*$8$:\u0161$##! )($'#(#'#(\"'#&'#=.\" 7\u0160"),d('<;l." &"=." 7\u0162'),d('<%;p/\u009b#$;\u00c00#*;\u00c0&/\u008b$$%2\u0152""6\u01527\u0153/<#$;\u00c00#*;\u00c0&/,$;p/#$+#)(#\'#("\'#&\'#0L*%2\u0152""6\u01527\u0153/<#$;\u00c00#*;\u00c0&/,$;p/#$+#)(#\'#("\'#&\'#&/)$8#:\u0164#"" )(#\'#("\'#&\'#=." 7\u0163'),
d('<%;q/\u009b#$;\u00c00#*;\u00c0&/\u008b$$%2\u0152""6\u01527\u0153/<#$;\u00c00#*;\u00c0&/,$;q/#$+#)(#\'#("\'#&\'#0L*%2\u0152""6\u01527\u0153/<#$;\u00c00#*;\u00c0&/,$;q/#$+#)(#\'#("\'#&\'#&/)$8#:\u0166#"" )(#\'#("\'#&\'#=." 7\u0165'),d('<;\u0088=." 7\u0167'),d('<;\u0089=." 7\u0168'),d('<;\u008b.4 &%2\u016a""6\u016a7\u016b/& 8!:\u016c! )=." 7\u0169'),d("<%$;\u00c00#*;\u00c0&/K#;\u008a/B$$;\u00c00#*;\u00c0&/2$;t/)$8$:\u016e$\"\" )($'#(#'#(\"'#&'#.\\ &%$;\u00c00#*;\u00c0&/K#;\u0082/B$$;\u00c00#*;\u00c0&/2$;u/)$8$:\u016f$\"\" )($'#(#'#(\"'#&'#=.\" 7\u016d"),
d("<%;v.# &;w/\u0101#$;\u00c00#*;\u00c0&/\u00f1$;n/\u00e8$$%$;\u00c00#*;\u00c0&/i#2\u00b8\"\"6\u00b87\u00b9/Z$$;\u00c00#*;\u00c0&/J$%;v.# &;w/,#;o/#$+\")(\"'#&'#.\" &\"/#$+$)($'#(#'#(\"'#&'#0z*%$;\u00c00#*;\u00c0&/i#2\u00b8\"\"6\u00b87\u00b9/Z$$;\u00c00#*;\u00c0&/J$%;v.# &;w/,#;o/#$+\")(\"'#&'#.\" &\"/#$+$)($'#(#'#(\"'#&'#&/*$8$:\u0171$##! )($'#(#'#(\"'#&'#=.\" 7\u0170"),d('<;k." &"=." 7\u0172'),d("<%;x/' 8!:\u0174!! )=.\" 7\u0173"),d('<;\u008c=." 7\u0175'),d('<;y=." 7\u0176'),d('<%;z/k#$%2\u0178""6\u01787\u0179/,#;z/#$+")("\'#&\'#0<*%2\u0178""6\u01787\u0179/,#;z/#$+")("\'#&\'#&/)$8":\u017a""! )("\'#&\'#=." 7\u0177'),
d('<%;|/k#$%2\u017c""6\u017c7\u017d/,#;|/#$+")("\'#&\'#0<*%2\u017c""6\u017c7\u017d/,#;|/#$+")("\'#&\'#&/)$8":\u017e""! )("\'#&\'#=." 7\u017b'),d('<%;~/7#;}." &"/)$8":\u0180""! )("\'#&\'#=." 7\u017f'),d('<;{.A &%2\u0182""6\u01827\u0183/1#;{/($8":\u0184"! )("\'#&\'#=." 7\u0181'),d('<2J""6J7K.\u00df &2\u0186""6\u01867\u0187.\u00d3 &2\u0188""6\u01887\u0189.\u00c7 &%2W""6W7X/\u00b7#%;\u0081/v#%2\u0152""6\u01527\u0153/Q#2Y""6Y7Z.< &%;\u0081/2#2Y""6Y7Z/#$+")("\'#&\'#/#$+")("\'#&\'#.) &2Y""6Y7Z/#$+")("\'#&\'#.K &%2\u0152""6\u01527\u0153/;#;\u0081/2$2Y""6Y7Z/#$+#)(#\'#("\'#&\'#/#$+")("\'#&\'#=." 7\u0185'),
d('<;\u00a6.\u0086 &%2\u016a""6\u016a7\u016b/& 8!:\u016c! ).o &%2\u018b""6\u018b7\u018c/,#;\u007f/#$+")("\'#&\'#.P &%2B""6B7C/@#;x/7$2H""6H7I/($8#:\u011b#!!)(#\'#("\'#&\'#=." 7\u018a'),d(';\u0080.\u009c &%2B""6B7C/\u008c#%;\u0080/e#$%2\u0178""6\u01787\u0179/,#;\u0080/#$+")("\'#&\'#0<*%2\u0178""6\u01787\u0179/,#;\u0080/#$+")("\'#&\'#&/#$+")("\'#&\'#." &"/2$2H""6H7I/#$+#)(#\'#("\'#&\'#'),d('<;\u00a6.T &2\u016a""6\u016a7\u016b.H &%2\u0182""6\u01827\u0183/8#;\u00a6.) &2\u016a""6\u016a7\u016b/#$+")("\'#&\'#=." 7\u018d'),
d('<;\u00b0=." 7\u018e'),d("<%;\u0086/' 8!:\u0190!! ).# &;\u0084=.\" 7\u018f"),d("<%;\u0087/' 8!:\u0192!! ).# &;\u0085=.\" 7\u0191"),d('<%$;\u00c00#*;\u00c0&/o#2\u0194""6\u01947\u0195/`$$;\u00c00#*;\u00c0&/P$;t/G$2\u0196""6\u01967\u0197/8$$;\u00c00#*;\u00c0&/($8&:\u0198&!")(&\'#(%\'#($\'#(#\'#("\'#&\'#=." 7\u0193'),d("<%$;\u00c00#*;\u00c0&/\u007f#2\u0194\"\"6\u01947\u0195/p$$;\u00c00#*;\u00c0&/`$;l/W$$;\u00c00#*;\u00c0&/G$2\u0196\"\"6\u01967\u0197/8$$;\u00c00#*;\u00c0&/($8':\u019a'!#)(''#(&'#(%'#($'#(#'#(\"'#&'#=.\" 7\u0199"),
d("<%$;\u00c00#*;\u00c0&/\u008c#2B\"\"6B7C/}$$;\u00c00#*;\u00c0&/m$$;\u0088/&#0#*;\u0088&&&#/W$$;\u00c00#*;\u00c0&/G$2H\"\"6H7I/8$$;\u00c00#*;\u00c0&/($8':\u019c'!#)(''#(&'#(%'#($'#(#'#(\"'#&'#=.\" 7\u019b"),d("<%$;\u00c00#*;\u00c0&/\u008c#2B\"\"6B7C/}$$;\u00c00#*;\u00c0&/m$$;\u0089/&#0#*;\u0089&&&#/W$$;\u00c00#*;\u00c0&/G$2H\"\"6H7I/8$$;\u00c00#*;\u00c0&/($8':\u019c'!#)(''#(&'#(%'#($'#(#'#(\"'#&'#=.\" 7\u019d"),d("<%%$;\u00c00#*;\u00c0&/<#;\u008a/3$$;\u00c00#*;\u00c0&/#$+#)(#'#(\"'#&'#.M &%$;\u00c00#*;\u00c0&/<#;\u0082/3$$;\u00c00#*;\u00c0&/#$+#)(#'#(\"'#&'#/' 8!:\u019f!! )=.\" 7\u019e"),
d("<%%$;\u00c00#*;\u00c0&/<#;\u008a/3$$;\u00c00#*;\u00c0&/#$+#)(#'#(\"'#&'#.M &%$;\u00c00#*;\u00c0&/<#;\u0083/3$$;\u00c00#*;\u00c0&/#$+#)(#'#(\"'#&'#/' 8!:\u019f!! )=.\" 7\u01a0"),d('<;\u008c.# &;\u008d=." 7\u01a1'),d('<;\u008c.# &;\u00a6=." 7\u01a2'),d("<%$;\u00c00#*;\u00c0&/G#;\u00ad.# &;\u00ae/8$$;\u00c00#*;\u00c0&/($8#:\u01a4#!!)(#'#(\"'#&'#=.\" 7\u01a3"),d('<;\u00a6.; &;\u009f.5 &;\u00a0./ &;\u00a4.) &;\u00a8.# &;\u00bf=." 7\u01a5'),d('<;\u008f=." 7\u01a6'),d('<%;\u0090/\u00ab#$%$;\u00c00#*;\u00c0&/K#2\u01a8""6\u01a87\u01a9/<$$;\u00c00#*;\u00c0&/,$;\u0090/#$+$)($\'#(#\'#("\'#&\'#0\\*%$;\u00c00#*;\u00c0&/K#2\u01a8""6\u01a87\u01a9/<$$;\u00c00#*;\u00c0&/,$;\u0090/#$+$)($\'#(#\'#("\'#&\'#&/)$8":\u01aa""! )("\'#&\'#=." 7\u01a7'),
d('<%;\u0091/\u00ab#$%$;\u00c00#*;\u00c0&/K#2\u01ac""6\u01ac7\u01ad/<$$;\u00c00#*;\u00c0&/,$;\u0091/#$+$)($\'#(#\'#("\'#&\'#0\\*%$;\u00c00#*;\u00c0&/K#2\u01ac""6\u01ac7\u01ad/<$$;\u00c00#*;\u00c0&/,$;\u0091/#$+$)($\'#(#\'#("\'#&\'#&/)$8":\u01ae""! )("\'#&\'#=." 7\u01ab'),d('<;\u0092=." 7\u01af'),d('<%;\u0093/\u057b#$%$;\u00c00#*;\u00c0&/K#2\u01b1""6\u01b17\u01b2/<$$;\u00c00#*;\u00c0&/,$;\u0093/#$+$)($\'#(#\'#("\'#&\'#.\u0285 &%$;\u00c00#*;\u00c0&/K#2\u01b3""6\u01b37\u01b4/<$$;\u00c00#*;\u00c0&/,$;\u0093/#$+$)($\'#(#\'#("\'#&\'#.\u0246 &%$;\u00c00#*;\u00c0&/K#2\u01b5""6\u01b57\u01b6/<$$;\u00c00#*;\u00c0&/,$;\u0093/#$+$)($\'#(#\'#("\'#&\'#.\u0207 &%$;\u00c00#*;\u00c0&/K#2\u01b7""6\u01b77\u01b8/<$$;\u00c00#*;\u00c0&/,$;\u0093/#$+$)($\'#(#\'#("\'#&\'#.\u01c8 &%$;\u00c00#*;\u00c0&/K#2\u01b9""6\u01b97\u01ba/<$$;\u00c00#*;\u00c0&/,$;\u0093/#$+$)($\'#(#\'#("\'#&\'#.\u0189 &%$;\u00c00#*;\u00c0&/K#2\u01bb""6\u01bb7\u01bc/<$$;\u00c00#*;\u00c0&/,$;\u0093/#$+$)($\'#(#\'#("\'#&\'#.\u014a &%$;\u00c00#*;\u00c0&/r#2\u01bd""6\u01bd7\u01be.) &2\u01bf""6\u01bf7\u01c0/W$2\u01c1""6\u01c17\u01c2.) &2\u01c3""6\u01c37\u01c4/<$$;\u00c00#*;\u00c0&/,$;g/#$+%)(%\'#($\'#(#\'#("\'#&\'#.\u00e4 &%$;\u00c00#*;\u00c0&/\u00d3#2\u01c1""6\u01c17\u01c2.) &2\u01c3""6\u01c37\u01c4/\u00b8$2\u01c5""6\u01c57\u01c6.) &2\u01c7""6\u01c77\u01c8/\u009d$2\u01c9""6\u01c97\u01ca.) &2\u01cb""6\u01cb7\u01cc/\u0082$$;\u00c00#*;\u00c0&/r$2\u01bd""6\u01bd7\u01be.) &2\u01bf""6\u01bf7\u01c0/W$2\u01c1""6\u01c17\u01c2.) &2\u01c3""6\u01c37\u01c4/<$$;\u00c00#*;\u00c0&/,$;g/#$+))()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#0\u02c4*%$;\u00c00#*;\u00c0&/K#2\u01b1""6\u01b17\u01b2/<$$;\u00c00#*;\u00c0&/,$;\u0093/#$+$)($\'#(#\'#("\'#&\'#.\u0285 &%$;\u00c00#*;\u00c0&/K#2\u01b3""6\u01b37\u01b4/<$$;\u00c00#*;\u00c0&/,$;\u0093/#$+$)($\'#(#\'#("\'#&\'#.\u0246 &%$;\u00c00#*;\u00c0&/K#2\u01b5""6\u01b57\u01b6/<$$;\u00c00#*;\u00c0&/,$;\u0093/#$+$)($\'#(#\'#("\'#&\'#.\u0207 &%$;\u00c00#*;\u00c0&/K#2\u01b7""6\u01b77\u01b8/<$$;\u00c00#*;\u00c0&/,$;\u0093/#$+$)($\'#(#\'#("\'#&\'#.\u01c8 &%$;\u00c00#*;\u00c0&/K#2\u01b9""6\u01b97\u01ba/<$$;\u00c00#*;\u00c0&/,$;\u0093/#$+$)($\'#(#\'#("\'#&\'#.\u0189 &%$;\u00c00#*;\u00c0&/K#2\u01bb""6\u01bb7\u01bc/<$$;\u00c00#*;\u00c0&/,$;\u0093/#$+$)($\'#(#\'#("\'#&\'#.\u014a &%$;\u00c00#*;\u00c0&/r#2\u01bd""6\u01bd7\u01be.) &2\u01bf""6\u01bf7\u01c0/W$2\u01c1""6\u01c17\u01c2.) &2\u01c3""6\u01c37\u01c4/<$$;\u00c00#*;\u00c0&/,$;g/#$+%)(%\'#($\'#(#\'#("\'#&\'#.\u00e4 &%$;\u00c00#*;\u00c0&/\u00d3#2\u01c1""6\u01c17\u01c2.) &2\u01c3""6\u01c37\u01c4/\u00b8$2\u01c5""6\u01c57\u01c6.) &2\u01c7""6\u01c77\u01c8/\u009d$2\u01c9""6\u01c97\u01ca.) &2\u01cb""6\u01cb7\u01cc/\u0082$$;\u00c00#*;\u00c0&/r$2\u01bd""6\u01bd7\u01be.) &2\u01bf""6\u01bf7\u01c0/W$2\u01c1""6\u01c17\u01c2.) &2\u01c3""6\u01c37\u01c4/<$$;\u00c00#*;\u00c0&/,$;g/#$+))()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#&/)$8":\u01cd""! )("\'#&\'#=." 7\u01b0'),
d('<;\u0094=." 7\u01ce'),d("<%;\u0095/\u0261#$%$;\u00c00#*;\u00c0&/K#2\u0188\"\"6\u01887\u0189/<$$;\u00c00#*;\u00c0&/,$;\u0095/#$+$)($'#(#'#(\"'#&'#.\u00f8 &%$;\u00c00#*;\u00c0&/K#2\u01d0\"\"6\u01d07\u01d1/<$$;\u00c00#*;\u00c0&/,$;\u0095/#$+$)($'#(#'#(\"'#&'#.\u00b9 &%;\u00a3.# &;\u00a3/\u00a9#%$;\u00c00#*;\u00c0&/K#2J\"\"6J7K/<$$;\u00c00#*;\u00c0&/,$;\u0096/#$+$)($'#(#'#(\"'#&'#.\\ &%$;\u00c00#*;\u00c0&/K#2\u017c\"\"6\u017c7\u017d/<$$;\u00c00#*;\u00c0&/,$;\u0096/#$+$)($'#(#'#(\"'#&'#.\" &\"/#$+\")(\"'#&'#0\u0137*%$;\u00c00#*;\u00c0&/K#2\u0188\"\"6\u01887\u0189/<$$;\u00c00#*;\u00c0&/,$;\u0095/#$+$)($'#(#'#(\"'#&'#.\u00f8 &%$;\u00c00#*;\u00c0&/K#2\u01d0\"\"6\u01d07\u01d1/<$$;\u00c00#*;\u00c0&/,$;\u0095/#$+$)($'#(#'#(\"'#&'#.\u00b9 &%;\u00a3.# &;\u00a3/\u00a9#%$;\u00c00#*;\u00c0&/K#2J\"\"6J7K/<$$;\u00c00#*;\u00c0&/,$;\u0096/#$+$)($'#(#'#(\"'#&'#.\\ &%$;\u00c00#*;\u00c0&/K#2\u017c\"\"6\u017c7\u017d/<$$;\u00c00#*;\u00c0&/,$;\u0096/#$+$)($'#(#'#(\"'#&'#.\" &\"/#$+\")(\"'#&'#&/)$8\":\u01d2\"\"! )(\"'#&'#=.\" 7\u01cf"),
d("<%;\u0096/\u0129#$%$;\u00c00#*;\u00c0&/K#2J\"\"6J7K/<$$;\u00c00#*;\u00c0&/,$;\u0096/#$+$)($'#(#'#(\"'#&'#.\\ &%$;\u00c00#*;\u00c0&/K#2\u017c\"\"6\u017c7\u017d/<$$;\u00c00#*;\u00c0&/,$;\u0096/#$+$)($'#(#'#(\"'#&'#0\u009b*%$;\u00c00#*;\u00c0&/K#2J\"\"6J7K/<$$;\u00c00#*;\u00c0&/,$;\u0096/#$+$)($'#(#'#(\"'#&'#.\\ &%$;\u00c00#*;\u00c0&/K#2\u017c\"\"6\u017c7\u017d/<$$;\u00c00#*;\u00c0&/,$;\u0096/#$+$)($'#(#'#(\"'#&'#&/)$8\":\u01d4\"\"! )(\"'#&'#=.\" 7\u01d3"),d('<%2\u018b""6\u018b7\u018c/A#$;\u00c00#*;\u00c0&/1$;\u0097/($8#:\u01d6#! )(#\'#("\'#&\'#.\u008b &%2\u0188""6\u01887\u0189/A#$;\u00c00#*;\u00c0&/1$;\u0097/($8#:\u01d7#! )(#\'#("\'#&\'#.W &%2\u01d0""6\u01d07\u01d1/A#$;\u00c00#*;\u00c0&/1$;\u0097/($8#:\u01d8#! )(#\'#("\'#&\'#.# &;\u0097=." 7\u01d5'),
d("<;\u0098.w &;\u0099.q &;\u009e.k &%;\u009f/' 8!:\u01da!! ).Y &%;\u00a0/' 8!:\u01db!! ).G &%;\u00a4/' 8!:\u01dc!! ).5 &;\u009d./ &%;\u008c/' 8!:\u01dd!! )=.\" 7\u01d9"),d('<%2B""6B7C/`#$;\u00c00#*;\u00c0&/P$;\u008e/G$$;\u00c00#*;\u00c0&/7$2H""6H7I/($8%:\u01df%!")(%\'#($\'#(#\'#("\'#&\'#=." 7\u01de'),d('<%2\u01e1""6\u01e17\u01e2.) &2\u01e3""6\u01e37\u01e4/\u007f#$;\u00c00#*;\u00c0&/o$2B""6B7C/`$$;\u00c00#*;\u00c0&/P$;\u008e/G$$;\u00c00#*;\u00c0&/7$2H""6H7I/($8\':\u01e5\'!")(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u0867 &%2\u01e6""6\u01e67\u01e7.) &2\u01e8""6\u01e87\u01e9/\u007f#$;\u00c00#*;\u00c0&/o$2B""6B7C/`$$;\u00c00#*;\u00c0&/P$;\u008e/G$$;\u00c00#*;\u00c0&/7$2H""6H7I/($8\':\u01ea\'!")(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u07e9 &%2\u01eb""6\u01eb7\u01ec.) &2\u01ed""6\u01ed7\u01ee/\u00b8#$;\u00c00#*;\u00c0&/\u00a8$2B""6B7C/\u0099$$;\u00c00#*;\u00c0&/\u0089$;\u008e/\u0080$$;\u00c00#*;\u00c0&/p$2\u0152""6\u01527\u0153/a$$;\u00c00#*;\u00c0&/Q$;\u008e/H$$;\u00c00#*;\u00c0&/8$2H""6H7I/)$8+:\u01ef+"&")(+\'#(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u0732 &%2\u01f0""6\u01f07\u01f1.) &2\u01f2""6\u01f27\u01f3/\u007f#$;\u00c00#*;\u00c0&/o$2B""6B7C/`$$;\u00c00#*;\u00c0&/P$;\u008e/G$$;\u00c00#*;\u00c0&/7$2H""6H7I/($8\':\u01f4\'!")(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u06b4 &%2\u01f5""6\u01f57\u01f6.) &2\u01f7""6\u01f77\u01f8/\u007f#$;\u00c00#*;\u00c0&/o$2B""6B7C/`$$;\u00c00#*;\u00c0&/P$;\u008c/G$$;\u00c00#*;\u00c0&/7$2H""6H7I/($8\':\u01f9\'!")(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u0636 &%2\u01fa""6\u01fa7\u01fb.) &2\u01fc""6\u01fc7\u01fd/\u007f#$;\u00c00#*;\u00c0&/o$2B""6B7C/`$$;\u00c00#*;\u00c0&/P$;\u008e/G$$;\u00c00#*;\u00c0&/7$2H""6H7I/($8\':\u01fe\'!")(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u05b8 &%2\u01ff""6\u01ff7\u0200.) &2\u0201""6\u02017\u0202/\u007f#$;\u00c00#*;\u00c0&/o$2B""6B7C/`$$;\u00c00#*;\u00c0&/P$;\u008e/G$$;\u00c00#*;\u00c0&/7$2H""6H7I/($8\':\u0203\'!")(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u053a &%2\u0204""6\u02047\u0205.) &2\u0206""6\u02067\u0207/\u008f#$;\u00c00#*;\u00c0&/\u007f$%2B""6B7C/[#$;\u00c00#*;\u00c0&/K$;\u008e/B$$;\u00c00#*;\u00c0&/2$2H""6H7I/#$+%)(%\'#($\'#(#\'#("\'#&\'#.# &;\u00bf/($8#:\u0208#! )(#\'#("\'#&\'#.\u04ac &%2\u0209""6\u02097\u020a.) &2\u020b""6\u020b7\u020c/A#$;\u00c00#*;\u00c0&/1$;g/($8#:\u020d#! )(#\'#("\'#&\'#.\u046c &%2\u020e""6\u020e7\u020f.) &2\u0210""6\u02107\u0211/\u00f1#$;\u00c00#*;\u00c0&/\u00e1$2B""6B7C/\u00d2$$;\u00c00#*;\u00c0&/\u00c2$;\u008e/\u00b9$$;\u00c00#*;\u00c0&/\u00a9$2\u0152""6\u01527\u0153/\u009a$$;\u00c00#*;\u00c0&/\u008a$;\u008e/\u0081$$;\u00c00#*;\u00c0&/q$2\u0152""6\u01527\u0153/b$$;\u00c00#*;\u00c0&/R$;\u008e/I$$;\u00c00#*;\u00c0&/9$2H""6H7I/*$8/:\u0212/#*&")(/\'#(.\'#(-\'#(,\'#(+\'#(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u037c &%2\u0213""6\u02137\u0214.) &2\u0215""6\u02157\u0216/\u007f#$;\u00c00#*;\u00c0&/o$2B""6B7C/`$$;\u00c00#*;\u00c0&/P$;\u008e/G$$;\u00c00#*;\u00c0&/7$2H""6H7I/($8\':\u0217\'!")(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u02fe &%2\u0218""6\u02187\u0219.) &2\u021a""6\u021a7\u021b/\u007f#$;\u00c00#*;\u00c0&/o$2B""6B7C/`$$;\u00c00#*;\u00c0&/P$;\u008e/G$$;\u00c00#*;\u00c0&/7$2H""6H7I/($8\':\u021c\'!")(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u0280 &%2\u021d""6\u021d7\u021e.) &2\u021f""6\u021f7\u0220/\u00b8#$;\u00c00#*;\u00c0&/\u00a8$2B""6B7C/\u0099$$;\u00c00#*;\u00c0&/\u0089$;\u008e/\u0080$$;\u00c00#*;\u00c0&/p$2\u0152""6\u01527\u0153/a$$;\u00c00#*;\u00c0&/Q$;\u008e/H$$;\u00c00#*;\u00c0&/8$2H""6H7I/)$8+:\u0221+"&")(+\'#(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u01c9 &%2\u0222""6\u02227\u0223.A &2\u0224""6\u02247\u0225.5 &2\u0226""6\u02267\u0227.) &2\u0228""6\u02287\u0229/\u007f#$;\u00c00#*;\u00c0&/o$2B""6B7C/`$$;\u00c00#*;\u00c0&/P$;\u008e/G$$;\u00c00#*;\u00c0&/7$2H""6H7I/($8\':\u022a\'!")(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u0133 &%2\u022b""6\u022b7\u022c.) &2\u022d""6\u022d7\u022e/\u0105#$4\u022f""5!7\u0230/,#0)*4\u022f""5!7\u0230&&&#/\u00e3$$;\u00c00#*;\u00c0&/\u00d3$2B""6B7C/\u00c4$$%$;\u00c00#*;\u00c0&/;#;\u008e/2$2\u0152""6\u01527\u0153/#$+#)(#\'#("\'#&\'#0L*%$;\u00c00#*;\u00c0&/;#;\u008e/2$2\u0152""6\u01527\u0153/#$+#)(#\'#("\'#&\'#&/b$$;\u00c00#*;\u00c0&/R$;\u008e/I$$;\u00c00#*;\u00c0&/9$2H""6H7I/*$8):\u0231)#\'$")()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#./ &;\u009a.) &;\u009b.# &;\u009c=." 7\u01e0'),
d('<%2\u0233""6\u02337\u0234.) &2\u0235""6\u02357\u0236/\u0100#$;\u00c00#*;\u00c0&/\u00f0$2B""6B7C/\u00e1$$;\u00c00#*;\u00c0&/\u00d1$;\u008e/\u00c8$$;\u00c00#*;\u00c0&/\u00b8$2\u0152""6\u01527\u0153/\u00a9$$;\u00c00#*;\u00c0&/\u0099$;\u008e/\u0090$$;\u00c00#*;\u00c0&/\u0080$%2\u0152""6\u01527\u0153/<#$;\u00c00#*;\u00c0&/,$;\u008e/#$+#)(#\'#("\'#&\'#." &"/I$$;\u00c00#*;\u00c0&/9$2H""6H7I/*$8-:\u0237-#($")(-\'#(,\'#(+\'#(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#=." 7\u0232'),d('<%2\u0239""6\u02397\u023a.) &2\u023b""6\u023b7\u023c/A#$;\u00c00#*;\u00c0&/1$;T/($8#:\u023d#! )(#\'#("\'#&\'#=." 7\u0238'),
d('<%2\u023f""6\u023f7\u0240.) &2\u0241""6\u02417\u0242/l#$;\u00c00#*;\u00c0&/\\$2\u0239""6\u02397\u023a.) &2\u023b""6\u023b7\u023c/A$$;\u00c00#*;\u00c0&/1$;T/($8%:\u0243%! )(%\'#($\'#(#\'#("\'#&\'#=." 7\u023e'),d('<%2\u0245""6\u02457\u0246.) &2\u0247""6\u02477\u0248/\u00cc#$;\u00c00#*;\u00c0&/\u00bc$2B""6B7C/\u00ad$$;\u00c00#*;\u00c0&/\u009d$2:""6:7;.) &2<""6<7=." &"/}$$;\u00c00#*;\u00c0&/m$2J""6J7K.# &;\u008e/X$$;\u00c00#*;\u00c0&/H$2H""6H7I/9$$;\u00c00#*;\u00c0&/)$8*:\u0249*"%#)(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u044e &%2\u024a""6\u024a7\u024b.) &2\u024c""6\u024c7\u024d/\u0136#$;\u00c00#*;\u00c0&/\u0126$2B""6B7C/\u0117$$;\u00c00#*;\u00c0&/\u0107$2:""6:7;.) &2<""6<7=." &"/\u00e7$$;\u00c00#*;\u00c0&/\u00d7$;\u008e/\u00ce$%2\u00b8""6\u00b87\u00b9/\u008a#$;\u00c00#*;\u00c0&/z$2\u024e""6\u024e7\u024f/k$$;\u00c00#*;\u00c0&/[$2\u01b1""6\u01b17\u01b2/L$$;\u00c00#*;\u00c0&/<$;\u00a5/3$$;\u00c00#*;\u00c0&/#$+()((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#." &"/I$2H""6H7I/:$$;\u00c00#*;\u00c0&/*$8*:\u0250*#%#")(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u0319 &%2\u0251""6\u02517\u0252.) &2\u0253""6\u02537\u0254/\u00c0#$;\u00c00#*;\u00c0&/\u00b0$2B""6B7C/\u00a1$$;\u00c00#*;\u00c0&/\u0091$2:""6:7;.) &2<""6<7=." &"/q$$;\u00c00#*;\u00c0&/a$;\u008e/X$$;\u00c00#*;\u00c0&/H$2H""6H7I/9$$;\u00c00#*;\u00c0&/)$8*:\u0255*"%#)(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u025a &%2\u0256""6\u02567\u0257.) &2\u0258""6\u02587\u0259/\u00c0#$;\u00c00#*;\u00c0&/\u00b0$2B""6B7C/\u00a1$$;\u00c00#*;\u00c0&/\u0091$2:""6:7;.) &2<""6<7=." &"/q$$;\u00c00#*;\u00c0&/a$;\u008e/X$$;\u00c00#*;\u00c0&/H$2H""6H7I/9$$;\u00c00#*;\u00c0&/)$8*:\u025a*"%#)(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u019b &%2\u025b""6\u025b7\u025c.) &2\u025d""6\u025d7\u025e/\u00c0#$;\u00c00#*;\u00c0&/\u00b0$2B""6B7C/\u00a1$$;\u00c00#*;\u00c0&/\u0091$2:""6:7;.) &2<""6<7=." &"/q$$;\u00c00#*;\u00c0&/a$;\u008e/X$$;\u00c00#*;\u00c0&/H$2H""6H7I/9$$;\u00c00#*;\u00c0&/)$8*:\u025f*"%#)(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u00dc &%2\u0260""6\u02607\u0261.) &2\u0262""6\u02627\u0263/\u00c0#$;\u00c00#*;\u00c0&/\u00b0$2B""6B7C/\u00a1$$;\u00c00#*;\u00c0&/\u0091$2:""6:7;.) &2<""6<7=." &"/q$$;\u00c00#*;\u00c0&/a$;\u008e/X$$;\u00c00#*;\u00c0&/H$2H""6H7I/9$$;\u00c00#*;\u00c0&/)$8*:\u0264*"%#)(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#=." 7\u0244'),
d('<%;\u00a6/7#;f." &"/)$8":\u0266""! )("\'#&\'#=." 7\u0265'),d('<%;\u00a5/V#;\u00af.< &%2\u0268""6\u02687\u0269/,#;\u00a6/#$+")("\'#&\'#." &"/)$8":\u026a""! )("\'#&\'#=." 7\u0267'),d('<;\u00a1.) &;\u00a2.# &;\u00a3=." 7\u026b'),d('<;\u00b2.) &;\u00b1.# &;\u00b0=." 7\u026c'),d('<;\u00b5.) &;\u00b4.# &;\u00b3=." 7\u026d'),d('<;\u00b8.) &;\u00b7.# &;\u00b6=." 7\u026e'),d('<%2\u0270""6\u02707\u0271.) &2\u0272""6\u02727\u0273/& 8!:\u0274! ).@ &%2\u0275""6\u02757\u0276.) &2\u0277""6\u02777\u0278/& 8!:\u0279! )=." 7\u026f'),
d("<%;\u00bc/' 8!:\u027b!! ).S &%;\u00bd/' 8!:\u027b!! ).A &%;\u00ba/' 8!:\u027b!! )./ &%;\u00bb/' 8!:\u027b!! )=.\" 7\u027a"),d("<%;\u00a9/' 8!:\u027d!! )./ &%;\u00a7/' 8!:\u027e!! )=.\" 7\u027c"),d("<%;\u00ab/' 8!:\u0280!! )./ &%;\u00aa/' 8!:\u0281!! )=.\" 7\u027f"),d("<%;\u00ac/' 8!:\u0283!! ).. &%;\u00c2/& 8!:\u0284! )=.\" 7\u0282"),d('<%2\u01b5""6\u01b57\u01b6/S#$4\u0286""5!7\u02870)*4\u0286""5!7\u0287&/7$2\u01b7""6\u01b77\u01b8/($8#:\u0288#!!)(#\'#("\'#&\'#=." 7\u0285'),d('<%;\u00c7." &"/7#2\u028a""6\u028a7\u028b/($8":\u027e"!!)("\'#&\'#=." 7\u0289'),
d('<%;\u00aa/2#;\u00c8/)$8":\u028d""! )("\'#&\'#=." 7\u028c'),d('<%2\u028f""6\u028f7\u0290/1#;\u00c8/($8":\u0291"! )("\'#&\'#=." 7\u028e'),d('<%2\u0186""6\u01867\u0187/1#;\u00c5/($8":\u0293"! )("\'#&\'#=." 7\u0292'),d('<%2\u0295""6\u02957\u0296/1#;\u00c5/($8":\u0293"! )("\'#&\'#=." 7\u0294'),d('<%2\u0298""6\u02987\u0299/\u00bf#$4\u029a""5!7\u029b/,#0)*4\u029a""5!7\u029b&&&#/\u009d$$%2\u01d0""6\u01d07\u01d1/E#$4\u029c""5!7\u029d/,#0)*4\u029c""5!7\u029d&&&#/#$+")("\'#&\'#0U*%2\u01d0""6\u01d07\u01d1/E#$4\u029c""5!7\u029d/,#0)*4\u029c""5!7\u029d&&&#/#$+")("\'#&\'#&/)$8#:\u029e#"! )(#\'#("\'#&\'#=." 7\u0297'),
d('<%$4\u02a0""5!7\u02a1/,#0)*4\u02a0""5!7\u02a1&&&#/\' 8!:\u02a2!! )=." 7\u029f'),d('<%$4\u02a0""5!7\u02a1/,#0)*4\u02a0""5!7\u02a1&&&#/U#2\u0113""6\u01137\u0114/F$$4\u02a0""5!7\u02a10)*4\u02a0""5!7\u02a1&/*$8#:\u02a4##"! )(#\'#("\'#&\'#.[ &%2\u0113""6\u01137\u0114/K#$4\u02a0""5!7\u02a1/,#0)*4\u02a0""5!7\u02a1&&&#/)$8":\u02a5""! )("\'#&\'#=." 7\u02a3'),d('<%$4\u02a0""5!7\u02a1/,#0)*4\u02a0""5!7\u02a1&&&#/_#2\u0113""6\u01137\u0114/P$$4\u02a0""5!7\u02a10)*4\u02a0""5!7\u02a1&/4$;\u00b9/+$8$:\u02a7$$#"! )($\'#(#\'#("\'#&\'#.\u009d &%2\u0113""6\u01137\u0114/U#$4\u02a0""5!7\u02a1/,#0)*4\u02a0""5!7\u02a1&&&#/3$;\u00b9/*$8#:\u02a8##"! )(#\'#("\'#&\'#.U &%$4\u02a0""5!7\u02a1/,#0)*4\u02a0""5!7\u02a1&&&#/2#;\u00b9/)$8":\u02a9""! )("\'#&\'#=." 7\u02a6'),
d('<%2\u0188""6\u01887\u0189/1#;\u00b0/($8":\u02ab"! )("\'#&\'#=." 7\u02aa'),d('<%2\u0188""6\u01887\u0189/1#;\u00b1/($8":\u02ad"! )("\'#&\'#=." 7\u02ac'),d('<%2\u0188""6\u01887\u0189/1#;\u00b2/($8":\u02ad"! )("\'#&\'#=." 7\u02ae'),d('<%2\u01d0""6\u01d07\u01d1/1#;\u00b0/($8":\u02b0"! )("\'#&\'#=." 7\u02af'),d('<%2\u01d0""6\u01d07\u01d1/1#;\u00b1/($8":\u02b0"! )("\'#&\'#=." 7\u02b1'),d('<%2\u01d0""6\u01d07\u01d1/1#;\u00b2/($8":\u02b0"! )("\'#&\'#=." 7\u02b2'),d('<%4\u02b4""5!7\u02b5/`#4\u02b6""5!7\u02b7." &"/L$$4\u02a0""5!7\u02a1/,#0)*4\u02a0""5!7\u02a1&&&#/*$8#:\u02b8##"! )(#\'#("\'#&\'#=." 7\u02b3'),
d('<%2\u02ba""6\u02ba7\u02bb/_#$4\u02bc""5!7\u02bd.# &;\u00be0/*4\u02bc""5!7\u02bd.# &;\u00be&/7$2\u02ba""6\u02ba7\u02bb/($8#:\u02be#!!)(#\'#("\'#&\'#=." 7\u02b9'),d('<%2\u02c0""6\u02c07\u02c1/_#$4\u02c2""5!7\u02c3.# &;\u00be0/*4\u02c2""5!7\u02c3.# &;\u00be&/7$2\u02c0""6\u02c07\u02c1/($8#:\u02be#!!)(#\'#("\'#&\'#=." 7\u02bf'),d('<%2\u02c5""6\u02c57\u02c6/_#$4\u02c7""5!7\u02c8.# &;\u00be0/*4\u02c7""5!7\u02c8.# &;\u00be&/7$2\u02c5""6\u02c57\u02c6/($8#:\u02be#!!)(#\'#("\'#&\'#=." 7\u02c4'),d('<%2\u02ca""6\u02ca7\u02cb/_#$4\u02cc""5!7\u02cd.# &;\u00be0/*4\u02cc""5!7\u02cd.# &;\u00be&/7$2\u02ca""6\u02ca7\u02cb/($8#:\u02be#!!)(#\'#("\'#&\'#=." 7\u02c9'),
d('<%2\u02cf""6\u02cf7\u02d0/2#4\u02d1""5!7\u02d2/#$+")("\'#&\'#=." 7\u02ce'),d('<%2B""6B7C/F#$;\u00c00#*;\u00c0&/6$2H""6H7I/\'$8#:\u02d4# )(#\'#("\'#&\'#=." 7\u02d3'),d('<4\u02d6""5!7\u02d7.G &4\u02d8""5!7\u02d9.; &4\u02da""5!7\u02db./ &4\u02dc""5!7\u02dd.# &;\u00c1=." 7\u02d5'),d('<%2\u02df""6\u02df7\u02e0/?#$4\u02e1""5!7\u02e20)*4\u02e1""5!7\u02e2&/#$+")("\'#&\'#=." 7\u02de'),d('<%2\u0194""6\u01947\u0195/B#$;\u00c00#*;\u00c0&/2$2\u0196""6\u01967\u0197/#$+#)(#\'#("\'#&\'#=." 7\u02e3'),d('<4\u02e5""5!7\u02e6.\u00b9 &4\u02e7""5!7\u02e8.\u00ad &4\u02e9""5!7\u02ea.\u00a1 &4\u02eb""5!7\u02ec.\u0095 &4\u02ed""5!7\u02ee.\u0089 &4\u02ef""5!7\u02f0.} &4\u02f1""5!7\u02f2.q &4\u02f3""5!7\u02f4.e &4\u02f5""5!7\u02f6.Y &4\u02f7""5!7\u02f8.M &4\u02f9""5!7\u02fa.A &4\u02fb""5!7\u02fc.5 &4\u02fd""5!7\u02fe.) &4\u02ff""5!7\u0300=." 7\u02e4'),
d('<;\u00c3.) &2\u0302""6\u03027\u0303=." 7\u0301'),d('<%;\u00c4.) &4\u02a0""5!7\u02a1/\u0099#$;\u00c4.M &4\u02a0""5!7\u02a1.A &4\u0305""5!7\u0306.5 &4\u0307""5!7\u0308.) &4\u0309""5!7\u030a0S*;\u00c4.M &4\u02a0""5!7\u02a1.A &4\u0305""5!7\u0306.5 &4\u0307""5!7\u0308.) &4\u0309""5!7\u030a&/)$8":\u030b""! )("\'#&\'#=." 7\u0304'),d('<;\u00c4.Y &2\u01d0""6\u01d07\u01d1.M &4\u02a0""5!7\u02a1.A &4\u0305""5!7\u0306.5 &4\u0307""5!7\u0308.) &4\u0309""5!7\u030a=." 7\u030c'),d('<%;\u00c3/Q#$;\u00c6.) &2\u0113""6\u01137\u01140/*;\u00c6.) &2\u0113""6\u01137\u0114&/)$8":\u030e""! )("\'#&\'#=." 7\u030d'),
d('<%;\u00c4.; &4\u02a0""5!7\u02a1./ &2\u028a""6\u028a7\u028b.# &;\u00c9/u#$;\u00c6.; &2\u0113""6\u01137\u0114./ &2\u028a""6\u028a7\u028b.# &;\u00c90A*;\u00c6.; &2\u0113""6\u01137\u0114./ &2\u028a""6\u028a7\u028b.# &;\u00c9&/)$8":\u0310""! )("\'#&\'#=." 7\u030f'),d('<;\u00ca.# &;\u00cc=." 7\u0311'),d("<%%2\u0313\"\"6\u03137\u0314/5#;\u00cb/,$;\u00cb/#$+#)(#'#(\"'#&'#/' 8!:\u0315!! )=.\" 7\u0312"),d('<4\u02a0""5!7\u02a1.5 &4\u0317""5!7\u0318.) &4\u0319""5!7\u031a=." 7\u0316'),d('<%2\u02cf""6\u02cf7\u02d0/\u0127#2\u0302""6\u03027\u0303.\u010d &2\u031c""6\u031c7\u031d.\u0101 &2\u0113""6\u01137\u0114.\u00f5 &2\u01d0""6\u01d07\u01d1.\u00e9 &2\u018b""6\u018b7\u018c.\u00dd &2\u0295""6\u02957\u0296.\u00d1 &2\u031e""6\u031e7\u031f.\u00c5 &2\u02ba""6\u02ba7\u02bb.\u00b9 &2B""6B7C.\u00ad &2H""6H7I.\u00a1 &2J""6J7K.\u0095 &2\u0188""6\u01887\u0189.\u0089 &2\u0152""6\u01527\u0153.} &2\u00b8""6\u00b87\u00b9.q &2\u028a""6\u028a7\u028b.e &2\u01b1""6\u01b17\u01b2.Y &2\u017c""6\u017c7\u017d.M &2\u0186""6\u01867\u0187.A &2\u02df""6\u02df7\u02e0.5 &2\u0298""6\u02987\u0299.) &2\u0313""6\u03137\u0314/($8":\u0320"! )("\'#&\'#=." 7\u031b')],
x=0,u=[{line:1,column:1,seenCR:!1}],v=0,C=[],w=0;if("startRule"in g){if(!(g.startRule in h))throw Error("Can't start parsing from rule \""+g.startRule+'".');k=h[g.startRule]}var D=function(a){for(var b="",c=0;c<a.length;c++)b="string"===typeof a[c]?b+a[c]:b+a[c].join("");return b},I=0,z=function(a){var b="";if(null==a)return null;for(var c=0;c<a.length;c++)b+=a[c];return b.toUpperCase()},g=f(k);if(g!==e&&x===t.length)return g;g!==e&&x<t.length&&a({type:"end",description:"end of input"});throw function(a,
b,c,d){function e(a){var b=1;for(a.sort(function(a,b){return a.description<b.description?-1:a.description>b.description?1:0});b<a.length;)a[b-1]===a[b]?a.splice(b,1):b++}function f(a,b){function c(a){function b(a){return a.charCodeAt(0).toString(16).toUpperCase()}return a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(a){return"\\x0"+b(a)}).replace(/[\x10-\x1F\x80-\xFF]/g,
function(a){return"\\x"+b(a)}).replace(/[\u0100-\u0FFF]/g,function(a){return"\\u0"+b(a)}).replace(/[\u1000-\uFFFF]/g,function(a){return"\\u"+b(a)})}var d=Array(a.length),e;for(e=0;e<a.length;e++)d[e]=a[e].description;d=1<a.length?d.slice(0,-1).join(", ")+" or "+d[a.length-1]:d[0];e=b?'"'+c(b)+'"':"end of input";return"Expected "+d+" but "+e+" found."}null!==b&&e(b);return new l(null!==a?a:f(b,c),b,c,d)}(null,C,v<t.length?t.charAt(v):null,v<t.length?c(v,v+1):c(v,v));}}}()},{}],49:[function(u,z,w){u("./btree");
var l=u("./utils"),t=u("./lexicon").Lexicon;Lexicon=function(b,c){var a=this;l.registerIndexedDB(a);this.defaultGraphOid=0;this.defaultGraphUri="https://github.com/antoniogarrote/rdfstore-js#default_graph";this.defaultGraphUriTerm={token:"uri",prefix:null,suffix:null,value:this.defaultGraphUri};this.oidCounter=1;a.dbName=c||"rdfstorejs";var d=a.indexedDB.open(this.dbName+"_lexicon",1);d.onerror=function(a){b(null,Error("Error opening IndexedDB: "+a.target.errorCode))};d.onsuccess=function(c){a.db=
c.target.result;b(a)};d.onupgradeneeded=function(b){a.db=b.target.result;a.db.createObjectStore("knownGraphs",{keyPath:"oid"}).createIndex("uriToken","uriToken",{unique:!0});a.db.createObjectStore("uris",{keyPath:"id",autoIncrement:!0}).createIndex("uri","uri",{unique:!0});a.db.createObjectStore("blanks",{keyPath:"id",autoIncrement:!0}).createIndex("label","label",{unique:!0});a.db.createObjectStore("literals",{keyPath:"id",autoIncrement:!0}).createIndex("literal","literal",{unique:!0})}};Lexicon.prototype.registerGraph=
function(b,c,a){if(b!=this.defaultGraphOid){var d=this.db.transaction(["knownGraphs"],"readwrite");d.onerror=function(b){a(null,Error(b.target.statusCode))};d.objectStore("knownGraphs").add({oid:b,uriToken:c}).onsuccess=function(b){a(!0)}}else a()};Lexicon.prototype.registeredGraphs=function(b,c){var a=[],d=this.db.transaction(["knownGraphs"],"readwrite").objectStore("knownGraphs").openCursor();d.onsuccess=function(d){(d=d.target.result)?(!0===b?a.push(d.value.uriToken):a.push(d.value.oid),d["continue"]()):
c(a)};d.onerror=function(a){c(null,Error("Error retrieving data from the cursor: "+a.target.errorCode))}};Lexicon.prototype.registerUri=function(b,c){if(b===this.defaultGraphUri)c(this.defaultGraphOid);else{var a=this.db.transaction(["uris"],"readwrite").objectStore("uris"),d=a.index("uri").get(b);d.onsuccess=function(d){if(d=d.target.result){d.counter++;var g=d.id;d=a.put(d);d.onsuccess=function(a){c(g)};d.onerror=function(a){c(null,Error("Error updating the URI data"+a.target.errorCode))}}else d=
a.add({uri:b,counter:0}),d.onsuccess=function(a){c(a.target.result)},d.onerror=function(a){c(null,Error("Error inserting the URI data"+a.target.errorCode))}};d.onerror=function(a){c(null,Error("Error retrieving the URI data"+a.target.errorCode))}}};Lexicon.prototype.resolveUri=function(b,c){if(b===this.defaultGraphUri)c(this.defaultGraphOid);else{var a=this.db.transaction(["uris"]).objectStore("uris").index("uri").get(b);a.onsuccess=function(a){null!=a.target.result?c(a.target.result.id):c(-1)};a.onerror=
function(a){c(null,Error("Error retrieving uri data "+a.target.errorCode))}}};Lexicon.prototype.resolveUriCost=function(b,c){if(b===this.defaultGraphUri)c(0);else{var a=that.db.transaction(["uris"]).objectStore("uris").index("uri").get(b);a.onsuccess=function(a){null!=a.target.result?c(a.target.result.cost):c(-1)};a.onerror=function(a){c(null,Error("Error retrieving uri data "+a.target.errorCode))}}};Lexicon.prototype.registerBlank=function(b){var c=guid(),c=this.db.transaction(["blanks"],"readwrite").objectStore("blanks").add({label:c,
counter:0});c.onsuccess=function(a){b(a.target.result)};c.onerror=function(a){b(null,Error("Error inserting the URI data"+a.target.errorCode))}};Lexicon.prototype.resolveBlankCost=function(b,c){c(0)};Lexicon.prototype.registerLiteral=function(b,c){var a=this.db.transaction(["literals"],"readwrite").objectStore("literals"),d=a.index("literal").get(b);d.onsuccess=function(d){if(d=d.target.result){d.counter++;var g=d.id;d=a.put(d);d.onsuccess=function(a){c(g)};d.onerror=function(a){c(null,Error("Error updating the literal data"+
a.target.errorCode))}}else d=a.add({literal:b,counter:0}),d.onsuccess=function(a){c(a.target.result)},d.onerror=function(a){c(null,Error("Error inserting the literal data"+a.target.errorCode))}};d.onerror=function(a){c(null,Error("Error retrieving the literal data"+a.target.errorCode))}};Lexicon.prototype.resolveLiteral=function(b,c){var a=that.db.transaction(["literals"]).objectStore("literals").index("literal").get(b);a.onsuccess=function(a){null!=a.target.result?c(a.target.result.id):c(-1)};a.onerror=
function(a){c(null,Error("Error retrieving literal data "+a.target.errorCode))}};Lexicon.prototype.resolveLiteralCost=function(b,c){var a=that.db.transaction(["literals"]).objectStore("literals").index("literal").get(b);a.onsuccess=function(a){null!=a.target.result?c(a.target.result.cost):c(-1)};a.onerror=function(a){c(null,Error("Error retrieving literal data "+a.target.errorCode))}};Lexicon.prototype.parseLiteral=function(b){return t.prototype.parseLiteral(b)};Lexicon.prototype.parseUri=function(b){return t.prototype.parseUri(b)};
Lexicon.prototype.retrieve=function(b,c){var a=this;if(b===this.defaultGraphOid)c({token:"uri",value:this.defaultGraphUri,prefix:null,suffix:null,defaultGraph:!0});else{var d=a.db.transaction(["uris","literals","blanks"]);l.seq(function(c,g){var e=d.objectStore("uris").get(b);e.onsuccess=function(b){null!=b.target.result?g(null,a.parseUri(b.target.result.uri)):g(null,null)};e.onerror=function(a){g(Error("Error searching in URIs data "+a.target.errorCode))}},function(c,g){if(null==c){var e=d.objectStore("literals").get(b);
e.onsuccess=function(b){null!=b.target.result?g(null,a.parseLiteral(b.target.result.literal)):g(null,null)};e.onerror=function(a){g(Error("Error searching in Literals data "+a.target.errorCode))}}else g(null,c)},function(c,g){if(null==c){var e=d.objectStore("blanks").get(b);e.onsuccess=function(b){null!=b.target.result?g(null,a.parseLiteral({token:"blank",value:"_:"+b.target.result.id})):g(null,null)};e.onerror=function(a){g(Error("Error searching in blanks data "+a.target.errorCode))}}else g(null,
c)})(null,function(a,b){a?c(null,a):c(b)})}};Lexicon.prototype.clear=function(b){this.defaultGraphOid=0;this.defaultGraphUri="https://github.com/antoniogarrote/rdfstore-js#default_graph";this.defaultGraphUriTerm={token:"uri",prefix:null,suffix:null,value:this.defaultGraphUri};var c=this.db.transaction(["uris","literals","blanks"],"readwrite"),a;l.seq(function(b){a=c.objectStore("uris").clear();a.onsuccess=function(){b()};a.onerror=function(){b()}},function(b){a=c.objectStore("literals").clear();a.onsuccess=
function(){b()};a.onerror=function(){b()}},function(b){a=c.objectStore("blanks").clear();a.onsuccess=function(){b()};a.onerror=function(){b()}})(function(){null!=b&&b()})};Lexicon.prototype.unregister=function(b,c,a){var d=this;l.seq(function(a){d._unregisterTerm(b.subject.token,c.subject,a)},function(a){d._unregisterTerm(b.predicate.token,c.predicate,a)},function(a){d._unregisterTerm(b.object.token,c.object,a)},function(a){null!=b.graph?d._unregisterTerm(b.graph.token,c.graph,a):a()})(function(){a(!0)})};
Lexicon.prototype._unregisterTerm=function(b,c,a){var d=this.db.transaction(["uris","literals","blanks","knownGraphs"],"readwrite");"uri"===b?c!=this.defaultGraphOid?(b=d.objectStore("uris")["delete"](c),b.onsuccess=function(){d.objectStore("knownGraphs")["delete"](c).onsuccess=function(){a()}}()):a():"literal"===b?(b=d.objectStore("literals")["delete"](c),b.onsuccess=function(){a()}):"blank"===b?(b=d.objectStore("blanks")["delete"](c),b.onsuccess=function(){a()}):a()};z.exports={Lexicon:Lexicon}},
{"./btree":42,"./lexicon":46,"./utils":59}],50:[function(u,z,w){var l=u("./utils");QuadBackend=function(t,b){var c=this;if(0!==arguments){l.registerIndexedDB(c);this.indexMap={};this.indices="SPOG GP OGS POG GSP OS".split(" ");this.componentOrders={SPOG:["subject","predicate","object","graph"],GP:["graph","predicate","subject","object"],OGS:["object","graph","subject","predicate"],POG:["predicate","object","graph","subject"],GSP:["graph","subject","predicate","object"],OS:["object","subject","predicate",
"graph"]};c.dbName=t.name||"rdfstorejs";var a=c.indexedDB.open(this.dbName+"_db",1);a.onerror=function(a){b(null,Error("Error opening IndexedDB: "+a.target.errorCode))};a.onsuccess=function(a){c.db=a.target.result;b(c)};a.onupgradeneeded=function(a){var b=a.target.result.createObjectStore(c.dbName,{keyPath:"SPOG"});l.each(c.indices,function(a){"SPOG"!==a&&b.createIndex(a,a,{unique:!1})})}}};QuadBackend.prototype.index=function(t,b){var c=this;l.each(this.indices,function(a){t[a]=c._genMinIndexKey(t,
a)});var a=c.db.transaction([c.dbName],"readwrite");a.oncomplete=function(a){};a.onerror=function(a){b(null,Error(a.target.statusCode))};a.objectStore(c.dbName).add(t).onsuccess=function(a){b(!0)}};QuadBackend.prototype.range=function(l,b){var c=this.db.transaction([this.dbName]).objectStore(this.dbName),a=this._indexForPattern(l),d=this._genMinIndexKey(l,a),f=this._genMaxIndexKey(l,a),d=this.IDBKeyRange.bound(d,f,!1,!1),g=[];("SPOG"===a?c:c.index(a)).openCursor(d).onsuccess=function(a){(a=a.target.result)?
(g.push(a.value),a["continue"]()):b(g)}};QuadBackend.prototype.search=function(l,b){var c=this.db.transaction([this.dbName]).objectStore(this.dbName),a=this._genMinIndexKey(l,"SPOG"),c=c.get(a);c.onerror=function(a){b(null,Error(a.target.statusCode))};c.onsuccess=function(a){b(null!=a.target.result)}};QuadBackend.prototype["delete"]=function(l,b){var c=this._genMinIndexKey(l,"SPOG"),c=this.db.transaction([this.dbName],"readwrite").objectStore(this.dbName)["delete"](c);c.onsuccess=function(){b(!0)};
c.onerror=function(a){b(null,Error(a.target.statusCode))}};QuadBackend.prototype._genMinIndexKey=function(t,b){return l.map(this.componentOrders[b],function(b){return"string"===typeof t[b]||null==t[b]?"-1":""+t[b]}).join(".")};QuadBackend.prototype._genMaxIndexKey=function(t,b){for(var c=this.componentOrders[b],a=[],d=!1,f=0;f<c.length;f++){var g=t[c[f]];"string"===typeof g?(!1===d&&(d=!0,0<=f-1&&(a[f-1]+=1)),a[f]=-1):a[f]=g}return l.map(a,function(a){return""+a}).join(".")};QuadBackend.prototype._indexForPattern=
function(t){t=t.indexKey;for(var b=0;b<this.indices.length;b++)for(var c=this.indices[b],a=this.componentOrders[c],d=0;d<a.length&&!1!==l.include(t,a[d]);d++)if(d==t.length-1)return c;return"SPOG"};QuadBackend.prototype.clear=function(l){var b;b=this.db.transaction([this.dbName],"readwrite").objectStore(this.dbName).clear();b.onsuccess=function(){l()};b.onerror=function(){l()}};z.exports.QuadBackend=QuadBackend},{"./utils":59}],51:[function(u,z,w){var l=u("./quad_index").QuadIndex,t=u("./utils"),
b=u("./utils");QuadBackend=function(b,a){if(0!==arguments){this.indexMap={};this.treeOrder=b.treeOrder;this.indices="SPOG GP OGS POG GSP OS".split(" ");this.componentOrders={SPOG:["subject","predicate","object","graph"],GP:["graph","predicate","subject","object"],OGS:["object","graph","subject","predicate"],POG:["predicate","object","graph","subject"],GSP:["graph","subject","predicate","object"],OS:["object","subject","predicate","graph"]};var d=this;t.eachSeries(this.indices,function(a,b){new l({order:d.treeOrder,
componentOrder:d.componentOrders[a]},function(c){d.indexMap[a]=c;b()})},function(){a(d)})}};QuadBackend.prototype._indexForPattern=function(c){c=c.indexKey;for(var a=0;a<this.indices.length;a++)for(var d=this.indices[a],f=this.componentOrders[d],g=0;g<f.length&&!1!==b.include(c,f[g]);g++)if(g==c.length-1)return d;return"SPOG"};QuadBackend.prototype.index=function(b,a){var d=this;t.eachSeries(this.indices,function(a,g){d.indexMap[a].insert(b,function(){g()})},function(){a(d)})};QuadBackend.prototype.range=
function(b,a){var d=this._indexForPattern(b);this.indexMap[d].range(b,function(b){a(b)})};QuadBackend.prototype.search=function(b,a){this.indexMap.SPOG.search(b,function(b){a(null!=b)})};QuadBackend.prototype["delete"]=function(b,a){var d=this;t.eachSeries(this.indices,function(a,g){d.indexMap[a]["delete"](b,function(){g()})},function(){a(d)})};QuadBackend.prototype.clear=function(b){var a=this;t.eachSeries(this.indices,function(b,c){new l({order:a.treeOrder,componentOrder:a.componentOrders[b]},function(g){a.indexMap[b]=
g;c()})},function(){b(a)})};z.exports.QuadBackend=QuadBackend},{"./quad_index":52,"./utils":59}],52:[function(u,z,w){var l=u("./btree").Tree,t=u("./utils"),b=u("./utils");NodeKey=function(b,a){this.subject=b.subject;this.predicate=b.predicate;this.object=b.object;this.graph=b.graph;this.order=a};NodeKey.prototype.comparator=function(b){for(var a=0;a<this.order.length;a++){var d=this.order[a];if(null==b[d])break;else{if(this[d]<b[d])return-1;if(this[d]>b[d])return 1}}return 0};Pattern=function(b){this.subject=
b.subject;this.predicate=b.predicate;this.object=b.object;this.graph=b.graph;this.indexKey=[];this.keyComponents={};var a=[],d=[],f=this;t.forEach(["subject","predicate","object","graph"],function(b){"string"===typeof f[b]?(d.push(b),f.keyComponents[b]=null):(a.push(b),f.keyComponents[b]=f[b],f.indexKey.push(b))});this.order=a.concat(d);this.key=new NodeKey(this.keyComponents,this.order)};QuadIndex=function(b,a){0!=arguments&&(this.componentOrder=b.componentOrder,l.call(this,b.order,function(b){b.comparator=
function(a,c){for(var e=0;e<b.componentOrder.length;e++){var h=b.componentOrder[e],k=a[h],h=c[h];if(k<h)return-1;if(k>h)return 1}return 0};b.rangeComparator=function(a,c){for(var e=0;e<b.componentOrder.length;e++){var h=b.componentOrder[e];if(null==c[h]||null==a[h])break;else{if(a[h]<c[h])return-1;if(a[h]>c[h])return 1}}return 0};a(b)}))};QuadIndex.prototype=t.create(l.prototype,{constructor:l});QuadIndex.prototype.insert=function(b,a){l.prototype.insert.call(this,b,null,function(b){a(b)})};QuadIndex.prototype.search=
function(b,a){l.prototype.search.call(this,b,function(b){a(b)},!0)};QuadIndex.prototype.range=function(b,a){this._rangeTraverse(this,this.root,b,a)};QuadIndex.prototype._rangeTraverse=function(c,a,d,f){var g=d.key,e=[],h=[a];b.whilst(function(){return 0<h.length},function(a){for(var d=h.shift(),f=0;f<d.numberActives&&-1===c.rangeComparator(d.keys[f].key,g);)f++;if(!0===d.isLeaf){for(var l=f;l<d.numberActives&&0===c.rangeComparator(d.keys[l].key,g);)e.push(d.keys[l].key),l++;a()}else c._diskRead(d.children[f],
function(l){h.push(l);var x=f;b.whilst(function(){return x<d.numberActives&&0===c.rangeComparator(d.keys[x].key,g)},function(a){e.push(d.keys[x].key);x++;c._diskRead(d.children[x],function(b){h.push(b);a()})},function(){a()})})},function(){f(e)})};z.exports={QuadIndex:QuadIndex,Pattern:Pattern,NodeKey:NodeKey}},{"./btree":42,"./utils":59}],53:[function(u,z,w){function l(a,b,c){this.name="BindExpressionError";this.bind=b;this.error=c;this.message=a}var t=u("./abstract_query_tree").AbstractQueryTree,
b=u("./abstract_query_tree").NonSupportedSparqlFeatureError,c=u("./utils"),a=u("./quad_index"),d=u("./query_plan").QueryPlan,f=u("./query_filters").QueryFilters,g=u("./rdf_model"),e=u("./rdf_loader").RDFLoader,h=u("./graph_callbacks").CallbacksBackend,k=u("./utils"),m=u("./utils");l.prototype=Error();l.constructor=l;QueryEngine=function(a){0!=arguments.length&&(this.backend=a.backend,this.lexicon=a.lexicon,this.eventsOnBatchLoad=a.eventsOnBatchLoad||!1,this.defaultPrefixes={},this.abstractQueryTree=
new t,this.rdfLoader=new e(a.communication),this.callbacksBackend=new h(this),this.customFns=a.customFns||{})};QueryEngine.prototype.setCustomFunctions=function(a){this.customFns=a};QueryEngine.prototype.registerNsInEnvironment=function(a,b){var c=[];null!=a&&null!=a.prefixes&&(c=a.prefixes);var d={},e;for(e in this.defaultPrefixes)d[e]=this.defaultPrefixes[e];for(e=0;e<c.length;e++){var f=c[e];"prefix"===f.token&&(d[f.prefix]=f.local)}b.namespaces=d;b.base=null!=a&&a.base&&"object"===typeof a.base?
a.base.value:null};QueryEngine.prototype.applyModifier=function(a,b){if("DISTINCT"==a){for(var c={},d=[],e=0;e<b.length;e++){var f=b[e],g="",h;for(h in f){var k=f[h];null==k?g=g+h+"null":"literal"==k.token?(null!=k.value&&(g+=k.value),null!=k.lang&&(g+=k.lang),null!=k.type&&(g+=k.type)):g=k.value?g+h+k.value:g+h+k}null==c[g]&&(d.push(f),c[g]=!0)}return d}return b};QueryEngine.prototype.applyLimitOffset=function(a,b,c){if(null==b&&null==a)return c;null==a&&(a=0);b=null==b?c.length:a+b;return c.slice(a,
b)};QueryEngine.prototype.applySingleOrderBy=function(a,b,c,d,e){var g=[],h=this;k.eachSeries(a,function(a,e){f.collect(a.expression,[b],c,d,h,function(a){g.push(a[0].value);e()})},function(){e({binding:b,value:g})})};QueryEngine.prototype.applyOrderBy=function(a,b,c,d,e){var f=this,g=[];null!=a&&0<a.length?k.eachSeries(b,function(b,e){f.applySingleOrderBy(a,b,c,d,function(a){g.push(a);e()})},function(){g.sort(function(b,c){return f.compareFilteredBindings(b,c,a,d)});for(var b=[],c=0;c<g.length;c++)b.push(g[c].binding);
e(b)}):e(b)};QueryEngine.prototype.compareFilteredBindings=function(a,b,c,d){for(var e=0;;){if(e==a.value.length)return 0;var g=c[e].direction;if(null==a.value[e]&&null==b.value[e])e++;else{if(null==a.value[e])a={value:!1};else if(null==b.value[e])a={value:!0};else if("blank"===a.value[e].token&&"blank"===b.value[e].token){e++;continue}else if("blank"===a.value[e].token)a={value:!1};else if("blank"===b.value[e].token)a={value:!0};else if("uri"===a.value[e].token&&"uri"===b.value[e].token)if(1==f.runEqualityFunction(a.value[e],
b.value[e],[],this,d).value){e++;continue}else a=f.runTotalGtFunction(a.value[e],b.value[e],[]);else if("uri"===a.value[e].token)a={value:!1};else if("uri"===b.value[e].token)a={value:!0};else if("literal"===a.value[e].token&&"literal"===b.value[e].token&&null==a.value[e].type&&null==b.value[e].type)if(1==f.runEqualityFunction(a.value[e],b.value[e],[],this,d).value){e++;continue}else a=f.runTotalGtFunction(a.value[e],b.value[e],[]);else if("literal"===a.value[e].token&&null==a.value[e].type)a={value:!1};
else if("literal"===b.value[e].token&&null==b.value[e].type)a={value:!0};else if(1==f.runEqualityFunction(a.value[e],b.value[e],[],this,d).value){e++;continue}else a=f.runTotalGtFunction(a.value[e],b.value[e],[]);return 1==a.value?"ASC"===g?1:-1:"ASC"===g?-1:1}}};QueryEngine.prototype.removeDefaultGraphBindings=function(a,b){for(var c=[],d={},e=0;e<b.named.length;e++)d[b.named[e].oid]=!0;for(e=0;e<b.implicit.length;e++)null==d[b.implicit[e].oid]&&c.push(b.implicit[e].oid);c=[];for(e=0;e<a.length;e++){var f=
a[e],g=!1,h;for(h in f){for(var k=0;k<d.length;k++)if(f[h]===d[k]){g=!0;break}if(g)break}g||c.push(f)}return c};QueryEngine.prototype.aggregateBindings=function(a,b,c,d,e){this.copyDenormalizedBindings(b,d.outCache,function(b){for(var g={},h=0;h<a.length;h++){var k=f.runAggregator(a[h],b,this,c,d);a[h].alias?g[a[h].alias.value]=k:g[a[h].value.value]=k}e(g)})};QueryEngine.prototype.projectBindings=function(a,b,c){if("*"===a[0].kind)return b;for(var d=[],e=0;e<b.length;e++){for(var g=b[e],h={},k=!0,
m=0;m<a.length;m++)if("variable"==a[m].token&&"aliased"!=a[m].kind)h[a[m].value.value]=g[a[m].value.value];else if("variable"==a[m].token&&"aliased"==a[m].kind){var l=f.runFilter(a[m].expression,g,this,c,{blanks:{},outCache:{}});if(f.isEbvError(l)){k=!1;break}else h[a[m].alias.value]=l}!0===k&&d.push(h)}return d};QueryEngine.prototype.resolveNsInEnvironment=function(a,b){return b.namespaces[a]};QueryEngine.prototype.normalizeTerm=function(a,b,d,e){if("uri"===a.token)a=c.lexicalFormBaseUri(a,b),null==
a?e(null):d?this.lexicon.registerUri(a,e):this.lexicon.resolveUri(a,e);else if("literal"===a.token)a=c.lexicalFormLiteral(a,b),d?this.lexicon.registerLiteral(a,e):this.lexicon.resolveLiteral(a,e);else if("blank"===a.token){var f=a.value;a=b.blanks[f];null!=a?e(a):d?this.lexicon.registerBlank(function(a){b.blanks[f]=a;e(a)}):this.lexicon.resolveBlank(function(a){b.blanks[f]=a;e(a)})}else"var"===a.token?e(a.value):e(null)};QueryEngine.prototype.normalizeDatasets=function(a,b,c){var d=this;k.eachSeries(a,
function(a,c){a.value===d.lexicon.defaultGraphUri?(a.oid=d.lexicon.defaultGraphOid,c()):d.normalizeTerm(a,b,!1,function(b){null!=b&&(a.oid=b);c()})},function(){c(!0)})};QueryEngine.prototype.normalizeQuad=function(a,b,d,e){var f=null,g=null,h=null,m=null,l=this,r=!1;k.seq(function(e){if(null==a.graph||a.graph.value===l.lexicon.defaultGraphUri)m=0,e();else{var f=c.lexicalFormBaseUri(a.graph,b);l.normalizeTerm(a.graph,b,d,function(b){null!=b?(m=b,!0===d&&"var"!=a.graph.token?l.lexicon.registerGraph(b,
f,function(){e()}):e()):(r=!0,e())})}},function(c){!1===r?l.normalizeTerm(a.subject,b,d,function(a){null!=a?f=a:r=!0;c()}):c()},function(c){!1===r?l.normalizeTerm(a.predicate,b,d,function(a){null!=a?g=a:r=!0;c()}):c()},function(c){!1===r?l.normalizeTerm(a.object,b,d,function(a){null!=a?h=a:r=!0;c()}):c()})(function(){!0===r?e(null):e({subject:f,predicate:g,object:h,graph:m})})};QueryEngine.prototype.denormalizeBindingsList=function(a,b,c){var d=this,e=[];k.eachSeries(a,function(a,c){d.denormalizeBindings(a,
b,function(a){e.push(a);c()})},function(){c(e)})};QueryEngine.prototype.copyDenormalizedBindings=function(a,b,c){var d=this,e=[];k.eachSeries(a,function(a,c){var f={},g=m.keys(a);k.eachSeries(g,function(c,e){var g=a[c];if(null==g)f[c]=null,e();else if("object"===typeof g)f[c]=g,e();else{var h=b[g];null!=h?(f[c]=h,e()):d.lexicon.retrieve(g,function(a){b[g]=a;f[c]=a;e()})}},function(){e.push(f);c()})},function(){c(e)})};QueryEngine.prototype.denormalizeBindings=function(a,b,c){var d=m.keys(a),e=b.outCache,
f=this;k.eachSeries(d,function(c,d){var g=a[c];null==g?(a[c]=null,d()):"object"===typeof g?d():null!=e[g]?(a[c]=e[g],d()):f.lexicon.retrieve(g,function(e){a[c]=e;"blank"===e.token&&(b.blanks[e.value]=g);d()})},function(){c(a)})};QueryEngine.prototype.execute=function(a,b,d,e){a=c.normalizeUnicodeLiterals(a);a=this.abstractQueryTree.parseQueryString(a);if(null==a)b(!1,"Error parsing query string");else if("query"===a.token&&"update"==a.kind){this.callbacksBackend.startGraphModification();var f=this;
this.executeUpdate(a,function(a,c){f.lexicon.updateAfterWrite&&f.lexicon.updateAfterWrite();a?(f.callbacksBackend.cancelGraphModification(),b(a,c)):f.callbacksBackend.endGraphModification(function(){b(a,c)})})}else"query"===a.token&&"query"==a.kind&&this.executeQuery(a,b,d,e)};QueryEngine.prototype.executeQuery=function(a,b,c,d){var e=a.units,f=this,h={blanks:{},outCache:{}};this.registerNsInEnvironment(a.prologue,h);var k=f.abstractQueryTree.parseExecutableUnit(e[0]);"select"===k.kind?this.executeSelect(k,
h,c,d,function(a,c){null==a?"object"===typeof c&&!0===c.denorm?b(null,c.bindings):f.denormalizeBindingsList(c,h,function(a){b(null,a)}):b(a)}):"ask"===k.kind?(k.projection=[{token:"variable",kind:"*"}],this.executeSelect(k,h,c,d,function(a,c){null==a?0<c.length?b(null,!0):b(null,!1):b(a)})):"construct"===k.kind&&(k.projection=[{token:"variable",kind:"*"}],f=this,this.executeSelect(k,h,c,d,function(a,c){null==a?f.denormalizeBindingsList(c,h,function(a){if(null!=a){var c=new g.Graph;null==k.template&&
(k.template={triplesContext:k.pattern});for(var d=1,e=[],m=0;m<a.length;m++){for(var q=a[m],l=0;l<e.length;l++)delete e[l].valuetmp;for(l=0;l<k.template.triplesContext.length;l++){for(var r=["subject","predicate","object"],v=k.template.triplesContext[l],t=0;t<r.length;t++){var u=r[t];if("blank"===v[u].token&&(!v[u].valuetmp||null==v[u].valuetmp)){var C="_:b"+d;d++;v[u].valuetmp=C;e.push(v[u])}}r=g.buildRDFResource(v.subject,q,f,h);t=g.buildRDFResource(v.predicate,q,f,h);v=g.buildRDFResource(v.object,
q,f,h);null!=r&&null!=t&&null!=v&&(t=new g.Triple(r,t,v),c.add(t))}}b(null,c)}else b(Error("Error denormalizing bindings."))}):b(a)}))};QueryEngine.prototype.executeSelect=function(a,b,c,d,e){if("select"===a.kind||"ask"===a.kind||"construct"===a.kind||"modify"===a.kind){var f=a.projection,g=a.dataset,h=a.modifier,m=a.limit,l=a.offset,n=a.order,t=this;if(null!=c||null!=d)g.implicit=c||[],g.named=d||[];null!=g.implicit&&0===g.implicit.length&&null!=g.named&&0===g.named.length&&g.implicit.push(this.lexicon.defaultGraphUriTerm);
t.normalizeDatasets(g.implicit.concat(g.named),b,function(){try{t.executeSelectUnit(f,g,a.pattern,b,function(c){if(null!=c){if(null!=a.group&&""===a.group){for(var d=!1,v=0;v<a.projection.length;v++)if(null!=a.projection[v].expression&&"aggregate"===a.projection[v].expression.expressionType){d=!0;break}!0===d&&(a.group="singleGroup")}a.group&&""!=a.group?t.checkGroupSemantics(a.group,f)?t.groupSolution(c,a.group,g,b,function(a){var c=[];k.eachSeries(a,function(a,d){t.aggregateBindings(f,a,g,b,function(a){c.push(a);
d()})},function(){e(null,{bindings:c,denorm:!0})})}):e(Error("Incompatible Group and Projection variables")):t.applyOrderBy(n,c,g,b,function(a){a=t.projectBindings(f,a,g);a=t.applyModifier(h,a);a=t.applyLimitOffset(l,m,a);a=t.removeDefaultGraphBindings(a,g);e(null,a)})}else e(Error("Error executing SELECT query."))})}catch(c){e(c)}})}else e(Error("Cannot execute "+a.kind+" query as a select query"))};QueryEngine.prototype.groupSolution=function(a,b,c,d,e){var g=[],h=[],m=!1,l=this;"singleGroup"===
b?e([a]):k.eachSeries(a,function(a,e){var q=!0;k.eachSeries(b,function(b,e){var h=null;if("var"===b.token)h=b.value,0==m&&g.push(h),e();else if("aliased_expression"===b.token){h=b.alias.value;0==m&&g.push(h);if("var"===b.expression.primaryexpression)a[b.alias.value]=a[b.expression.value.value];else{var k=l.copyDenormalizedBindings([a],d.outCache),k=f.runFilter(b.expression,k[0],l,c,d);f.isEbvError(k)?q=!1:(null!=k.value&&(k.value=""+k.value),a[b.alias.value]=k)}e()}else l.copyDenormalizedBindings([a],
d.outCache,function(c){c=f.runFilter(b,c[0],l,d);f.isEbvError(c)?q=!1:(a["groupCondition"+env._i]=c,h="groupCondition"+env._i,0==m&&g.push(h));e()})},function(){0==m&&(m=!0);!0===q&&h.push(a);e()})},function(){for(var a={},b=0;b<h.length;b++){for(var c=h[b],d="",f=0;f<g.length;f++)var k=c[g[f]],d="object"===typeof k?d+k.value:d+k;null==a[d]?a[d]=[c]:a[d].push(c)}var b=[],m;for(m in a)b.push(a[m]);e(b)})};QueryEngine.prototype.executeSelectUnit=function(a,c,d,e,g){if("BGP"===d.kind)this.executeAndBGP(a,
c,d,e,g);else if("UNION"===d.kind)this.executeUNION(a,c,d.value,e,g);else if("JOIN"===d.kind)this.executeJOIN(a,c,d,e,g);else if("LEFT_JOIN"===d.kind)this.executeLEFT_JOIN(a,c,d,e,g);else if("FILTER"===d.kind){var h=this;this.executeSelectUnit(a,c,d.value,e,function(a){null!=a?f.checkFilters(d,a,!1,c,e,h,g):g([])})}else if("EMPTY_PATTERN"===d.kind)g([]);else throw new b(d.kind);};QueryEngine.prototype.executeUNION=function(a,b,c,e,g){var h=c[0],m=c[1],t=null,u,r;if(2!=c.length)throw"SPARQL algebra UNION with more than two components";
var n=this;k.seq(function(c){try{n.executeSelectUnit(a,b,h,e,function(a){u=a;c()})}catch(d){t=d,c()}},function(c){if(null==t)try{n.executeSelectUnit(a,b,m,e,function(a){r=a;c()})}catch(d){t=d,c()}else c()})(function(){if(null!=t)g(t);else{var a=d.unionBindings(u,r);n.runBinds(c.binds,a,b,e,function(a,d){if(null!=a)throw new l("Error processing bind expressions",c.binds,a);f.checkFilters(c,d,!1,b,e,n,g)})}})};QueryEngine.prototype.executeAndBGP=function(a,b,c,e,g){var h=this;d.executeAndBGPsDPSize(c.value,
b,this,e,function(a){null!=a?h.runBinds(c.binds,a,b,e,function(a,d){if(null!=a)throw new l("Error processing bind expressions",c.binds,a);f.checkFilters(c,d,!1,b,e,h,g)}):g(null)})};QueryEngine.prototype.executeLEFT_JOIN=function(a,b,c,e,g){var h=c.lvalue,m=c.rvalue,t=null,u=null,r=null,n=this,y,w;k.seq(function(c){try{n.executeSelectUnit(a,b,h,e,function(a){t=a;c()})}catch(d){r=d,c()}},function(c){if(null!=r)c();else try{n.executeSelectUnit(a,b,m,e,function(a){u=a;c()})}catch(d){r=d,c()}})(function(){if(null!=
r)g(r);else{var a=d.leftOuterJoinBindings(t,u);n.runBinds(c.binds,a,b,e,function(d,h){if(null!=d)throw new l("Error processing bind expressions",c.binds,d);f.checkFilters(c,a,!0,b,e,n,function(a){if(1<t.length&&1<u.length){var b=[],c={},d;for(d in t[0])c[d]=!0;for(d in u[0])1!=c[d]&&b.push(d);y=[];w={};for(c=0;c<a.length;c++)if(!0===a[c].__nullify__){for(var e=0;e<b.length;e++)a[c].bindings[b[e]]=null;var e=[],f=[];for(d in a[c].bindings)null!=a[c].bindings[d]&&(e.push(d+a[c].bindings[d]),e.sort(),
f.push(e.join("")));if(null==w[e.join("")]){for(e=0;e<f.length;e++)w[f[e]]=!0;y.push(a[c].bindings)}}else for(d in y.push(a[c]),e=[],a[c])e.push(d+a[c][d]),e.sort(),w[e.join("")]=!0;g(y)}else g(a)})})}})};QueryEngine.prototype.executeJOIN=function(a,b,c,e,g){var h=c.lvalue,m=c.rvalue,t=null,u=null,r=null,n=this;k.seq(function(c){try{n.executeSelectUnit(a,b,h,e,function(a){t=a;c()})}catch(d){r=d,c()}},function(c){if(null!=r)c();else try{n.executeSelectUnit(a,b,m,e,function(a){u=a;c()})}catch(d){r=
d,c()}})(function(){var a=null;if(null!=r)g(r);else if(0===t.length||0===u.length)g([]);else{var a={},k=[],q;for(q in t[0])a[q]=!1;for(q in u[0])!1===a[q]&&k.push(q);a=0==k.length?d.joinBindings(t,u):n.abstractQueryTree.treeWithUnion(h)||n.abstractQueryTree.treeWithUnion(m)?d.joinBindings(t,u):d.joinBindings2(k,t,u);n.runBinds(c.binds,a,b,e,function(a,d){if(null!=a)throw new l("Error processing bind expressions",c.binds,a);f.checkFilters(c,d,!1,b,e,n,g)})}})};QueryEngine.prototype.rangeQuery=function(b,
c,d){var e=this;e.normalizeQuad(b,c,!1,function(b){null!=b?e.backend.range(new a.Pattern(b),function(a){null==a||0==a.length?d([]):d(a)}):d(null)})};QueryEngine.prototype.executeUpdate=function(a,b){var d=a.units,e=this,f={blanks:{},outCache:{}};this.registerNsInEnvironment(a.prologue,f);for(var g=0;g<d.length;g++){var h=e.abstractQueryTree.parseExecutableUnit(d[g]);if("insertdata"===h.kind){var m=null;k.eachSeries(h.quads,function(a,b){null===m?e._executeQuadInsert(a,f,function(a){null!=a&&(m=a);
b()}):b()},function(){null===m?b(null,!0):b(m)})}else if("deletedata"===h.kind)m=null,k.eachSeries(h.quads,function(a,b){null===m?e._executeQuadDelete(a,f,function(a){null!=a&&(m=a);b()}):b()},function(){null===m?b(null,!0):b(m)});else if("modify"===h.kind)this._executeModifyQuery(h,f,b);else if("create"===h.kind)b(!0);else if("load"===h.kind){var l={uri:c.lexicalFormBaseUri(h.sourceGraph,f)};null!=h.destinyGraph&&(l={uri:c.lexicalFormBaseUri(h.destinyGraph,f)});e=this;this.rdfLoader.load(h.sourceGraph.value,
l,function(a,c){a?b(Error("error batch loading quads")):e.batchLoad(c,function(a){null!==a?b(null,a):b(Error("Error batch loading quads"))})})}else if("drop"===h.kind)this._executeClearGraph(h.destinyGraph,f,b);else if("clear"===h.kind)this._executeClearGraph(h.destinyGraph,f,b);else throw Error("not supported execution unit");}};QueryEngine.prototype.batchLoad=function(b,c){var d=0,e={},f=this;this.eventsOnBatchLoad&&this.callbacksBackend.startGraphModification();var g=function(a,b,c,d){var g;if(a[b].uri||
"uri"===a[b].token){var h=a[b].uri||a[b].value;f.lexicon.registerUri(h,function(e){var g=function(){null!=a[b].uri&&(a[b]={token:"uri",value:a[b].uri},delete a[b].uri);c[b]=e;d()};"graph"===b?f.lexicon.registerGraph(e,h,function(){g()}):g()})}else a[b].literal||"literal"===a[b].token?f.lexicon.registerLiteral(a[b].literal||a[b].value,function(e){null!=a[b].literal&&(a[b]=f.lexicon.parseLiteral(a[b].literal),delete a[b].literal);c[b]=e;d()}):(g=e[a[b].blank||a[b].value],null==g?f.lexicon.registerBlank(function(f){e[a[b].blank||
a[b].value]=f;null==a[b].token&&(a[b].token="blank",a[b].value=a[b].blank,delete a[b].blank);c[b]=f;d()}):(null==a[b].token&&(a[b].token="blank",a[b].value=a[b].blank,delete a[b].blank),c[b]=g,d()))};k.eachSeries(b,function(b,c){var e={};k.eachSeries(["subject","predicate","object","graph"],function(a,c){g(b,a,e,c)},function(){var g=b;b=e;var k=new a.NodeKey(b);f.backend.search(k,function(a){a?c():f.backend.index(k,function(a){a&&(f.eventsOnBatchLoad&&f.callbacksBackend.nextGraphModification(h.added,
[g,b]),d+=1);c()})})})},function(){null!=f.lexicon.updateAfterWrite&&f.lexicon.updateAfterWrite();var a=function(){c(d)};f.eventsOnBatchLoad?f.callbacksBackend.endGraphModification(a()):a()})};QueryEngine.prototype._executeModifyQuery=function(a,b,c){var d=this,e=!0,f=Error("Error executing modify query"),g=null,h=["subject","predicate","object","graph"];a.insert=null==a.insert?[]:a.insert;a["delete"]=null==a["delete"]?[]:a["delete"];k.seq(function(c){var h=[],k=[];null!=a["with"]&&h.push(a["with"]);
if(null!=a.using)for(var k=[],m=0;m<a.using.length;m++){var l=a.using[m];"named"===l.kind?k.push(l.uri):h.push(l.uri)}a.dataset={};a.projection=[{token:"variable",kind:"*"}];d.executeSelect(a,b,h,k,function(a,h){if(a)return f=a,e=!1,c();d.denormalizeBindingsList(h,b,function(a){null!=a?g=a:(f=Error("Error denormalizing bindings list"),e=!1);c()})})},function(c){var f=a["with"];if(e){for(var m=[],l=0;l<a["delete"].length;l++)for(var t=a["delete"][l],u=0;u<g.length;u++){for(var w={},z=g[u],F=0;F<h.length;F++){var H=
h[F];"graph"==H&&null==t[H]?w.graph=f:w[H]="var"===t[H].token?z[t[H].value]:t[H]}m.push(w)}k.eachSeries(m,function(a,c){d._executeQuadDelete(a,b,function(){c()})},function(){c()})}else c()},function(c){var f=a["with"];if(e){for(var m=[],l=0;l<a.insert.length;l++)for(var t=a.insert[l],u=0;u<g.length;u++){for(var w={},z=g[u],F=0;F<h.length;F++){var H=h[F];"graph"==H&&null==t[H]?w.graph=f:w[H]="var"===t[H].token?z[t[H].value]:t[H]}m.push(w)}k.eachSeries(m,function(a,c){d._executeQuadInsert(a,b,function(){c()})},
function(){c()})}else c()})(function(){e?c(null):c(f)})};QueryEngine.prototype._executeQuadInsert=function(b,c,d){var e=this,f,g=!1,m=null;k.seq(function(a){e.normalizeQuad(b,c,!0,function(b){null!=b?f=b:(g=!0,m="Error normalizing quad.");a()})},function(c){if(!1===g){var d=new a.NodeKey(f);e.backend.search(d,function(a){!0===a?c():e.backend.index(d,function(){e.callbacksBackend.nextGraphModification(h.added,[b,f]);c()})})}else c()})(function(){g?d(Error(m)):d(null,!0)})};QueryEngine.prototype._executeQuadDelete=
function(b,c,d){var e=this,f,g=!1,m,l;k.seq(function(a){e.normalizeQuad(b,c,!0,function(b){null!=b?f=b:(g=!0,m="Error normalizing quad.");a()})},function(b){!1===g?(l=new a.NodeKey(f),e.backend["delete"](l,function(){b()})):b()},function(a){!1===g?e.lexicon.unregister(b,l,function(){e.callbacksBackend.nextGraphModification(h.deleted,[b,f]);a()}):a()})(function(){g?d(Error(m)):d(null,!0)})};QueryEngine.prototype._executeClearGraph=function(a,b,d){var e=this;"default"===a?this.execute("DELETE { ?s ?p ?o } WHERE { ?s ?p ?o }",
d):"named"===a?e.lexicon.registeredGraphs(!0,function(a){if(null!=a){var b=!1;k.eachSeries(a,function(a,c){b?c():e.execute("DELETE { GRAPH <"+a+"> { ?s ?p ?o } } WHERE { GRAPH <"+a+"> { ?s ?p ?o } }",function(a,d){b=!a;c()})},function(){d(!b)})}else d(!1,"Error deleting named graphs")}):"all"===a?(e=this,this.execute("CLEAR DEFAULT",function(a,b){a?d(!1,b):e.execute("CLEAR NAMED",d)})):"uri"==a.token?(a=c.lexicalFormBaseUri(a,b),null!=a?(this.callbacksBackend.ongoingModification=!0,this.execute("DELETE { GRAPH <"+
a+"> { ?s ?p ?o } } WHERE { GRAPH <"+a+"> { ?s ?p ?o } }",function(a){e.callbacksBackend.ongoingModification=!1;d(a)})):d(!1,"wrong graph URI")):d(!1,"wrong graph URI")};QueryEngine.prototype.checkGroupSemantics=function(a,b){if("singleGroup"===a)return!0;for(var c={},d=0;d<a.length;d++){var e=a[d];"var"===e.token?c[e.value]=!0:"aliased_expression"===e.token&&(c[e.alias.value]=!0)}for(d=0;d<b.length;d++)if(e=b[d],"var"===e.kind){if(null==c[e.value.value])return!1}else if("aliased"===e.kind&&e.expression&&
"var"===e.expression.primaryexpression&&null==c[e.expression.value.value])return!1;return!0};QueryEngine.prototype.runBinds=function(a,b,c,d,e){var g=this;null!=a&&0<a.length?g.copyDenormalizedBindings(b,d.outCache,function(h){for(var k=0;k<b.length;k++)for(var m=0;m<a.length;m++){var l=a[m],n=f.runFilter(l.expression,h[k],g,c,d);f.isEbvError(n)?e(n):b[k][l.as.value]=n}e(null,b)}):e(null,b)};QueryEngine.prototype.computeCosts=function(a,b,c){for(var d=0;d<a.length;d++)a[d]._cost=this.quadCost(a[d],
b);c(a)};QueryEngine.prototype.quadCost=function(a,b){return 1};QueryEngine.prototype.registerDefaultNamespace=function(a,b){this.defaultPrefixes[a]=b};z.exports={QueryEngine:QueryEngine}},{"./abstract_query_tree":41,"./graph_callbacks":44,"./quad_index":52,"./query_filters":54,"./query_plan":55,"./rdf_loader":56,"./rdf_model":57,"./utils":59}],54:[function(u,z,w){var l=u("./utils"),t=u("./utils");QueryFilters={checkFilters:function(b,c,a,d,f,g,e){var h=[];b.filter&&"function"!==typeof b.filter&&
(h=b.filter);var k=[];if(null==h||0===h.length||null!=b.length)return e(c);t.eachSeries(h,function(b,e){QueryFilters.run(b.value,c,a,d,f,g,function(a){var b=[];t.eachSeries(a,function(a,c){null!=a.__nullify__?k.push(a):b.push(a);c()},function(){c=b;e()})})},function(){e(c.concat(k))})},boundVars:function(b){if(null!=b.expressionType){var c=b.expressionType;if("relationalexpression"==c)return c=b.op2,QueryFilters.boundVars(b.op1)+QueryFilters.boundVars(c);if("conditionalor"==c||"conditionaland"==c){for(var a=
[],c=0;c<b.operands;c++)a=a.concat(QueryFilters.boundVars(b.operands[c]));return a}if("builtincall"==c){if(null==b.args)return[];a=[];for(c=0;c<b.args.length;c++)a=a.concat(QueryFilters.boundVars(b.args[c]));return a}if("multiplicativeexpression"==c){a=QueryFilters.boundVars(b.factor);for(c=0;c<b.factors.length;c++)a=a.concat(QueryFilters.boundVars(b.factors[c].expression));return a}if("additiveexpression"==c){a=QueryFilters.boundVars(b.summand);for(c=0;c<b.summands.length;c++)a=a.concat(QueryFilters.boundVars(b.summands[c].expression));
return a}if("regex"==c)return a=QueryFilters.boundVars(b.expression1),a.concat(QueryFilters.boundVars(b.expression2));if("unaryexpression"==c)return QueryFilters.boundVars(b.expression);if("atomic"==c)return"var"==b.primaryexpression?[b.value]:[]}else throw console.log("ERROR"),console.log(b),"Cannot find bound expressions in a no expression token";},run:function(b,c,a,d,f,g,e){g.copyDenormalizedBindings(c,f.outCache,function(h){for(var k=[],m=0;m<c.length;m++){var l=QueryFilters.runFilter(b,h[m],
g,d,f),l=QueryFilters.ebv(l);QueryFilters.isEbvError(l)?a&&(l={__nullify__:!0,bindings:c[m]},k.push(l)):!0===l?k.push(c[m]):a&&(l={__nullify__:!0,bindings:c[m]},k.push(l))}e(k)})},collect:function(b,c,a,d,f,g){f.copyDenormalizedBindings(c,d.outCache,function(e){for(var h=[],k=0;k<e.length;k++){var m=QueryFilters.runFilter(b,e[k],f,a,d);h.push({binding:c[k],value:m})}return g(h)})},runDistinct:function(b,c){},runAggregator:function(b,c,a,d,f){if(null==c||0===c.length)return QueryFilters.ebvError();
if("variable"===b.token&&"var"==b.kind)return c[0][b.value.value];if("variable"===b.token&&"aliased"===b.kind){if("atomic"===b.expression.expressionType&&"var"===b.expression.primaryexpression)return c[0][b.expression.value.value];if("aggregate"===b.expression.expressionType){if("max"===b.expression.aggregateType){for(var g=null,e=0;e<c.length;e++){var h=c[e],h=QueryFilters.runFilter(b.expression.expression,h,a,d,f);QueryFilters.isEbvError(h)||(null===g?g=h:!0===QueryFilters.runLtFunction(g,h).value&&
(g=h))}return null===g?QueryFilters.ebvError():g}if("min"===b.expression.aggregateType){g=null;for(e=0;e<c.length;e++)h=c[e],h=QueryFilters.runFilter(b.expression.expression,h,a,d,f),QueryFilters.isEbvError(h)||(null===g?g=h:!0===QueryFilters.runGtFunction(g,h).value&&(g=h));return null===g?QueryFilters.ebvError():g}if("count"===b.expression.aggregateType){var g={},k=0;if("*"===b.expression.expression)if(null!=b.expression.distinct&&""!=b.expression.distinct)for(e=0;e<c.length;e++){var h=c[e],m=l.hashTerm(h);
null==g[m]&&(g[m]=!0,k++)}else k=c.length;else for(e=0;e<c.length;e++)h=c[e],h=QueryFilters.runFilter(b.expression.expression,h,a,d,f),QueryFilters.isEbvError(h)||(null!=b.expression.distinct&&""!=b.expression.distinct?(m=l.hashTerm(h),null==g[m]&&(g[m]=!0,k++)):k++);return{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:""+k}}if("avg"===b.expression.aggregateType){for(var g={},q={token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:"0"},e=k=0;e<c.length;e++)h=
c[e],h=QueryFilters.runFilter(b.expression.expression,h,a,d,f),QueryFilters.isEbvError(h)||(null!=b.expression.distinct&&""!=b.expression.distinct?(m=l.hashTerm(h),null==g[m]&&(g[m]=!0,QueryFilters.isNumeric(h)&&(q=QueryFilters.runSumFunction(q,h),k++))):QueryFilters.isNumeric(h)&&(q=QueryFilters.runSumFunction(q,h),k++));b=QueryFilters.runDivFunction(q,{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:""+k});b.value=""+b.value;return b}if("sum"===b.expression.aggregateType){g=
{};q={token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:"0"};for(e=0;e<c.length;e++)h=c[e],h=QueryFilters.runFilter(b.expression.expression,h,a,d,f),QueryFilters.isEbvError(h)||(null!=b.expression.distinct&&""!=b.expression.distinct?(m=l.hashTerm(h),null==g[m]&&(g[m]=!0,QueryFilters.isNumeric(h)&&(q=QueryFilters.runSumFunction(q,h)))):QueryFilters.isNumeric(h)&&(q=QueryFilters.runSumFunction(q,h)));q.value=""+q.value;return q}return h=QueryFilters.runFilter(aggregate.expression,
c[0],d,{blanks:{},outCache:{}})}}},runFilter:function(b,c,a,d,f){if(null!=b.expressionType){var g=b.expressionType;if("relationalexpression"==g){var g=QueryFilters.runFilter(b.op1,c,a,d,f),e=QueryFilters.runFilter(b.op2,c,a,d,f);return QueryFilters.runRelationalFilter(b,g,e,c,a,d,f)}if("conditionalor"==g)return QueryFilters.runOrFunction(b,c,a,d,f);if("conditionaland"==g)return QueryFilters.runAndFunction(b,c,a,d,f);if("additiveexpression"==g)return QueryFilters.runAddition(b.summand,b.summands,c,
a,d,f);if("builtincall"==g)return QueryFilters.runBuiltInCall(b.builtincall,b.args,c,a,d,f);if("multiplicativeexpression"==g)return QueryFilters.runMultiplication(b.factor,b.factors,c,a,d,f);if("unaryexpression"==g)return QueryFilters.runUnaryExpression(b.unaryexpression,b.expression,c,a,d,f);if("irireforfunction"==g)return QueryFilters.runIriRefOrFunction(b.iriref,b.args,c,a,d,f);if("regex"==g)return QueryFilters.runRegex(b.text,b.pattern,b.flags,c,a,d,f);if("custom"==g)return QueryFilters.runBuiltInCall(b.name,
b.args,c,a,d,f);if("atomic"==g){if("var"==b.primaryexpression)return c[b.value.value];"object"==typeof b.value&&null!=b.value.type&&"object"==typeof b.value.type&&(b.value.type=l.lexicalFormBaseUri(b.value.type,f));return b.value}throw"Unknown filter expression type";}throw"Cannot find bound expressions in a no expression token";},isRDFTerm:function(b){return null==b?!1:b.token&&"literal"==b.token||b.token&&"uri"==b.token||b.token&&"blank"==b.token?!0:!1},RDFTermEquality:function(b,c,a,d){return"literal"===
b.token&&"literal"===c.token?b.lang==c.lang&&b.type==c.type&&b.value==c.value?!0:null!=b.type&&null!=c.type?QueryFilters.ebvError():QueryFilters.isSimpleLiteral(b)&&null!=c.type?QueryFilters.ebvError():QueryFilters.isSimpleLiteral(c)&&null!=b.type?QueryFilters.ebvError():!1:"uri"===b.token&&"uri"===c.token?l.lexicalFormBaseUri(b,d)==l.lexicalFormBaseUri(c,d):"blank"===b.token&&"blank"===c.token?b.value==c.value:!1},isInteger:function(b){return null==b?!1:"literal"===b.token?"http://www.w3.org/2001/XMLSchema#integer"==
b.type||"http://www.w3.org/2001/XMLSchema#decimal"==b.type||"http://www.w3.org/2001/XMLSchema#double"==b.type||"http://www.w3.org/2001/XMLSchema#nonPositiveInteger"==b.type||"http://www.w3.org/2001/XMLSchema#negativeInteger"==b.type||"http://www.w3.org/2001/XMLSchema#long"==b.type||"http://www.w3.org/2001/XMLSchema#int"==b.type||"http://www.w3.org/2001/XMLSchema#short"==b.type||"http://www.w3.org/2001/XMLSchema#byte"==b.type||"http://www.w3.org/2001/XMLSchema#nonNegativeInteger"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedLong"==
b.type||"http://www.w3.org/2001/XMLSchema#unsignedInt"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedShort"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedByte"==b.type||"http://www.w3.org/2001/XMLSchema#positiveInteger"==b.type?!0:!1:!1},isFloat:function(b){return null==b?!1:"literal"===b.token?"http://www.w3.org/2001/XMLSchema#float"==b.type?!0:!1:!1},isDecimal:function(b){return null==b?!1:"literal"===b.token?"http://www.w3.org/2001/XMLSchema#decimal"==b.type?!0:!1:!1},isDouble:function(b){return null==
b?!1:"literal"===b.token?"http://www.w3.org/2001/XMLSchema#double"==b.type?!0:!1:!1},isNumeric:function(b){return null==b?!1:"literal"===b.token?"http://www.w3.org/2001/XMLSchema#integer"==b.type||"http://www.w3.org/2001/XMLSchema#decimal"==b.type||"http://www.w3.org/2001/XMLSchema#float"==b.type||"http://www.w3.org/2001/XMLSchema#double"==b.type||"http://www.w3.org/2001/XMLSchema#nonPositiveInteger"==b.type||"http://www.w3.org/2001/XMLSchema#negativeInteger"==b.type||"http://www.w3.org/2001/XMLSchema#long"==
b.type||"http://www.w3.org/2001/XMLSchema#int"==b.type||"http://www.w3.org/2001/XMLSchema#short"==b.type||"http://www.w3.org/2001/XMLSchema#byte"==b.type||"http://www.w3.org/2001/XMLSchema#nonNegativeInteger"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedLong"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedInt"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedShort"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedByte"==b.type||"http://www.w3.org/2001/XMLSchema#positiveInteger"==b.type?
!0:!1:!1},isSimpleLiteral:function(b){return b&&"literal"==b.token?null==b.type&&null==b.lang?!0:!1:!1},isXsdType:function(b,c){return c&&"literal"==c.token?c.type=="http://www.w3.org/2001/XMLSchema#"+b:!1},ebv:function(b){if(null==b||QueryFilters.isEbvError(b))return QueryFilters.ebvError();if(b.token&&"literal"===b.token){if("http://www.w3.org/2001/XMLSchema#integer"==b.type||"http://www.w3.org/2001/XMLSchema#decimal"==b.type||"http://www.w3.org/2001/XMLSchema#double"==b.type||"http://www.w3.org/2001/XMLSchema#nonPositiveInteger"==
b.type||"http://www.w3.org/2001/XMLSchema#negativeInteger"==b.type||"http://www.w3.org/2001/XMLSchema#long"==b.type||"http://www.w3.org/2001/XMLSchema#int"==b.type||"http://www.w3.org/2001/XMLSchema#short"==b.type||"http://www.w3.org/2001/XMLSchema#byte"==b.type||"http://www.w3.org/2001/XMLSchema#nonNegativeInteger"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedLong"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedInt"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedShort"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedByte"==
b.type||"http://www.w3.org/2001/XMLSchema#positiveInteger"==b.type){var c=parseFloat(b.value);return isNaN(c)?!1:0!=parseFloat(b.value)}return"http://www.w3.org/2001/XMLSchema#boolean"===b.type?"true"===b.value||!0===b.value||"True"===b.value:"http://www.w3.org/2001/XMLSchema#string"===b.type?""!=b.value:"http://www.w3.org/2001/XMLSchema#dateTime"===b.type?!0:QueryFilters.isEbvError(b)?b:null==b.type?""!=b.value?!0:!1:QueryFilters.ebvError()}return!0===b.value}};QueryFilters.effectiveBooleanValue=
QueryFilters.ebv;QueryFilters.ebvTrue=function(){return{token:"literal",type:"http://www.w3.org/2001/XMLSchema#boolean",value:!0}};QueryFilters.ebvFalse=function(){return{token:"literal",type:"http://www.w3.org/2001/XMLSchema#boolean",value:!1}};QueryFilters.ebvError=function(){return{token:"literal",type:"https://github.com/antoniogarrote/js-tools/types#error",value:null}};QueryFilters.isEbvError=function(b){return"object"==typeof b&&null!=b?"https://github.com/antoniogarrote/js-tools/types#error"===
b.type:!1};QueryFilters.ebvBoolean=function(b){return QueryFilters.isEbvError(b)?b:!0===b?QueryFilters.ebvTrue():QueryFilters.ebvFalse()};QueryFilters.runRelationalFilter=function(b,c,a,d,f,g,e){b=b.operator;if("="===b)return QueryFilters.runEqualityFunction(c,a,d,f,g,e);if("!="===b)return c=QueryFilters.runEqualityFunction(c,a,d,f,g,e),QueryFilters.isEbvError(c)||(c.value=!c.value),c;if("<"===b)return QueryFilters.runLtFunction(c,a,d);if(">"===b)return QueryFilters.runGtFunction(c,a,d);if("<="===
b)return QueryFilters.runLtEqFunction(c,a,d);if(">="===b)return QueryFilters.runGtEqFunction(c,a,d);throw"Error applying relational filter, unknown operator";};QueryFilters.effectiveTypeValue=function(b){if("literal"==b.token){if("http://www.w3.org/2001/XMLSchema#integer"==b.type)return b=parseInt(b.value);if("http://www.w3.org/2001/XMLSchema#decimal"==b.type||"http://www.w3.org/2001/XMLSchema#float"==b.type||"http://www.w3.org/2001/XMLSchema#double"==b.type||"http://www.w3.org/2001/XMLSchema#nonPositiveInteger"==
b.type)return b=parseFloat(b.value);if("http://www.w3.org/2001/XMLSchema#negativeInteger"==b.type||"http://www.w3.org/2001/XMLSchema#long"==b.type||"http://www.w3.org/2001/XMLSchema#int"==b.type||"http://www.w3.org/2001/XMLSchema#short"==b.type||"http://www.w3.org/2001/XMLSchema#byte"==b.type||"http://www.w3.org/2001/XMLSchema#nonNegativeInteger"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedLong"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedInt"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedShort"==
b.type||"http://www.w3.org/2001/XMLSchema#unsignedByte"==b.type||"http://www.w3.org/2001/XMLSchema#positiveInteger"==b.type)return b=parseInt(b.value);if("http://www.w3.org/2001/XMLSchema#date"==b.type||"http://www.w3.org/2001/XMLSchema#dateTime"==b.type)try{return l.parseISO8601(b.value)}catch(c){return null}else return"http://www.w3.org/2001/XMLSchema#boolean"==b.type?!0===b.value||"true"===b.value||"1"===b.value||1===b.value||!0===b.value?!0:!1===b.value||"false"===b.value||"0"===b.value||0===
b.value||!1===b.value?!1:void 0:"http://www.w3.org/2001/XMLSchema#string"==b.type?null===b.value||void 0===b.value?void 0:""+b.value:b.value}else throw console.log("not implemented yet"),console.log(b),"value not supported in operations yet";};QueryFilters.runOrFunction=function(b,c,a,d,f){for(var g=null,e=0;e<b.operands.length;e++){var h=QueryFilters.runFilter(b.operands[e],c,a,d,f);0==QueryFilters.isEbvError(h)&&(h=QueryFilters.ebv(h));null==g?g=h:QueryFilters.isEbvError(h)?g=QueryFilters.isEbvError(g)?
QueryFilters.ebvError():!0===g?!0:QueryFilters.ebvError():!0===h?g=!0:QueryFilters.isEbvError(g)&&(g=QueryFilters.ebvError())}return QueryFilters.ebvBoolean(g)};QueryFilters.runAndFunction=function(b,c,a,d,f){for(var g=null,e=0;e<b.operands.length;e++){var h=QueryFilters.runFilter(b.operands[e],c,a,d,f);0==QueryFilters.isEbvError(h)&&(h=QueryFilters.ebv(h));null==g?g=h:QueryFilters.isEbvError(h)?g=QueryFilters.isEbvError(g)?QueryFilters.ebvError():!0===g?QueryFilters.ebvError():!1:!0===h?QueryFilters.isEbvError(g)&&
(g=QueryFilters.ebvError()):g=!1}return QueryFilters.ebvBoolean(g)};QueryFilters.runEqualityFunction=function(b,c,a,d,f,g){if(QueryFilters.isEbvError(b)||QueryFilters.isEbvError(c))return QueryFilters.ebvError();if(QueryFilters.isNumeric(b)&&QueryFilters.isNumeric(c))return a=QueryFilters.effectiveTypeValue(b),f=QueryFilters.effectiveTypeValue(c),isNaN(a)||isNaN(f)?QueryFilters.ebvBoolean(QueryFilters.RDFTermEquality(b,c,d,g)):QueryFilters.ebvBoolean(a==f);if((QueryFilters.isSimpleLiteral(b)||QueryFilters.isXsdType("string",
b))&&(QueryFilters.isSimpleLiteral(c)||QueryFilters.isXsdType("string",c))||QueryFilters.isXsdType("boolean",b)&&QueryFilters.isXsdType("boolean",c))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(b)==QueryFilters.effectiveTypeValue(c));if((QueryFilters.isXsdType("dateTime",b)||QueryFilters.isXsdType("date",b))&&(QueryFilters.isXsdType("dateTime",c)||QueryFilters.isXsdType("date",c))){if(QueryFilters.isXsdType("dateTime",b)&&QueryFilters.isXsdType("date",c)||QueryFilters.isXsdType("date",
b)&&QueryFilters.isXsdType("dateTime",c))return QueryFilters.ebvFalse();b=l.compareDateComponents(b.value,c.value);return null!=b?0==b?QueryFilters.ebvTrue():QueryFilters.ebvFalse():QueryFilters.ebvError()}return QueryFilters.isRDFTerm(b)&&QueryFilters.isRDFTerm(c)?QueryFilters.ebvBoolean(QueryFilters.RDFTermEquality(b,c,d,g)):QueryFilters.ebvFalse()};QueryFilters.runGtFunction=function(b,c,a){if(QueryFilters.isEbvError(b)||QueryFilters.isEbvError(c))return QueryFilters.ebvError();if(QueryFilters.isNumeric(b)&&
QueryFilters.isNumeric(c)||QueryFilters.isSimpleLiteral(b)&&QueryFilters.isSimpleLiteral(c)||QueryFilters.isXsdType("string",b)&&QueryFilters.isXsdType("string",c)||QueryFilters.isXsdType("boolean",b)&&QueryFilters.isXsdType("boolean",c))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(b)>QueryFilters.effectiveTypeValue(c));if((QueryFilters.isXsdType("dateTime",b)||QueryFilters.isXsdType("date",b))&&(QueryFilters.isXsdType("dateTime",c)||QueryFilters.isXsdType("date",c))){if(QueryFilters.isXsdType("dateTime",
b)&&QueryFilters.isXsdType("date",c)||QueryFilters.isXsdType("date",b)&&QueryFilters.isXsdType("dateTime",c))return QueryFilters.ebvFalse();b=l.compareDateComponents(b.value,c.value);return null!=b?1==b?QueryFilters.ebvTrue():QueryFilters.ebvFalse():QueryFilters.ebvError()}return QueryFilters.ebvFalse()};QueryFilters.runTotalGtFunction=function(b,c){return QueryFilters.isEbvError(b)||QueryFilters.isEbvError(c)?QueryFilters.ebvError():QueryFilters.isNumeric(b)&&QueryFilters.isNumeric(c)||QueryFilters.isSimpleLiteral(b)&&
QueryFilters.isSimpleLiteral(c)||QueryFilters.isXsdType("string",b)&&QueryFilters.isSimpleLiteral("string",c)||QueryFilters.isXsdType("boolean",b)&&QueryFilters.isSimpleLiteral("boolean",c)||QueryFilters.isXsdType("dateTime",b)&&QueryFilters.isSimpleLiteral("dateTime",c)?QueryFilters.runGtFunction(b,c,[]):b.token&&"uri"===b.token&&c.token&&"uri"===c.token?QueryFilters.ebvBoolean(b.value>c.value):b.token&&"literal"===b.token&&c.token&&"literal"===c.token?QueryFilters.ebvBoolean(""+b.value+b.type+b.lang>
""+c.value+c.type+c.lang):b.token&&"blank"===b.token&&c.token&&"blank"===c.token?QueryFilters.ebvBoolean(b.value>c.value):b.value&&c.value?QueryFilters.ebvBoolean(b.value>c.value):QueryFilters.ebvTrue()};QueryFilters.runLtFunction=function(b,c,a){if(QueryFilters.isEbvError(b)||QueryFilters.isEbvError(c))return QueryFilters.ebvError();if(QueryFilters.isNumeric(b)&&QueryFilters.isNumeric(c)||QueryFilters.isSimpleLiteral(b)&&QueryFilters.isSimpleLiteral(c)||QueryFilters.isXsdType("string",b)&&QueryFilters.isXsdType("string",
c)||QueryFilters.isXsdType("boolean",b)&&QueryFilters.isXsdType("boolean",c))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(b)<QueryFilters.effectiveTypeValue(c));if((QueryFilters.isXsdType("dateTime",b)||QueryFilters.isXsdType("date",b))&&(QueryFilters.isXsdType("dateTime",c)||QueryFilters.isXsdType("date",c))){if(QueryFilters.isXsdType("dateTime",b)&&QueryFilters.isXsdType("date",c)||QueryFilters.isXsdType("date",b)&&QueryFilters.isXsdType("dateTime",c))return QueryFilters.ebvFalse();
b=l.compareDateComponents(b.value,c.value);return null!=b?-1==b?QueryFilters.ebvTrue():QueryFilters.ebvFalse():QueryFilters.ebvError()}return QueryFilters.ebvFalse()};QueryFilters.runGtEqFunction=function(b,c,a){if(QueryFilters.isEbvError(b)||QueryFilters.isEbvError(c))return QueryFilters.ebvError();if(QueryFilters.isNumeric(b)&&QueryFilters.isNumeric(c)||QueryFilters.isSimpleLiteral(b)&&QueryFilters.isSimpleLiteral(c)||QueryFilters.isXsdType("string",b)&&QueryFilters.isXsdType("string",c)||QueryFilters.isXsdType("boolean",
b)&&QueryFilters.isXsdType("boolean",c))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(b)>=QueryFilters.effectiveTypeValue(c));if((QueryFilters.isXsdType("dateTime",b)||QueryFilters.isXsdType("date",b))&&(QueryFilters.isXsdType("dateTime",c)||QueryFilters.isXsdType("date",c))){if(QueryFilters.isXsdType("dateTime",b)&&QueryFilters.isXsdType("date",c)||QueryFilters.isXsdType("date",b)&&QueryFilters.isXsdType("dateTime",c))return QueryFilters.ebvFalse();b=l.compareDateComponents(b.value,
c.value);return null!=b?-1!=b?QueryFilters.ebvTrue():QueryFilters.ebvFalse():QueryFilters.ebvError()}return QueryFilters.ebvFalse()};QueryFilters.runLtEqFunction=function(b,c,a){if(QueryFilters.isEbvError(b)||QueryFilters.isEbvError(c))return QueryFilters.ebvError();if(QueryFilters.isNumeric(b)&&QueryFilters.isNumeric(c)||QueryFilters.isSimpleLiteral(b)&&QueryFilters.isSimpleLiteral(c)||QueryFilters.isXsdType("string",b)&&QueryFilters.isXsdType("string",c)||QueryFilters.isXsdType("boolean",b)&&QueryFilters.isXsdType("boolean",
c))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(b)<=QueryFilters.effectiveTypeValue(c));if((QueryFilters.isXsdType("dateTime",b)||QueryFilters.isXsdType("date",b))&&(QueryFilters.isXsdType("dateTime",c)||QueryFilters.isXsdType("date",c))){if(QueryFilters.isXsdType("dateTime",b)&&QueryFilters.isXsdType("date",c)||QueryFilters.isXsdType("date",b)&&QueryFilters.isXsdType("dateTime",c))return QueryFilters.ebvFalse();b=l.compareDateComponents(b.value,c.value);return null!=b?1!=b?QueryFilters.ebvTrue():
QueryFilters.ebvFalse():QueryFilters.ebvError()}return QueryFilters.ebvFalse()};QueryFilters.runAddition=function(b,c,a,d,f,g){var e=QueryFilters.runFilter(b,a,d,f,g);if(QueryFilters.isEbvError(e))return QueryFilters.ebvError();b=e;if(QueryFilters.isNumeric(e)){for(e=0;e<c.length;e++){var h=QueryFilters.runFilter(c[e].expression,a,d,f,g);if(QueryFilters.isNumeric(h))"+"===c[e].operator?b=QueryFilters.runSumFunction(b,h):"-"===c[e].operator&&(b=QueryFilters.runSubFunction(b,h));else return QueryFilters.ebvFalse()}return b}return QueryFilters.ebvFalse()};
QueryFilters.runSumFunction=function(b,c){if(QueryFilters.isEbvError(b)||QueryFilters.isEbvError(c))return QueryFilters.ebvError();var a=QueryFilters.effectiveTypeValue(b)+QueryFilters.effectiveTypeValue(c);return QueryFilters.isDouble(b)||QueryFilters.isDouble(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:a}:QueryFilters.isFloat(b)||QueryFilters.isFloat(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",value:a}:QueryFilters.isDecimal(b)||QueryFilters.isDecimal(c)?
{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",value:a}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:a}};QueryFilters.runSubFunction=function(b,c){if(QueryFilters.isEbvError(b)||QueryFilters.isEbvError(c))return QueryFilters.ebvError();var a=QueryFilters.effectiveTypeValue(b)-QueryFilters.effectiveTypeValue(c);return QueryFilters.isDouble(b)||QueryFilters.isDouble(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:a}:QueryFilters.isFloat(b)||
QueryFilters.isFloat(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",value:a}:QueryFilters.isDecimal(b)||QueryFilters.isDecimal(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",value:a}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:a}};QueryFilters.runMultiplication=function(b,c,a,d,f,g){b=QueryFilters.runFilter(b,a,d,f,g);if(QueryFilters.isEbvError(b))return b;var e=b;if(QueryFilters.isNumeric(b)){for(var h=0;h<c.length;h++){var k=QueryFilters.runFilter(c[h].expression,
a,d,f,g);if(QueryFilters.isEbvError(k))return b;if(QueryFilters.isNumeric(k))"*"===c[h].operator?e=QueryFilters.runMulFunction(e,k):"/"===c[h].operator&&(e=QueryFilters.runDivFunction(e,k));else return QueryFilters.ebvFalse()}return e}return QueryFilters.ebvFalse()};QueryFilters.runMulFunction=function(b,c){if(QueryFilters.isEbvError(b)||QueryFilters.isEbvError(c))return QueryFilters.ebvError();var a=QueryFilters.effectiveTypeValue(b)*QueryFilters.effectiveTypeValue(c);return QueryFilters.isDouble(b)||
QueryFilters.isDouble(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:a}:QueryFilters.isFloat(b)||QueryFilters.isFloat(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",value:a}:QueryFilters.isDecimal(b)||QueryFilters.isDecimal(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",value:a}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:a}};QueryFilters.runDivFunction=function(b,c){if(QueryFilters.isEbvError(b)||QueryFilters.isEbvError(c))return QueryFilters.ebvError();
var a=QueryFilters.effectiveTypeValue(b)/QueryFilters.effectiveTypeValue(c);return QueryFilters.isDouble(b)||QueryFilters.isDouble(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:a}:QueryFilters.isFloat(b)||QueryFilters.isFloat(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",value:a}:QueryFilters.isDecimal(b)||QueryFilters.isDecimal(c)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",value:a}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",
value:a}};QueryFilters.runBuiltInCall=function(b,c,a,d,f,g){if("notexists"===b||"exists"===b){var e=l.clone(c[0],!0),e=d.abstractQueryTree.parseSelect({pattern:e},a),e=d.abstractQueryTree.bind(e.pattern,a);a=d.executeSelectUnit([{kind:"*"}],f,e,g);return"exists"===b?QueryFilters.ebvBoolean(0!==a.length):QueryFilters.ebvBoolean(0===a.length)}for(var e=[],h=0;h<c.length;h++)if("var"===c[h].token)e.push(c[h]);else{var k=QueryFilters.runFilter(c[h],a,d,f,g);if(QueryFilters.isEbvError(k))return k;e.push(k)}if("str"===
b)return"literal"===e[0].token?{token:"literal",type:null,value:""+e[0].value}:"uri"===e[0].token?{token:"literal",type:null,value:e[0].value}:QueryFilters.ebvFalse();if("lang"===b)return"literal"===e[0].token?null!=e[0].lang?{token:"literal",value:""+e[0].lang}:{token:"literal",value:""}:QueryFilters.ebvError();if("datatype"===b)return"literal"===e[0].token?(b=e[0],null!=b.type?"string"===typeof b.type?{token:"uri",value:b.type,prefix:null,suffix:null}:b.type:null==b.lang?{token:"uri",value:"http://www.w3.org/2001/XMLSchema#string",
prefix:null,suffix:null}:QueryFilters.ebvError()):QueryFilters.ebvError();if("isliteral"===b)return"literal"===e[0].token?QueryFilters.ebvTrue():QueryFilters.ebvFalse();if("isblank"===b)return"blank"===e[0].token?QueryFilters.ebvTrue():QueryFilters.ebvFalse();if("isuri"===b||"isiri"===b)return"uri"===e[0].token?QueryFilters.ebvTrue():QueryFilters.ebvFalse();if("sameterm"===b)return b=QueryFilters.RDFTermEquality(e[0],e[1],d,g),QueryFilters.isEbvError(b)&&(b=!1),QueryFilters.ebvBoolean(b);if("langmatches"===
b)return b=e[0],a=e[1],"literal"===b.token&&"literal"===a.token?"*"===a.value&&""!=b.value?QueryFilters.ebvTrue():QueryFilters.ebvBoolean(0===b.value.toLowerCase().indexOf(a.value.toLowerCase())):QueryFilters.ebvError();if("bound"===b)return b=e[0].value,null==b?QueryFilters.ebvError():null!=a[b]?QueryFilters.ebvTrue():QueryFilters.ebvFalse();if(null!=d.customFns[b])return d.customFns[b](QueryFilters,e);throw"Builtin call "+b+" not implemented yet";};QueryFilters.runUnaryExpression=function(b,c,a,
d,f,g){c=QueryFilters.runFilter(c,a,d,f,g);if(QueryFilters.isEbvError(c))return c;if("!"===b){var e=QueryFilters.ebv(c);return QueryFilters.isEbvError(e)?QueryFilters.ebvFalse():QueryFilters.ebvBoolean(!e)}if("+"===b)return QueryFilters.isNumeric(c)?c:QueryFilters.ebvError();if("-"===b){if(QueryFilters.isNumeric(c)){b={};for(e in c)b[e]=c[e];b.value=-b.value;return b}return QueryFilters.ebvError()}};QueryFilters.runRegex=function(b,c,a,d,f,g,e){if(null!=b)b=QueryFilters.runFilter(b,d,f,g,e);else return QueryFilters.ebvError();
if(null!=c)c=QueryFilters.runFilter(c,d,f,g,e);else return QueryFilters.ebvError();null!=a&&(a=QueryFilters.runFilter(a,d,f,g,e));if(null==c||"literal"!==c.token||null!=a&&"literal"!==a.token)return QueryFilters.ebvError();c=c.value;a=null==a?null:a.value;if(null!=b&&"var"==b.token)if(null!=d[b.value])b=d[b.value];else return QueryFilters.ebvError();else if(null!=b&&"literal"===b.token)if(null==b.type||QueryFilters.isXsdType("string",b))b=b.value;else return QueryFilters.ebvError();else return QueryFilters.ebvError();
return(null==a?new RegExp(c):new RegExp(c,a.toLowerCase())).exec(b)?QueryFilters.ebvTrue():QueryFilters.ebvFalse()};QueryFilters.normalizeLiteralDatatype=function(b,c,a){null!=b.value.type&&"object"==typeof b.value.type&&(b.value.type=l.lexicalFormBaseUri(b.value.type,a));return b};QueryFilters.runIriRefOrFunction=function(b,c,a,d,f,g){if(null==c)return b;for(var e=[],h=0;h<c.length;h++)e.push(QueryFilters.runFilter(c[h],a,d,f,g));b=l.lexicalFormBaseUri(b,g);if("http://www.w3.org/2001/XMLSchema#integer"==
b||"http://www.w3.org/2001/XMLSchema#decimal"==b||"http://www.w3.org/2001/XMLSchema#double"==b||"http://www.w3.org/2001/XMLSchema#nonPositiveInteger"==b||"http://www.w3.org/2001/XMLSchema#negativeInteger"==b||"http://www.w3.org/2001/XMLSchema#long"==b||"http://www.w3.org/2001/XMLSchema#int"==b||"http://www.w3.org/2001/XMLSchema#short"==b||"http://www.w3.org/2001/XMLSchema#byte"==b||"http://www.w3.org/2001/XMLSchema#nonNegativeInteger"==b||"http://www.w3.org/2001/XMLSchema#unsignedLong"==b||"http://www.w3.org/2001/XMLSchema#unsignedInt"==
b||"http://www.w3.org/2001/XMLSchema#unsignedShort"==b||"http://www.w3.org/2001/XMLSchema#unsignedByte"==b||"http://www.w3.org/2001/XMLSchema#positiveInteger"==b)if(e=e[0],"literal"===e.token){e=QueryFilters.normalizeLiteralDatatype(e,d,g);if("http://www.w3.org/2001/XMLSchema#integer"==e.type||"http://www.w3.org/2001/XMLSchema#decimal"==e.type||"http://www.w3.org/2001/XMLSchema#double"==e.type||"http://www.w3.org/2001/XMLSchema#nonPositiveInteger"==e.type||"http://www.w3.org/2001/XMLSchema#negativeInteger"==
e.type||"http://www.w3.org/2001/XMLSchema#long"==e.type||"http://www.w3.org/2001/XMLSchema#int"==e.type||"http://www.w3.org/2001/XMLSchema#short"==e.type||"http://www.w3.org/2001/XMLSchema#byte"==e.type||"http://www.w3.org/2001/XMLSchema#nonNegativeInteger"==e.type||"http://www.w3.org/2001/XMLSchema#unsignedLong"==e.type||"http://www.w3.org/2001/XMLSchema#unsignedInt"==e.type||"http://www.w3.org/2001/XMLSchema#unsignedShort"==e.type||"http://www.w3.org/2001/XMLSchema#unsignedByte"==e.type||"http://www.w3.org/2001/XMLSchema#positiveInteger"==
e.type)return e.type=b,e;if("http://www.w3.org/2001/XMLSchema#boolean"==e.type)return 1==QueryFilters.ebv(e)?(e.type=b,e.value=1):(e.type=b,e.value=0),e;if("http://www.w3.org/2001/XMLSchema#float"==e.type||"http://www.w3.org/2001/XMLSchema#double"==e.type)return e.type=b,e.value=parseInt(e.value),e;if("http://www.w3.org/2001/XMLSchema#string"==e.type||null==e.type){if(2<e.value.split(".").length||2<e.value.split("-").length||2<e.value.split("/").length||2<e.value.split("+").length||"http://www.w3.org/2001/XMLSchema#decimal"==
b&&(-1!=e.value.indexOf("e")||-1!=e.value.indexOf("E")))return QueryFilters.ebvError();if("http://www.w3.org/2001/XMLSchema#int"==b||"http://www.w3.org/2001/XMLSchema#integer"==b)if(-1!=e.value.indexOf("e")||-1!=e.value.indexOf("E")||-1!=e.value.indexOf("."))return QueryFilters.ebvError();try{e.value=parseInt(parseFloat(e.value));if(isNaN(e.value))return QueryFilters.ebvError();e.type=b;return e}catch(k){return QueryFilters.ebvError()}}else return QueryFilters.ebvError()}else return QueryFilters.ebvError();
else{if("http://www.w3.org/2001/XMLSchema#boolean"==b)return e=e[0],"literal"===e.token&&null==e.type?"true"===e.value||"1"===e.value?QueryFilters.ebvTrue():"false"===e.value||"0"===e.value?QueryFilters.ebvFalse():QueryFilters.ebvError():"literal"===e.token?QueryFilters.isEbvError(e)?e:QueryFilters.ebvBoolean(e):QueryFilters.ebvError();if("http://www.w3.org/2001/XMLSchema#string"==b)return e=e[0],"literal"===e.token?(e=QueryFilters.normalizeLiteralDatatype(e,d,g),"http://www.w3.org/2001/XMLSchema#integer"==
e.type||"http://www.w3.org/2001/XMLSchema#decimal"==e.type||"http://www.w3.org/2001/XMLSchema#double"==e.type||"http://www.w3.org/2001/XMLSchema#nonPositiveInteger"==e.type||"http://www.w3.org/2001/XMLSchema#negativeInteger"==e.type||"http://www.w3.org/2001/XMLSchema#long"==e.type||"http://www.w3.org/2001/XMLSchema#int"==e.type||"http://www.w3.org/2001/XMLSchema#short"==e.type||"http://www.w3.org/2001/XMLSchema#byte"==e.type||"http://www.w3.org/2001/XMLSchema#nonNegativeInteger"==e.type||"http://www.w3.org/2001/XMLSchema#unsignedLong"==
e.type||"http://www.w3.org/2001/XMLSchema#unsignedInt"==e.type||"http://www.w3.org/2001/XMLSchema#unsignedShort"==e.type||"http://www.w3.org/2001/XMLSchema#unsignedByte"==e.type||"http://www.w3.org/2001/XMLSchema#positiveInteger"==e.type||"http://www.w3.org/2001/XMLSchema#float"==e.type?(e.type=b,e.value=""+e.value,e):"http://www.w3.org/2001/XMLSchema#string"==e.type?e:"http://www.w3.org/2001/XMLSchema#boolean"==e.type?(QueryFilters.ebv(e)?(e.type=b,e.value="true"):(e.type=b,e.value="false"),e):"http://www.w3.org/2001/XMLSchema#dateTime"==
e.type||"http://www.w3.org/2001/XMLSchema#date"==e.type?(e.type=b,"string"!=typeof e.value&&(e.value=l.iso8601(e.value)),e):null==e.type?(e.value=""+e.value,e.type=b,e):QueryFilters.ebvError()):"uri"===e.token?{token:"literal",value:l.lexicalFormBaseUri(e,g),type:b,lang:null}:QueryFilters.ebvError();if("http://www.w3.org/2001/XMLSchema#dateTime"==b||"http://www.w3.org/2001/XMLSchema#date"==b){e=e[0];if("http://www.w3.org/2001/XMLSchema#dateTime"==e.type||"http://www.w3.org/2001/XMLSchema#date"==e.type)return e;
if("http://www.w3.org/2001/XMLSchema#string"==e.type||null==e.type)try{return e.value=l.iso8601(l.parseISO8601(e.value)),e.type=b,e}catch(k){return QueryFilters.ebvError()}else return QueryFilters.ebvError()}else if("http://www.w3.org/2001/XMLSchema#float"==b)if(e=e[0],"literal"===e.token){e=QueryFilters.normalizeLiteralDatatype(e,d,g);if("http://www.w3.org/2001/XMLSchema#decimal"==e.type||"http://www.w3.org/2001/XMLSchema#int"==e.type)return e.type=b,e.value=parseFloat(e.value),e;if("http://www.w3.org/2001/XMLSchema#boolean"==
e.type)return 1==QueryFilters.ebv(e)?(e.type=b,e.value=1):(e.type=b,e.value=0),e;if("http://www.w3.org/2001/XMLSchema#float"==e.type||"http://www.w3.org/2001/XMLSchema#double"==e.type)return e.type=b,e.value=parseFloat(e.value),e;if("http://www.w3.org/2001/XMLSchema#string"==e.type)try{e.value=parseFloat(e.value);if(isNaN(e.value))return QueryFilters.ebvError();e.type=b;return e}catch(k){return QueryFilters.ebvError()}else if(null==e.type){if(2<e.value.split(".").length||2<e.value.split("-").length||
2<e.value.split("/").length||2<e.value.split("+").length)return QueryFilters.ebvError();try{e.value=parseFloat(e.value);if(isNaN(e.value))return QueryFilters.ebvError();e.type=b;return e}catch(k){return QueryFilters.ebvError()}}else return QueryFilters.ebvError()}else return QueryFilters.ebvError();else return QueryFilters.ebvError()}};z.exports={QueryFilters:QueryFilters}},{"./utils":59}],55:[function(u,z,w){var l=u("./utils"),t=u("./utils"),b={variablesInBGP:function(b){var a=b.variables;if(a)return a;
var d=b.value||b,a=[],f;for(f in d)d[f]&&"var"===d[f].token?a.push(d[f].value):d[f]&&"blank"===d[f].token&&a.push("blank:"+d[f].value);return b.variables=a},connected:function(b,a){for(var d="/"+b.vars.join("/")+"/",f=0;f<a.vars.length;f++)if(-1!=d.indexOf("/"+a.vars[f]+"/"))return!0;return!1},variablesIntersectionBGP:function(c,a){for(var d=b.variablesInBGP(c),f=b.variablesInBGP(a),g={},e=0;e<d.lenght;e++)g[d[e]]=1;for(e=0;e<f.length;e++)d=g[f[e]]||0,d++,g[f[e]]=d;var f=[],h;for(h in g)2==g[h]&&
f.push(g[h]);return f},executeAndBGPsGroups:function(c){for(var a={},d={},f=0,g=function(a,b){for(var c=0;c<a.length;c++)if(-1!=b.indexOf("/"+a[c]+"/"))return!0;return!1},e=function(b,c,e,f){var g=[],h="",k="",m;for(m in c)h+=m,g=g.concat(a[m]),k+=d[m];k=k+t.join("/")+"/";g.push(b);e[h]=g;f[h]=k},h=0;h<c.length;h++){var k=c[h],m={},q={},t=b.variablesInBGP(k),u={},v;for(v in d)g(t,d[v])?u[v]=!0:(m[v]=a[v],q[v]=d[v]);0===l.size(u)?(m["g"+f]=[k],q["g"+f]="/"+t.join("/")+"/",f++):e(k,u,m,q);a=m;d=q}return l.values(a)},
intersectionSize:function(b,a){for(var d=a.i.split("_"),f=0;f<d.length;f++)if(""!=d[f]&&-1!=b.i.indexOf("_"+d[f]+"_"))return 1;return 0},createJoinTree:function(b,a){for(var d="/"+b.vars.join("/")+"/",f=b.vars.concat([]),g=[],e=0;e<a.vars.length;e++)-1!=d.indexOf("/"+a.vars[e]+"/")?0==a.vars[e].indexOf("_:")?g.push("blank:"+a.vars[e]):g.push(a.vars[e]):f.push(a.vars[e]);for(var d=a.i.split("_"),h=b.i.split("_"),k={},e=0;e<d.length;e++)""!=d[e]&&(k[d[e]]=!0);for(e=0;e<h.length;e++)""!=h[e]&&(k[h[e]]=
!0);e=l.keys(k);return{left:b,right:a,cost:b.cost+a.cost,i:"_"+e.sort().join("_")+"_",vars:f,join:g}},executeBushyTree:function(c,a,d,f,g){null==c.left?b.executeEmptyJoinBGP(c.right,a,d,f,g):null==c.right?b.executeEmptyJoinBGP(c.left,a,d,f,g):b.executeBushyTree(c.left,a,d,f,function(e){null!=e?b.executeBushyTree(c.right,a,d,f,function(a){null!=a?g(b.joinBindings2(c.join,e,a)):g(null)}):g(null)})},executeAndBGPsDPSize:function(c,a,d,f,g){c=b.executeAndBGPsGroups(c);var e=[];t.eachSeries(c,function(a,
c){d.computeCosts(a,f,function(a){var d={},f={},g={},h=1,l=null,t={};g["1"]=[];for(var u=0;u<a.length;u++){h=[];delete a[u].variables;for(var w in a[u])"_cost"!=w&&("var"===a[u][w].token?h.push(a[u][w].value):"blank"===a[u][w].token&&h.push(a[u][w].value));f["_"+u+"_"]={left:a[u],right:null,cost:a[u]._cost,i:"_"+u+"_",vars:h};h={left:a[u],right:null,cost:a[u]._cost,i:"_"+u+"_",vars:h};d["_"+u+"_"]=h;delete a[u]._cost;t["_"+u+"_"]=!0;g["1"].push("_"+u+"_");if(null==l||l.cost>h.cost)l=h}for(w=2;w<=
a.length;w++)for(var z=1;z<w;z++)for(var r=g[""+z]||[],n=g[""+(w-z)]||[],u=0;u<r.length;u++)for(var y=0;y<n.length;y++)if(r[u]!==n[y]){var B=f[r[u]],A=f[n[y]];if(0==b.intersectionSize(B,A)&&b.connected(B,A)&&(h=w,B=b.createJoinTree(d[B.i],d[A.i]),!t[B.i])){t[B.i]=!0;A=B.cost+1;null!=d[B.i]&&(A=d[B.i].cost);var O=g[w]||[];O.push(B.i);f[B.i]=B;g[w]=O;A>B.cost&&(h===w&&(l=B),d[B.i]=B)}}e.push(l);c()})},function(){var c=null;t.eachSeries(e,function(e,g){b.executeBushyTree(e,a,d,f,function(a){a?(c=null==
c?a:b.crossProductBindings(c,a),g()):g("Error executing bushy tree")})},function(a){a?g(null,a):g(c)})})},executeEmptyJoinBGP:function(c,a,d,f,g){return b.executeBGPDatasets(c,a,d,f,g)},executeBGPDatasets:function(c,a,d,f,g){var e={};if(null==c.graph){var h=[];t.eachSeries(a.implicit,function(a,g){null==e[a.oid]?(e[a.oid]=!0,c.graph=a,d.rangeQuery(c,f,function(a){a=b.buildBindingsFromRange(a,c);h.push(a);g()})):g()},function(){var a=b.unionManyBindings(h);g(a)})}else if("var"===c.graph.token){var k=
c.graph.value,h=[];t.eachSeries(a.named,function(a,g){null==e[a.oid]&&(e[a.oid]=!0,c.graph=a,null!=h?d.rangeQuery(c,f,function(d){if(null!=d){d=b.buildBindingsFromRange(d,c);for(var e=0;e<d.length;e++)d[e][k]=a.oid;h.push(d)}else h=null;g()}):g())},function(){if(null==h)g(null);else{var a=b.unionManyBindings(h);g(a)}})}else d.rangeQuery(c,f,function(a){null!=a?(a=b.buildBindingsFromRange(a,c),g(a)):g(null)})},buildBindingsFromRange:function(c,a){b.variablesInBGP(a);var d=a.value||a,f={};for(m in d)d[m]&&
"var"===d[m].token?f[m]=d[m].value:d[m]&&"blank"===d[m].token&&(f[m]="blank:"+d[m].value);d=[];if(null!=c)for(var g=0;g<c.length;g++){var e={},h=c[g],k=!1,m;for(m in f){var l=h[m];if(null==e[f[m]]||e[f[m]]===l)e[f[m]]=l;else{k=!0;break}}k||d.push(e)}return d},areCompatibleBindings:function(b,a){for(var d in b)if(null!=a[d]&&a[d]!=b[d])return!1;return!0},mergeBindings:function(b,a){var d={},f;for(f in b)d[f]=b[f];for(f in a)d[f]=a[f];return d},joinBindings2:function(c,a,d){for(var f={},g,e,h,k,l=[],
q=0;q<a.length;q++){g=a[q];k=f;for(var t=0;t<c.length;t++)e=c[t],e=g[e],t==c.length-1?(h=k[e]||[],h.push(g),k[e]=h):(h=k[e]||{},k=k[e]=h)}for(q=0;q<d.length;q++)for(g=d[q],k=f,t=0;t<c.length;t++)if(e=c[t],e=g[e],null!=k[e])if(t==c.length-1)for(a=0;a<k[e].length;a++)l.push(b.mergeBindings(k[e][a],g));else k=k[e];return l},joinBindings:function(c,a){for(var d=[],f=0;f<c.length;f++)for(var g=c[f],e=0;e<a.length;e++){var h=a[e];b.areCompatibleBindings(g,h)&&d.push(b.mergeBindings(g,h))}return d},augmentMissingBindings:function(b,
a){for(var d in a)null==b[d]&&(b[d]=null);return b},leftOuterJoinBindings:function(c,a){for(var d=[],f=0;f<c.length;f++){for(var g=c[f],e=!1,h=0;h<a.length;h++){var k=a[h];b.areCompatibleBindings(g,k)&&(e=!0,d.push(b.mergeBindings(g,k)))}!1===e&&(b.augmentMissingBindings(g,k),d.push(g))}return d},crossProductBindings:function(c,a){for(var d=[],f=0;f<c.length;f++)for(var g=c[f],e=0;e<a.length;e++)d.push(b.mergeBindings(g,a[e]));return d},unionBindings:function(b,a){return b.concat(a)},unionManyBindings:function(c){for(var a=
[],d=0;d<c.length;d++)a=b.unionBindings(a,c[d]);return a}};z.exports={QueryPlan:b}},{"./utils":59}],56:[function(u,z,w){var l=u("./network_transport").NetworkTransport,t=u("./rvn3_parser").RVN3Parser,b=u("./jsonld_parser").JSONLDParser,c=u("./utils");w=function(a){this.precedences=["text/turtle","text/n3","application/ld+json","application/json"];this.parsers={"text/turtle":t.parser,"text/n3":t.parser,"application/ld+json":b.parser,"application/json":b.parser};"undefined"!==typeof RDFXMLParser&&(this.precedences.push("application/rdf+xml"),
this.parsers["application/rdf+xml"]=RDFXMLParser.parser);if(null!=a)for(var d in a.parsers)this.parsers[d]=a.parsers[d];if(a&&null!=a.precedences)for(d in this.precedences=a.precedences,a.parsers)c.include(this.precedences,d)||this.precedences.push(d);this.acceptHeaderValue="";for(a=0;a<this.precedences.length;a++)this.acceptHeaderValue=0!=a?this.acceptHeaderValue+","+this.precedences[a]:this.acceptHeaderValue+this.precedences[a]};w.prototype.registerParser=function(a,b){this.parsers[a]=b;this.precedences.push(a)};
w.prototype.unregisterParser=function(a){delete this.parsers[a];for(var b=[],c=0;c<this.precedences.length;c++)this.precedences[c]!=a&&b.push(this.precedences[c]);this.precedences=b};w.prototype.setAcceptHeaderPrecedence=function(a){this.precedences=a};w.prototype.load=function(a,b,c){var g=this;l.load(a,this.acceptHeaderValue,function(e,h){if(e)c(e);else{var k=h.headers["Content-Type"]||h.headers["content-type"],l=h.data;if(null!=k){var k=k.split(";")[0],q;for(q in g.parsers)if(-1!=q.indexOf("/")){var t=
q.split("/");if("*"===t[1]){if(-1!=k.indexOf(t[0]))return g.tryToParse(g.parsers[q],b,l,{documentURI:a},c)}else if(-1!=k.indexOf(q)||-1!=k.indexOf(t[1]))return g.tryToParse(g.parsers[q],b,l,{documentURI:a},c)}else if(-1!=k.indexOf(q))return g.tryToParse(g.parsers[q],b,l,{documentURI:a},c);c(Error("Unknown media type : "+k))}else c(Error("Uknown media type"))}})};w.prototype.loadFromFile=function(a,b,c,g){try{var e=this;u("fs").readFile(c.split("file:/")[1],function(h,k){h?g(h):(k=k.toString("utf8"),
e.tryToParse(a,b,k,{documentURI:c},g))})}catch(h){g(h)}};w.prototype.tryToParse=function(a,b,f,g,e){try{"string"===typeof f&&(f=c.normalizeUnicodeLiterals(f)),a.parse(f,b,g,e)}catch(h){console.log(h.message),console.log(h.stack),e(h)}};z.exports={RDFLoader:w}},{"./jsonld_parser":45,"./network_transport":47,"./rvn3_parser":58,"./utils":59,fs:5}],57:[function(u,z,w){var l=u("./utils"),t=u("./query_filters").QueryFilters;RDFModel={defaultContext:{rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",
owl:"http://www.w3.org/2002/07/owl#",xsd:"http://www.w3.org/2001/XMLSchema#",dcterms:"http://purl.org/dc/terms/",foaf:"http://xmlns.com/foaf/0.1/",cal:"http://www.w3.org/2002/12/cal/ical#",vcard:"http://www.w3.org/2006/vcard/ns# ",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",cc:"http://creativecommons.org/ns#",sioc:"http://rdfs.org/sioc/ns#",doap:"http://usefulinc.com/ns/doap#",com:"http://purl.org/commerce#",ps:"http://purl.org/payswarm#",gr:"http://purl.org/goodrelations/v1#",sig:"http://purl.org/signature#",
ccard:"http://purl.org/commerce/creditcard#",ldp:"http://www.w3.org/ns/ldp#"},UrisMap:function(){this.defaultNs="";this.interfaceProperties="get remove set setDefault addAll resolve shrink".split(" ")}};RDFModel.UrisMap.prototype.values=function(){var b={},c;for(c in this)l.include(this.interfaceProperties,c)||"function"===typeof this[c]||"defaultNs"===c||"interfaceProperties"===c||(b[c]=this[c]);return b};RDFModel.UrisMap.prototype.get=function(b){if(-1!=b.indexOf(" "))throw"Prefix must not contain any whitespaces";
return this[b]};RDFModel.UrisMap.prototype.remove=function(b){if(-1!=b.indexOf(" "))throw"Prefix must not contain any whitespaces";delete this[b];return null};RDFModel.UrisMap.prototype.set=function(b,c){if(-1!=b.indexOf(" "))throw"Prefix must not contain any whitespaces";this[b]=c};RDFModel.UrisMap.prototype.setDefault=function(b){this.defaultNs=b};RDFModel.UrisMap.prototype.addAll=function(b,c){for(var a in b)l.include(this.interfaceProperties,a)||(null!=this[a]?!0===c&&(this[a]=b[a]):this[a]=b[a]);
return this};RDFModel.UrisMap.prototype.resolve=function(b){var c=b.split(":");b=c[0];c=c[1];return""===b?null==this.defaultNs?null:this.defaultNs+c:null!=this[b]?this[b]+c:null};RDFModel.UrisMap.prototype.shrink=function(b){for(var c in this){var a=this[c];if(0===b.indexOf(a)&&""!==a&&"defaultNs"!=c)return b=b.split(a)[1],c+":"+b}return b};RDFModel.Profile=function(){this.prefixes=new RDFModel.UrisMap;this.terms=new RDFModel.UrisMap};RDFModel.Profile.prototype.importProfile=function(b,c){this.prefixes.addAll(b.prefixes,
c);this.terms.addAll(b.terms,c)};RDFModel.Profile.prototype.resolve=function(b){return-1!=b.indexOf(":")?this.prefixes.resolve(b):null!=this.terms[b]?this.terms.resolve(b):null};RDFModel.Profile.prototype.setDefaultPrefix=function(b){this.prefixes.setDefault(b)};RDFModel.Profile.prototype.setDefaultVocabulary=function(b){this.terms.setDefault(b)};RDFModel.Profile.prototype.setPrefix=function(b,c){this.prefixes.set(b,c)};RDFModel.Profile.prototype.setTerm=function(b,c){this.terms.set(b,c)};RDFModel.RDFEnvironment=
function(){RDFModel.Profile.call(this);this.blankNodeCounter=0;var b=this;this.filters={s:function(a){return function(b){return b.subject.equals(a)}},p:function(a){return function(b){return b.predicate.equals(a)}},o:function(a){return function(b){return b.object.equals(a)}},sp:function(a,b){return function(c){return c.subject.equals(a)&&c.predicate.equals(b)}},so:function(a,b){return function(c){return c.subject.equals(a)&&c.object.equals(b)}},po:function(a,b){return function(c){return c.predicate.equals(a)&&
c.object.equals(b)}},spo:function(a,b,c){return function(g){return g.subject.equals(a)&&g.predicate.equals(b)&&g.object.equals(c)}},describes:function(a){return function(b){return b.subject.equals(a)||b.object.equals(a)}},type:function(a){var c=b.resolve("rdf:type");return function(b){return b.predicate.equals(c)&&b.object.equals(a)}}};for(var c in RDFModel.defaultContext)this.prefixes.set(c,RDFModel.defaultContext[c])};RDFModel.RDFEnvironment.prototype=l.create(RDFModel.Profile.prototype,{constructor:RDFModel.RDFEnvironment});
RDFModel.RDFEnvironment.prototype.createBlankNode=function(){var b=new RDFModel.BlankNode(this.blankNodeCounter);this.blankNodeCounter++;return b};RDFModel.RDFEnvironment.prototype.createNamedNode=function(b){var c=this.resolve(b);return null!=c?new RDFModel.NamedNode(c):new RDFModel.NamedNode(b)};RDFModel.RDFEnvironment.prototype.createLiteral=function(b,c,a){return null!=a?new RDFModel.Literal(b,c,a.toString()):new RDFModel.Literal(b,c,a)};RDFModel.RDFEnvironment.prototype.createTriple=function(b,
c,a){return new RDFModel.Triple(b,c,a)};RDFModel.RDFEnvironment.prototype.createGraph=function(b){var c=new RDFModel.Graph;if(null!=b)for(var a=0;a<b.length;a++)c.add(b[a]);return c};RDFModel.RDFEnvironment.prototype.createAction=function(b,c){return function(a){return b(a)?c(a):a}};RDFModel.RDFEnvironment.prototype.createProfile=function(b){if(!0===b)return new RDFModel.RDFEnvironment.Profile;b=new RDFModel.RDFEnvironment.Profile;b.importProfile(this);return b};RDFModel.RDFEnvironment.prototype.createTermMap=
function(b){if(!0===b)return new RDFModel.UrisMap;b=this.terms.values();var c=new RDFModel.UrisMap,a;for(a in b)c[a]=b[a];return c};RDFModel.RDFEnvironment.prototype.createPrefixMap=function(b){if(!0===b)return new RDFModel.UrisMap;b=this.prefixes.values();var c=new RDFModel.UrisMap,a;for(a in b)c[a]=b[a];return c};RDFModel.RDFNode=function(b){this.interfaceName=b;this.attributes=["interfaceName","nominalValue"]};RDFModel.RDFNode.prototype.equals=function(b){if(null==b.interfaceName)return this.valueOf()==
b;for(var c in this.attributes){var a=this.attributes[c];if(this[a]!=b[a])return!1}return!0};RDFModel.BlankNode=function(b){RDFModel.RDFNode.call(this,"BlankNode");this.nominalValue="_:"+b;this.bnodeId=b};RDFModel.BlankNode.prototype=l.create(RDFModel.RDFNode.prototype,{constructor:RDFModel.BlankNode});RDFModel.BlankNode.prototype.toString=function(){return this.nominalValue};RDFModel.BlankNode.prototype.toNT=function(){return this.nominalValue};RDFModel.BlankNode.prototype.valueOf=function(){return this.nominalValue};
RDFModel.Literal=function(b,c,a){RDFModel.RDFNode.call(this,"Literal");this.nominalValue=b;null!=c?this.language=c:null!=a&&(this.datatype=a)};RDFModel.Literal.prototype=l.create(RDFModel.RDFNode.prototype,{constructor:RDFModel.Literal});RDFModel.Literal.prototype.toString=function(){var b='"'+this.nominalValue+'"';if(null!=this.language)b=b+"@"+this.language;else if(null!=this.datatype||this.type)b=b+"^^<"+(this.datatype||this.type)+">";return b};RDFModel.Literal.prototype.toNT=function(){return this.toString()};
RDFModel.Literal.prototype.valueOf=function(){return t.effectiveTypeValue({token:"literal",type:this.type||this.datatype,value:this.nominalValue,language:this.language})};RDFModel.NamedNode=function(b){RDFModel.RDFNode.call(this,"NamedNode");this.nominalValue=null!=b.value?b.value:b};RDFModel.NamedNode.prototype=l.create(RDFModel.RDFNode.prototype,{constructor:RDFModel.NamedNode});RDFModel.NamedNode.prototype.toString=function(){return this.nominalValue};RDFModel.NamedNode.prototype.toNT=function(){return"<"+
this.toString()+">"};RDFModel.NamedNode.prototype.valueOf=function(){return this.nominalValue};RDFModel.Triple=function(b,c,a){this.subject=b;this.predicate=c;this.object=a};RDFModel.Triple.prototype.equals=function(b){return this.subject.equals(b.subject)&&this.predicate.equals(b.predicate)&&this.object.equals(b.object)};RDFModel.Triple.prototype.toString=function(){return this.subject.toNT()+" "+this.predicate.toNT()+" "+this.object.toNT()+" . \r\n"};RDFModel.Graph=function(){this.triples=[];this.duplicates=
{};this.actions=[];this.length=0};RDFModel.Graph.prototype.add=function(b){for(var c=0;c<this.actions.length;c++)b=this.actions[c](b);c=b.subject.toString()+b.predicate.toString()+b.object.toString();this.duplicates[c]||(this.duplicates[c]=!0,this.triples.push(b));this.length=this.triples.length;return this};RDFModel.Graph.prototype.addAction=function(b,c){this.actions.push(b);if(1==c)for(var a=0;a<this.triples.length;a++)this.triples[a]=b(this.triples[a]);return this};RDFModel.Graph.prototype.addAll=
function(b){b=b.toArray();for(var c=0;c<b.length;c++)this.add(b[c]);this.length=this.triples.length;return this};RDFModel.Graph.prototype.remove=function(b){for(var c=null,a=0;a<this.triples.length;a++)if(this.triples[a].equals(b)){delete this.duplicates[b.subject.toString()+b.predicate.toString()+b.object.toString()];c=a;break}null!=c&&this.triples.splice(c,1);this.length=this.triples.length;return this};RDFModel.Graph.prototype.toArray=function(){return this.triples};RDFModel.Graph.prototype.some=
function(b){for(var c=0;c<this.triples.length;c++)if(!0===b(this.triples[c],this))return!0;return!1};RDFModel.Graph.prototype.every=function(b){for(var c=0;c<this.triples.length;c++)if(!1===b(this.triples[c],this))return!1;return!0};RDFModel.Graph.prototype.filter=function(b){for(var c=new RDFModel.Graph,a=0;a<this.triples.length;a++)!0===b(this.triples[a],this)&&c.add(this.triples[a]);return c};RDFModel.Graph.prototype.forEach=function(b){for(var c=0;c<this.triples.length;c++)b(this.triples[c],this)};
RDFModel.Graph.prototype.merge=function(b){b=new RDFModel.Graph;for(var c=0;c<this.triples.length;c++)b.add(this.triples[c]);return b};RDFModel.Graph.prototype.match=function(b,c,a,d){for(var f=new RDFModel.Graph,g=0,e=0;e<this.triples.length;e++){var h=this.triples[e];if(null==b||h.subject.equals(b))if(null==c||h.predicate.equals(c))if(null==a||h.object.equals(a))if(null==d||g<d)g++,f.add(h);else break}return f};RDFModel.Graph.prototype.removeMatches=function(b,c,a){for(var d=[],f=0;f<this.triples.length;f++){var g=
this.triples[f];if(null==b||g.subject.equals(b))null!=c&&!g.predicate.equals(c)||null!=a&&!g.object.equals(a)||d.push(g)}for(f=0;f<d.length;f++)this.remove(d[f]);return this};RDFModel.Graph.prototype.toNT=function(){var b="";this.forEach(function(c){b+=c.toString()});return b};RDFModel.buildRDFResource=function(b,c,a,d){return"blank"===b.token?RDFModel.buildBlankNode(b,c,a,d):"literal"===b.token?RDFModel.buildLiteral(b,c,a,d):"uri"===b.token?RDFModel.buildNamedNode(b,c,a,d):"var"===b.token?(b=c[b.value],
null!=b?RDFModel.buildRDFResource(b,c,a,d):null):null};RDFModel.buildBlankNode=function(b,c,a,d){null!=b.valuetmp&&(b.value=b.valuetmp);0===b.value.indexOf("_:")&&(b.value=b.value.split("_:")[1]);return new RDFModel.BlankNode(b.value)};RDFModel.buildLiteral=function(b,c,a,d){return new RDFModel.Literal(b.value,b.lang,b.type)};RDFModel.buildNamedNode=function(b,c,a,d){null==b.value&&null!=b.prefix&&(c=a.resolveNsInEnvironment(b.prefix,d),b.value=c+b.suffix);return new RDFModel.NamedNode(b)};RDFModel.rdf=
new RDFModel.RDFEnvironment;z.exports=RDFModel},{"./query_filters":54,"./utils":59}],58:[function(u,z,w){function l(b){switch(b[0]){case '"':return 0<b.indexOf("^^")?(b=b.split("^^"),{literal:b[0]+"^^<"+b[1]+">"}):{literal:b};case "_":return{blank:b.replace("b","")};default:return{token:"uri",value:b,prefix:null,suffix:null}}}var t=u("n3").Parser;z.exports={RVN3Parser:{parser:{async:!0,parse:function(b,c,a,d){d||(d=a,a=c,c=null);c&&"string"===typeof c&&(c={token:"uri",value:c,prefix:null,suffix:null});
a&&a.baseURI&&(a.documentIRI=a.baseURI);var f=[];(new t(a)).parse(b,function(a,b){a?d(a):b?f.push({subject:l(b.subject),predicate:l(b.predicate),object:l(b.object),graph:c}):d(!1,f)})},resetBlankNodeIds:function(){t._resetBlankNodeIds()}}}}},{n3:27}],59:[function(u,z,w){(function(l){var t=function(){return"undefined"!==typeof l&&l.nextTick?l.nextTick:"undefined"!==typeof window&&window.setImmediate?window.setImmediate:function(a){setTimeout(a,0)}}(),b=0,c=100,a=function(a){try{if(null==a)return"";
if("uri"===a.token)return"u"+a.value;if("blank"===a.token)return"b"+a.value;if("literal"===a.token){var b="l"+a.value,b=b+(a.type||"");return b+=a.lang||""}}catch(c){if("object"===typeof a){b="";for(p in a)b=b+p+a[p];return b}return a}};parseISO8601=function(a){return Date.parse(a)};Date.prototype.toISOString||function(){function a(b){return 10>b?"0"+b:b}Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+
":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"."+(this.getUTCMilliseconds()/1E3).toFixed(3).slice(2,5)+"Z"}}();iso8601=function(a){return a.toISOString()};compareDateComponents=function(a,b){var c=parseISO8601(a),d=parseISO8601(b);return c==d?0:c<d?-1:1};lexicalFormLiteral=function(a,b){var c=a.value,d=a.lang,e=a.type,f=null;null!=c&&null!=e&&"string"!=typeof e?(c=e.value,null==c&&(c=e.suffix,e=b.namespaces[e.prefix],a.type=e+c,c=e+c),f=-1!=c.indexOf("hexBinary")?'"'+a.value.toLowerCase()+
'"^^<'+c+">":'"'+a.value+'"^^<'+c+">"):f=null==d&&null==e?'"'+c+'"':null==e?'"'+c+'"@'+d:-1!=e.indexOf("hexBinary")?'"'+a.value.toLowerCase()+'"^^<'+e+">":'"'+a.value+'"^^<'+e+">";return f};normalizeUnicodeLiterals=function(a){for(var b=a.match(/\\u[0-9abcdefABCDEF]{4,4}/g)||[],c={},d=0;d<b.length;d++)null==c[b[d]]&&(c[b[d]]=!0,a=a.replace(new RegExp("\\"+b[d],"g"),eval("'"+b[d]+"'")));return a};registerIndexedDB=function(a){if("undefined"===typeof window){var b=u("sqlite3"),c=u("indexeddb-js"),b=
new b.Database(":memory:"),c=c.makeScope("sqlite3",b);a.indexedDB=c.indexedDB;a.IDBKeyRange=c.IDBKeyRange}else window.indexedDB=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,window.IDBKeyRange=window.IDBKeyRange||window.webkitIDBKeyRange||window.msIDBKeyRange,window.indexedDB?(a.indexedDB=window.indexedDB,a.IDBKeyRange=window.IDBKeyRange):callback(null,Error("The browser does not support IndexDB."))};var a=function(a){try{if(null==a)return"";if("uri"===a.token)return"u"+
a.value;if("blank"===a.token)return"b"+a.value;if("literal"===a.token){var b="l"+a.value,b=b+(a.type||"");return b+=a.lang||""}}catch(c){if("object"===typeof a){b="";for(p in a)b=b+p+a[p];return b}return a}},d=function(a,b){for(var c=[],d=0;d<a.length;d++)b(a[d])&&c.push(a[d]);return c},f=function(a,b){if(a.forEach)a.forEach(b);else for(var c=0;c<a.length;c++)b(a[c])};clone=function(a){return JSON.parse(JSON.stringify(a))};var g=function(){function a(){}return function(b){var c=typeof b;if("function"==
c||b&&"object"==c){a.prototype=b;var d=new a;a.prototype=null}return d||void 0}}(),e=function(a,b,c){a()?b(function(d){if(d)return c(d);e(a,b,c)}):c()},h=function(a,b,c){c=c||function(){};if(!a.length)return c();var d=0,e=function(){b(a[d],function(b){b?(c(b),c=function(){}):(d+=1,d>=a.length?c():e())})};e()},k=function(a,b,c,d){h(a,function(a,d){c(b,a,function(a,c){b=c;d(a)})},function(a){d(a,b)})};z.exports={nextTick:function(a){b++;b<c?a():(b=0,t(a))},hasTerm:a,lexicalFormBaseUri:function(a,b){var c=
null;b=b||{};if(null==a.value)var c=a.prefix,d=a.suffix,e=b.namespaces[c],c=null!=e?e+d:c+":"+d;else c=a.value;if(null===c)return null;-1==c.indexOf(":")&&(c=(b.base||"")+c);return c},parseISO8601:parseISO8601,compareDateComponents:compareDateComponents,iso8601:iso8601,normalizeUnicodeLiterals:normalizeUnicodeLiterals,lexicalFormLiteral:lexicalFormLiteral,registerIndexedDB:registerIndexedDB,guid:function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+
a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},hashTerm:a,keys:function(a){var b=[],c;for(c in a)b.push(c);return b},values:function(a){var b=[],c;for(c in a)b.push(a[c]);return b},size:function(a){if(a.length)return a.length;var b=0,c;for(c in a)b++;return b},map:function(a,b){if(a.map)return a.map(b);for(var c=[],d=0;d<a.length;d++)c[d]=b(a[d]);return c},each:f,forEach:f,include:function(a,b){for(var c=0;c<a.length;c++)if(a[c]===b)return!0;return!1},reject:d,remove:d,clone:clone,create:g,whilst:e,
eachSeries:h,seq:function(){var a=arguments;return function(){var b=this,c=Array.prototype.slice.call(arguments),d=c.pop();k(a,c,function(a,c,d){c.apply(b,a.concat([function(){var a=arguments[0],b=Array.prototype.slice.call(arguments,1);d(a,b)}]))},function(a,c){d.apply(b,[a].concat(c))})}},yieldFrequency:function(a){c=a}}}).call(this,u("7YKIPe"))},{"7YKIPe":10}]},{},[43])(43)});
