/*
 BSD 3-Clause License
 Copyright (c) 2011-2014 Digital Bazaar, Inc.
 All rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are met:

 Redistributions of source code must retain the above copyright notice,
 this list of conditions and the following disclaimer.

 Redistributions in binary form must reproduce the above copyright
 notice, this list of conditions and the following disclaimer in the
 documentation and/or other materials provided with the distribution.

 Neither the name of the Digital Bazaar, Inc. nor the names of its
 contributors may be used to endorse or promote products derived from
 this software without specific prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
 TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
 PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
 TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/
!function(ga){if("object"==typeof exports)module.exports=ga();else if("function"==typeof define&&define.amd)define(ga);else{var u;"undefined"!=typeof window?u=window:"undefined"!=typeof global?u=global:"undefined"!=typeof self&&(u=self);u.rdfstore=ga()}}(function(){return function u(x,y,k){function r(a,c){if(!y[a]){if(!x[a]){var d="function"==typeof require&&require;if(!c&&d)return d(a,!0);if(b)return b(a,!0);throw Error("Cannot find module '"+a+"'");}d=y[a]={exports:{}};x[a][0].call(d.exports,function(c){var b=
x[a][1][c];return r(b?b:c)},d,d.exports,u,x,y,k)}return y[a].exports}for(var b="function"==typeof require&&require,d=0;d<k.length;d++)r(k[d]);return r}({1:[function(u,x,y){(function(){function k(b){this.message=b}var r="undefined"!=typeof y?y:this;k.prototype=Error();k.prototype.name="InvalidCharacterError";r.btoa||(r.btoa=function(b){for(var d,a,c=0,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",g="";b.charAt(c|0)||(f="=",c%1);g+=f.charAt(63&d>>8-c%1*8)){a=b.charCodeAt(c+=
.75);if(255<a)throw new k("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");d=d<<8|a}return g});r.atob||(r.atob=function(b){b=b.replace(/=+$/,"");if(1==b.length%4)throw new k("'atob' failed: The string to be decoded is not correctly encoded.");for(var d=0,a,c,f=0,g="";c=b.charAt(f++);~c&&(a=d%4?64*a+c:c,d++%4)?g+=String.fromCharCode(255&a>>(-2*d&6)):0)c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(c);return g})})()},{}],2:[function(u,
x,y){(function(k){function r(b){b=b.charCodeAt(0);if(43===b||45===b)return 62;if(47===b||95===b)return 63;if(48>b)return-1;if(58>b)return b-48+52;if(91>b)return b-65;if(123>b)return b-97+26}var b="undefined"!==typeof Uint8Array?Uint8Array:Array;k.toByteArray=function(d){function a(a){h[l++]=a}var c,f,g,e,h;if(0<d.length%4)throw Error("Invalid string. Length must be a multiple of 4");c=d.length;e="="===d.charAt(c-2)?2:"="===d.charAt(c-1)?1:0;h=new b(3*d.length/4-e);f=0<e?d.length-4:d.length;var l=
0;for(c=0;c<f;c+=4)g=r(d.charAt(c))<<18|r(d.charAt(c+1))<<12|r(d.charAt(c+2))<<6|r(d.charAt(c+3)),a((g&16711680)>>16),a((g&65280)>>8),a(g&255);2===e?(g=r(d.charAt(c))<<2|r(d.charAt(c+1))>>4,a(g&255)):1===e&&(g=r(d.charAt(c))<<10|r(d.charAt(c+1))<<4|r(d.charAt(c+2))>>2,a(g>>8&255),a(g&255));return h};k.fromByteArray=function(b){var a,c=b.length%3,f="",g,e;a=0;for(e=b.length-c;a<e;a+=3)g=(b[a]<<16)+(b[a+1]<<8)+b[a+2],g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(g>>18&
63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(g>>12&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(g>>6&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(g&63),f+=g;switch(c){case 1:g=b[b.length-1];f+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(g>>2);f+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(g<<4&63);f+="==";break;case 2:g=(b[b.length-2]<<8)+b[b.length-
1],f+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(g>>10),f+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(g>>4&63),f+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(g<<2&63),f+="="}return f}})("undefined"===typeof y?this.base64js={}:y)},{}],3:[function(u,x,y){(function(k,r){(function(){function b(a){return"function"===typeof a}function d(){return function(){k.nextTick(g)}}function a(){var a=0,c=new N(g),b=document.createTextNode("");
c.observe(b,{characterData:!0});return function(){b.data=a=++a%2}}function c(){var a=new MessageChannel;a.port1.onmessage=g;return function(){a.port2.postMessage(0)}}function f(){return function(){setTimeout(g,1)}}function g(){for(var a=0;a<C;a+=2)(0,G[a])(G[a+1]),G[a]=void 0,G[a+1]=void 0;C=0}function e(){}function h(a,c,b,e){try{a.call(c,b,e)}catch(d){return d}}function l(a,c,b){z(function(a){var e=!1,d=h(b,c,function(b){e||(e=!0,c!==b?n(a,b):A(a,b))},function(c){e||(e=!0,w(a,c))},"Settle: "+(a._label||
" unknown promise"));!e&&d&&(e=!0,w(a,d))},a)}function v(a,c){1===c._state?A(a,c._result):2===a._state?w(a,c._result):F(c,void 0,function(c){n(a,c)},function(c){w(a,c)})}function n(a,c){if(a===c)w(a,new TypeError("You cannot resolve a promise with itself"));else if("function"===typeof c||"object"===typeof c&&null!==c)if(c.constructor===a.constructor)v(a,c);else{var e;try{e=c.then}catch(d){M.error=d,e=M}e===M?w(a,M.error):void 0===e?A(a,c):b(e)?l(a,c,e):A(a,c)}else A(a,c)}function t(a){a._onerror&&
a._onerror(a._result);H(a)}function A(a,c){void 0===a._state&&(a._result=c,a._state=1,0!==a._subscribers.length&&z(H,a))}function w(a,c){void 0===a._state&&(a._state=2,a._result=c,z(t,a))}function F(a,c,b,e){var d=a._subscribers,f=d.length;a._onerror=null;d[f]=c;d[f+1]=b;d[f+2]=e;0===f&&a._state&&z(H,a)}function H(a){var c=a._subscribers,b=a._state;if(0!==c.length){for(var e,d,f=a._result,g=0;g<c.length;g+=3)e=c[g],d=c[g+b],e?I(b,e,d,f):d(f);a._subscribers.length=0}}function D(){this.error=null}function I(a,
c,e,d){var f=b(e),g,m,q,h;if(f){try{g=e(d)}catch(l){ha.error=l,g=ha}g===ha?(h=!0,m=g.error,g=null):q=!0;if(c===g){w(c,new TypeError("A promises callback cannot return that same promise."));return}}else g=d,q=!0;void 0===c._state&&(f&&q?n(c,g):h?w(c,m):1===a?A(c,g):2===a&&w(c,g))}function W(a,c){try{c(function(c){n(a,c)},function(c){w(a,c)})}catch(b){w(a,b)}}function q(a,c,b,d){this._instanceConstructor=a;this.promise=new a(e,d);this._abortOnReject=b;this._validateInput(c)?(this._input=c,this._remaining=
this.length=c.length,this._init(),0===this.length?A(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&A(this.promise,this._result))):w(this.promise,this._validationError())}function m(a){this._id=va++;this._result=this._state=void 0;this._subscribers=[];if(e!==a){if(!b(a))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof m))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
W(this,a)}}var B=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},C=0,z=function(a,c){G[C]=a;G[C+1]=c;C+=2;2===C&&X()},u="undefined"!==typeof window?window:{},N=u.MutationObserver||u.WebKitMutationObserver,u="undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof importScripts&&"undefined"!==typeof MessageChannel,G=Array(1E3),X;X="undefined"!==typeof k&&"[object process]"==={}.toString.call(k)?d():N?a():u?c():f();var M=new D,ha=new D;q.prototype._validateInput=
function(a){return B(a)};q.prototype._validationError=function(){return Error("Array Methods must be provided an Array")};q.prototype._init=function(){this._result=Array(this.length)};q.prototype._enumerate=function(){for(var a=this.length,c=this.promise,b=this._input,e=0;void 0===c._state&&e<a;e++)this._eachEntry(b[e],e)};q.prototype._eachEntry=function(a,c){var b=this._instanceConstructor;"object"===typeof a&&null!==a?a.constructor===b&&void 0!==a._state?(a._onerror=null,this._settledAt(a._state,
c,a._result)):this._willSettleAt(b.resolve(a),c):(this._remaining--,this._result[c]=this._makeResult(1,c,a))};q.prototype._settledAt=function(a,c,b){var e=this.promise;void 0===e._state&&(this._remaining--,this._abortOnReject&&2===a?w(e,b):this._result[c]=this._makeResult(a,c,b));0===this._remaining&&A(e,this._result)};q.prototype._makeResult=function(a,c,b){return b};q.prototype._willSettleAt=function(a,c){var b=this;F(a,void 0,function(a){b._settledAt(1,c,a)},function(a){b._settledAt(2,c,a)})};
var va=0;m.all=function(a,c){return(new q(this,a,!0,c)).promise};m.race=function(a,c){function b(a){n(f,a)}function d(a){w(f,a)}var f=new this(e,c);if(!B(a))return w(f,new TypeError("You must pass an array to race.")),f;for(var g=a.length,m=0;void 0===f._state&&m<g;m++)F(this.resolve(a[m]),void 0,b,d);return f};m.resolve=function(a,c){if(a&&"object"===typeof a&&a.constructor===this)return a;var b=new this(e,c);n(b,a);return b};m.reject=function(a,c){var b=new this(e,c);w(b,a);return b};m.prototype=
{constructor:m,then:function(a,c){var b=this._state;if(1===b&&!a||2===b&&!c)return this;var d=new this.constructor(e),f=this._result;if(b){var g=arguments[b-1];z(function(){I(b,d,g,f)})}else F(this,d,a,c);return d},"catch":function(a){return this.then(null,a)}};u={Promise:m,polyfill:function(){var a;a="undefined"!==typeof r?r:"undefined"!==typeof window&&window.document?window:self;"Promise"in a&&"resolve"in a.Promise&&"reject"in a.Promise&&"all"in a.Promise&&"race"in a.Promise&&function(){var c;
new a.Promise(function(a){c=a});return b(c)}()||(a.Promise=m)}};"undefined"!==typeof x&&x.exports?x.exports=u:"undefined"!==typeof this&&(this.ES6Promise=u)}).call(this)}).call(this,u("7YKIPe"),"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"7YKIPe":10}],4:[function(u,x,y){function k(){this._events=this._events||{};this._maxListeners=this._maxListeners||void 0}function r(b){return"function"===typeof b}function b(b){return"object"===typeof b&&null!==b}x.exports=k;k.EventEmitter=
k;k.prototype._events=void 0;k.prototype._maxListeners=void 0;k.defaultMaxListeners=10;k.prototype.setMaxListeners=function(b){if("number"!==typeof b||0>b||isNaN(b))throw TypeError("n must be a positive number");this._maxListeners=b;return this};k.prototype.emit=function(d){var a,c,f,g;this._events||(this._events={});if("error"===d&&(!this._events.error||b(this._events.error)&&!this._events.error.length)){a=arguments[1];if(a instanceof Error)throw a;throw TypeError('Uncaught, unspecified "error" event.');
}c=this._events[d];if(void 0===c)return!1;if(r(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:a=arguments.length;f=Array(a-1);for(g=1;g<a;g++)f[g-1]=arguments[g];c.apply(this,f)}else if(b(c)){a=arguments.length;f=Array(a-1);for(g=1;g<a;g++)f[g-1]=arguments[g];c=c.slice();a=c.length;for(g=0;g<a;g++)c[g].apply(this,f)}return!0};k.prototype.addListener=function(d,a){var c;if(!r(a))throw TypeError("listener must be a function");
this._events||(this._events={});this._events.newListener&&this.emit("newListener",d,r(a.listener)?a.listener:a);this._events[d]?b(this._events[d])?this._events[d].push(a):this._events[d]=[this._events[d],a]:this._events[d]=a;b(this._events[d])&&!this._events[d].warned&&(c=void 0!==this._maxListeners?this._maxListeners:k.defaultMaxListeners)&&0<c&&this._events[d].length>c&&(this._events[d].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",
this._events[d].length),"function"===typeof console.trace&&console.trace());return this};k.prototype.on=k.prototype.addListener;k.prototype.once=function(b,a){function c(){this.removeListener(b,c);f||(f=!0,a.apply(this,arguments))}if(!r(a))throw TypeError("listener must be a function");var f=!1;c.listener=a;this.on(b,c);return this};k.prototype.removeListener=function(d,a){var c,f,g;if(!r(a))throw TypeError("listener must be a function");if(!this._events||!this._events[d])return this;c=this._events[d];
g=c.length;f=-1;if(c===a||r(c.listener)&&c.listener===a)delete this._events[d],this._events.removeListener&&this.emit("removeListener",d,a);else if(b(c)){for(;0<g--;)if(c[g]===a||c[g].listener&&c[g].listener===a){f=g;break}if(0>f)return this;1===c.length?(c.length=0,delete this._events[d]):c.splice(f,1);this._events.removeListener&&this.emit("removeListener",d,a)}return this};k.prototype.removeAllListeners=function(b){var a;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?
this._events={}:this._events[b]&&delete this._events[b],this;if(0===arguments.length){for(a in this._events)"removeListener"!==a&&this.removeAllListeners(a);this.removeAllListeners("removeListener");this._events={};return this}a=this._events[b];if(r(a))this.removeListener(b,a);else for(;a.length;)this.removeListener(b,a[a.length-1]);delete this._events[b];return this};k.prototype.listeners=function(b){return this._events&&this._events[b]?r(this._events[b])?[this._events[b]]:this._events[b].slice():
[]};k.listenerCount=function(b,a){return b._events&&b._events[a]?r(b._events[a])?1:b._events[a].length:0}},{}],5:[function(u,x,y){},{}],6:[function(u,x,y){function k(a,c,b){if(!(this instanceof k))return new k(a,c,b);var e=typeof a;if("base64"===c&&"string"===e)for(a=a.trim?a.trim():a.replace(/^\s+|\s+$/g,"");0!==a.length%4;)a+="=";var f;if("number"===e)f=w(a);else if("string"===e)f=k.byteLength(a,c);else if("object"===e)f=w(a.length);else throw Error("First argument needs to be a number, array or string.");
var d;k._useTypedArrays?d=k._augment(new Uint8Array(f)):(d=this,d.length=f,d._isBuffer=!0);if(k._useTypedArrays&&"number"===typeof a.byteLength)d._set(a);else{var g=a;if(F(g)||k.isBuffer(g)||g&&"object"===typeof g&&"number"===typeof g.length)for(c=0;c<f;c++)k.isBuffer(a)?d[c]=a.readUInt8(c):d[c]=a[c];else if("string"===e)d.write(a,0,c);else if("number"===e&&!k._useTypedArrays&&!b)for(c=0;c<f;c++)d[c]=0}return d}function r(a,c,b){var e="";for(b=Math.min(a.length,b);c<b;c++)e+=String.fromCharCode(a[c]);
return e}function b(a,c,b,e){e||(z("boolean"===typeof b,"missing or invalid endian"),z(void 0!==c&&null!==c,"missing offset"),z(c+1<a.length,"Trying to read beyond buffer length"));e=a.length;if(!(c>=e))return b?(b=a[c],c+1<e&&(b|=a[c+1]<<8)):(b=a[c]<<8,c+1<e&&(b|=a[c+1])),b}function d(a,c,b,e){e||(z("boolean"===typeof b,"missing or invalid endian"),z(void 0!==c&&null!==c,"missing offset"),z(c+3<a.length,"Trying to read beyond buffer length"));e=a.length;if(!(c>=e)){var f;b?(c+2<e&&(f=a[c+2]<<16),
c+1<e&&(f|=a[c+1]<<8),f|=a[c],c+3<e&&(f+=a[c+3]<<24>>>0)):(c+1<e&&(f=a[c+1]<<16),c+2<e&&(f|=a[c+2]<<8),c+3<e&&(f|=a[c+3]),f+=a[c]<<24>>>0);return f}}function a(a,c,e,f){f||(z("boolean"===typeof e,"missing or invalid endian"),z(void 0!==c&&null!==c,"missing offset"),z(c+1<a.length,"Trying to read beyond buffer length"));if(!(c>=a.length))return a=b(a,c,e,!0),a&32768?-1*(65535-a+1):a}function c(a,c,b,e){e||(z("boolean"===typeof b,"missing or invalid endian"),z(void 0!==c&&null!==c,"missing offset"),
z(c+3<a.length,"Trying to read beyond buffer length"));if(!(c>=a.length))return a=d(a,c,b,!0),a&2147483648?-1*(4294967295-a+1):a}function f(a,c,b,e){e||(z("boolean"===typeof b,"missing or invalid endian"),z(c+3<a.length,"Trying to read beyond buffer length"));return N.read(a,c,b,23,4)}function g(a,c,b,e){e||(z("boolean"===typeof b,"missing or invalid endian"),z(c+7<a.length,"Trying to read beyond buffer length"));return N.read(a,c,b,52,8)}function e(a,c,b,e,f){f||(z(void 0!==c&&null!==c,"missing value"),
z("boolean"===typeof e,"missing or invalid endian"),z(void 0!==b&&null!==b,"missing offset"),z(b+1<a.length,"trying to write beyond buffer length"),m(c,65535));var d=a.length;if(!(b>=d))for(f=0,d=Math.min(d-b,2);f<d;f++)a[b+f]=(c&255<<8*(e?f:1-f))>>>8*(e?f:1-f)}function h(a,c,b,e,f){f||(z(void 0!==c&&null!==c,"missing value"),z("boolean"===typeof e,"missing or invalid endian"),z(void 0!==b&&null!==b,"missing offset"),z(b+3<a.length,"trying to write beyond buffer length"),m(c,4294967295));var d=a.length;
if(!(b>=d))for(f=0,d=Math.min(d-b,4);f<d;f++)a[b+f]=c>>>8*(e?f:3-f)&255}function l(a,c,b,f,d){d||(z(void 0!==c&&null!==c,"missing value"),z("boolean"===typeof f,"missing or invalid endian"),z(void 0!==b&&null!==b,"missing offset"),z(b+1<a.length,"Trying to write beyond buffer length"),B(c,32767,-32768));b>=a.length||(0<=c?e(a,c,b,f,d):e(a,65535+c+1,b,f,d))}function v(a,c,b,e,f){f||(z(void 0!==c&&null!==c,"missing value"),z("boolean"===typeof e,"missing or invalid endian"),z(void 0!==b&&null!==b,"missing offset"),
z(b+3<a.length,"Trying to write beyond buffer length"),B(c,2147483647,-2147483648));b>=a.length||(0<=c?h(a,c,b,e,f):h(a,4294967295+c+1,b,e,f))}function n(a,c,b,e,f){f||(z(void 0!==c&&null!==c,"missing value"),z("boolean"===typeof e,"missing or invalid endian"),z(void 0!==b&&null!==b,"missing offset"),z(b+3<a.length,"Trying to write beyond buffer length"),C(c,3.4028234663852886E38,-3.4028234663852886E38));b>=a.length||N.write(a,c,b,e,23,4)}function t(a,c,b,e,f){f||(z(void 0!==c&&null!==c,"missing value"),
z("boolean"===typeof e,"missing or invalid endian"),z(void 0!==b&&null!==b,"missing offset"),z(b+7<a.length,"Trying to write beyond buffer length"),C(c,1.7976931348623157E308,-1.7976931348623157E308));b>=a.length||N.write(a,c,b,e,52,8)}function A(a,c,b){if("number"!==typeof a)return b;a=~~a;if(a>=c)return c;if(0<=a)return a;a+=c;return 0<=a?a:0}function w(a){a=~~Math.ceil(+a);return 0>a?0:a}function F(a){return(Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)})(a)}
function H(a){return 16>a?"0"+a.toString(16):a.toString(16)}function D(a){for(var c=[],b=0;b<a.length;b++){var e=a.charCodeAt(b);if(127>=e)c.push(a.charCodeAt(b));else{var f=b;55296<=e&&57343>=e&&b++;e=encodeURIComponent(a.slice(f,b+1)).substr(1).split("%");for(f=0;f<e.length;f++)c.push(parseInt(e[f],16))}}return c}function I(a){for(var c=[],b=0;b<a.length;b++)c.push(a.charCodeAt(b)&255);return c}function W(a,c,b,e){for(var f=0;f<e&&!(f+b>=c.length||f>=a.length);f++)c[f+b]=a[f];return f}function q(a){try{return decodeURIComponent(a)}catch(c){return String.fromCharCode(65533)}}
function m(a,c){z("number"===typeof a,"cannot write a non-number as a number");z(0<=a,"specified a negative value for writing an unsigned value");z(a<=c,"value is larger than maximum value for type");z(Math.floor(a)===a,"value has a fractional component")}function B(a,c,b){z("number"===typeof a,"cannot write a non-number as a number");z(a<=c,"value larger than maximum allowed value");z(a>=b,"value smaller than minimum allowed value");z(Math.floor(a)===a,"value has a fractional component")}function C(a,
c,b){z("number"===typeof a,"cannot write a non-number as a number");z(a<=c,"value larger than maximum allowed value");z(a>=b,"value smaller than minimum allowed value")}function z(a,c){if(!a)throw Error(c||"Failed assertion");}var O=u("base64-js"),N=u("ieee754");y.Buffer=k;y.SlowBuffer=k;y.INSPECT_MAX_BYTES=50;k.poolSize=8192;k._useTypedArrays=function(){try{var a=new ArrayBuffer(0),c=new Uint8Array(a);c.foo=function(){return 42};return 42===c.foo()&&"function"===typeof c.subarray}catch(b){return!1}}();
k.isEncoding=function(a){switch(String(a).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "binary":case "base64":case "raw":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};k.isBuffer=function(a){return!(null===a||void 0===a||!a._isBuffer)};k.byteLength=function(a,c){var b;a+="";switch(c||"utf8"){case "hex":b=a.length/2;break;case "utf8":case "utf-8":b=D(a).length;break;case "ascii":case "binary":case "raw":b=a.length;break;case "base64":b=O.toByteArray(a).length;
break;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":b=2*a.length;break;default:throw Error("Unknown encoding");}return b};k.concat=function(a,c){z(F(a),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array.");if(0===a.length)return new k(0);if(1===a.length)return a[0];var b;if("number"!==typeof c)for(b=c=0;b<a.length;b++)c+=a[b].length;var e=new k(c),f=0;for(b=0;b<a.length;b++){var d=a[b];d.copy(e,f);f+=d.length}return e};k.prototype.write=function(a,c,b,e){if(isFinite(c))isFinite(b)||
(e=b,b=void 0);else{var f=e;e=c;c=b;b=f}c=Number(c)||0;f=this.length-c;b?(b=Number(b),b>f&&(b=f)):b=f;e=String(e||"utf8").toLowerCase();switch(e){case "hex":c=Number(c)||0;e=this.length-c;b?(b=Number(b),b>e&&(b=e)):b=e;e=a.length;z(0===e%2,"Invalid hex string");b>e/2&&(b=e/2);for(e=0;e<b;e++)f=parseInt(a.substr(2*e,2),16),z(!isNaN(f),"Invalid hex string"),this[c+e]=f;k._charsWritten=2*e;a=e;break;case "utf8":case "utf-8":a=k._charsWritten=W(D(a),this,c,b);break;case "ascii":a=k._charsWritten=W(I(a),
this,c,b);break;case "binary":a=k._charsWritten=W(I(a),this,c,b);break;case "base64":a=k._charsWritten=W(O.toByteArray(a),this,c,b);break;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":for(var d,f=[],g=0;g<a.length;g++)d=a.charCodeAt(g),e=d>>8,d%=256,f.push(d),f.push(e);a=k._charsWritten=W(f,this,c,b);break;default:throw Error("Unknown encoding");}return a};k.prototype.toString=function(a,c,b){a=String(a||"utf8").toLowerCase();c=Number(c)||0;b=void 0!==b?Number(b):b=this.length;if(b===c)return"";
switch(a){case "hex":a=this.length;if(!c||0>c)c=0;if(!b||0>b||b>a)b=a;for(a="";c<b;c++)a+=H(this[c]);b=a;break;case "utf8":case "utf-8":var e=a="";for(b=Math.min(this.length,b);c<b;c++)127>=this[c]?(a+=q(e)+String.fromCharCode(this[c]),e=""):e+="%"+this[c].toString(16);b=a+q(e);break;case "ascii":b=r(this,c,b);break;case "binary":b=r(this,c,b);break;case "base64":b=0===c&&b===this.length?O.fromByteArray(this):O.fromByteArray(this.slice(c,b));break;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":b=
this.slice(c,b);c="";for(a=0;a<b.length;a+=2)c+=String.fromCharCode(b[a]+256*b[a+1]);b=c;break;default:throw Error("Unknown encoding");}return b};k.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};k.prototype.copy=function(a,c,b,e){b||(b=0);e||0===e||(e=this.length);c||(c=0);if(e!==b&&0!==a.length&&0!==this.length)if(z(e>=b,"sourceEnd < sourceStart"),z(0<=c&&c<a.length,"targetStart out of bounds"),z(0<=b&&b<this.length,"sourceStart out of bounds"),
z(0<=e&&e<=this.length,"sourceEnd out of bounds"),e>this.length&&(e=this.length),a.length-c<e-b&&(e=a.length-c+b),e-=b,100>e||!k._useTypedArrays)for(var f=0;f<e;f++)a[f+c]=this[f+b];else a._set(this.subarray(b,b+e),c)};k.prototype.slice=function(a,c){var b=this.length;a=A(a,b,0);c=A(c,b,b);if(k._useTypedArrays)return k._augment(this.subarray(a,c));for(var b=c-a,e=new k(b,void 0,!0),f=0;f<b;f++)e[f]=this[f+a];return e};k.prototype.get=function(a){console.log(".get() is deprecated. Access using array indexes instead.");
return this.readUInt8(a)};k.prototype.set=function(a,c){console.log(".set() is deprecated. Access using array indexes instead.");return this.writeUInt8(a,c)};k.prototype.readUInt8=function(a,c){c||(z(void 0!==a&&null!==a,"missing offset"),z(a<this.length,"Trying to read beyond buffer length"));if(!(a>=this.length))return this[a]};k.prototype.readUInt16LE=function(a,c){return b(this,a,!0,c)};k.prototype.readUInt16BE=function(a,c){return b(this,a,!1,c)};k.prototype.readUInt32LE=function(a,c){return d(this,
a,!0,c)};k.prototype.readUInt32BE=function(a,c){return d(this,a,!1,c)};k.prototype.readInt8=function(a,c){c||(z(void 0!==a&&null!==a,"missing offset"),z(a<this.length,"Trying to read beyond buffer length"));if(!(a>=this.length))return this[a]&128?-1*(255-this[a]+1):this[a]};k.prototype.readInt16LE=function(c,b){return a(this,c,!0,b)};k.prototype.readInt16BE=function(c,b){return a(this,c,!1,b)};k.prototype.readInt32LE=function(a,b){return c(this,a,!0,b)};k.prototype.readInt32BE=function(a,b){return c(this,
a,!1,b)};k.prototype.readFloatLE=function(a,c){return f(this,a,!0,c)};k.prototype.readFloatBE=function(a,c){return f(this,a,!1,c)};k.prototype.readDoubleLE=function(a,c){return g(this,a,!0,c)};k.prototype.readDoubleBE=function(a,c){return g(this,a,!1,c)};k.prototype.writeUInt8=function(a,c,b){b||(z(void 0!==a&&null!==a,"missing value"),z(void 0!==c&&null!==c,"missing offset"),z(c<this.length,"trying to write beyond buffer length"),m(a,255));c>=this.length||(this[c]=a)};k.prototype.writeUInt16LE=function(a,
c,b){e(this,a,c,!0,b)};k.prototype.writeUInt16BE=function(a,c,b){e(this,a,c,!1,b)};k.prototype.writeUInt32LE=function(a,c,b){h(this,a,c,!0,b)};k.prototype.writeUInt32BE=function(a,c,b){h(this,a,c,!1,b)};k.prototype.writeInt8=function(a,c,b){b||(z(void 0!==a&&null!==a,"missing value"),z(void 0!==c&&null!==c,"missing offset"),z(c<this.length,"Trying to write beyond buffer length"),B(a,127,-128));c>=this.length||(0<=a?this.writeUInt8(a,c,b):this.writeUInt8(255+a+1,c,b))};k.prototype.writeInt16LE=function(a,
c,b){l(this,a,c,!0,b)};k.prototype.writeInt16BE=function(a,c,b){l(this,a,c,!1,b)};k.prototype.writeInt32LE=function(a,c,b){v(this,a,c,!0,b)};k.prototype.writeInt32BE=function(a,c,b){v(this,a,c,!1,b)};k.prototype.writeFloatLE=function(a,c,b){n(this,a,c,!0,b)};k.prototype.writeFloatBE=function(a,c,b){n(this,a,c,!1,b)};k.prototype.writeDoubleLE=function(a,c,b){t(this,a,c,!0,b)};k.prototype.writeDoubleBE=function(a,c,b){t(this,a,c,!1,b)};k.prototype.fill=function(a,c,b){a||(a=0);c||(c=0);b||(b=this.length);
"string"===typeof a&&(a=a.charCodeAt(0));z("number"===typeof a&&!isNaN(a),"value is not a number");z(b>=c,"end < start");if(b!==c&&0!==this.length)for(z(0<=c&&c<this.length,"start out of bounds"),z(0<=b&&b<=this.length,"end out of bounds");c<b;c++)this[c]=a};k.prototype.inspect=function(){for(var a=[],c=this.length,b=0;b<c;b++)if(a[b]=H(this[b]),b===y.INSPECT_MAX_BYTES){a[b+1]="...";break}return"<Buffer "+a.join(" ")+">"};k.prototype.toArrayBuffer=function(){if("undefined"!==typeof Uint8Array){if(k._useTypedArrays)return(new k(this)).buffer;
for(var a=new Uint8Array(this.length),c=0,b=a.length;c<b;c+=1)a[c]=this[c];return a.buffer}throw Error("Buffer.toArrayBuffer not supported in this browser");};var G=k.prototype;k._augment=function(a){a._isBuffer=!0;a._get=a.get;a._set=a.set;a.get=G.get;a.set=G.set;a.write=G.write;a.toString=G.toString;a.toLocaleString=G.toString;a.toJSON=G.toJSON;a.copy=G.copy;a.slice=G.slice;a.readUInt8=G.readUInt8;a.readUInt16LE=G.readUInt16LE;a.readUInt16BE=G.readUInt16BE;a.readUInt32LE=G.readUInt32LE;a.readUInt32BE=
G.readUInt32BE;a.readInt8=G.readInt8;a.readInt16LE=G.readInt16LE;a.readInt16BE=G.readInt16BE;a.readInt32LE=G.readInt32LE;a.readInt32BE=G.readInt32BE;a.readFloatLE=G.readFloatLE;a.readFloatBE=G.readFloatBE;a.readDoubleLE=G.readDoubleLE;a.readDoubleBE=G.readDoubleBE;a.writeUInt8=G.writeUInt8;a.writeUInt16LE=G.writeUInt16LE;a.writeUInt16BE=G.writeUInt16BE;a.writeUInt32LE=G.writeUInt32LE;a.writeUInt32BE=G.writeUInt32BE;a.writeInt8=G.writeInt8;a.writeInt16LE=G.writeInt16LE;a.writeInt16BE=G.writeInt16BE;
a.writeInt32LE=G.writeInt32LE;a.writeInt32BE=G.writeInt32BE;a.writeFloatLE=G.writeFloatLE;a.writeFloatBE=G.writeFloatBE;a.writeDoubleLE=G.writeDoubleLE;a.writeDoubleBE=G.writeDoubleBE;a.fill=G.fill;a.inspect=G.inspect;a.toArrayBuffer=G.toArrayBuffer;return a}},{"base64-js":2,ieee754:23}],7:[function(u,x,y){var k=x.exports;u("events");var r=u("./lib/request"),b=u("url");k.request=function(a,c){"string"===typeof a&&(a=b.parse(a));a||(a={});a.host||a.port||(a.port=parseInt(window.location.port,10));
!a.host&&a.hostname&&(a.host=a.hostname);a.scheme||(a.scheme=window.location.protocol.split(":")[0]);a.host||(a.host=window.location.hostname||window.location.host);/:/.test(a.host)&&(a.port||(a.port=a.host.split(":")[1]),a.host=a.host.split(":")[0]);a.port||(a.port="https"==a.scheme?443:80);var f=new r(new d,a);if(c)f.on("response",c);return f};k.get=function(a,c){a.method="GET";var b=k.request(a,c);b.end();return b};k.Agent=function(){};k.Agent.defaultMaxSockets=4;var d=function(){if("undefined"===
typeof window)throw Error("no window object present");if(window.XMLHttpRequest)return window.XMLHttpRequest;if(window.ActiveXObject)for(var a=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Microsoft.XMLHTTP"],c=0;c<a.length;c++)try{var b=new window.ActiveXObject(a[c]);return function(){if(b){var d=b;b=null;return d}return new window.ActiveXObject(a[c])}}catch(d){}throw Error("ajax not supported in this browser");}();k.STATUS_CODES={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",
202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",
412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",
505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{"./lib/request":8,events:4,url:38}],8:[function(u,x,y){y=u("stream");var k=u("./response"),r=u("Base64");u=u("inherits");var b=x.exports=function(a,b){var g=this;g.writable=!0;g.xhr=a;g.body=[];g.uri=(b.scheme||"http")+"://"+b.host+(b.port?":"+b.port:"")+(b.path||"/");"undefined"===typeof b.withCredentials&&(b.withCredentials=
!0);try{a.withCredentials=b.withCredentials}catch(n){}a.open(b.method||"GET",g.uri,!0);g._headers={};if(b.headers)for(var e=d(b.headers),h=0;h<e.length;h++){var l=e[h];g.isSafeRequestHeader(l)&&g.setHeader(l,b.headers[l])}b.auth&&this.setHeader("Authorization","Basic "+r.btoa(b.auth));var v=new k;v.on("close",function(){g.emit("close")});v.on("ready",function(){g.emit("response",v)});a.onreadystatechange=function(){a.__aborted||v.handle(a)}};u(b,y);b.prototype.setHeader=function(a,b){this._headers[a.toLowerCase()]=
b};b.prototype.getHeader=function(a){return this._headers[a.toLowerCase()]};b.prototype.removeHeader=function(a){delete this._headers[a.toLowerCase()]};b.prototype.write=function(a){this.body.push(a)};b.prototype.destroy=function(a){this.xhr.__aborted=!0;this.xhr.abort();this.emit("close")};b.prototype.end=function(c){void 0!==c&&this.body.push(c);var b=d(this._headers);for(c=0;c<b.length;c++){var g=b[c],e=this._headers[g];if(a(e))for(var h=0;h<e.length;h++)this.xhr.setRequestHeader(g,e[h]);else this.xhr.setRequestHeader(g,
e)}if(0===this.body.length)this.xhr.send("");else if("string"===typeof this.body[0])this.xhr.send(this.body.join(""));else{if(a(this.body[0]))for(b=[],c=0;c<this.body.length;c++)b.push.apply(b,this.body[c]);else if(/Array/.test(Object.prototype.toString.call(this.body[0]))){for(c=h=0;c<this.body.length;c++)h+=this.body[c].length;b=new this.body[0].constructor(h);for(c=g=0;c<this.body.length;c++)for(e=this.body[c],h=0;h<e.length;h++)b[g++]=e[h]}else for(b="",c=0;c<this.body.length;c++)b+=this.body[c].toString();
this.xhr.send(b)}};b.unsafeHeaders="accept-charset accept-encoding access-control-request-headers access-control-request-method connection content-length cookie cookie2 content-transfer-encoding date expect host keep-alive origin referer te trailer transfer-encoding upgrade user-agent via".split(" ");b.prototype.isSafeRequestHeader=function(a){if(!a)return!1;var f;a:if(f=b.unsafeHeaders,a=a.toLowerCase(),f.indexOf)f=f.indexOf(a);else{for(var d=0;d<f.length;d++)if(f[d]===a){f=d;break a}f=-1}return-1===
f};var d=Object.keys||function(a){var b=[],d;for(d in a)b.push(d);return b},a=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}},{"./response":9,Base64:1,inherits:24,stream:15}],9:[function(u,x,y){function k(a){a=a.getAllResponseHeaders().split(/\r?\n/);for(var c={},b=0;b<a.length;b++){var g=a[b];if(""!==g){var e=g.match(/^([^:]+):\s*(.*)/);e?(g=e[1].toLowerCase(),e=e[2],void 0!==c[g]?d(c[g])?c[g].push(e):c[g]=[c[g],e]:c[g]=e):c[g]=!0}}return c}y=u("stream");u=
u("util");x=x.exports=function(a){this.offset=0;this.readable=!0};u.inherits(x,y);var r=!0,b=!0;x.prototype.getResponse=function(a){var c=String(a.responseType).toLowerCase();return"blob"===c?a.responseBlob||a.response:"arraybuffer"===c?a.response:a.responseText};x.prototype.getHeader=function(a){return this.headers[a.toLowerCase()]};x.prototype.handle=function(a){if(2===a.readyState&&b){try{this.statusCode=a.status,this.headers=k(a)}catch(c){b=!1}b&&this.emit("ready")}else if(r&&3===a.readyState){try{this.statusCode||
(this.statusCode=a.status,this.headers=k(a),this.emit("ready"))}catch(c){}try{this._emitData(a)}catch(c){r=!1}}else 4===a.readyState&&(this.statusCode||(this.statusCode=a.status,this.emit("ready")),this._emitData(a),a.error?this.emit("error",this.getResponse(a)):this.emit("end"),this.emit("close"))};x.prototype._emitData=function(a){a=this.getResponse(a);a.toString().match(/ArrayBuffer/)?(this.emit("data",new Uint8Array(a,this.offset)),this.offset=a.byteLength):a.length>this.offset&&(this.emit("data",
a.slice(this.offset)),this.offset=a.length)};var d=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}},{stream:15,util:40}],10:[function(u,x,y){function k(){}u=x.exports={};u.nextTick=function(){if("undefined"!==typeof window&&window.setImmediate)return function(b){return window.setImmediate(b)};if("undefined"!==typeof window&&window.postMessage&&window.addEventListener){var k=[];window.addEventListener("message",function(b){var d=b.source;d!==window&&null!==d||
"process-tick"!==b.data||(b.stopPropagation(),0<k.length&&k.shift()())},!0);return function(b){k.push(b);window.postMessage("process-tick","*")}}return function(b){setTimeout(b,0)}}();u.title="browser";u.browser=!0;u.env={};u.argv=[];u.on=k;u.addListener=k;u.once=k;u.off=k;u.removeListener=k;u.removeAllListeners=k;u.emit=k;u.binding=function(k){throw Error("process.binding is not supported");};u.cwd=function(){return"/"};u.chdir=function(k){throw Error("process.chdir is not supported");}},{}],11:[function(u,
x,y){x.exports=function(r,b,d,a){d=d||"=";var c={};if("string"!==typeof r||0===r.length)return c;var f=/\+/g;r=r.split(b||"&");b=1E3;a&&"number"===typeof a.maxKeys&&(b=a.maxKeys);a=r.length;0<b&&a>b&&(a=b);for(b=0;b<a;++b){var g=r[b].replace(f,"%20"),e=g.indexOf(d),h;0<=e?(h=g.substr(0,e),g=g.substr(e+1)):(h=g,g="");h=decodeURIComponent(h);g=decodeURIComponent(g);Object.prototype.hasOwnProperty.call(c,h)?k(c[h])?c[h].push(g):c[h]=[c[h],g]:c[h]=g}return c};var k=Array.isArray||function(k){return"[object Array]"===
Object.prototype.toString.call(k)}},{}],12:[function(u,x,y){function k(a,c){if(a.map)return a.map(c);for(var b=[],d=0;d<a.length;d++)b.push(c(a[d],d));return b}var r=function(a){switch(typeof a){case "string":return a;case "boolean":return a?"true":"false";case "number":return isFinite(a)?a:"";default:return""}};x.exports=function(a,c,f,g){c=c||"&";f=f||"=";null===a&&(a=void 0);return"object"===typeof a?k(d(a),function(e){var d=encodeURIComponent(r(e))+f;return b(a[e])?a[e].map(function(a){return d+
encodeURIComponent(r(a))}).join(c):d+encodeURIComponent(r(a[e]))}).join(c):g?encodeURIComponent(r(g))+f+encodeURIComponent(r(a)):""};var b=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},d=Object.keys||function(a){var c=[],b;for(b in a)Object.prototype.hasOwnProperty.call(a,b)&&c.push(b);return c}},{}],13:[function(u,x,y){y.decode=y.parse=u("./decode");y.encode=y.stringify=u("./encode")},{"./decode":11,"./encode":12}],14:[function(u,x,y){function k(c){if(!(this instanceof
k))return new k(c);d.call(this,c);a.call(this,c);c&&!1===c.readable&&(this.readable=!1);c&&!1===c.writable&&(this.writable=!1);this.allowHalfOpen=!0;c&&!1===c.allowHalfOpen&&(this.allowHalfOpen=!1);this.once("end",r)}function r(){if(!this.allowHalfOpen&&!this._writableState.ended){var a=this;b(function(){a.end()})}}x.exports=k;x=u("inherits");var b=u("process/browser.js").nextTick,d=u("./readable.js"),a=u("./writable.js");x(k,d);k.prototype.write=a.prototype.write;k.prototype.end=a.prototype.end;
k.prototype._write=a.prototype._write},{"./readable.js":18,"./writable.js":20,inherits:24,"process/browser.js":16}],15:[function(u,x,y){function k(){r.call(this)}x.exports=k;var r=u("events").EventEmitter;u("inherits")(k,r);k.Readable=u("./readable.js");k.Writable=u("./writable.js");k.Duplex=u("./duplex.js");k.Transform=u("./transform.js");k.PassThrough=u("./passthrough.js");k.Stream=k;k.prototype.pipe=function(b,d){function a(a){b.writable&&!1===b.write(a)&&l.pause&&l.pause()}function c(){l.readable&&
l.resume&&l.resume()}function f(){v||(v=!0,b.end())}function g(){v||(v=!0,"function"===typeof b.destroy&&b.destroy())}function e(a){h();if(0===r.listenerCount(this,"error"))throw a;}function h(){l.removeListener("data",a);b.removeListener("drain",c);l.removeListener("end",f);l.removeListener("close",g);l.removeListener("error",e);b.removeListener("error",e);l.removeListener("end",h);l.removeListener("close",h);b.removeListener("close",h)}var l=this;l.on("data",a);b.on("drain",c);b._isStdio||d&&!1===
d.end||(l.on("end",f),l.on("close",g));var v=!1;l.on("error",e);b.on("error",e);l.on("end",h);l.on("close",h);b.on("close",h);b.emit("pipe",l);return b}},{"./duplex.js":14,"./passthrough.js":17,"./readable.js":18,"./transform.js":19,"./writable.js":20,events:4,inherits:24}],16:[function(u,x,y){u=x.exports={};u.nextTick=function(){if("undefined"!==typeof window&&window.setImmediate)return function(k){return window.setImmediate(k)};if("undefined"!==typeof window&&window.postMessage&&window.addEventListener){var k=
[];window.addEventListener("message",function(r){var b=r.source;b!==window&&null!==b||"process-tick"!==r.data||(r.stopPropagation(),0<k.length&&k.shift()())},!0);return function(r){k.push(r);window.postMessage("process-tick","*")}}return function(k){setTimeout(k,0)}}();u.title="browser";u.browser=!0;u.env={};u.argv=[];u.binding=function(k){throw Error("process.binding is not supported");};u.cwd=function(){return"/"};u.chdir=function(k){throw Error("process.chdir is not supported");}},{}],17:[function(u,
x,y){function k(b){if(!(this instanceof k))return new k(b);r.call(this,b)}x.exports=k;var r=u("./transform.js");u("inherits")(k,r);k.prototype._transform=function(b,d,a){a(null,b)}},{"./transform.js":19,inherits:24}],18:[function(u,x,y){(function(k){function r(a,c){a=a||{};var b=a.highWaterMark;this.highWaterMark=b||0===b?b:16384;this.highWaterMark=~~this.highWaterMark;this.buffer=[];this.length=0;this.pipes=null;this.pipesCount=0;this.calledRead=this.reading=this.endEmitted=this.ended=this.flowing=
!1;this.sync=!0;this.readableListening=this.emittedReadable=this.needReadable=!1;this.objectMode=!!a.objectMode;this.defaultEncoding=a.defaultEncoding||"utf8";this.ranOut=!1;this.awaitDrain=0;this.readingMore=!1;this.encoding=this.decoder=null;a.encoding&&(D||(D=u("string_decoder").StringDecoder),this.decoder=new D(a.encoding),this.encoding=a.encoding)}function b(a){if(!(this instanceof b))return new b(a);this._readableState=new r(a,this);this.readable=!0;w.call(this)}function d(a,b,e,d,g){var h;
h=e;var l=null;F.isBuffer(h)||"string"===typeof h||null===h||void 0===h||b.objectMode||l||(l=new TypeError("Invalid non-string/buffer chunk"));(h=l)?a.emit("error",h):null===e||void 0===e?(b.reading=!1,b.ended||(b.decoder&&!b.ended&&(e=b.decoder.end())&&e.length&&(b.buffer.push(e),b.length+=b.objectMode?1:e.length),b.ended=!0,0<b.length?c(a):n(a))):b.objectMode||e&&0<e.length?b.ended&&!g?(e=Error("stream.push() after EOF"),a.emit("error",e)):b.endEmitted&&g?(e=Error("stream.unshift() after end event"),
a.emit("error",e)):(!b.decoder||g||d||(e=b.decoder.write(e)),b.length+=b.objectMode?1:e.length,g?b.buffer.unshift(e):(b.reading=!1,b.buffer.push(e)),b.needReadable&&c(a),f(a,b)):g||(b.reading=!1);return!b.ended&&(b.needReadable||b.length<b.highWaterMark||0===b.length)}function a(a,b){if(0===b.length&&b.ended)return 0;if(b.objectMode)return 0===a?0:1;if(isNaN(a)||null===a)return b.flowing&&b.buffer.length?b.buffer[0].length:b.length;if(0>=a)return 0;if(a>b.highWaterMark){var c=a;if(8388608<=c)c=8388608;
else{c--;for(var e=1;32>e;e<<=1)c|=c>>e;c++}b.highWaterMark=c}if(a>b.length){if(b.ended)return b.length;b.needReadable=!0;return 0}return a}function c(a){var b=a._readableState;b.needReadable=!1;b.emittedReadable||(b.emittedReadable=!0,b.sync?H(function(){a.emit("readable")}):a.emit("readable"))}function f(a,b){b.readingMore||(b.readingMore=!0,H(function(){for(var c=b.length;!b.reading&&!b.flowing&&!b.ended&&b.length<b.highWaterMark&&(a.read(0),c!==b.length);)c=b.length;b.readingMore=!1}))}function g(a){return function(){var b=
a._readableState;b.awaitDrain--;0===b.awaitDrain&&e(a)}}function e(a){function b(a,f,d){!1===a.write(e)&&c.awaitDrain++}var c=a._readableState,e;for(c.awaitDrain=0;c.pipesCount&&null!==(e=a.read());)if(1===c.pipesCount?b(c.pipes,0,null):t(c.pipes,b),a.emit("data",e),0<c.awaitDrain)return;0===c.pipesCount?(c.flowing=!1,0<A.listenerCount(a,"data")&&l(a)):c.ranOut=!0}function h(){this._readableState.ranOut&&(this._readableState.ranOut=!1,e(this))}function l(a,b){if(a._readableState.flowing)throw Error("Cannot switch to old mode now.");
var c=b||!1,e=!1;a.readable=!0;a.pipe=w.prototype.pipe;a.on=a.addListener=w.prototype.on;a.on("readable",function(){e=!0;for(var b;!c&&null!==(b=a.read());)a.emit("data",b);null===b&&(e=!1,a._readableState.needReadable=!0)});a.pause=function(){c=!0;this.emit("pause")};a.resume=function(){c=!1;e?H(function(){a.emit("readable")}):this.read(0);this.emit("resume")};a.emit("readable")}function v(a,b){var c=b.buffer,e=b.length,f=!!b.decoder,d=!!b.objectMode;if(0===c.length)return null;if(0===e)e=null;else if(d)e=
c.shift();else if(!a||a>=e)e=f?c.join(""):F.concat(c,e),c.length=0;else if(a<c[0].length)d=c[0],e=d.slice(0,a),c[0]=d.slice(a);else if(a===c[0].length)e=c.shift();else for(var e=f?"":new F(a),g=0,h=0,n=c.length;h<n&&g<a;h++){var d=c[0],l=Math.min(a-g,d.length);f?e+=d.slice(0,l):d.copy(e,g,0,l);l<d.length?c[0]=d.slice(l):c.shift();g+=l}return e}function n(a){var b=a._readableState;if(0<b.length)throw Error("endReadable called on non-empty stream");!b.endEmitted&&b.calledRead&&(b.ended=!0,H(function(){b.endEmitted||
0!==b.length||(b.endEmitted=!0,a.readable=!1,a.emit("end"))}))}function t(a,b){for(var c=0,e=a.length;c<e;c++)b(a[c],c)}x.exports=b;b.ReadableState=r;var A=u("events").EventEmitter,w=u("./index.js"),F=u("buffer").Buffer,H=u("process/browser.js").nextTick,D;u("inherits")(b,w);b.prototype.push=function(a,b){var c=this._readableState;"string"!==typeof a||c.objectMode||(b=b||c.defaultEncoding,b!==c.encoding&&(a=new F(a,b),b=""));return d(this,c,a,b,!1)};b.prototype.unshift=function(a){return d(this,this._readableState,
a,"",!0)};b.prototype.setEncoding=function(a){D||(D=u("string_decoder").StringDecoder);this._readableState.decoder=new D(a);this._readableState.encoding=a};b.prototype.read=function(b){var e=this._readableState;e.calledRead=!0;var d=b;if("number"!==typeof b||0<b)e.emittedReadable=!1;if(0===b&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return c(this),null;b=a(b,e);if(0===b&&e.ended)return 0===e.length&&n(this),null;var f=e.needReadable;e.length-b<=e.highWaterMark&&(f=!0);if(e.ended||e.reading)f=
!1;f&&(e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1);f&&!e.reading&&(b=a(d,e));d=0<b?v(b,e):null;null===d&&(e.needReadable=!0,b=0);e.length-=b;0!==e.length||e.ended||(e.needReadable=!0);e.ended&&!e.endEmitted&&0===e.length&&n(this);return d};b.prototype._read=function(a){this.emit("error",Error("not implemented"))};b.prototype.pipe=function(a,b){function c(a){a===t&&f()}function d(){a.end()}function f(){a.removeListener("close",l);a.removeListener("finish",
w);a.removeListener("drain",F);a.removeListener("error",n);a.removeListener("unpipe",c);t.removeListener("end",d);t.removeListener("end",f);a._writableState&&!a._writableState.needDrain||F()}function n(b){t.unpipe(a);0===r&&0===A.listenerCount(a,"error")&&a.emit("error",b)}function l(){a.removeListener("finish",w);t.unpipe(a)}function w(){a.removeListener("close",l);t.unpipe(a)}var t=this,v=this._readableState;switch(v.pipesCount){case 0:v.pipes=a;break;case 1:v.pipes=[v.pipes,a];break;default:v.pipes.push(a)}v.pipesCount+=
1;var D=b&&!1===b.end||a===k.stdout||a===k.stderr?f:d;if(v.endEmitted)H(D);else t.once("end",D);a.on("unpipe",c);var F=g(t);a.on("drain",F);var r=A.listenerCount(a,"error");a.once("error",n);a.once("close",l);a.once("finish",w);a.emit("pipe",t);v.flowing||(this.on("readable",h),v.flowing=!0,H(function(){e(t)}));return a};b.prototype.unpipe=function(a){var b=this._readableState;if(0===b.pipesCount)return this;if(1===b.pipesCount){if(a&&a!==b.pipes)return this;a||(a=b.pipes);b.pipes=null;b.pipesCount=
0;this.removeListener("readable",h);b.flowing=!1;a&&a.emit("unpipe",this);return this}if(!a){a=b.pipes;var c=b.pipesCount;b.pipes=null;b.pipesCount=0;this.removeListener("readable",h);b.flowing=!1;for(var e=0;e<c;e++)a[e].emit("unpipe",this);return this}a:{for(var e=b.pipes,c=0,f=e.length;c<f;c++)if(e[c]===a){e=c;break a}e=-1}if(-1===e)return this;b.pipes.splice(e,1);--b.pipesCount;1===b.pipesCount&&(b.pipes=b.pipes[0]);a.emit("unpipe",this);return this};b.prototype.on=function(a,b){var e=w.prototype.on.call(this,
a,b);"data"!==a||this._readableState.flowing||l(this);if("readable"===a&&this.readable){var f=this._readableState;f.readableListening||(f.readableListening=!0,f.emittedReadable=!1,f.needReadable=!0,f.reading?f.length&&c(this,f):this.read(0))}return e};b.prototype.addListener=b.prototype.on;b.prototype.resume=function(){l(this);this.read(0);this.emit("resume")};b.prototype.pause=function(){l(this,!0);this.emit("pause")};b.prototype.wrap=function(a){var b=this._readableState,c=!1,e=this;a.on("end",
function(){if(b.decoder&&!b.ended){var a=b.decoder.end();a&&a.length&&e.push(a)}e.push(null)});a.on("data",function(f){b.decoder&&(f=b.decoder.write(f));f&&(b.objectMode||f.length)&&!e.push(f)&&(c=!0,a.pause())});for(var f in a)"function"===typeof a[f]&&"undefined"===typeof this[f]&&(this[f]=function(b){return function(){return a[b].apply(a,arguments)}}(f));t(["error","close","destroy","pause","resume"],function(b){a.on(b,function(a){return e.emit.apply(e,b,a)})});e._read=function(b){c&&(c=!1,a.resume())};
return e};b._fromList=v}).call(this,u("7YKIPe"))},{"./index.js":15,"7YKIPe":10,buffer:6,events:4,inherits:24,"process/browser.js":16,string_decoder:21}],19:[function(u,x,y){function k(a,b){this.afterTransform=function(a,d){var e;e=b._transformState;e.transforming=!1;var h=e.writecb;h?(e.writechunk=null,e.writecb=null,null!==d&&void 0!==d&&b.push(d),h&&h(a),e=b._readableState,e.reading=!1,(e.needReadable||e.length<e.highWaterMark)&&b._read(e.highWaterMark),e=void 0):e=b.emit("error",Error("no writecb in Transform class"));
return e};this.transforming=this.needTransform=!1;this.writechunk=this.writecb=null}function r(a){if(!(this instanceof r))return new r(a);d.call(this,a);this._transformState=new k(a,this);var c=this;this._readableState.needReadable=!0;this._readableState.sync=!1;this.once("finish",function(){"function"===typeof this._flush?this._flush(function(a){b(c,a)}):b(c)})}function b(a,b){if(b)return a.emit("error",b);var f=a._transformState;if(a._writableState.length)throw Error("calling transform done when ws.length != 0");
if(f.transforming)throw Error("calling transform done when still transforming");return a.push(null)}x.exports=r;var d=u("./duplex.js");u("inherits")(r,d);r.prototype.push=function(a,b){this._transformState.needTransform=!1;return d.prototype.push.call(this,a,b)};r.prototype._transform=function(a,b,f){throw Error("not implemented");};r.prototype._write=function(a,b,f){var d=this._transformState;d.writecb=f;d.writechunk=a;d.writeencoding=b;d.transforming||(a=this._readableState,(d.needTransform||a.needReadable||
a.length<a.highWaterMark)&&this._read(a.highWaterMark))};r.prototype._read=function(a){a=this._transformState;a.writechunk&&a.writecb&&!a.transforming?(a.transforming=!0,this._transform(a.writechunk,a.writeencoding,a.afterTransform)):a.needTransform=!0}},{"./duplex.js":14,inherits:24}],20:[function(u,x,y){function k(a,b,c){this.chunk=a;this.encoding=b;this.callback=c}function r(a,b){a=a||{};var c=a.highWaterMark;this.highWaterMark=c||0===c?c:16384;this.objectMode=!!a.objectMode;this.highWaterMark=
~~this.highWaterMark;this.finished=this.ended=this.ending=this.needDrain=!1;this.decodeStrings=!1!==a.decodeStrings;this.defaultEncoding=a.defaultEncoding||"utf8";this.length=0;this.writing=!1;this.sync=!0;this.bufferProcessing=!1;this.onwrite=function(a){e(b,a)};this.writecb=null;this.writelen=0;this.buffer=[]}function b(a){if(!(this instanceof b||this instanceof A.Duplex))return new b(a);this._writableState=new r(a,this);this.writable=!0;A.call(this)}function d(a,b,c){var e=Error("write after end");
a.emit("error",e);w(function(){c(e)})}function a(a,b,c,e){var f=!0;if(!F.isBuffer(c)&&"string"!==typeof c&&null!==c&&void 0!==c&&!b.objectMode){var d=new TypeError("Invalid non-string/buffer chunk");a.emit("error",d);w(function(){e(d)});f=!1}return f}function c(a,b,c,e,f){b.objectMode||!1===b.decodeStrings||"string"!==typeof c||(c=new F(c,e));var d=b.objectMode?1:c.length;b.length+=d;var g=b.length<b.highWaterMark;b.needDrain=!g;b.writing?b.buffer.push(new k(c,e,f)):(b.writelen=d,b.writecb=f,b.writing=
!0,b.sync=!0,a._write(c,e,b.onwrite),b.sync=!1);return g}function f(a,b,c,e,f){c?w(function(){f(e)}):f(e);a.emit("error",e)}function g(a){a.writing=!1;a.writecb=null;a.length-=a.writelen;a.writelen=0}function e(a,b){var c=a._writableState,e=c.sync,d=c.writecb;g(c);if(b)f(a,c,e,b,d);else{var m=c.ending&&0===c.length&&!c.finished&&!c.writing;m||c.bufferProcessing||!c.buffer.length||l(a,c);e?w(function(){h(a,c,m,d)}):h(a,c,m,d)}}function h(a,b,c,e){!c&&0===b.length&&b.needDrain&&(b.needDrain=!1,a.emit("drain"));
e();c&&v(a,b)}function l(a,b){b.bufferProcessing=!0;for(var c=0;c<b.buffer.length;c++){var e=b.buffer[c],f=e.chunk,d=a,g=b,h=f,n=e.encoding,e=e.callback;g.writelen=b.objectMode?1:f.length;g.writecb=e;g.writing=!0;g.sync=!0;d._write(h,n,g.onwrite);g.sync=!1;if(b.writing){c++;break}}b.bufferProcessing=!1;c<b.buffer.length?b.buffer=b.buffer.slice(c):b.buffer.length=0}function v(a,b){var c=b.ending&&0===b.length&&!b.finished&&!b.writing;c&&(b.finished=!0,a.emit("finish"));return c}x.exports=b;b.WritableState=
r;var n="undefined"!==typeof Uint8Array?function(a){return a instanceof Uint8Array}:function(a){return a&&a.constructor&&"Uint8Array"===a.constructor.name},t="undefined"!==typeof ArrayBuffer?function(a){return a instanceof ArrayBuffer}:function(a){return a&&a.constructor&&"ArrayBuffer"===a.constructor.name};x=u("inherits");var A=u("./index.js"),w=u("process/browser.js").nextTick,F=u("buffer").Buffer;x(b,A);b.prototype.pipe=function(){this.emit("error",Error("Cannot pipe. Not readable."))};b.prototype.write=
function(b,e,f){var g=this._writableState,h=!1;"function"===typeof e&&(f=e,e=null);!F.isBuffer(b)&&n(b)&&(b=new F(b));t(b)&&"undefined"!==typeof Uint8Array&&(b=new F(new Uint8Array(b)));F.isBuffer(b)?e="buffer":e||(e=g.defaultEncoding);"function"!==typeof f&&(f=function(){});g.ended?d(this,g,f):a(this,g,b,f)&&(h=c(this,g,b,e,f));return h};b.prototype._write=function(a,b,c){c(Error("not implemented"))};b.prototype.end=function(a,b,c){var e=this._writableState;"function"===typeof a?(c=a,b=a=null):"function"===
typeof b&&(c=b,b=null);"undefined"!==typeof a&&null!==a&&this.write(a,b);if(!e.ending&&!e.finished){a=c;e.ending=!0;v(this,e);if(a)if(e.finished)w(a);else this.once("finish",a);e.ended=!0}}},{"./index.js":15,buffer:6,inherits:24,"process/browser.js":16}],21:[function(u,x,y){function k(a){return a.toString(this.encoding)}function r(a){this.charLength=(a=this.charReceived=a.length%2)?2:0;return a}function b(a){this.charLength=(a=this.charReceived=a.length%3)?3:0;return a}var d=u("buffer").Buffer;u=
y.StringDecoder=function(a){this.encoding=(a||"utf8").toLowerCase().replace(/[-_]/,"");if(a&&!d.isEncoding(a))throw Error("Unknown encoding: "+a);switch(this.encoding){case "utf8":this.surrogateSize=3;break;case "ucs2":case "utf16le":this.surrogateSize=2;this.detectIncompleteChar=r;break;case "base64":this.surrogateSize=3;this.detectIncompleteChar=b;break;default:this.write=k;return}this.charBuffer=new d(6);this.charLength=this.charReceived=0};u.prototype.write=function(a){for(var b="",f=0;this.charLength;){var d=
a.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:a.length;a.copy(this.charBuffer,this.charReceived,f,d);this.charReceived+=d-f;f=d;if(this.charReceived<this.charLength)return"";var b=this.charBuffer.slice(0,this.charLength).toString(this.encoding),e=b.charCodeAt(b.length-1);if(55296<=e&&56319>=e)this.charLength+=this.surrogateSize,b="";else{this.charReceived=this.charLength=0;if(d==a.length)return b;a=a.slice(d,a.length);break}}e=this.detectIncompleteChar(a);f=a.length;
this.charLength&&(a.copy(this.charBuffer,0,a.length-e,f),this.charReceived=e,f-=e);b+=a.toString(this.encoding,0,f);f=b.length-1;e=b.charCodeAt(f);return 55296<=e&&56319>=e?(a=this.surrogateSize,this.charLength+=a,this.charReceived+=a,this.charBuffer.copy(this.charBuffer,a,0,a),this.charBuffer.write(b.charAt(b.length-1),this.encoding),b.substring(0,f)):b};u.prototype.detectIncompleteChar=function(a){for(var b=3<=a.length?3:a.length;0<b;b--){var f=a[a.length-b];if(1==b&&6==f>>5){this.charLength=2;
break}if(2>=b&&14==f>>4){this.charLength=3;break}if(3>=b&&30==f>>3){this.charLength=4;break}}return b};u.prototype.end=function(a){var b="";a&&a.length&&(b=this.write(a));this.charReceived&&(a=this.encoding,b+=this.charBuffer.slice(0,this.charReceived).toString(a));return b}},{buffer:6}],22:[function(u,x,y){var k=u("http");u=x.exports;for(var r in k)k.hasOwnProperty(r)&&(u[r]=k[r]);u.request=function(b,d){b||(b={});b.scheme="https";b.protocol="https:";return k.request.call(this,b,d)}},{http:7}],23:[function(u,
x,y){y.read=function(k,r,b,d,a){var c;c=8*a-d-1;var f=(1<<c)-1,g=f>>1,e=-7;a=b?a-1:0;var h=b?-1:1,l=k[r+a];a+=h;b=l&(1<<-e)-1;l>>=-e;for(e+=c;0<e;b=256*b+k[r+a],a+=h,e-=8);c=b&(1<<-e)-1;b>>=-e;for(e+=d;0<e;c=256*c+k[r+a],a+=h,e-=8);if(0===b)b=1-g;else{if(b===f)return c?NaN:Infinity*(l?-1:1);c+=Math.pow(2,d);b-=g}return(l?-1:1)*c*Math.pow(2,b-d)};y.write=function(k,r,b,d,a,c){var f,g=8*c-a-1,e=(1<<g)-1,h=e>>1,l=23===a?Math.pow(2,-24)-Math.pow(2,-77):0;c=d?0:c-1;var v=d?1:-1,n=0>r||0===r&&0>1/r?1:0;
r=Math.abs(r);isNaN(r)||Infinity===r?(r=isNaN(r)?1:0,d=e):(d=Math.floor(Math.log(r)/Math.LN2),1>r*(f=Math.pow(2,-d))&&(d--,f*=2),r=1<=d+h?r+l/f:r+l*Math.pow(2,1-h),2<=r*f&&(d++,f/=2),d+h>=e?(r=0,d=e):1<=d+h?(r=(r*f-1)*Math.pow(2,a),d+=h):(r=r*Math.pow(2,h-1)*Math.pow(2,a),d=0));for(;8<=a;k[b+c]=r&255,c+=v,r/=256,a-=8);d=d<<a|r;for(g+=a;0<g;k[b+c]=d&255,c+=v,d/=256,g-=8);k[b+c-v]|=128*n}},{}],24:[function(u,x,y){x.exports="function"===typeof Object.create?function(k,r){k.super_=r;k.prototype=Object.create(r.prototype,
{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}})}:function(k,r){k.super_=r;var b=function(){};b.prototype=r.prototype;k.prototype=new b;k.prototype.constructor=k}},{}],25:[function(u,x,y){},{}],26:[function(u,x,y){(function(k,r,b){(function(){var d="undefined"!==typeof k&&k.versions&&k.versions.node,a=!d&&("undefined"!==typeof window||"undefined"!==typeof self);a&&"undefined"===typeof r&&("undefined"!==typeof window?r=window:"undefined"!==typeof self?r=self:"undefined"!==typeof $&&
(r=$));var c=function(c){function e(){}function f(a,c){if(x(c))for(var b=0;b<c.length;++b)c[b]=f(a,c[b]);else if(Q(c))c["@list"]=f(a,c["@list"]);else if(y(c)){da(c)&&(c["@id"]=a.getName(c["@id"]));for(var b=Object.keys(c).sort(),e=0;e<b.length;++e){var d=b[e];"@id"!==d&&(c[d]=f(a,c[d]))}}return c}function l(a,b,e){if(null===e||void 0===e)return null;var f=G(a,b,{vocab:!0});if("@id"===f)return G(a,e,{base:!0});if("@type"===f)return G(a,e,{vocab:!0,base:!0});var d=c.getContextValue(a,b,"@type");if("@id"===
d||"@graph"===f&&J(e))return{"@id":G(a,e,{base:!0})};if("@vocab"===d)return{"@id":G(a,e,{vocab:!0,base:!0})};if(M(f))return e;f={};null!==d?f["@type"]=d:J(e)&&(a=c.getContextValue(a,b,"@language"),null!==a&&(f["@language"]=a));-1===["boolean","number","string"].indexOf(typeof e)&&(e=e.toString());f["@value"]=e;return f}function v(a){var c={};if(R(a)){c.type="literal";var b=a["@value"],e=a["@type"]||null;"boolean"===typeof b||"[object Boolean]"===Object.prototype.toString.call(b)?(c.value=b.toString(),
c.datatype=e||"http://www.w3.org/2001/XMLSchema#boolean"):qa(b)||"http://www.w3.org/2001/XMLSchema#double"===e?(qa(b)||(b=parseFloat(b)),c.value=b.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),c.datatype=e||"http://www.w3.org/2001/XMLSchema#double"):pa(b)?(c.value=b.toFixed(0),c.datatype=e||"http://www.w3.org/2001/XMLSchema#integer"):"@language"in a?(c.value=b,c.datatype=e||ea,c.language=a["@language"]):(c.value=b,c.datatype=e||ba)}else a=y(a)?a["@id"]:a,c.type=0===a.indexOf("_:")?"blank node":"IRI",
c.value=a;return"IRI"!==c.type||V(c.value)?c:null}function n(a,c){if("hash"in c[a])return c[a].hash;for(var b=c[a].quads,e=[],f=0;f<b.length;++f)e.push(ia(b[f],b[f].name?b[f].name.value:null,a));e.sort();return c[a].hash=K.hash(e)}function t(a,b,e,f,d){function m(d){if(d===B.length)return w=Object.keys(l).sort(),h(0);var q=B[d],C=A(q.subject,a),t=null;null!==C?t="p":(C=A(q.object,a),null!==C&&(t="r"));if(null!==C){var v;v=e.isNamed(C)?e.getName(C):f.isNamed(C)?f.getName(C):n(C,b);var z=K.create();
z.update(t);z.update(q.predicate.value);z.update(v);q=z.digest();q in l?l[q].push(C):l[q]=[C]}c.setImmediate(function(){m(d+1)})}function h(a){function m(){function n(a){if(a===ja.length)return l(!1);var c=ja[a];t(c,b,e,v,function(b,e){if(b)return d(b);z+=v.getName(c)+"<"+e.hash+">";v=e.pathNamer;if(null!==Y&&z.length>=Y.length&&z>Y)return l(!0);n(a+1)})}function l(b){!b&&(null===Y||z<Y)&&(Y=z,B=v);C.hasNext()?c.setImmediate(function(){m()}):(q.update(Y),f=B,h(a+1))}var w=C.next(),v=f.clone(),z="",
ja=[],A;for(A in w){var k=w[A];e.isNamed(k)?z+=e.getName(k):(v.isNamed(k)||ja.push(k),z+=v.getName(k));if(null!==Y&&z.length>=Y.length&&z>Y)return l(!0)}n(0)}if(a===w.length)return d(null,{hash:q.digest(),pathNamer:f});var n=w[a];q.update(n);var Y=null,B=null,C=new ka(l[n]);c.setImmediate(function(){m()})}var q=K.create(),l={},w,B=b[a].quads;c.setImmediate(function(){m(0)})}function A(a,c){return"blank node"===a.type&&a.value!==c?a.value:null}function w(a,b,e,f,d,m){if(x(a))for(var q=0;q<a.length;++q)w(a[q],
b,e,f,void 0,m);else if(y(a))if(R(a)){if("@type"in a){var h=a["@type"];0===h.indexOf("_:")&&(a["@type"]=f.getName(h))}m&&m.push(a)}else{if("@type"in a)for(var n=a["@type"],q=0;q<n.length;++q)h=n[q],0===h.indexOf("_:")&&f.getName(h);T(d)&&(d=da(a)?f.getName(a["@id"]):a["@id"]);m&&m.push({"@id":d});m=b[e];q=m[d]=m[d]||{};q["@id"]=d;h=Object.keys(a).sort();for(n=0;n<h.length;++n){var l=h[n];if("@id"!==l)if("@reverse"===l){var l={"@id":d},B=a["@reverse"],C;for(C in B)for(var v=B[C],t=0;t<v.length;++t){var z=
v[t],A=z["@id"];da(z)&&(A=f.getName(A));w(z,b,e,f,A);c.addValue(m[A],C,l,{propertyIsArray:!0,allowDuplicate:!1})}}else if("@graph"===l)d in b||(b[d]={}),w(a[l],b,"@merged"===e?e:d,f);else if("@type"!==l&&M(l)){if("@index"===l&&l in q&&(a[l]!==q[l]||a[l]["@id"]!==q[l]["@id"]))throw new E("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:q});q[l]=a[l]}else if(B=a[l],0===l.indexOf("_:")&&(l=f.getName(l)),0===B.length)c.addValue(q,
l,[],{propertyIsArray:!0});else for(v=0;v<B.length;++v)t=B[v],"@type"===l&&(t=0===t.indexOf("_:")?f.getName(t):t),z=t,A=!1,!y(z)||"@value"in z||"@set"in z||"@list"in z||(A=1<Object.keys(z).length||!("@id"in z)),A||U(t)?(z=da(t)?f.getName(t["@id"]):t["@id"],c.addValue(q,l,{"@id":z},{propertyIsArray:!0,allowDuplicate:!1}),w(t,b,e,f,z)):(Q(t)?(z=[],w(t["@list"],b,e,f,d,z),t={"@list":z}):w(t,b,e,f,d),c.addValue(q,l,t,{propertyIsArray:!0,allowDuplicate:!1}))}}else m&&m.push(a)}function F(a){for(var c=
a["@default"],b=Object.keys(a).sort(),e=0;e<b.length;++e){var f=b[e];if("@default"!==f){var d=a[f],g=c[f];g?"@graph"in g||(g["@graph"]=[]):c[f]=g={"@id":f,"@graph":[]};for(var f=g["@graph"],g=Object.keys(d).sort(),m=0;m<g.length;++m){var q=d[g[m]];U(q)||f.push(q)}}}return c}function H(a,c,b,e,f){var d=b;if(!x(d)||1!==d.length||!y(d[0]))throw new E("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:d});b=b[0];for(var d=a.options,g={embed:I(b,d,"embed"),explicit:I(b,
d,"explicit"),requireAll:I(b,d,"requireAll")},h=b,n={},l=0;l<c.length;++l){var w=c[l],B=a.subjects[w];W(B,h,g)&&(n[w]=B)}c=Object.keys(n).sort();for(h=0;h<c.length;++h)if(B=c[h],w=n[B],"@link"===g.embed&&B in a.link)m(e,f,a.link[B]);else{null===f&&(a.uniqueEmbeds={});l={};l["@id"]=B;a.link[B]=l;var t;if(!(t="@never"===g.embed))a:{t=a.subjectStack;for(var C=t.length-1;0<=C;--C)if(t[C]["@id"]===w["@id"]){t=!0;break a}t=!1}if(t)m(e,f,l);else{"@last"===g.embed&&(B in a.uniqueEmbeds&&q(a,B),a.uniqueEmbeds[B]=
{parent:e,property:f});a.subjectStack.push(w);B=Object.keys(w).sort();for(t=0;t<B.length;t++)if(C=B[t],M(C))l[C]=P(w[C]);else if(!g.explicit||C in b)for(var v=w[C],z=0;z<v.length;++z){var A=v[z];if(Q(A)){var k={"@list":[]};m(l,C,k);var F=A["@list"],r;for(r in F)if(A=F[r],U(A)){var G=C in b?b[C][0]["@list"]:D(g);H(a,[A["@id"]],G,k,"@list")}else m(k,"@list",P(A))}else U(A)?(G=C in b?b[C]:D(g),H(a,[A["@id"]],G,l,C)):m(l,C,P(A))}B=Object.keys(b).sort();for(t=0;t<B.length;++t)C=B[t],M(C)||(w=b[C][0],I(w,
d,"omitDefault")||C in l||(v="@null","@default"in w&&(v=P(w["@default"])),x(v)||(v=[v]),l[C]=[{"@preserve":v}]));m(e,f,l);a.subjectStack.pop()}}}function D(a){var c={},b;for(b in a)void 0!==a[b]&&(c["@"+b]=[a[b]]);return[c]}function I(a,c,b){var e="@"+b;a=e in a?a[e][0]:c[b];"embed"===b&&(!0===a?a="@last":!1===a?a="@never":"@always"!==a&&"@never"!==a&&"@link"!==a&&(a="@last"));return a}function W(a,b,e){if("@type"in b&&(1!==b["@type"].length||!y(b["@type"][0]))){b=b["@type"];for(e=0;e<b.length;++e)if(c.hasValue(a,
"@type",b[e]))return!0;return!1}var f=!0,d=!1,m;for(m in b){if(M(m)){if("@id"!==m&&"@type"!==m)continue;f=!1;if("@id"===m&&J(b[m])){if(a[m]!==b[m])return!1;d=!0;continue}}f=!1;if(m in a){if(x(b[m])&&0===b[m].length&&void 0!==a[m])return!1;d=!0}else{var q=x(b[m])&&y(b[m][0])&&"@default"in b[m][0];if(e.requireAll&&!q)return!1}}return f||d}function q(a,b){var e=a.uniqueEmbeds,f=e[b],d=f.parent,m=f.property,f={"@id":b};if(x(d))for(m=0;m<d.length;++m){if(c.compareValues(d[m],f)){d[m]=f;break}}else{var q=
x(d[m]);c.removeValue(d,m,f,{propertyIsArray:q});c.addValue(d,m,f,{propertyIsArray:q})}var h=function(a){for(var b=Object.keys(e),c=0;c<b.length;++c){var f=b[c];f in e&&y(e[f].parent)&&e[f].parent["@id"]===a&&(delete e[f],h(f))}};h(b)}function m(a,b,e){y(a)?c.addValue(a,b,e,{propertyIsArray:!0}):a.push(e)}function B(a,b,e){if(x(b)){for(var f=[],d=0;d<b.length;++d){var m=B(a,b[d],e);null!==m&&f.push(m)}b=f}else if(y(b)){if("@preserve"in b)return"@null"===b["@preserve"]?null:b["@preserve"];if(R(b))return b;
if(Q(b))return b["@list"]=B(a,b["@list"],e),b;m=z(a,"@id");if(m in b)if(m=b[m],m in e.link)if(d=e.link[m].indexOf(b),-1===d)e.link[m].push(b);else return e.link[m][d];else e.link[m]=[b];for(f in b)m=B(a,b[f],e),d=c.getContextValue(a,f,"@container"),e.compactArrays&&x(m)&&1===m.length&&null===d&&(m=m[0]),b[f]=m}return b}function C(a,b){return a.length<b.length?-1:b.length<a.length?1:a===b?0:a<b?-1:1}function z(a,b,e,f,d){if(null===b)return b;T(e)&&(e=null);T(d)&&(d=!1);f=f||{};M(b)&&(f.vocab=!0);if(f.vocab&&
b in a.getInverse()){var m=a["@language"]||"@none",q=[];y(e)&&"@index"in e&&q.push("@index");var h="@language",n="@null";if(d)h="@type",n="@reverse",q.push("@set");else if(Q(e)){"@index"in e||q.push("@list");n=e["@list"];d=0===n.length?m:null;for(var m=null,l=0;l<n.length;++l){var w=n[l],B="@none",t="@none";R(w)?"@language"in w?B=w["@language"]:"@type"in w?t=w["@type"]:B="@null":t="@id";null===d?d=B:B!==d&&R(w)&&(d="@none");null===m?m=t:t!==m&&(m="@none");if("@none"===d&&"@none"===m)break}d=d||"@none";
m=m||"@none";"@none"!==m?(h="@type",n=m):n=d}else R(e)?"@language"in e&&!("@index"in e)?(q.push("@language"),n=e["@language"]):"@type"in e&&(h="@type",n=e["@type"]):(h="@type",n="@id"),q.push("@set");q.push("@none");a:{d=e;m=n;null===m&&(m="@null");n=[];"@id"!==m&&"@reverse"!==m||!U(d)?n.push(m):("@reverse"===m&&n.push("@reverse"),m=z(a,d["@id"],null,{vocab:!0}),m in a.mappings&&a.mappings[m]&&a.mappings[m]["@id"]===d["@id"]?n.push.apply(n,["@vocab","@id"]):n.push.apply(n,["@id","@vocab"]));n.push("@none");
d=a.inverse[b];for(m=0;m<q.length;++m)if(l=q[m],l in d)for(l=d[l][h],w=0;w<n.length;++w)if(B=n[w],B in l){q=l[B];break a}q=null}if(null!==q)return q}if(f.vocab&&"@vocab"in a&&(h=a["@vocab"],0===b.indexOf(h)&&b!==h&&(h=b.substr(h.length),!(h in a.mappings))))return h;h=null;for(q in a.mappings)-1===q.indexOf(":")&&(n=a.mappings[q])&&n["@id"]!==b&&0===b.indexOf(n["@id"])&&(n=q+":"+b.substr(n["@id"].length),n in a.mappings&&(null!==e||!a.mappings[n]||a.mappings[n]["@id"]!==b)||!(null===h||0>C(n,h))||
(h=n));if(null!==h)return h;if(!f.vocab&&(a=a["@base"],null!==a&&(J(a)&&(a=c.url.parse(a||"")),e="",""!==a.href?e+=(a.protocol||"")+"//"+(a.authority||""):b.indexOf("//")&&(e+="//"),0===b.indexOf(e)))){b=c.url.parse(b.substr(e.length));a=a.normalizedPath.split("/");e=b.normalizedPath.split("/");for(f=b.fragment||b.query?0:1;0<a.length&&e.length>f&&a[0]===e[0];)a.shift(),e.shift();f="";if(0<a.length)for(a.pop(),q=0;q<a.length;++q)f+="../";f+=e.join("/");null!==b.query&&(f+="?"+b.query);null!==b.fragment&&
(f+="#"+b.fragment);""===f&&(f="./");b=f}return b}function O(a,b,e){if(R(e)){var f=c.getContextValue(a,b,"@type"),d=c.getContextValue(a,b,"@language"),m=c.getContextValue(a,b,"@container"),m="@index"in e&&"@index"!==m;if(!m&&(e["@type"]===f||e["@language"]===d))return e["@value"];var f=Object.keys(e).length,f=1===f||2===f&&"@index"in e&&!m,d="@language"in a,q=J(e["@value"]);b=a.mappings[b]&&null===a.mappings[b]["@language"];if(f&&(!d||!q||b))return e["@value"];b={};m&&(b[z(a,"@index")]=e["@index"]);
"@type"in e?b[z(a,"@type")]=z(a,e["@type"],null,{vocab:!0}):"@language"in e&&(b[z(a,"@language")]=e["@language"]);b[z(a,"@value")]=e["@value"];return b}m=G(a,b,{vocab:!0});f=c.getContextValue(a,b,"@type");e=z(a,e["@id"],null,{vocab:"@vocab"===f});if("@id"===f||"@vocab"===f||"@graph"===m)return e;b={};b[z(a,"@id")]=e;return b}function N(a,b,c,e){if(c in e){if(e[c])return;throw new E("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:b,term:c});}e[c]=
!1;if(M(c))throw new E("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:b,term:c});if(""===c)throw new E("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:b});a.mappings[c]&&delete a.mappings[c];var f=b[c];if(null===f||y(f)&&null===f["@id"])a.mappings[c]=null,e[c]=!0;else{J(f)&&(f={"@id":f});if(!y(f))throw new E("Invalid JSON-LD syntax; @context property values must be strings or objects.",
"jsonld.SyntaxError",{code:"invalid term definition",context:b});var d=a.mappings[c]={};d.reverse=!1;if("@reverse"in f){if("@id"in f)throw new E("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:b});var m=f["@reverse"];if(!J(m))throw new E("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:b});m=G(a,m,{vocab:!0,base:!1},b,e);if(!V(m))throw new E("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.",
"jsonld.SyntaxError",{code:"invalid IRI mapping",context:b});d["@id"]=m;d.reverse=!0}else if("@id"in f){m=f["@id"];if(!J(m))throw new E("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:b});if(m!==c){m=G(a,m,{vocab:!0,base:!1},b,e);if(!V(m)&&!M(m))throw new E("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",
context:b});d["@id"]=m}}if(!("@id"in d)){var g=c.indexOf(":");if(-1!==g)m=c.substr(0,g),m in b&&N(a,b,m,e),a.mappings[m]?(g=c.substr(g+1),d["@id"]=a.mappings[m]["@id"]+g):d["@id"]=c;else{if(!("@vocab"in a))throw new E("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:b,term:c});d["@id"]=a["@vocab"]+c}}e[c]=!0;if("@type"in f){c=f["@type"];if(!J(c))throw new E("Invalid JSON-LD syntax; an @context @type values must be a string.","jsonld.SyntaxError",
{code:"invalid type mapping",context:b});if("@id"!==c&&"@vocab"!==c){c=G(a,c,{vocab:!0,base:!1},b,e);if(!V(c))throw new E("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:b});if(0===c.indexOf("_:"))throw new E("Invalid JSON-LD syntax; an @context @type values must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:b});}d["@type"]=c}if("@container"in f){a=f["@container"];
if("@list"!==a&&"@set"!==a&&"@index"!==a&&"@language"!==a)throw new E("Invalid JSON-LD syntax; @context @container value must be one of the following: @list, @set, @index, or @language.","jsonld.SyntaxError",{code:"invalid container mapping",context:b});if(d.reverse&&"@index"!==a&&"@set"!==a&&null!==a)throw new E("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:b});d["@container"]=
a}if("@language"in f&&!("@type"in f)){f=f["@language"];if(null!==f&&!J(f))throw new E("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:b});null!==f&&(f=f.toLowerCase());d["@language"]=f}m=d["@id"];if("@context"===m||"@preserve"===m)throw new E("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:b});}}function G(a,b,e,f,d){if(null===b||
M(b))return b;b=String(b);f&&b in f&&!0!==d[b]&&N(a,f,b,d);e=e||{};if(e.vocab){var m=a.mappings[b];if(null===m)return null;if(m)return m["@id"]}m=b.indexOf(":");if(-1!==m){e=b.substr(0,m);var q=b.substr(m+1);if("_"===e||0===q.indexOf("//"))return b;f&&e in f&&N(a,f,e,d);return(m=a.mappings[e])?m["@id"]+q:b}if(e.vocab&&"@vocab"in a)return a["@vocab"]+b;e.base&&(b=c.prependBase(a["@base"],b));return b}function X(a){return{"@base":c.url.parse(a.base||""),mappings:{},inverse:null,getInverse:function(){if(this.inverse)return this.inverse;
for(var a=this.inverse={},b=this["@language"]||"@none",c=this.mappings,e=Object.keys(c).sort(C),f=0;f<e.length;++f){var d=e[f],m=c[d];if(null!==m){var g=m["@container"]||"@none",q=m["@id"];x(q)||(q=[q]);for(var h=0;h<q.length;++h){var n=q[h],l=a[n];l||(a[n]=l={});l[g]||(l[g]={"@language":{},"@type":{}});l=l[g];m.reverse?(l=l["@type"],"@reverse"in l||(l["@reverse"]=d)):"@type"in m?(l=l["@type"],n=m["@type"],n in l||(l[n]=d)):"@language"in m?(l=l["@language"],n=m["@language"]||"@null",n in l||(l[n]=
d)):(n=l["@language"],b in n||(n[b]=d),n=l["@type"],"@none"in n||(n["@none"]=d),l=l["@language"],"@none"in l||(l["@none"]=d))}}}return a},clone:function(){var a={};a["@base"]=this["@base"];a.mappings=P(this.mappings);a.clone=this.clone;a.inverse=null;a.getInverse=this.getInverse;"@language"in this&&(a["@language"]=this["@language"]);"@vocab"in this&&(a["@vocab"]=this["@vocab"]);return a}}}function M(a){if(!J(a))return!1;switch(a){case "@base":case "@context":case "@container":case "@default":case "@embed":case "@explicit":case "@graph":case "@id":case "@index":case "@language":case "@list":case "@omitDefault":case "@preserve":case "@requireAll":case "@reverse":case "@set":case "@type":case "@value":case "@vocab":return!0}return!1}
function y(a){return"[object Object]"===Object.prototype.toString.call(a)}function x(a){return Array.isArray(a)}function J(a){return"string"===typeof a||"[object String]"===Object.prototype.toString.call(a)}function pa(a){return"number"===typeof a||"[object Number]"===Object.prototype.toString.call(a)}function qa(a){return pa(a)&&-1!==String(a).indexOf(".")}function T(a){return"undefined"===typeof a}function U(a){return y(a)&&1===Object.keys(a).length&&"@id"in a}function R(a){return y(a)&&"@value"in
a}function Q(a){return y(a)&&"@list"in a}function da(a){var b=!1;y(a)&&(b="@id"in a?0===a["@id"].indexOf("_:"):0===Object.keys(a).length||!("@value"in a||"@set"in a||"@list"in a));return b}function V(a){return J(a)&&-1!==a.indexOf(":")}function P(a){if(a&&"object"===typeof a){var b;if(x(a)){b=[];for(var c=0;c<a.length;++c)b[c]=P(a[c])}else if(y(a))for(c in b={},a)b[c]=P(a[c]);else b=a.toString();return b}return a}function ca(a,b,e,f){var d=Object.keys(b).length;if(x(a)){for(var m=0;m<a.length;++m)ca(a[m],
b,e,f);return d<Object.keys(b).length}if(y(a)){for(var q in a)if("@context"!==q)ca(a[q],b,e,f);else{var h=a[q];if(x(h))for(var n=h.length,m=0;m<n;++m){var l=h[m];J(l)&&(l=c.prependBase(f,l),e?(l=b[l],x(l)?(Array.prototype.splice.apply(h,[m,1].concat(l)),m+=l.length-1,n=h.length):h[m]=l):l in b||(b[l]=!1))}else J(h)&&(h=c.prependBase(f,h),e?a[q]=b[h]:h in b||(b[h]=!1))}return d<Object.keys(b).length}return!1}function ra(a,b,c){var e=null,f=function(a,b,c,d,m){if(Object.keys(b).length>sa)return e=new E("Maximum number of @context URLs exceeded.",
"jsonld.ContextUrlError",{code:"loading remote context failed",max:sa}),m(e);var g={};ca(a,g,!1,d)||(ca(a,g,!0,d),m(null,a));var q=[],h;for(h in g)!1===g[h]&&q.push(h);var n=q.length;for(h=0;h<q.length;++h)(function(q){if(q in b)return e=new E("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"recursive context inclusion",url:q}),m(e);var h=P(b);h[q]=!0;var l=function(b,l){if(!e){var w=l?l.document:null;if(!b&&J(w))try{w=JSON.parse(w)}catch(B){b=B}b?b=new E("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.",
"jsonld.InvalidUrl",{code:"loading remote context failed",url:q,cause:b}):y(w)||(b=new E("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:q,cause:b}));if(b)return e=b,m(e);w="@context"in w?{"@context":w["@context"]}:{"@context":{}};l.contextUrl&&(x(w["@context"])||(w["@context"]=[w["@context"]]),w["@context"].push(l.contextUrl));f(w,h,c,q,function(b,c){if(b)return m(b);g[q]=c["@context"];
--n;0===n&&(ca(a,g,!0,d),m(null,a))})}},w=c(q,l);w&&"then"in w&&w.then(l.bind(null,null),l)})(q[h])};f(a,{},b.documentLoader,b.base,c)}function ta(a){var b=/^[ \t]*$/,c=/^[ \t]*(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z0-9]+)))[ \t]+(?:<([^:]+:[^>]*)>)[ \t]+(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z0-9]+))|(?:"([^"\\]*(?:\\.[^"\\]*)*)"(?:(?:\^\^(?:<([^:]+:[^>]*)>))|(?:@([a-z]+(?:-[a-z0-9]+)*)))?))[ \t]*(?:\.|(?:(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z0-9]+)))[ \t]*\.))[ \t]*$/,e={};a=a.split(/(?:\r\n)|(?:\n)|(?:\r)/g);
for(var f=0,d=0;d<a.length;++d){var m=a[d];f++;if(!b.test(m)){var g=m.match(c);if(null===g)throw new E("Error while parsing N-Quads; invalid quad.","jsonld.ParseError",{line:f});m={};T(g[1])?m.subject={type:"blank node",value:g[2]}:m.subject={type:"IRI",value:g[1]};m.predicate={type:"IRI",value:g[3]};if(T(g[4]))if(T(g[5])){m.object={type:"literal"};T(g[7])?T(g[8])?m.object.datatype=ba:(m.object.datatype=ea,m.object.language=g[8]):m.object.datatype=g[7];var q=g[6].replace(/\\"/g,'"').replace(/\\t/g,
"\t").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\\\/g,"\\");m.object.value=q}else m.object={type:"blank node",value:g[5]};else m.object={type:"IRI",value:g[4]};q="@default";T(g[9])?T(g[10])||(q=g[10]):q=g[9];if(q in e){for(var g=!0,q=e[q],h=0;g&&h<q.length;++h){var n;a:{n=q[h];for(var l=["subject","predicate","object"],w=0;w<l.length;++w){var B=l[w];if(n[B].type!==m[B].type||n[B].value!==m[B].value){n=!1;break a}}n=n.object.language!==m.object.language||n.object.datatype!==m.object.datatype?
!1:!0}n&&(g=!1)}g&&q.push(m)}else e[q]=[m]}}return e}function ia(a,b,c){var e=a.subject,f=a.predicate;a=a.object;var d="",d="IRI"===e.type?d+("<"+e.value+">"):c?d+(e.value===c?"_:a":"_:z"):d+e.value,d=d+" ",d="IRI"===f.type?d+("<"+f.value+">"):c?d+"_:p":d+f.value,d=d+" ";"IRI"===a.type?d+="<"+a.value+">":"blank node"===a.type?d=c?d+(a.value===c?"_:a":"_:z"):d+a.value:(e=a.value.replace(/\\/g,"\\\\").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\"/g,'\\"'),d+='"'+e+'"',a.datatype===
ea?a.language&&(d+="@"+a.language):a.datatype!==ba&&(d+="^^<"+a.datatype+">"));null!==b&&(d=0!==b.indexOf("_:")?d+(" <"+b+">"):c?d+" _:g":d+(" "+b));return d+" .\n"}function S(a){this.prefix=a;this.counter=0;this.existing={}}function ua(a,b){var c="";0===a.indexOf("/")&&(c="/");for(var e=a.split("/"),f=[];0<e.length;)"."===e[0]||""===e[0]&&1<e.length?e.shift():".."===e[0]?(e.shift(),b||0<f.length&&".."!==f[f.length-1]?f.pop():f.push("..")):f.push(e.shift());return c+f.join("/")}c.compact=function(a,
b,e,f){if(2>arguments.length)return c.nextTick(function(){f(new TypeError("Could not compact, too few arguments."))});"function"===typeof e&&(f=e,e={});e=e||{};if(null===b)return c.nextTick(function(){f(new E("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"}))});if(null===a)return c.nextTick(function(){f(null,null)});"base"in e||(e.base="string"===typeof a?a:"");"compactArrays"in e||(e.compactArrays=!0);"graph"in e||(e.graph=!1);"skipExpansion"in e||(e.skipExpansion=
!1);"documentLoader"in e||(e.documentLoader=c.loadDocument);"link"in e||(e.link=!1);e.link&&(e.skipExpansion=!0);(function(a,b,e){c.nextTick(function(){if(b.skipExpansion)return e(null,a);c.expand(a,b,e)})})(a,e,function(a,d){if(a)return f(new E("Could not expand input before compaction.","jsonld.CompactError",{cause:a}));var m=X(e);c.processContext(m,b,e,function(a,c){if(a)return f(new E("Could not process context before compaction.","jsonld.CompactError",{cause:a}));var m;try{m=(new L).compact(c,
null,d,e)}catch(g){return f(g)}var q=e;q.compactArrays&&!q.graph&&x(m)?1===m.length?m=m[0]:0===m.length&&(m={}):q.graph&&y(m)&&(m=[m]);y(b)&&"@context"in b&&(b=b["@context"]);b=P(b);x(b)||(b=[b]);q=b;b=[];for(var h=0;h<q.length;++h)(!y(q[h])||0<Object.keys(q[h]).length)&&b.push(q[h]);q=0<b.length;1===b.length&&(b=b[0]);if(x(m)){var n=z(c,"@graph"),h=m;m={};q&&(m["@context"]=b);m[n]=h}else if(y(m)&&q)for(n in h=m,m={"@context":b},h)m[n]=h[n];f(null,m,c)})})};c.expand=function(a,b,e){function f(a){"base"in
b||(b.base=a.documentUrl||"");a={document:P(a.document),remoteContext:{"@context":a.contextUrl}};if("expandContext"in b){var c=P(b.expandContext);a.expandContext="object"===typeof c&&"@context"in c?c:{"@context":c}}ra(a,b,function(a,c){if(a)return e(a);var f;try{var d=new L,m=X(b),g=c.document,q=c.remoteContext["@context"];c.expandContext&&(m=d.processContext(m,c.expandContext["@context"],b));q&&(m=d.processContext(m,q,b));f=d.expand(m,null,g,b,!1);y(f)&&"@graph"in f&&1===Object.keys(f).length?f=
f["@graph"]:null===f&&(f=[]);x(f)||(f=[f])}catch(h){return e(h)}e(null,f)})}if(1>arguments.length)return c.nextTick(function(){e(new TypeError("Could not expand, too few arguments."))});"function"===typeof b&&(e=b,b={});b=b||{};"documentLoader"in b||(b.documentLoader=c.loadDocument);"keepFreeFloatingNodes"in b||(b.keepFreeFloatingNodes=!1);c.nextTick(function(){if("string"===typeof a){var c=function(a,b){if(a)return e(a);try{if(!b.document)throw new E("No remote document found at the given URL.",
"jsonld.NullRemoteDocument");"string"===typeof b.document&&(b.document=JSON.parse(b.document))}catch(c){return e(new E("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",cause:c,remoteDoc:b}))}f(b)},d=b.documentLoader(a,c);d&&"then"in d&&d.then(c.bind(null,null),c)}else f({contextUrl:null,documentUrl:null,document:a})})};c.flatten=function(a,b,e,f){if(1>arguments.length)return c.nextTick(function(){f(new TypeError("Could not flatten, too few arguments."))});
"function"===typeof e?(f=e,e={}):"function"===typeof b&&(f=b,b=null,e={});e=e||{};"base"in e||(e.base="string"===typeof a?a:"");"documentLoader"in e||(e.documentLoader=c.loadDocument);c.expand(a,e,function(a,d){if(a)return f(new E("Could not expand input before flattening.","jsonld.FlattenError",{cause:a}));var m;try{m=(new L).flatten(d)}catch(q){return f(q)}if(null===b)return f(null,m);e.graph=!0;e.skipExpansion=!0;c.compact(m,b,e,function(a,b){if(a)return f(new E("Could not compact flattened output.",
"jsonld.FlattenError",{cause:a}));f(null,b)})})};c.frame=function(a,b,e,f){function d(b){var m=b.document,q;m?(q=m["@context"],b.contextUrl?(q?x(q)?q.push(b.contextUrl):q=[q,b.contextUrl]:q=b.contextUrl,m["@context"]=q):q=q||{}):q={};c.expand(a,e,function(a,b){if(a)return f(new E("Could not expand input before framing.","jsonld.FrameError",{cause:a}));var d=P(e);d.isFrame=!0;d.keepFreeFloatingNodes=!0;c.expand(m,d,function(a,e){if(a)return f(new E("Could not expand frame before framing.","jsonld.FrameError",
{cause:a}));var m;try{m=(new L).frame(b,e,d)}catch(h){return f(h)}d.graph=!0;d.skipExpansion=!0;d.link={};c.compact(m,q,d,function(a,b,c){if(a)return f(new E("Could not compact framed output.","jsonld.FrameError",{cause:a}));a=z(c,"@graph");d.link={};b[a]=B(c,b[a],d);f(null,b)})})})}if(2>arguments.length)return c.nextTick(function(){f(new TypeError("Could not frame, too few arguments."))});"function"===typeof e&&(f=e,e={});e=e||{};"base"in e||(e.base="string"===typeof a?a:"");"documentLoader"in e||
(e.documentLoader=c.loadDocument);"embed"in e||(e.embed="@last");e.explicit=e.explicit||!1;"requireAll"in e||(e.requireAll=!0);e.omitDefault=e.omitDefault||!1;c.nextTick(function(){if("string"===typeof b){var a=function(a,b){if(a)return f(a);try{if(!b.document)throw new E("No remote document found at the given URL.","jsonld.NullRemoteDocument");"string"===typeof b.document&&(b.document=JSON.parse(b.document))}catch(c){return f(new E("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.",
"jsonld.LoadDocumentError",{code:"loading document failed",cause:c,remoteDoc:b}))}d(b)},c=e.documentLoader(b,a);c&&"then"in c&&c.then(a.bind(null,null),a)}else d({contextUrl:null,documentUrl:null,document:b})})};c.link=function(a,b,e,f){var d={};b&&(d["@context"]=b);d["@embed"]="@link";c.frame(a,d,e,f)};c.objectify=function(a,b,e,f){"function"===typeof e&&(f=e,e={});e=e||{};"base"in e||(e.base="string"===typeof a?a:"");"documentLoader"in e||(e.documentLoader=c.loadDocument);c.expand(a,e,function(a,
d){if(a)return f(new E("Could not expand input before linking.","jsonld.LinkError",{cause:a}));var m;try{m=(new L).flatten(d)}catch(q){return f(q)}e.graph=!0;e.skipExpansion=!0;c.compact(m,b,e,function(a,b,e){if(a)return f(new E("Could not compact flattened output before linking.","jsonld.LinkError",{cause:a}));a=z(e,"@graph");var d=b[a][0],m=function(a){if(y(a)||x(a)){if(y(a)){if(m.visited[a["@id"]])return;m.visited[a["@id"]]=!0}for(var b in a){var f=a[b],q="@id"===c.getContextValue(e,b,"@type");
if(x(f)||y(f)||q)if(J(f)&&q)a[b]=f=d[f],m(f);else if(x(f))for(var h=0;h<f.length;++h)J(f[h])&&q?f[h]=d[f[h]]:y(f[h])&&"@id"in f[h]&&(f[h]=d[f[h]["@id"]]),m(f[h]);else y(f)&&(a[b]=f=d[f["@id"]],m(f))}}};m.visited={};m(d);b.of_type={};for(var q in d)if("@type"in d[q]){a=d[q]["@type"];x(a)||(a=[a]);for(var h=0;h<a.length;++h)a[h]in b.of_type||(b.of_type[a[h]]=[]),b.of_type[a[h]].push(d[q])}f(null,b)})})};c.normalize=function(a,b,e){if(1>arguments.length)return c.nextTick(function(){e(new TypeError("Could not normalize, too few arguments."))});
"function"===typeof b&&(e=b,b={});b=b||{};"base"in b||(b.base="string"===typeof a?a:"");"documentLoader"in b||(b.documentLoader=c.loadDocument);var f=P(b);delete f.format;f.produceGeneralizedRdf=!1;c.toRDF(a,f,function(a,c){if(a)return e(new E("Could not convert input to RDF dataset before normalization.","jsonld.NormalizeError",{cause:a}));(new L).normalize(c,b,e)})};c.fromRDF=function(a,b,e){if(1>arguments.length)return c.nextTick(function(){e(new TypeError("Could not convert from RDF, too few arguments."))});
"function"===typeof b&&(e=b,b={});b=b||{};"useRdfType"in b||(b.useRdfType=!1);"useNativeTypes"in b||(b.useNativeTypes=!1);"format"in b||!J(a)||"format"in b||(b.format="application/nquads");c.nextTick(function(){function c(a,b,e){(new L).fromRDF(a,b,e)}var f;if(b.format){if(f=b.rdfParser||la[b.format],!f)return e(new E("Unknown input format.","jsonld.UnknownFormat",{format:b.format}))}else f=function(){return a};var d=!1;try{a=f(a,function(a,f){d=!0;if(a)return e(a);c(f,b,e)})}catch(m){if(!d)return e(m);
throw m;}if(a){if("then"in a)return a.then(function(a){c(a,b,e)},e);c(a,b,e)}})};c.toRDF=function(a,b,e){if(1>arguments.length)return c.nextTick(function(){e(new TypeError("Could not convert to RDF, too few arguments."))});"function"===typeof b&&(e=b,b={});b=b||{};"base"in b||(b.base="string"===typeof a?a:"");"documentLoader"in b||(b.documentLoader=c.loadDocument);c.expand(a,b,function(a,c){if(a)return e(new E("Could not expand input before serialization to RDF.","jsonld.RdfError",{cause:a}));var f;
try{if(f=L.prototype.toRDF(c,b),b.format){if("application/nquads"===b.format){var d=e,m,g=[],q;for(q in f)for(var h=f[q],n=0;n<h.length;++n){var l=h[n];"@default"===q&&(q=null);g.push(ia(l,q))}g.sort();m=g.join("");return d(null,m)}throw new E("Unknown output format.","jsonld.UnknownFormat",{format:b.format});}}catch(w){return e(w)}e(null,f)})};c.createNodeMap=function(a,b,e){if(1>arguments.length)return c.nextTick(function(){e(new TypeError("Could not create node map, too few arguments."))});"function"===
typeof b&&(e=b,b={});b=b||{};"base"in b||(b.base="string"===typeof a?a:"");"documentLoader"in b||(b.documentLoader=c.loadDocument);c.expand(a,b,function(a,c){if(a)return e(new E("Could not expand input before creating node map.","jsonld.CreateNodeMapError",{cause:a}));var f;try{f=(new L).createNodeMap(c,b)}catch(d){return e(d)}e(null,f)})};c.merge=function(a,b,e,f){function d(a,b){if(!h){if(a)return h=a,f(new E("Could not expand input before flattening.","jsonld.FlattenError",{cause:a}));q.push(b);
0===--n&&m(q)}}function m(a){var d=!0;"mergeNodes"in e&&(d=e.mergeNodes);var q=e.namer||new S("_:b"),h={"@default":{}},n;try{for(var l=0;l<a.length;++l){var B=a[l],B=c.relabelBlankNodes(B,{namer:new S("_:b"+l+"-")}),t=d||0===l?h:{"@default":{}};w(B,t,"@default",q);if(t!==h)for(var C in t){var v=t[C];if(C in h){var z=h[C],A;for(A in v)A in z||(z[A]=v[A])}else h[C]=v}}n=F(h)}catch(k){return f(k)}a=[];d=Object.keys(n).sort();for(q=0;q<d.length;++q)h=n[d[q]],U(h)||a.push(h);if(null===b)return f(null,
a);e.graph=!0;e.skipExpansion=!0;c.compact(a,b,e,function(a,b){if(a)return f(new E("Could not compact merged output.","jsonld.MergeError",{cause:a}));f(null,b)})}if(1>arguments.length)return c.nextTick(function(){f(new TypeError("Could not merge, too few arguments."))});if(!x(a))return c.nextTick(function(){f(new TypeError('Could not merge, "docs" must be an array.'))});"function"===typeof e?(f=e,e={}):"function"===typeof b&&(f=b,b=null,e={});e=e||{};for(var q=[],h=null,n=a.length,l=0;l<a.length;++l){var B=
{},t;for(t in e)B[t]=e[t];c.expand(a[l],B,d)}};c.relabelBlankNodes=function(a,b){b=b||{};var c=b.namer||new S("_:b");return f(c,a)};c.prependBase=function(a,b){var e;var f=a;if(null===f)e=b;else if(-1!==b.indexOf(":"))e=b;else{J(f)&&(f=c.url.parse(f||""));e=c.url.parse(b);var d=f.protocol||"",m,q;null!==e.authority?(m=e.authority,q=e.path,f=e.query):(m=f.authority,""===e.path?(q=f.path,f=null!==e.query?e.query:f.query):(0===e.path.indexOf("/")?q=e.path:(q=f.path,""!==e.path&&(q=q.substr(0,q.lastIndexOf("/")+
1),0<q.length&&"/"!==q.substr(-1)&&(q+="/"),q+=e.path)),f=e.query));q=ua(q,!!m);null!==m&&(d+="//"+m);d+=q;null!==f&&(d+="?"+f);null!==e.fragment&&(d+="#"+e.fragment);""===d&&(d="./");e=d}return e};c.documentLoader=function(a,b){var e=new E("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed"});return d?b(e,{contextUrl:null,documentUrl:a,document:null}):c.promisify(function(a){a(e)})};c.loadDocument=function(a,
b){var e=c.documentLoader(a,b);e&&"then"in e&&e.then(b.bind(null,null),b)};c.promises=function(a){a=a||{};var b=Array.prototype.slice,e=c.promisify,f=a.api||{},d=a.version||"jsonld.js";"string"===typeof a.api&&(a.version||(d=a.api),f={});f.expand=function(a){if(1>arguments.length)throw new TypeError("Could not expand, too few arguments.");return e.apply(null,[c.expand].concat(b.call(arguments)))};f.compact=function(a,f){if(2>arguments.length)throw new TypeError("Could not compact, too few arguments.");
return e.apply(null,[function(a,b,e,f){c.compact(a,b,e,function(a,b){f(a,b)})}].concat(b.call(arguments)))};f.flatten=function(a){if(1>arguments.length)throw new TypeError("Could not flatten, too few arguments.");return e.apply(null,[c.flatten].concat(b.call(arguments)))};f.frame=function(a,f){if(2>arguments.length)throw new TypeError("Could not frame, too few arguments.");return e.apply(null,[c.frame].concat(b.call(arguments)))};f.fromRDF=function(a){if(1>arguments.length)throw new TypeError("Could not convert from RDF, too few arguments.");
return e.apply(null,[c.fromRDF].concat(b.call(arguments)))};f.toRDF=function(a){if(1>arguments.length)throw new TypeError("Could not convert to RDF, too few arguments.");return e.apply(null,[c.toRDF].concat(b.call(arguments)))};f.normalize=function(a){if(1>arguments.length)throw new TypeError("Could not normalize, too few arguments.");return e.apply(null,[c.normalize].concat(b.call(arguments)))};"jsonld.js"===d&&(f.link=function(a,f){if(2>arguments.length)throw new TypeError("Could not link, too few arguments.");
return e.apply(null,[c.link].concat(b.call(arguments)))},f.objectify=function(a){return e.apply(null,[c.objectify].concat(b.call(arguments)))},f.createNodeMap=function(a){return e.apply(null,[c.createNodeMap].concat(b.call(arguments)))},f.merge=function(a){return e.apply(null,[c.merge].concat(b.call(arguments)))});try{c.Promise=r.Promise||u("es6-promise").Promise}catch(m){a=function(){throw Error("Unable to find a Promise implementation.");};for(var q in f)f[q]=a}return f};c.promisify=function(a){if(!c.Promise)try{c.Promise=
r.Promise||u("es6-promise").Promise}catch(b){throw Error("Unable to find a Promise implementation.");}var e=Array.prototype.slice.call(arguments,1);return new c.Promise(function(b,c){a.apply(null,e.concat(function(a,e){a?c(a):b(e)}))})};c.promises({api:c.promises});e.prototype=c.promises({version:"json-ld-1.0"});e.prototype.toString=function(){return this instanceof e?"[object JsonLdProcessor]":"[object JsonLdProcessorPrototype]"};c.JsonLdProcessor=e;var Z=!!Object.defineProperty;if(Z)try{Object.defineProperty({},
"x",{})}catch(Y){Z=!1}Z&&(Object.defineProperty(e,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(e.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:e}));a&&"undefined"===typeof r.JsonLdProcessor&&(Z?Object.defineProperty(r,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:e}):r.JsonLdProcessor=e);var ma="function"===typeof setImmediate&&setImmediate,Z=ma?function(a){ma(a)}:function(a){setTimeout(a,0)};c.nextTick="object"===typeof k&&"function"===
typeof k.nextTick?k.nextTick:Z;c.setImmediate=ma?Z:c.nextTick;c.parseLinkHeader=function(a){var b={};a=a.match(/(?:<[^>]*?>|"[^"]*?"|[^,])+/g);for(var c=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,e=0;e<a.length;++e){var f=a[e].match(c);if(f){for(var d={target:f[1]},m=f[2],g=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g;f=g.exec(m);)d[f[1]]=void 0===f[2]?f[3]:f[2];f=d.rel||"";x(b[f])?b[f].push(d):b[f]=f in b?[b[f],d]:d}}return b};c.RequestQueue=function(){this._requests={}};c.RequestQueue.prototype.wrapLoader=
function(a){this._loader=a;this._usePromise=1===a.length;return this.add.bind(this)};c.RequestQueue.prototype.add=function(a,b){var e=this;if(!b&&!e._usePromise)throw Error("callback must be specified.");if(e._usePromise)return new c.Promise(function(b,c){var f=e._requests[a];f||(f=e._requests[a]=e._loader(a).then(function(b){delete e._requests[a];return b})["catch"](function(b){delete e._requests[a];throw b;}));f.then(function(a){b(a)})["catch"](function(a){c(a)})});a in e._requests?e._requests[a].push(b):
(e._requests[a]=[b],e._loader(a,function(b,c){var f=e._requests[a];delete e._requests[a];for(var d=0;d<f.length;++d)f[d](b,c)}))};c.DocumentCache=function(a){this.order=[];this.cache={};this.size=a||50;this.expires=3E4};c.DocumentCache.prototype.get=function(a){if(a in this.cache){var b=this.cache[a];if(b.expires>=+new Date)return b.ctx;delete this.cache[a];this.order.splice(this.order.indexOf(a),1)}return null};c.DocumentCache.prototype.set=function(a,b){this.order.length===this.size&&delete this.cache[this.order.shift()];
this.order.push(a);this.cache[a]={ctx:b,expires:+new Date+this.expires}};c.ActiveContextCache=function(a){this.order=[];this.cache={};this.size=a||100};c.ActiveContextCache.prototype.get=function(a,b){var c=JSON.stringify(a),e=JSON.stringify(b);return(c=this.cache[c])&&e in c?c[e]:null};c.ActiveContextCache.prototype.set=function(a,b,c){if(this.order.length===this.size){var e=this.order.shift();delete this.cache[e.activeCtx][e.localCtx]}a=JSON.stringify(a);b=JSON.stringify(b);this.order.push({activeCtx:a,
localCtx:b});a in this.cache||(this.cache[a]={});this.cache[a][b]=P(c)};c.cache={activeCtx:new c.ActiveContextCache};c.documentLoaders={};c.documentLoaders.jquery=function(a,b){function e(f,d){if(0!==f.indexOf("http:")&&0!==f.indexOf("https:"))return d(new E('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:f}),{contextUrl:null,documentUrl:f,document:null});if(b.secure&&0!==f.indexOf("https"))return d(new E('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',
"jsonld.InvalidUrl",{code:"loading document failed",url:f}),{contextUrl:null,documentUrl:f,document:null});a.ajax({url:f,accepts:{json:"application/ld+json, application/json"},headers:{Accept:"application/ld+json, application/json"},dataType:"json",crossDomain:!0,success:function(a,b,e){a={contextUrl:null,documentUrl:f,document:a};b=e.getResponseHeader("Content-Type");if((e=e.getResponseHeader("Link"))&&"application/ld+json"!==b){e=c.parseLinkHeader(e)[na];if(x(e))return d(new E("URL could not be dereferenced, it has more than one associated HTTP Link Header.",
"jsonld.InvalidUrl",{code:"multiple context link headers",url:f}),a);e&&(a.contextUrl=e.target)}d(null,a)},error:function(a,b,c){d(new E("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:f,cause:c}),{contextUrl:null,documentUrl:f,document:null})}})}b=b||{};var f=new c.RequestQueue;return("usePromise"in b?b.usePromise:"undefined"!==typeof Promise)?f.wrapLoader(function(a){return c.promisify(e,a)}):f.wrapLoader(e)};c.documentLoaders.node=
function(a){function b(h,n,l){if(0!==h.indexOf("http:")&&0!==h.indexOf("https:"))return l(new E('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:h}),{contextUrl:null,documentUrl:h,document:null});if(a.secure&&0!==h.indexOf("https"))return l(new E('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:h}),{contextUrl:null,
documentUrl:h,document:null});var w=q.get(h);if(null!==w)return l(null,w);d({url:h,headers:{Accept:"application/ld+json, application/json"},strictSSL:e,followRedirect:!1},function(a,e,d){w={contextUrl:null,documentUrl:h,document:d||null};if(a)return l(new E("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:h,cause:a}),w);var B=m.STATUS_CODES[e.statusCode];if(400<=e.statusCode)return l(new E("URL could not be dereferenced: "+B,"jsonld.InvalidUrl",
{code:"loading document failed",url:h,httpStatusCode:e.statusCode}),w);if(e.headers.link&&"application/ld+json"!==e.headers["content-type"]){B=c.parseLinkHeader(e.headers.link)[na];if(x(B))return l(new E("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:h}),w);B&&(w.contextUrl=B.target)}if(300<=e.statusCode&&400>e.statusCode&&e.headers.location){if(n.length===f)return l(new E("URL could not be dereferenced; there were too many redirects.",
"jsonld.TooManyRedirects",{code:"loading document failed",url:h,httpStatusCode:e.statusCode,redirects:n}),w);if(-1!==n.indexOf(h))return l(new E("URL could not be dereferenced; infinite redirection was detected.","jsonld.InfiniteRedirectDetected",{code:"recursive context inclusion",url:h,httpStatusCode:e.statusCode,redirects:n}),w);n.push(h);return b(e.headers.location,n,l)}n.push(h);for(e=0;e<n.length;++e)q.set(n[e],{contextUrl:null,documentUrl:n[e],document:d});l(a,w)})}a=a||{};var e="strictSSL"in
a?a.strictSSL:!0,f="maxRedirects"in a?a.maxRedirects:-1,d=u("request"),m=u("http"),q=new c.DocumentCache,h=new c.RequestQueue;return a.usePromise?h.wrapLoader(function(a){return c.promisify(b,a,[])}):h.wrapLoader(function(a,c){b(a,[],c)})};c.documentLoaders.xhr=function(a){function b(f,d){if(0!==f.indexOf("http:")&&0!==f.indexOf("https:"))return d(new E('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:f}),{contextUrl:null,
documentUrl:f,document:null});if(a.secure&&0!==f.indexOf("https"))return d(new E('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:f}),{contextUrl:null,documentUrl:f,document:null});var m=new (a.xhr||XMLHttpRequest);m.onload=function(){if(400<=m.status)return d(new E("URL could not be dereferenced: "+m.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:f,httpStatusCode:m.status}),
{contextUrl:null,documentUrl:f,document:null});var a={contextUrl:null,documentUrl:f,document:m.response},b=m.getResponseHeader("Content-Type"),q;e.test(m.getAllResponseHeaders())&&(q=m.getResponseHeader("Link"));if(q&&"application/ld+json"!==b){q=c.parseLinkHeader(q)[na];if(x(q))return d(new E("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:f}),a);q&&(a.contextUrl=q.target)}d(null,a)};m.onerror=function(){d(new E("URL could not be dereferenced, an error occurred.",
"jsonld.LoadDocumentError",{code:"loading document failed",url:f}),{contextUrl:null,documentUrl:f,document:null})};m.open("GET",f,!0);m.setRequestHeader("Accept","application/ld+json, application/json");m.send()}a=a||{};var e=/(^|(\r\n))link:/i,f=new c.RequestQueue;return("usePromise"in a?a.usePromise:"undefined"!==typeof Promise)?f.wrapLoader(function(a){return c.promisify(b,a)}):f.wrapLoader(b)};c.useDocumentLoader=function(a){if(!(a in c.documentLoaders))throw new E('Unknown document loader type: "'+
a+'"',"jsonld.UnknownDocumentLoader",{type:a});c.documentLoader=c.documentLoaders[a].apply(c,Array.prototype.slice.call(arguments,1))};c.processContext=function(a,b){var e={},f=2;3<arguments.length&&(e=arguments[2]||{},f+=1);var d=arguments[f];"base"in e||(e.base="");"documentLoader"in e||(e.documentLoader=c.loadDocument);if(null===b)return d(null,X(e));b=P(b);y(b)&&"@context"in b||(b={"@context":b});ra(b,e,function(b,c){if(b)return d(b);try{c=(new L).processContext(a,c,e)}catch(f){return d(f)}d(null,
c)})};c.hasProperty=function(a,b){var c=!1;b in a&&(c=a[b],c=!x(c)||0<c.length);return c};c.hasValue=function(a,b,e){var f=!1;if(c.hasProperty(a,b))if(a=a[b],b=Q(a),x(a)||b)for(b&&(a=a["@list"]),b=0;b<a.length;++b){if(c.compareValues(e,a[b])){f=!0;break}}else x(e)||(f=c.compareValues(e,a));return f};c.addValue=function(a,b,e,f){f=f||{};"propertyIsArray"in f||(f.propertyIsArray=!1);"allowDuplicate"in f||(f.allowDuplicate=!0);if(x(e)){0!==e.length||!f.propertyIsArray||b in a||(a[b]=[]);for(var d=0;d<
e.length;++d)c.addValue(a,b,e[d],f)}else b in a?(d=!f.allowDuplicate&&c.hasValue(a,b,e),x(a[b])||d&&!f.propertyIsArray||(a[b]=[a[b]]),d||a[b].push(e)):a[b]=f.propertyIsArray?[e]:e};c.getValues=function(a,b){var c=a[b]||[];x(c)||(c=[c]);return c};c.removeProperty=function(a,b){delete a[b]};c.removeValue=function(a,b,e,f){f=f||{};"propertyIsArray"in f||(f.propertyIsArray=!1);var d=c.getValues(a,b).filter(function(a){return!c.compareValues(a,e)});0===d.length?c.removeProperty(a,b):a[b]=1!==d.length||
f.propertyIsArray?d:d[0]};c.compareValues=function(a,b){return a===b||R(a)&&R(b)&&a["@value"]===b["@value"]&&a["@type"]===b["@type"]&&a["@language"]===b["@language"]&&a["@index"]===b["@index"]?!0:y(a)&&"@id"in a&&y(b)&&"@id"in b?a["@id"]===b["@id"]:!1};c.getContextValue=function(a,b,c){var e=null;if(null===b)return e;"@language"===c&&c in a&&(e=a[c]);a.mappings[b]&&(a=a.mappings[b],T(c)?e=a:c in a&&(e=a[c]));return e};var la={};c.registerRDFParser=function(a,b){la[a]=b};c.unregisterRDFParser=function(a){delete la[a]};
if(d){if("undefined"===typeof fa)var fa=null;if("undefined"===typeof oa)var oa={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12}}var ba="http://www.w3.org/2001/XMLSchema#string",ea="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",na="http://www.w3.org/ns/json-ld#context",sa=10,E=function(a,b,c){d?(Error.call(this),
Error.captureStackTrace(this,this.constructor)):"undefined"!==typeof Error&&(this.stack=Error().stack);this.name=b||"jsonld.Error";this.message=a||"An unspecified JSON-LD error occurred.";this.details=c||{}};d?u("util").inherits(E,Error):"undefined"!==typeof Error&&(E.prototype=Error());var L=function(){};L.prototype.compact=function(a,b,e,f){if(x(e)){for(var d=[],m=0;m<e.length;++m){var q=this.compact(a,b,e[m],f);null!==q&&d.push(q)}if(f.compactArrays&&1===d.length){var h=c.getContextValue(a,b,"@container");
null===h&&(d=d[0])}return d}if(y(e)){if(f.link&&"@id"in e&&e["@id"]in f.link)for(d=f.link[e["@id"]],m=0;m<d.length;++m)if(d[m].expanded===e)return d[m].compacted;if(R(e)||U(e))return d=O(a,b,e),f.link&&U(e)&&(e["@id"]in f.link||(f.link[e["@id"]]=[]),f.link[e["@id"]].push({expanded:e,compacted:d})),d;m="@reverse"===b;d={};f.link&&"@id"in e&&(e["@id"]in f.link||(f.link[e["@id"]]=[]),f.link[e["@id"]].push({expanded:e,compacted:d}));for(var n=Object.keys(e).sort(),l=0;l<n.length;++l){var w=n[l],B=e[w];
if("@id"===w||"@type"===w){var t;if(J(B))t=z(a,B,null,{vocab:"@type"===w});else{t=[];for(var C=0;C<B.length;++C)t.push(z(a,B[C],null,{vocab:!0}))}w=z(a,w);h=x(t)&&0===B.length;c.addValue(d,w,t,{propertyIsArray:h})}else if("@reverse"===w){t=this.compact(a,"@reverse",B,f);for(q in t)a.mappings[q]&&a.mappings[q].reverse&&(B=t[q],h=c.getContextValue(a,q,"@container"),c.addValue(d,q,B,{propertyIsArray:"@set"===h||!f.compactArrays}),delete t[q]);0<Object.keys(t).length&&(w=z(a,w),c.addValue(d,w,t))}else if("@index"===
w)h=c.getContextValue(a,b,"@container"),"@index"!==h&&(w=z(a,w),c.addValue(d,w,B));else if("@graph"!==w&&"@list"!==w&&M(w))w=z(a,w),c.addValue(d,w,B);else for(0===B.length&&(t=z(a,w,B,{vocab:!0},m),c.addValue(d,t,B,{propertyIsArray:!0})),C=0;C<B.length;++C){var v=B[C];t=z(a,w,v,{vocab:!0},m);var h=c.getContextValue(a,t,"@container"),A=Q(v),k=null;A&&(k=v["@list"]);k=this.compact(a,t,A?k:v,f);if(A)if(x(k)||(k=[k]),"@list"!==h)A={},A[z(a,"@list")]=k,k=A,"@index"in v&&(k[z(a,"@index")]=v["@index"]);
else if(t in d)throw new E('JSON-LD compact error; property has a "@list" @container rule but there is more than a single @list that matches the compacted term in the document. Compaction might mix unwanted items into the list.',"jsonld.SyntaxError",{code:"compaction to list of lists"});if("@language"===h||"@index"===h){var F;t in d?F=d[t]:d[t]=F={};"@language"===h&&R(k)&&(k=k["@value"]);c.addValue(F,v[h],k)}else h=!f.compactArrays||"@set"===h||"@list"===h||x(k)&&0===k.length||"@list"===w||"@graph"===
w,c.addValue(d,t,k,{propertyIsArray:h})}}return d}return e};L.prototype.expand=function(a,b,e,f,d){if(null===e||void 0===e)return null;if(!x(e)&&!y(e))return d||null!==b&&"@graph"!==G(a,b,{vocab:!0})?l(a,b,e):null;if(x(e)){var m=[],q=c.getContextValue(a,b,"@container");d=d||"@list"===q;for(var h=0;h<e.length;++h){var n=this.expand(a,b,e[h],f);if(d&&(x(n)||Q(n)))throw new E("Invalid JSON-LD syntax; lists of lists are not permitted.","jsonld.SyntaxError",{code:"list of lists"});null!==n&&(x(n)?m=m.concat(n):
m.push(n))}return m}"@context"in e&&(a=this.processContext(a,e["@context"],f));for(var h=G(a,b,{vocab:!0}),m={},n=Object.keys(e).sort(),w=0;w<n.length;++w){var B=n[w],t=e[B];if("@context"!==B){var C=G(a,B,{vocab:!0});if(null!==C&&(V(C)||M(C))){if(M(C)){if("@reverse"===h)throw new E("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:t});if(C in m)throw new E("Invalid JSON-LD syntax; colliding keywords detected.",
"jsonld.SyntaxError",{code:"colliding keywords",keyword:C});}if("@id"===C&&!J(t)){if(!f.isFrame)throw new E('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:t});if(!y(t))throw new E('Invalid JSON-LD syntax; "@id" value must be a string or an object.',"jsonld.SyntaxError",{code:"invalid @id value",value:t});}if("@type"===C){var q=t,v=void 0;(v=J(q))||(v=y(q)&&0===Object.keys(q).length);if(!v){v=!1;if(x(q))for(var v=!0,z=0;z<q.length;++z)if(!J(q[z])){v=
!1;break}if(!v)throw new E('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, or an empty object.',"jsonld.SyntaxError",{code:"invalid type value",value:q});}}if("@graph"===C&&!y(t)&&!x(t))throw new E('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:t});if("@value"===C&&(y(t)||x(t)))throw new E('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",
value:t});if("@language"===C){if(null===t)continue;if(!J(t))throw new E('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:t});t=t.toLowerCase()}if("@index"===C&&!J(t))throw new E('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:t});if("@reverse"===C){if(!y(t))throw new E('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",
value:t});t=this.expand(a,"@reverse",t,f);if("@reverse"in t)for(var A in t["@reverse"])c.addValue(m,A,t["@reverse"][A],{propertyIsArray:!0});B=m["@reverse"]||null;for(A in t)if("@reverse"!==A)for(null===B&&(B=m["@reverse"]={}),c.addValue(B,A,[],{propertyIsArray:!0}),C=t[A],q=0;q<C.length;++q){v=C[q];if(R(v)||Q(v))throw new E('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:t});c.addValue(B,A,v,{propertyIsArray:!0})}}else{q=
c.getContextValue(a,B,"@container");if("@language"===q&&y(t)){for(var v=[],z=Object.keys(t).sort(),k=0;k<z.length;++k){var F=z[k],H=t[F];x(H)||(H=[H]);for(var D=0;D<H.length;++D){var r=H[D];if(!J(r))throw new E("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:t});v.push({"@value":r,"@language":F.toLowerCase()})}}t=v}else if("@index"===q&&y(t)){v=B;z=[];k=Object.keys(t).sort();for(F=0;F<k.length;++F)for(H=k[F],D=t[H],
x(D)||(D=[D]),D=this.expand(a,v,D,f,!1),r=0;r<D.length;++r){var I=D[r];"@index"in I||(I["@index"]=H);z.push(I)}t=z}else if((v="@list"===C)||"@set"===C){if(z=b,v&&"@graph"===h&&(z=null),t=this.expand(a,z,t,f,v),v&&Q(t))throw new E("Invalid JSON-LD syntax; lists of lists are not permitted.","jsonld.SyntaxError",{code:"list of lists"});}else t=this.expand(a,B,t,f,!1);if(null!==t||"@value"===C)if("@list"===C||Q(t)||"@list"!==q||(t=x(t)?t:[t],t={"@list":t}),a.mappings[B]&&a.mappings[B].reverse)for(B=m["@reverse"]=
m["@reverse"]||{},x(t)||(t=[t]),q=0;q<t.length;++q){v=t[q];if(R(v)||Q(v))throw new E('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:t});c.addValue(B,C,v,{propertyIsArray:!0})}else B=-1===["@index","@id","@type","@value","@language"].indexOf(C),c.addValue(m,C,t,{propertyIsArray:B})}}}}n=Object.keys(m);a=n.length;if("@value"in m){if("@type"in m&&"@language"in m)throw new E('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and "@language".',
"jsonld.SyntaxError",{code:"invalid value object",element:m});e=a-1;"@type"in m&&--e;"@index"in m&&--e;"@language"in m&&--e;if(0!==e)throw new E('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and at most one other property which can be "@type" or "@language".',"jsonld.SyntaxError",{code:"invalid value object",element:m});if(null===m["@value"])m=null;else{if("@language"in m&&!J(m["@value"]))throw new E("Invalid JSON-LD syntax; only strings may be language-tagged.",
"jsonld.SyntaxError",{code:"invalid language-tagged value",element:m});if("@type"in m&&(!V(m["@type"])||0===m["@type"].indexOf("_:")))throw new E('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:m});}}else if("@type"in m&&!x(m["@type"]))m["@type"]=[m["@type"]];else if("@set"in m||"@list"in m){if(1<a&&!(2===a&&"@index"in m))throw new E('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',
"jsonld.SyntaxError",{code:"invalid set or list object",element:m});"@set"in m&&(m=m["@set"],n=Object.keys(m),a=n.length)}else 1===a&&"@language"in m&&(m=null);!y(m)||f.keepFreeFloatingNodes||d||null!==b&&"@graph"!==h||!(0===a||"@value"in m||"@list"in m||1===a&&"@id"in m)||(m=null);return m};L.prototype.createNodeMap=function(a,b){b=b||{};var c=b.namer||new S("_:b"),e={"@default":{}};w(a,e,"@default",c);return F(e)};L.prototype.flatten=function(a){a=this.createNodeMap(a);for(var b=[],c=Object.keys(a).sort(),
e=0;e<c.length;++e){var f=a[c[e]];U(f)||b.push(f)}return b};L.prototype.frame=function(a,b,c){c={options:c,graphs:{"@default":{},"@merged":{}},subjectStack:[],link:{}};var e=new S("_:b");w(a,c.graphs,"@merged",e);c.subjects=c.graphs["@merged"];a=[];H(c,Object.keys(c.subjects).sort(),b,a,null);return a};L.prototype.normalize=function(a,b,e){function f(a){function b(f){if(f===a.length)return d(q,m,e);var h=a[f],w=n(h,l);w in m?(m[w].push(h),e.push(h)):w in q?(m[w]=[q[w],h],e.push(q[w]),e.push(h),delete q[w]):
q[w]=h;c.setImmediate(function(){b(f+1)})}var e=[],m={},q={};c.setImmediate(function(){b(0)})}function d(a,b,c){for(var e=!1,q=Object.keys(a).sort(),h=0;h<q.length;++h)F.getName(a[q[h]]),e=!0;e?f(c):m(b)}function m(a){function b(f){function d(a,c){if(c===a.length){m.sort(function(a,b){a=a.hash;b=b.hash;return a<b?-1:a>b?1:0});for(var q=0;q<m.length;++q)for(var h in m[q].pathNamer.existing)F.getName(h);return b(f+1)}q=a[c];if(F.isNamed(q))return d(a,c+1);h=new S("_:b");h.getName(q);t(q,l,F,h,function(b,
f){if(b)return e(b);m.push(f);d(a,c+1)})}if(f===c.length)return q();var m=[];d(a[c[f]],0)}var c=Object.keys(a).sort();b(0)}function q(){for(var a=[],c=0;c<h.length;++c){for(var f=h[c],d=["subject","object","name"],m=0;m<d.length;++m){var g=d[m];f[g]&&"blank node"===f[g].type&&0!==f[g].value.indexOf("_:c14n")&&(f[g].value=F.getName(f[g].value))}a.push(ia(f,f.name?f.name.value:null))}a.sort();if(b.format)return"application/nquads"===b.format?e(null,a.join("")):e(new E("Unknown output format.","jsonld.UnknownFormat",
{format:b.format}));e(null,ta(a.join("")))}var h=[],l={},w;for(w in a){var B=a[w];"@default"===w&&(w=null);for(var C=0;C<B.length;++C){var v=B[C];null!==w&&(0===w.indexOf("_:")?v.name={type:"blank node",value:w}:v.name={type:"IRI",value:w});h.push(v);for(var z=["subject","object","name"],A=0;A<z.length;++A){var k=z[A];v[k]&&"blank node"===v[k].type&&(k=v[k].value,k in l?l[k].quads.push(v):l[k]={quads:[v]})}}}var F=new S("_:c14n");return f(Object.keys(l))};L.prototype.fromRDF=function(a,b,e){var f=
{},d={"@default":f},m={},q;for(q in a){var h=a[q];q in d||(d[q]={});"@default"===q||q in f||(f[q]={"@id":q});for(var n=d[q],l=0;l<h.length;++l){var w=h[l],t=w.subject.value,B=w.predicate.value,w=w.object;t in n||(n[t]={"@id":t});var t=n[t],C="IRI"===w.type||"blank node"===w.type;!C||w.value in n||(n[w.value]={"@id":w.value});if("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"===B&&!b.useRdfType&&C)c.addValue(t,"@type",w.value,{propertyIsArray:!0});else{var v;var z=w,A=b.useNativeTypes;"IRI"===z.type||
"blank node"===z.type?v={"@id":z.value}:(v={"@value":z.value},z.language?v["@language"]=z.language:((z=z.datatype)||(z=ba),A?("http://www.w3.org/2001/XMLSchema#boolean"===z?"true"===v["@value"]?v["@value"]=!0:"false"===v["@value"]&&(v["@value"]=!1):(A=v["@value"],!isNaN(parseFloat(A))&&isFinite(A)&&("http://www.w3.org/2001/XMLSchema#integer"===z?(A=parseInt(v["@value"],10),A.toFixed(0)===v["@value"]&&(v["@value"]=A)):"http://www.w3.org/2001/XMLSchema#double"===z&&(v["@value"]=parseFloat(v["@value"])))),
-1===["http://www.w3.org/2001/XMLSchema#boolean","http://www.w3.org/2001/XMLSchema#integer","http://www.w3.org/2001/XMLSchema#double",ba].indexOf(z)&&(v["@type"]=z)):z!==ba&&(v["@type"]=z)));c.addValue(t,B,v,{propertyIsArray:!0});C&&("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"===w.value?(w=n[w.value],"usages"in w||(w.usages=[]),w.usages.push({node:t,property:B,value:v})):m[w.value]=w.value in m?!1:{node:t,property:B,value:v})}}}for(q in d)if(b=d[q],"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"in
b){h=b["http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"];for(a=0;a<h.usages.length;++a){w=h.usages[a];t=w.node;l=w.property;w=w.value;B=[];n=[];for(C=Object.keys(t).length;"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"===l&&y(m[t["@id"]])&&x(t["http://www.w3.org/1999/02/22-rdf-syntax-ns#first"])&&1===t["http://www.w3.org/1999/02/22-rdf-syntax-ns#first"].length&&x(t["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"])&&1===t["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"].length&&(3===C||4===
C&&x(t["@type"])&&1===t["@type"].length&&"http://www.w3.org/1999/02/22-rdf-syntax-ns#List"===t["@type"][0])&&(B.push(t["http://www.w3.org/1999/02/22-rdf-syntax-ns#first"][0]),n.push(t["@id"]),w=m[t["@id"]],t=w.node,l=w.property,w=w.value,C=Object.keys(t).length,0===t["@id"].indexOf("_:")););if("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"===l){if("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"===t["@id"])continue;w=b[w["@id"]]["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"][0];B.pop();n.pop()}delete w["@id"];
w["@list"]=B.reverse();for(t=0;t<n.length;++t)delete b[n[t]]}delete h.usages}m=[];q=Object.keys(f).sort();for(a=0;a<q.length;++a){b=q[a];t=f[b];if(b in d)for(h=t["@graph"]=[],b=d[b],n=Object.keys(b).sort(),l=0;l<n.length;++l)B=b[n[l]],U(B)||h.push(B);U(t)||m.push(t)}e(null,m)};L.prototype.toRDF=function(a,b){var c=new S("_:b"),e={"@default":{}};w(a,e,"@default",c);for(var f={},d=Object.keys(e).sort(),m=0;m<d.length;++m){var q=d[m];if("@default"===q||V(q)){for(var h=q,q=e[q],g=c,n=b,l=[],t=Object.keys(q).sort(),
B=0;B<t.length;++B)for(var C=t[B],z=q[C],A=Object.keys(z).sort(),k=0;k<A.length;++k){var F=A[k],H=z[F];if("@type"===F)F="http://www.w3.org/1999/02/22-rdf-syntax-ns#type";else if(M(F))continue;for(var D=0;D<H.length;++D){var r=H[D],G={};G.type=0===C.indexOf("_:")?"blank node":"IRI";G.value=C;if(V(C)){var I={};I.type=0===F.indexOf("_:")?"blank node":"IRI";I.value=F;if(V(F)&&("blank node"!==I.type||n.produceGeneralizedRdf))if(Q(r)){for(var r=r["@list"],u=g,O=l,W={type:"IRI",value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first"},
y={type:"IRI",value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},x=0;x<r.length;++x){var X=r[x],N={type:"blank node",value:u.getName()};O.push({subject:G,predicate:I,object:N});G=N;I=W;(X=v(X))&&O.push({subject:G,predicate:I,object:X});I=y}O.push({subject:G,predicate:I,object:{type:"IRI",value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}})}else(r=v(r))&&l.push({subject:G,predicate:I,object:r})}}}f[h]=l}}return f};L.prototype.processContext=function(a,b,e){y(b)&&"@context"in b&&x(b["@context"])&&
(b=b["@context"]);b=x(b)?b:[b];if(0===b.length)return a.clone();for(var f=a,d=0;d<b.length;++d){var m=b[d];if(null===m)f=a=X(e);else{y(m)&&"@context"in m&&(m=m["@context"]);if(!y(m))throw new E("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:m});if(c.cache.activeCtx&&(a=c.cache.activeCtx.get(a,m))){f=a;continue}a=f;var f=f.clone(),q={};if("@base"in m){var h=m["@base"];if(null===h)h=null;else{if(!J(h))throw new E('Invalid JSON-LD syntax; the value of "@base" in a @context must be a string or null.',
"jsonld.SyntaxError",{code:"invalid base IRI",context:m});if(""!==h&&!V(h))throw new E('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI or the empty string.',"jsonld.SyntaxError",{code:"invalid base IRI",context:m});}null!==h&&(h=c.url.parse(h||""));f["@base"]=h;q["@base"]=!0}if("@vocab"in m){h=m["@vocab"];if(null===h)delete f["@vocab"];else if(J(h))if(V(h))f["@vocab"]=h;else throw new E('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',
"jsonld.SyntaxError",{code:"invalid vocab mapping",context:m});else throw new E('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:m});q["@vocab"]=!0}if("@language"in m){h=m["@language"];if(null===h)delete f["@language"];else if(J(h))f["@language"]=h.toLowerCase();else throw new E('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",
context:m});q["@language"]=!0}for(var n in m)N(f,m,n,q);c.cache.activeCtx&&c.cache.activeCtx.set(a,m,f)}}return f};Object.keys||(Object.keys=function(a){if(a!==Object(a))throw new TypeError("Object.keys called on non-object");var b=[],c;for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b});c.registerRDFParser("application/nquads",ta);c.registerRDFParser("rdfa-api",function(a){for(var b={"@default":[]},c=a.getSubjects(),e=0;e<c.length;++e){var f=c[e];if(null!==f){var d=a.getSubjectTriples(f);
if(null!==d){var d=d.predicates,m;for(m in d)for(var q=d[m].objects,h=0;h<q.length;++h){var g=q[h],n={};0===f.indexOf("_:")?n.subject={type:"blank node",value:f}:n.subject={type:"IRI",value:f};0===m.indexOf("_:")?n.predicate={type:"blank node",value:m}:n.predicate={type:"IRI",value:m};var l=g.value;if("http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral"===g.type){fa||(fa=u("xmldom").XMLSerializer);for(var w=new fa,l="",t=0;t<g.value.length;t++)g.value[t].nodeType===oa.ELEMENT_NODE?l+=w.serializeToString(g.value[t]):
g.value[t].nodeType===oa.TEXT_NODE&&(l+=g.value[t].nodeValue)}n.object={};"http://www.w3.org/1999/02/22-rdf-syntax-ns#object"===g.type?0===g.value.indexOf("_:")?n.object.type="blank node":n.object.type="IRI":(n.object.type="literal","http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral"===g.type?g.language?(n.object.datatype=ea,n.object.language=g.language):n.object.datatype=ba:n.object.datatype=g.type);n.object.value=l;b["@default"].push(n)}}}}return b});c.UniqueNamer=S;S.prototype.clone=function(){var a=
new S(this.prefix);a.counter=this.counter;a.existing=P(this.existing);return a};S.prototype.getName=function(a){if(a&&a in this.existing)return this.existing[a];var b=this.prefix+this.counter;this.counter+=1;a&&(this.existing[a]=b);return b};S.prototype.isNamed=function(a){return a in this.existing};var ka=function(a){this.list=a.sort();this.done=!1;this.left={};for(var b=0;b<a.length;++b)this.left[a[b]]=!0};ka.prototype.hasNext=function(){return!this.done};ka.prototype.next=function(){for(var a=
this.list.slice(),b=null,c=0,e=this.list.length,f=0;f<e;++f){var d=this.list[f],m=this.left[d];(null===b||d>b)&&(m&&0<f&&d>this.list[f-1]||!m&&f<e-1&&d>this.list[f+1])&&(b=d,c=f)}if(null===b)this.done=!0;else for(f=this.left[b]?c-1:c+1,this.list[c]=this.list[f],this.list[f]=b,f=0;f<e;++f)this.list[f]>b&&(this.left[this.list[f]]=!this.left[this.list[f]]);return a};var K=c.sha1={};if(d){var wa=u("crypto");K.create=function(){var a=wa.createHash("sha1");return{update:function(b){a.update(b,"utf8")},
digest:function(){return a.digest("hex")}}}}else K.create=function(){return new K.MessageDigest};K.hash=function(a){for(var b=K.create(),c=0;c<a.length;++c)b.update(a[c]);return b.digest()};if(!d){K.Buffer=function(){this.data="";this.read=0};K.Buffer.prototype.putInt32=function(a){this.data+=String.fromCharCode(a>>24&255)+String.fromCharCode(a>>16&255)+String.fromCharCode(a>>8&255)+String.fromCharCode(a&255)};K.Buffer.prototype.getInt32=function(){var a=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+
1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);this.read+=4;return a};K.Buffer.prototype.bytes=function(){return this.data.slice(this.read)};K.Buffer.prototype.length=function(){return this.data.length-this.read};K.Buffer.prototype.compact=function(){this.data=this.data.slice(this.read);this.read=0};K.Buffer.prototype.toHex=function(){for(var a="",b=this.read;b<this.data.length;++b){var c=this.data.charCodeAt(b);16>c&&(a+="0");a+=c.toString(16)}return a};K.MessageDigest=
function(){aa.initialized||aa.init();this.blockLength=64;this.digestLength=20;this.messageLength=0;this.input=new K.Buffer;this.words=Array(80);this.state={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520}};K.MessageDigest.prototype.update=function(a){a=unescape(encodeURIComponent(a));this.messageLength+=a.length;this.input.data+=a;aa.update(this.state,this.words,this.input);(2048<this.input.read||0===this.input.length())&&this.input.compact()};K.MessageDigest.prototype.digest=
function(){var a=this.messageLength,b=new K.Buffer;b.data+=this.input.bytes();b.data+=aa.padding.substr(0,64-(a+8)%64);b.putInt32(a>>>29&255);b.putInt32(a<<3&4294967295);aa.update(this.state,this.words,b);a=new K.Buffer;a.putInt32(this.state.h0);a.putInt32(this.state.h1);a.putInt32(this.state.h2);a.putInt32(this.state.h3);a.putInt32(this.state.h4);return a.toHex()};var aa={padding:null,initialized:!1,init:function(){aa.padding=String.fromCharCode(128);for(var a=String.fromCharCode(0),b=64;0<b;)b&
1&&(aa.padding+=a),b>>>=1,0<b&&(a+=a);aa.initialized=!0},update:function(a,b,c){for(var e,f,d,m,q,h,g,n,l=c.length();64<=l;){f=a.h0;d=a.h1;m=a.h2;q=a.h3;h=a.h4;for(n=0;16>n;++n)e=c.getInt32(),b[n]=e,g=q^d&(m^q),e=(f<<5|f>>>27)+g+h+1518500249+e,h=q,q=m,m=d<<30|d>>>2,d=f,f=e;for(;20>n;++n)e=b[n-3]^b[n-8]^b[n-14]^b[n-16],e=e<<1|e>>>31,b[n]=e,g=q^d&(m^q),e=(f<<5|f>>>27)+g+h+1518500249+e,h=q,q=m,m=d<<30|d>>>2,d=f,f=e;for(;32>n;++n)e=b[n-3]^b[n-8]^b[n-14]^b[n-16],e=e<<1|e>>>31,b[n]=e,g=d^m^q,e=(f<<5|f>>>
27)+g+h+1859775393+e,h=q,q=m,m=d<<30|d>>>2,d=f,f=e;for(;40>n;++n)e=b[n-6]^b[n-16]^b[n-28]^b[n-32],e=e<<2|e>>>30,b[n]=e,g=d^m^q,e=(f<<5|f>>>27)+g+h+1859775393+e,h=q,q=m,m=d<<30|d>>>2,d=f,f=e;for(;60>n;++n)e=b[n-6]^b[n-16]^b[n-28]^b[n-32],e=e<<2|e>>>30,b[n]=e,g=d&m|q&(d^m),e=(f<<5|f>>>27)+g+h+2400959708+e,h=q,q=m,m=d<<30|d>>>2,d=f,f=e;for(;80>n;++n)e=b[n-6]^b[n-16]^b[n-28]^b[n-32],e=e<<2|e>>>30,b[n]=e,g=d^m^q,e=(f<<5|f>>>27)+g+h+3395469782+e,h=q,q=m,m=d<<30|d>>>2,d=f,f=e;a.h0+=f;a.h1+=d;a.h2+=m;a.h3+=
q;a.h4+=h;l-=64}}}}c.url={};c.url.parsers={simple:{keys:"href scheme authority path query fragment".split(" "),regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:"href protocol scheme authority auth user password hostname port path directory file query fragment".split(" "),regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}};c.url.parse=function(a,b){for(var e={},f=c.url.parsers[b||
"full"],d=f.regex.exec(a),m=f.keys.length;m--;)e[f.keys[m]]=void 0===d[m]?null:d[m];e.normalizedPath=ua(e.path,!!e.authority);return e};d?c.useDocumentLoader("node"):"undefined"!==typeof XMLHttpRequest&&c.useDocumentLoader("xhr");d&&(c.use=function(a){switch(a){case "request":c.request=u("./request");break;default:throw new E("Unknown extension.","jsonld.UnknownExtension",{extension:a});}},Z={exports:{},filename:b},u("pkginfo")(Z,"version"),c.version=Z.exports.version);return c},f=function(){return c(function(){return f()})};
c(f);"function"===typeof u&&"undefined"!==typeof x&&x.exports&&(x.exports=f);a&&("undefined"===typeof jsonld?jsonld=jsonldjs=f:jsonldjs=f);return f})()}).call(this,u("7YKIPe"),"undefined"!==typeof self?self:"undefined"!==typeof window?window:{},"/../node_modules/jsonld/js")},{"./request":25,"7YKIPe":10,crypto:25,"es6-promise":3,http:25,pkginfo:36,request:25,util:25,xmldom:25}],27:[function(u,x,y){var k=u;u=function(){};y=x.exports={Lexer:u("./lib/N3Lexer"),Parser:u("./lib/N3Parser"),Writer:u("./lib/N3Writer"),
Store:u("./lib/N3Store"),StreamParser:u("./lib/N3StreamParser"),StreamWriter:u("./lib/N3StreamWriter"),Util:u("./lib/N3Util")};Object.keys(y).forEach(function(r){Object.defineProperty(y,r,{configurable:!0,enumerable:!0,get:function(){delete y[r];return y[r]=k("./lib/N3"+r)}})})},{"./lib/N3Lexer":28,"./lib/N3Parser":29,"./lib/N3Store":30,"./lib/N3StreamParser":31,"./lib/N3StreamWriter":32,"./lib/N3Util":33,"./lib/N3Writer":34}],28:[function(u,x,y){function k(a){if(!(this instanceof k))return new k(a);
if(a&&a.lineMode){this._tripleQuotedString=this._number=this._boolean=/$0^/;var b=this;this._tokenize=this.tokenize;this.tokenize=function(a,c){this._tokenize(a,function(a,e){!a&&/^(?:IRI|prefixed|literal|langcode|type|\.|eof)$/.test(e.type)?c&&c(a,e):c&&c(a||b._syntaxError(e.type,c=null))})}}}var r=String.fromCharCode,b="function"===typeof setImmediate?setImmediate:function(a){setTimeout(a,0)},d=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\[uU]|\\(.)/g,a={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",
f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},c=/[\x00-\x20<>\\"\{\}\|\^\`]/;k.prototype={_iri:/^<((?:[^>\\]|\\[uU])+)>/,_unescapedIri:/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>/,_unescapedString:/^"[^"\\]+"(?=[^"\\])/,_singleQuotedString:/^"[^"\\]*(?:\\.[^"\\]*)*"(?=[^"\\])|^'[^'\\]*(?:\\.[^'\\]*)*'(?=[^'\\])/,_tripleQuotedString:/^""("[^"\\]*(?:(?:\\.|"(?!""))[^"\\]*)*")""|^''('[^'\\]*(?:(?:\\.|'(?!''))[^'\\]*)*')''/,
_langcode:/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,_prefix:/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,_prefixed:/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?=\.?[,;\s#()\[\]\{\}"'<])/,
_blank:/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=\.?[,;:\s#()\[\]\{\}"'<])/,_number:/^[\-+]?(?:\d+\.?\d*([eE](?:[\-\+])?\d+)|\d*\.?\d+)(?=[.,;:\s#()\[\]\{\}"'<])/,_boolean:/^(?:true|false)(?=[.,;:\s#()\[\]\{\}"'<])/,
_keyword:/^@[a-z]+(?=[\s#<:])/,_sparqlKeyword:/^(?:PREFIX|BASE|GRAPH)(?=[\s#<:])/i,_shortPredicates:/^a(?=\s+|<)/,_newline:/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,_whitespace:/^[ \t]+/,_endOfFile:/^(?:#[^\n\r]*)?$/,_tokenizeToEnd:function(a,b){function e(b){a(b._syntaxError(/^\S*/.exec(d)[0]))}for(var d=this._input;;){for(var l;l=this._newline.exec(d);)d=d.substr(l[0].length,d.length),this._line++;if(l=this._whitespace.exec(d))d=d.substr(l[0].length,d.length);if(this._endOfFile.test(d))return b&&
a(d=null,{line:this._line,type:"eof",value:"",prefix:""}),this._input=d;l=this._line;var v="",n="",t="",A=d[0],w=null,k=0,H=!1;switch(A){case "^":if(1===d.length)break;else if("^"!==d[1])return e(this);this._prevTokenType="^";d=d.substr(2);if("<"!==d[0]){H=!0;break}case "<":if(w=this._unescapedIri.exec(d))v="IRI",n=w[1];else if(w=this._iri.exec(d)){n=this._unescape(w[1]);if(null===n||c.test(n))return e(this);v="IRI"}break;case "_":if((w=this._blank.exec(d))||b&&(w=this._blank.exec(d+" ")))v="prefixed",
t="_",n=w[1];break;case '"':case "'":if(w=this._unescapedString.exec(d))v="literal",n=w[0];else if(w=this._singleQuotedString.exec(d)){n=this._unescape(w[0]);if(null===n)return e(this);v="literal";n=n.replace(/^'|'$/g,'"')}else if(w=this._tripleQuotedString.exec(d)){n=w[1]||w[2];this._line+=n.split(/\r\n|\r|\n/).length-1;n=this._unescape(n);if(null===n)return e(this);v="literal";n=n.replace(/^'|'$/g,'"')}break;case "@":if("literal"===this._prevTokenType&&(w=this._langcode.exec(d)))v="langcode",n=
w[1];else if(w=this._keyword.exec(d))v=w[0];break;case ".":if(1===d.length?b:"0">d[1]||"9"<d[1]){v=".";k=1;break}case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":case "+":case "-":if(w=this._number.exec(d))v="literal",n='"'+w[0]+'"^^http://www.w3.org/2001/XMLSchema#'+(w[1]?"double":/^[+\-]?\d+$/.test(w[0])?"integer":"decimal");break;case "B":case "b":case "p":case "P":case "G":case "g":(w=this._sparqlKeyword.exec(d))?v=w[0].toUpperCase():H=!0;break;case "f":case "t":(w=
this._boolean.exec(d))?(v="literal",n='"'+w[0]+'"^^http://www.w3.org/2001/XMLSchema#boolean'):H=!0;break;case "a":(w=this._shortPredicates.exec(d))?(v="abbreviation",n="http://www.w3.org/1999/02/22-rdf-syntax-ns#type"):H=!0;break;case ",":case ";":case "[":case "]":case "(":case ")":case "{":case "}":k=1;v=A;break;default:H=!0}if(H)if(("@prefix"===this._prevTokenType||"PREFIX"===this._prevTokenType)&&(w=this._prefix.exec(d)))v="prefix",n=w[1]||"";else if((w=this._prefixed.exec(d))||b&&(w=this._prefixed.exec(d+
" ")))v="prefixed",t=w[1]||"",n=this._unescape(w[2]);"^"===this._prevTokenType&&(v="IRI"===v||"prefixed"===v?"type":"");if(!v)return b||!/^'''|^"""/.test(d)&&/\n|\r/.test(d)?e(this):this._input=d;a(null,{line:l,type:v,value:n,prefix:t});this._prevTokenType=v;d=d.substr(k||w[0].length,d.length)}},_unescape:function(b){try{return b.replace(d,function(b,c,f,d){if(c){b=parseInt(c,16);if(isNaN(b))throw Error();return r(b)}if(f){b=parseInt(f,16);if(isNaN(b))throw Error();return 65535>=b?r(b):r(55296+(b-=
65536)/1024,56320+(b&1023))}b=a[d];if(!b)throw Error();return b})}catch(c){return null}},_syntaxError:function(a){this._input=null;return Error('Syntax error: unexpected "'+a+'" on line '+this._line+".")},tokenize:function(a,c){function e(a){null!==l._input&&(l._input+=a,l._tokenizeToEnd(c,!1))}function d(){null!==l._input&&l._tokenizeToEnd(c,!0)}var l=this;this._line=1;"string"===typeof a?(this._input=a,b(function(){l._tokenizeToEnd(c,!0)})):(this._input="",a&&"function"!==typeof a?("function"===
typeof a.setEncoding&&a.setEncoding("utf8"),a.on("data",e),a.on("end",d)):(this.addChunk=e,this.end=d,c||(c=a)))}};x.exports=k},{}],29:[function(u,x,y){function k(a){if(!(this instanceof k))return new k(a);this._tripleStack=[];this._graph=null;a=a||{};this._setBase(a.documentIRI);var c="string"===typeof a.format&&a.format.match(/\w*$/)[0].toLowerCase(),f="turtle"===c,d="trig"===c,g=/triple/.test(c),c=/quad/.test(c),c=g||c;(this._supportsNamedGraphs=!f)||(this._readPredicateOrNamedGraph=this._readPredicate);
this._supportsQuads=!(f||d||g);c&&(this._base="",this._resolveIRI=function(a){this._error("Disallowed relative IRI",a);return this._callback=r,this._subject=null});this._blankNodePrefix="string"!==typeof a.blankNodePrefix?"":"_:"+a.blankNodePrefix.replace(/^_:/,"");this._lexer=a.lexer||new b({lineMode:c})}function r(){}var b=u("./N3Lexer"),d=/^[a-z][a-z0-9+.-]*:/i,a=/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i,c=/(?:^|\/)\.\.?(?:$|[\/#?])/,f=0,g=0;k._resetBlankNodeIds=function(){f=g=0};k.prototype=
{_setBase:function(b){if(!b)b=null;else if(0<=b.indexOf("#"))throw Error("Invalid base IRI "+b);if(this._base=b)this._basePath=b.replace(/[^\/?]*(?:\?.*)?$/,""),b=b.match(a),this._baseRoot=b[0],this._baseScheme=b[1]},_readInTopContext:function(a){switch(a.type){case "eof":if(null!==this._graph)return this._error("Unclosed graph",a);delete this._prefixes._;return this._callback(null,null,this._prefixes);case "@prefix":return this._sparqlStyle=!1,this._readPrefix;case "PREFIX":return this._sparqlStyle=
!0,this._readPrefix;case "@base":return this._sparqlStyle=!1,this._readBaseIRI;case "BASE":return this._sparqlStyle=!0,this._readBaseIRI;case "{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case "GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(a)}},_readSubject:function(a){this._predicate=null;switch(a.type){case "IRI":null===this._base||d.test(a.value)?this._subject=a.value:this._subject=this._resolveIRI(a);
break;case "prefixed":var b=this._prefixes[a.prefix];if(void 0===b)return this._error('Undefined prefix "'+a.prefix+':"',a);this._subject=b+a.value;break;case "[":return this._subject="_:b"+g++,this._tripleStack.push({subject:this._subject,predicate:null,object:null,type:"blank"}),this._readBlankNodeHead;case "(":return this._tripleStack.push({subject:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil",predicate:null,object:null,type:"list"}),this._subject=null,this._readListItem;case "}":return this._readPunctuation(a);
default:return this._error("Expected subject but got "+a.type,a)}return this._readPredicateOrNamedGraph},_readPredicate:function(a){var b=a.type;switch(b){case "IRI":case "abbreviation":null===this._base||d.test(a.value)?this._predicate=a.value:this._predicate=this._resolveIRI(a);break;case "prefixed":if("_"===a.prefix)return this._error("Disallowed blank node as predicate",a);b=this._prefixes[a.prefix];if(void 0===b)return this._error('Undefined prefix "'+a.prefix+':"',a);this._predicate=b+a.value;
break;case ".":case "]":case "}":if(null===this._predicate)return this._error("Unexpected "+b,a);this._subject=null;return"]"===b?this._readBlankNodeTail(a):this._readPunctuation(a);case ";":return this._readPredicate;default:return this._error('Expected predicate to follow "'+this._subject+'"',a)}return this._readObject},_readObject:function(a){switch(a.type){case "IRI":null===this._base||d.test(a.value)?this._object=a.value:this._object=this._resolveIRI(a);break;case "prefixed":var b=this._prefixes[a.prefix];
if(void 0===b)return this._error('Undefined prefix "'+a.prefix+':"',a);this._object=b+a.value;break;case "literal":return this._object=a.value,this._readDataTypeOrLang;case "[":return a="_:b"+g++,this._tripleStack.push({subject:this._subject,predicate:this._predicate,object:a,type:"blank"}),this._subject=a,this._readBlankNodeHead;case "(":return this._tripleStack.push({subject:this._subject,predicate:this._predicate,object:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil",type:"list"}),this._subject=
null,this._readListItem;default:return this._error('Expected object to follow "'+this._predicate+'"',a)}return this._getTripleEndReader()},_readPredicateOrNamedGraph:function(a){return"{"===a.type?this._readGraph(a):this._readPredicate(a)},_readGraph:function(a){if("{"!==a.type)return this._error("Expected graph but got "+a.type,a);this._graph=this._subject;this._subject=null;return this._readSubject},_readBlankNodeHead:function(a){if("]"===a.type)return this._subject=null,this._readBlankNodeTail(a);
this._predicate=null;return this._readPredicate(a)},_readBlankNodeTail:function(a){if("]"!==a.type)return this._readBlankNodePunctuation(a);null!==this._subject&&this._callback(null,{subject:this._subject,predicate:this._predicate,object:this._object,graph:this._graph||""});a=this._tripleStack.pop();this._subject=a.subject;return null!==a.object?(this._predicate=a.predicate,this._object=a.object,this._getTripleEndReader()):null!==this._predicate?this._readPredicate:this._readPredicateOrNamedGraph},
_readDataTypeOrLang:function(a){switch(a.type){case "type":if(""===a.prefix)a=null===this._base||d.test(a.value)?a.value:this._resolveIRI(a);else{var b=this._prefixes[a.prefix];if(void 0===b)return this._error('Undefined prefix "'+a.prefix+':"',a);a=b+a.value}this._object+="^^"+a;return this._getTripleEndReader();case "langcode":return this._object+="@"+a.value.toLowerCase(),this._getTripleEndReader();default:return this._getTripleEndReader().call(this,a)}},_readListItem:function(a){var b=null,c=
null,f=this._subject,n=this._tripleStack,t=n[n.length-1],A=this._readListItem;switch(a.type){case "IRI":b=null===this._base||d.test(a.value)?a.value:this._resolveIRI(a);break;case "prefixed":b=this._prefixes[a.prefix];if(void 0===b)return this._error('Undefined prefix "'+a.prefix+':"',a);b+=a.value;break;case "literal":b=a.value;A=this._readDataTypeOrLang;break;case "[":c="_:b"+g++;b="_:b"+g++;n.push({subject:c,predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",object:b,type:"blank"});this._subject=
b;A=this._readBlankNodeHead;break;case "(":c="_:b"+g++;n.push({subject:c,predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",object:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil",type:"list"});this._subject=null;A=this._readListItem;break;case ")":n.pop();0!==n.length&&"list"===n[n.length-1].type&&this._callback(null,{subject:t.subject,predicate:t.predicate,object:t.object,graph:this._graph||""});this._subject=t.subject;if(null===t.predicate){if(A=this._readPredicate,"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"===
t.subject)return A}else if(this._predicate=t.predicate,this._object=t.object,A=this._getTripleEndReader(),"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"===t.object)return A;c="http://www.w3.org/1999/02/22-rdf-syntax-ns#nil";break;default:return this._error('Expected list item instead of "'+a.type+'"',a)}null===c&&(this._subject=c="_:b"+g++);null===f?"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"===t.object?t.object=c:t.subject=c:this._callback(null,{subject:f,predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",
object:c,graph:this._graph||""});null!==b&&this._callback(null,{subject:c,predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",object:b,graph:this._graph||""});return A},_readPunctuation:function(a){var b=this._subject,c=this._graph;switch(a.type){case "}":if(null===this._graph)return this._error("Unexpected graph closing",a);this._graph=null;case ".":this._subject=null;a=this._readInTopContext;break;case ";":a=this._readPredicate;break;case ",":a=this._readObject;break;case "IRI":if(this._supportsQuads&&
null===this._graph){c=null===this._base||d.test(a.value)?a.value:this._resolveIRI(a);b=this._subject;a=this._readQuadPunctuation;break}case "prefixed":if(this._supportsQuads&&null===this._graph){c=this._prefixes[a.prefix];if(void 0===c)return this._error('Undefined prefix "'+a.prefix+':"',a);c+=a.value;a=this._readQuadPunctuation;break}default:return this._error('Expected punctuation to follow "'+this._object+'"',a)}null!==b&&this._callback(null,{subject:b,predicate:this._predicate,object:this._object,
graph:c||""});return a},_readBlankNodePunctuation:function(a){switch(a.type){case ";":a=this._readPredicate;break;case ",":a=this._readObject;break;default:return this._error('Expected punctuation to follow "'+this._object+'"',a)}this._callback(null,{subject:this._subject,predicate:this._predicate,object:this._object,graph:this._graph||""});return a},_readQuadPunctuation:function(a){return"."!==a.type?this._error("Expected dot to follow quad",a):this._readInTopContext},_readPrefix:function(a){if("prefix"!==
a.type)return this._error("Expected prefix to follow @prefix",a);this._prefix=a.value;return this._readPrefixIRI},_readPrefixIRI:function(a){if("IRI"!==a.type)return this._error('Expected IRI to follow prefix "'+this._prefix+':"',a);a=null===this._base||d.test(a.value)?a.value:this._resolveIRI(a);this._prefixes[this._prefix]=a;this._prefixCallback(this._prefix,a);return this._readDeclarationPunctuation},_readBaseIRI:function(a){if("IRI"!==a.type)return this._error("Expected IRI to follow base declaration",
a);try{this._setBase(null===this._base||d.test(a.value)?a.value:this._resolveIRI(a))}catch(b){this._error(b.message,a)}return this._readDeclarationPunctuation},_readNamedGraphLabel:function(a){switch(a.type){case "IRI":case "prefixed":return this._readSubject(a),this._readGraph;case "[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",a)}},_readNamedGraphBlankLabel:function(a){if("]"!==a.type)return this._error("Invalid graph label",a);this._subject="_:b"+g++;
return this._readGraph},_readDeclarationPunctuation:function(a){return this._sparqlStyle?this._readInTopContext(a):"."!==a.type?this._error("Expected declaration to end with a dot",a):this._readInTopContext},_getTripleEndReader:function(){var a=this._tripleStack;if(0===a.length)return this._readPunctuation;switch(a[a.length-1].type){case "blank":return this._readBlankNodeTail;case "list":return this._readListItem}},_error:function(a,b){this._callback(Error(a+" at line "+b.line+"."))},_resolveIRI:function(a){a=
a.value;switch(a[0]){case void 0:return this._base;case "#":return this._base+a;case "?":return this._base.replace(/(?:\?.*)?$/,a);case "/":return("/"===a[1]?this._baseScheme:this._baseRoot)+this._removeDotSegments(a);default:return this._removeDotSegments(this._basePath+a)}},_removeDotSegments:function(a){if(!c.test(a))return a;for(var b="",f=a.length,d=-1,g=-1,t=0,A="/";d<f;){switch(A){case ":":if(0>g&&"/"===a[++d]&&"/"===a[++d])for(;(g=d+1)<f&&"/"!==a[g];)d=g;break;case "?":case "#":d=f;break;
case "/":if("."===a[d+1])switch(A=a[++d+1],A){case "/":b+=a.substring(t,d-1);t=d+1;break;case void 0:case "?":case "#":return b+a.substring(t,d)+a.substr(d+1);case ".":if(A=a[++d+1],void 0===A||"/"===A||"?"===A||"#"===A){b+=a.substring(t,d-2);(t=b.lastIndexOf("/"))>=g&&(b=b.substr(0,t));if("/"!==A)return b+"/"+a.substr(d+1);t=d+1}}}A=a[++d]}return b+a.substring(t)},parse:function(a,b,c){this._readCallback=this._readInTopContext;this._prefixes=Object.create(null);this._prefixes._=this._blankNodePrefix||
"_:b"+f++ +"_";"function"===typeof a&&(c=b,b=a,a=null);this._callback=b||r;this._prefixCallback=c||r;var d=this;this._lexer.tokenize(a,function(a,b){null!==a?(d._callback(a),d._callback=r):void 0!==d._readCallback&&(d._readCallback=d._readCallback(b))});a||(this.addChunk=this._lexer.addChunk,this.end=this._lexer.end)}};x.exports=k},{"./N3Lexer":28}],30:[function(u,x,y){function k(b,d){if(!(this instanceof k))return new k(b,d);this._size=0;this._graphs=Object.create(null);this._entities=Object.create(null);
this._blankNodeIndex=this._entityCount=this._entities["><"]=0;d||!b||b[0]||(d=b,b=null);this._prefixes=Object.create(null);d&&d.prefixes&&this.addPrefixes(d.prefixes);b&&this.addTriples(b)}var r=u("./N3Util").expandPrefixedName;k.prototype={get size(){var b=this._size;if(null!==b)return b;var d=this._graphs,a,c,f;for(f in d)for(var g in a=d[f].subjects)for(var e in c=a[g])b+=Object.keys(c[e]).length;return this._size=b},_addToIndex:function(b,d,a,c){b=b[d]||(b[d]={});(b[a]||(b[a]={}))[c]=null},_removeFromIndex:function(b,
d,a,c){var f=b[d],g=f[a],e;delete g[c];for(e in g)return;delete f[a];for(e in f)return;delete b[d]},_findInIndex:function(b,d,a,c,f,g,e,h){var l=[],v=Object.keys(this._entities),n,t;d&&((n=b,b={})[d]=n[d]);for(var A in b){var w=v[A];if(d=b[A]){a&&((n=d,d={})[a]=n[a]);for(var k in d){var H=v[k];if(t=d[k]){t=c?c in t?[c]:[]:Object.keys(t);for(var D=t.length-1;0<=D;D--){var r={subject:"",predicate:"",object:"",graph:h};r[f]=w;r[g]=H;r[e]=v[t[D]];l.push(r)}}}}}return l},_countInIndex:function(b,d,a,c){var f=
0,g,e;d&&((g=b,b={})[d]=g[d]);for(var h in b)if(d=b[h]){a&&((g=d,d={})[a]=g[a]);for(var l in d)if(e=d[l])c?c in e&&f++:f+=Object.keys(e).length}return f},addTriple:function(b,d,a,c){d||(c=b.graph,a=b.object,d=b.predicate,b=b.subject);c=c||"";var f=this._graphs[c];f||(f=this._graphs[c]={subjects:{},predicates:{},objects:{}},Object.freeze(f));c=this._entities;b=c[b]||(c[b]=++this._entityCount);d=c[d]||(c[d]=++this._entityCount);a=c[a]||(c[a]=++this._entityCount);this._addToIndex(f.subjects,b,d,a);this._addToIndex(f.predicates,
d,a,b);this._addToIndex(f.objects,a,b,d);this._size=null},addTriples:function(b){for(var d=b.length-1;0<=d;d--)this.addTriple(b[d])},addPrefix:function(b,d){this._prefixes[b]=d},addPrefixes:function(b){for(var d in b)this.addPrefix(d,b[d])},removeTriple:function(b,d,a,c){d||(c=b.graph,a=b.object,d=b.predicate,b=b.subject);c=c||"";var f;f=this._entities;var g=this._graphs;if(b=f[b])if(d=f[d])if(a=f[a])if(f=g[c]){var e,h;if((e=f.subjects[b])&&(h=e[d])&&a in h){this._removeFromIndex(f.subjects,b,d,a);
this._removeFromIndex(f.predicates,d,a,b);this._removeFromIndex(f.objects,a,b,d);null!==this._size&&this._size--;for(b in f.subjects)return;delete g[c]}}},removeTriples:function(b){for(var d=b.length-1;0<=d;d--)this.removeTriple(b[d])},find:function(b,d,a,c){var f=this._prefixes;return this.findByIRI(r(b,f),r(d,f),r(a,f),r(c,f))},findByIRI:function(b,d,a,c){c=c||"";var f=this._graphs[c],g=this._entities;return!f||b&&!(b=g[b])||d&&!(d=g[d])||a&&!(a=g[a])?[]:b?a?this._findInIndex(f.objects,a,b,d,"object",
"subject","predicate",c):this._findInIndex(f.subjects,b,d,null,"subject","predicate","object",c):d?this._findInIndex(f.predicates,d,a,null,"predicate","object","subject",c):a?this._findInIndex(f.objects,a,null,null,"object","subject","predicate",c):this._findInIndex(f.subjects,null,null,null,"subject","predicate","object",c)},count:function(b,d,a,c){var f=this._prefixes;return this.countByIRI(r(b,f),r(d,f),r(a,f),r(c,f))},countByIRI:function(b,d,a,c){c=this._graphs[c||""];var f=this._entities;return!c||
b&&!(b=f[b])||d&&!(d=f[d])||a&&!(a=f[a])?0:b?a?this._countInIndex(c.objects,a,b,d):this._countInIndex(c.subjects,b,d,a):d?this._countInIndex(c.predicates,d,a,b):this._countInIndex(c.objects,a,b,d)},createBlankNode:function(b){var d,a;if(b)for(d=b="_:"+b,a=1;this._entities[d];)d=b+a++;else{do d="_:b"+this._blankNodeIndex++;while(this._entities[d])}this._entities[d]=++this._entityCount;return d}};x.exports=k},{"./N3Util":33}],31:[function(u,x,y){function k(d){if(!(this instanceof k))return new k(d);
r.call(this,{decodeStrings:!0});this._readableState.objectMode=!0;var a=this,c=new b(d);c.parse(function(b,c){c&&a.push(c)||b&&a.emit("error",b)},this.emit.bind(this,"prefix"));this._transform=function(a,b,e){c.addChunk(a);e()};this._flush=function(a){c.end();a()}}var r=u("stream").Transform;y=u("util");var b=u("./N3Parser.js");y.inherits(k,r);x.exports=k},{"./N3Parser.js":29,stream:15,util:40}],32:[function(u,x,y){function k(d){if(!(this instanceof k))return new k(d);r.call(this,{encoding:"utf8"});
this._writableState.objectMode=!0;var a=this,c=new b({write:function(b,c,e){a.push(b);e&&e()},end:function(b){a.push(null);b&&b()}},d);this._transform=function(a,b,e){c.addTriple(a,e)};this._flush=function(a){c.end(a)}}var r=u("stream").Transform;y=u("util");var b=u("./N3Writer.js");y.inherits(k,r);x.exports=k},{"./N3Writer.js":34,stream:15,util:40}],33:[function(u,x,y){function k(d,a){for(var c in b)a?d.prototype[c]=r(b[c]):d[c]=b[c];return d}function r(b){return function(a){return b(this,a)}}var b=
{isIRI:function(b){if(!b)return b;b=b[0];return'"'!==b&&"_"!==b},isLiteral:function(b){return b&&'"'===b[0]},isBlank:function(b){return b&&"_:"===b.substr(0,2)},getLiteralValue:function(b){var a=/^"([^]*)"/.exec(b);if(!a)throw Error(b+" is not a literal");return a[1]},getLiteralType:function(b){var a=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(b);if(!a)throw Error(b+" is not a literal");return a[1]||(a[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")},
getLiteralLanguage:function(b){var a=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(b);if(!a)throw Error(b+" is not a literal");return a[1]?a[1].toLowerCase():""},isPrefixedName:function(b){return b&&/^[^:\/"']*:[^:\/"']+$/.test(b)},expandPrefixedName:function(b,a){var c=/(?:^|"\^\^)([^:\/#"'\^_]*):[^\/]*$/.exec(b),f,g,e;c&&(f=c[1],g=a[f],e=c.index);return void 0===g?b:0===e?g+b.substr(f.length+1):b.substr(0,e+3)+g+b.substr(e+f.length+4)},createIRI:function(d){return d&&'"'===d[0]?b.getLiteralValue(d):d},
createLiteral:function(b,a){if(!a)switch(typeof b){case "boolean":a="http://www.w3.org/2001/XMLSchema#boolean";break;case "number":if(isFinite(b)){a=0===b%1?"http://www.w3.org/2001/XMLSchema#integer":"http://www.w3.org/2001/XMLSchema#decimal";break}default:return'"'+b+'"'}return'"'+b+(/^[a-z]+(-[a-z0-9]+)*$/i.test(a)?'"@'+a.toLowerCase():'"^^'+a)}};x.exports=k(k)},{}],34:[function(u,x,y){function k(a,b){if(!(this instanceof k))return new k(a,b);a&&"function"!==typeof a.write&&(b=a,a=null);b=b||{};
if(a)this._outputStream=a,this._endStream=void 0===b.end?!0:!!b.end;else{var c="";this._outputStream={write:function(a,b,f){c+=a;f&&f()},end:function(a){a&&a(null,c)}};this._endStream=!0}this._subject=null;/triple|quad/i.test(b.format)?this._writeTriple=this._writeTripleLine:(this._graph="",this._prefixIRIs=Object.create(null),b.prefixes&&this.addPrefixes(b.prefixes))}function r(a){var b=c[a];void 0===b&&(1===a.length?(b=a.charCodeAt(0).toString(16),b="\\u0000".substr(0,6-b.length)+b):(b=(1024*(a.charCodeAt(0)-
55296)+a.charCodeAt(1)+9216).toString(16),b="\\U00000000".substr(0,10-b.length)+b));return b}var b=/^"([^]*)"(?:\^\^(.+)|@([\-a-z]+))?$/i,d=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,a=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,c={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};k.prototype={_write:function(a,b){this._outputStream.write(a,"utf8",b)},_writeTriple:function(a,b,c,d,l){try{this._graph!==d&&(this._write((null===this._subject?"":this._graph?
"\n}\n":".\n")+(d?this._encodeIriOrBlankNode(d)+" {\n":"")),this._subject=null,this._graph="["!==d[0]?d:"]"),this._subject===a?this._predicate===b?this._write(", "+this._encodeObject(c),l):this._write(";\n    "+this._encodePredicate(this._predicate=b)+" "+this._encodeObject(c),l):this._write((null===this._subject?"":".\n")+this._encodeSubject(this._subject=a)+" "+this._encodePredicate(this._predicate=b)+" "+this._encodeObject(c),l)}catch(v){l&&l(v)}},_writeTripleLine:function(a,b,c,d,l){delete this._prefixMatch;
try{this._write(this._encodeIriOrBlankNode(a)+" "+this._encodeIriOrBlankNode(b)+" "+this._encodeObject(c)+(d?" "+this._encodeIriOrBlankNode(d)+".\n":".\n"),l)}catch(v){l&&l(v)}},_encodeIriOrBlankNode:function(b){var c=b[0];if("["===c||"("===c||"_"===c&&":"===b[1])return b;d.test(b)&&(b=b.replace(a,r));return(c=this._prefixRegex.exec(b))?c[1]?this._prefixIRIs[c[1]]+c[2]:b:"<"+b+">"},_encodeLiteral:function(b,c,e){d.test(b)&&(b=b.replace(a,r));return e?'"'+b+'"@'+e:c?'"'+b+'"^^'+this._encodeIriOrBlankNode(c):
'"'+b+'"'},_encodeSubject:function(a){if('"'===a[0])throw Error("A literal as subject is not allowed: "+a);"["===a[0]&&(this._subject="]");return this._encodeIriOrBlankNode(a)},_encodePredicate:function(a){if('"'===a[0])throw Error("A literal as predicate is not allowed: "+a);return"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"===a?"a":this._encodeIriOrBlankNode(a)},_encodeObject:function(a){if('"'!==a[0])return this._encodeIriOrBlankNode(a);var c=b.exec(a);if(!c)throw Error("Invalid literal: "+
a);return this._encodeLiteral(c[1],c[2],c[3])},_blockedWrite:function(){throw Error("Cannot write because the writer has been closed.");},addTriple:function(a,b,c,d,l){void 0===c?this._writeTriple(a.subject,a.predicate,a.object,a.graph||"",b):"string"!==typeof d?this._writeTriple(a,b,c,"",d):this._writeTriple(a,b,c,d,l)},addTriples:function(a){for(var b=0;b<a.length;b++)this.addTriple(a[b])},addPrefix:function(a,b,c){var d={};d[a]=b;this.addPrefixes(d,c)},addPrefixes:function(a,b){var c=this._prefixIRIs,
d=!1,l;for(l in a){var v=a[l];/[#\/]$/.test(v)&&c[v]!==(l+=":")&&(d=!0,c[v]=l,null!==this._subject&&(this._write(this._graph?"\n}\n":".\n"),this._subject=null,this._graph=""),this._write("@prefix "+l+" <"+v+">.\n"))}if(d){var v=l="",n;for(n in c)l+=l?"|"+n:n,v+=(v?"|":"")+c[n];l=l.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&");this._prefixRegex=new RegExp("^(?:"+v+")[^/]*$|^("+l+")([a-zA-Z][\\-_a-zA-Z0-9]*)$")}this._write(d?"\n":"",b)},blank:function(a,b){var c=a,d,l;void 0===a?c=[]:"string"===typeof a?
c=[{predicate:a,object:b}]:"length"in a||(c=[a]);switch(l=c.length){case 0:return"[]";case 1:if(d=c[0],"["!==d.object[0])return"[ "+this._encodePredicate(d.predicate)+" "+this._encodeObject(d.object)+" ]";default:for(var v="[",n=0;n<l;n++)d=c[n],d.predicate===a?v+=", "+this._encodeObject(d.object):(v+=(n?";\n  ":"\n  ")+this._encodePredicate(d.predicate)+" "+this._encodeObject(d.object),a=d.predicate);return v+"\n]"}},list:function(a){for(var b=a&&a.length||0,c=Array(b),d=0;d<b;d++)c[d]=this._encodeObject(a[d]);
return"("+c.join(" ")+")"},_prefixRegex:/$0^/,end:function(a){null!==this._subject&&(this._write(this._graph?"\n}\n":".\n"),this._subject=null);this._write=this._blockedWrite;var b=a&&function(c,d){b=null;a(c,d)};if(this._endStream)try{return this._outputStream.end(b)}catch(c){}b&&b()}};x.exports=k},{}],35:[function(u,x,y){(function(k){function r(a,b){for(var d=0,e=a.length-1;0<=e;e--){var h=a[e];"."===h?a.splice(e,1):".."===h?(a.splice(e,1),d++):d&&(a.splice(e,1),d--)}if(b)for(;d--;d)a.unshift("..");
return a}function b(a,b){if(a.filter)return a.filter(b);for(var d=[],e=0;e<a.length;e++)b(a[e],e,a)&&d.push(a[e]);return d}var d=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;y.resolve=function(){for(var a="",d=!1,g=arguments.length-1;-1<=g&&!d;g--){var e=0<=g?arguments[g]:k.cwd();if("string"!==typeof e)throw new TypeError("Arguments to path.resolve must be strings");e&&(a=e+"/"+a,d="/"===e.charAt(0))}a=r(b(a.split("/"),function(a){return!!a}),!d).join("/");return(d?"/":"")+a||"."};
y.normalize=function(c){var d=y.isAbsolute(c),g="/"===a(c,-1);(c=r(b(c.split("/"),function(a){return!!a}),!d).join("/"))||d||(c=".");c&&g&&(c+="/");return(d?"/":"")+c};y.isAbsolute=function(a){return"/"===a.charAt(0)};y.join=function(){var a=Array.prototype.slice.call(arguments,0);return y.normalize(b(a,function(a,b){if("string"!==typeof a)throw new TypeError("Arguments to path.join must be strings");return a}).join("/"))};y.relative=function(a,b){function d(a){for(var b=0;b<a.length&&""===a[b];b++);
for(var c=a.length-1;0<=c&&""===a[c];c--);return b>c?[]:a.slice(b,c-b+1)}a=y.resolve(a).substr(1);b=y.resolve(b).substr(1);for(var e=d(a.split("/")),h=d(b.split("/")),l=Math.min(e.length,h.length),v=l,n=0;n<l;n++)if(e[n]!==h[n]){v=n;break}l=[];for(n=v;n<e.length;n++)l.push("..");l=l.concat(h.slice(v));return l.join("/")};y.sep="/";y.delimiter=":";y.dirname=function(a){var b=d.exec(a).slice(1);a=b[0];b=b[1];if(!a&&!b)return".";b&&(b=b.substr(0,b.length-1));return a+b};y.basename=function(a,b){var g=
d.exec(a).slice(1)[2];b&&g.substr(-1*b.length)===b&&(g=g.substr(0,g.length-b.length));return g};y.extname=function(a){return d.exec(a).slice(1)[3]};var a="b"==="ab".substr(-1)?function(a,b,d){return a.substr(b,d)}:function(a,b,d){0>b&&(b=a.length+b);return a.substr(b,d)}}).call(this,u("7YKIPe"))},{"7YKIPe":10}],36:[function(u,x,y){(function(k){var r=u("fs"),b=u("path"),d=x.exports=function(a,b){var f=[].slice.call(arguments,2).filter(function(a){return"string"===typeof a});Array.isArray(b)?b={include:b}:
"string"===typeof b&&(b={include:[b]});b=b||{};b.include=b.include||[];0<f.length&&(b.include=b.include.concat(f));var g=d.read(a,b.dir)["package"];Object.keys(g).forEach(function(e){0<b.include.length&&!~b.include.indexOf(e)||a.exports[e]||(a.exports[e]=g[e])});return d};d.find=function(a,c){c||(c=b.dirname(a.filename));if(~r.readdirSync(c).indexOf("package.json"))return b.join(c,"package.json");if("/"===c)throw Error("Could not find package.json up from: "+c);if(!c||"."===c)throw Error("Cannot find package.json from unspecified directory");
return d.find(a,b.dirname(c))};d.read=function(a,b){b=d.find(a,b);var f=r.readFileSync(b).toString();return{dir:b,"package":JSON.parse(f)}};d(x,{dir:k,include:["version"],target:d})}).call(this,"/../node_modules/pkginfo/lib")},{fs:5,path:35}],37:[function(u,x,y){(function(k){(function(r){function b(a){throw RangeError(H[a]);}function d(a,b){for(var c=a.length;c--;)a[c]=b(a[c]);return a}function a(a,b){return d(a.split(F),b).join(".")}function c(a){for(var b=[],c=0,e=a.length,d,f;c<e;)d=a.charCodeAt(c++),
55296<=d&&56319>=d&&c<e?(f=a.charCodeAt(c++),56320==(f&64512)?b.push(((d&1023)<<10)+(f&1023)+65536):(b.push(d),c--)):b.push(d);return b}function f(a){return d(a,function(a){var b="";65535<a&&(a-=65536,b+=I(a>>>10&1023|55296),a=56320|a&1023);return b+=I(a)}).join("")}function g(a,b){return a+22+75*(26>a)-((0!=b)<<5)}function e(a,b,c){var e=0;a=c?D(a/700):a>>1;for(a+=D(a/b);455<a;e+=36)a=D(a/35);return D(e+36*a/(a+38))}function h(a){var c=[],d=a.length,g,n=0,h=128,l=72,w,t,v,k,A;w=a.lastIndexOf("-");
0>w&&(w=0);for(t=0;t<w;++t)128<=a.charCodeAt(t)&&b("not-basic"),c.push(a.charCodeAt(t));for(w=0<w?w+1:0;w<d;){t=n;g=1;for(v=36;;v+=36){w>=d&&b("invalid-input");k=a.charCodeAt(w++);k=10>k-48?k-22:26>k-65?k-65:26>k-97?k-97:36;(36<=k||k>D((2147483647-n)/g))&&b("overflow");n+=k*g;A=v<=l?1:v>=l+26?26:v-l;if(k<A)break;k=36-A;g>D(2147483647/k)&&b("overflow");g*=k}g=c.length+1;l=e(n-t,g,0==t);D(n/g)>2147483647-h&&b("overflow");h+=D(n/g);n%=g;c.splice(n++,0,h)}return f(c)}function l(a){var d,f,n,h,l,w,t,v,
k,A=[],F,H,r;a=c(a);F=a.length;d=128;f=0;l=72;for(w=0;w<F;++w)k=a[w],128>k&&A.push(I(k));for((n=h=A.length)&&A.push("-");n<F;){t=2147483647;for(w=0;w<F;++w)k=a[w],k>=d&&k<t&&(t=k);H=n+1;t-d>D((2147483647-f)/H)&&b("overflow");f+=(t-d)*H;d=t;for(w=0;w<F;++w)if(k=a[w],k<d&&2147483647<++f&&b("overflow"),k==d){v=f;for(t=36;;t+=36){k=t<=l?1:t>=l+26?26:t-l;if(v<k)break;r=v-k;v=36-k;A.push(I(g(k+r%v,0)));v=D(r/v)}A.push(I(g(v,0)));l=e(f,H,n==h);f=0;++n}++f;++d}return A.join("")}var v="object"==typeof y&&
y,n="object"==typeof x&&x&&x.exports==v&&x,t="object"==typeof k&&k;if(t.global===t||t.window===t)r=t;var A=/^xn--/,w=/[^ -~]/,F=/\x2E|\u3002|\uFF0E|\uFF61/g,H={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},D=Math.floor,I=String.fromCharCode,u,t={version:"1.2.4",ucs2:{decode:c,encode:f},decode:h,encode:l,toASCII:function(b){return a(b,function(a){return w.test(a)?"xn--"+l(a):a})},toUnicode:function(b){return a(b,
function(a){return A.test(a)?h(a.slice(4).toLowerCase()):a})}};if(v&&!v.nodeType)if(n)n.exports=t;else for(u in t)t.hasOwnProperty(u)&&(v[u]=t[u]);else r.punycode=t})(this)}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],38:[function(u,x,y){function k(){this.href=this.path=this.pathname=this.query=this.search=this.hash=this.hostname=this.port=this.host=this.auth=this.slashes=this.protocol=null}function r(a,c,e){if(a&&b(a)&&a instanceof k)return a;var d=new k;
d.parse(a,c,e);return d}function b(a){return"object"===typeof a&&null!==a}var d=u("punycode");y.parse=r;y.resolve=function(a,b){return r(a,!1,!0).resolve(b)};y.resolveObject=function(a,b){return a?r(a,!1,!0).resolveObject(b):b};y.format=function(a){"string"===typeof a&&(a=r(a));return a instanceof k?a.format():k.prototype.format.call(a)};y.Url=k;var a=/^([a-z0-9.+-]+:)/i,c=/:[0-9]*$/;x="{}|\\^`".split("").concat('<>"` \r\n\t'.split(""));var f=["'"].concat(x),g=["%","/","?",";","#"].concat(f),e=["/",
"?","#"],h=/^[a-z0-9A-Z_-]{0,63}$/,l=/^([a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},n={javascript:!0,"javascript:":!0},t={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},A=u("querystring");k.prototype.parse=function(b,c,k){if("string"!==typeof b)throw new TypeError("Parameter 'url' must be a string, not "+typeof b);b=b.trim();var D=a.exec(b);if(D){var D=D[0],r=D.toLowerCase();this.protocol=r;b=b.substr(D.length)}if(k||D||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var u=
"//"===b.substr(0,2);!u||D&&n[D]||(b=b.substr(2),this.slashes=!0)}if(!n[D]&&(u||D&&!t[D])){u=-1;for(k=0;k<e.length;k++)D=b.indexOf(e[k]),-1!==D&&(-1===u||D<u)&&(u=D);u=-1===u?b.lastIndexOf("@"):b.lastIndexOf("@",u);-1!==u&&(k=b.slice(0,u),b=b.slice(u+1),this.auth=decodeURIComponent(k));u=-1;for(k=0;k<g.length;k++)D=b.indexOf(g[k]),-1!==D&&(-1===u||D<u)&&(u=D);-1===u&&(u=b.length);this.host=b.slice(0,u);b=b.slice(u);this.parseHost();this.hostname=this.hostname||"";u="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-
1];if(!u){var q=this.hostname.split(/\./);k=0;for(D=q.length;k<D;k++){var m=q[k];if(m&&!m.match(h)){for(var B="",C=0,z=m.length;C<z;C++)B=127<m.charCodeAt(C)?B+"x":B+m[C];if(!B.match(h)){D=q.slice(0,k);k=q.slice(k+1);if(m=m.match(l))D.push(m[1]),k.unshift(m[2]);k.length&&(b="/"+k.join(".")+b);this.hostname=D.join(".");break}}}}this.hostname=255<this.hostname.length?"":this.hostname.toLowerCase();if(!u){m=this.hostname.split(".");q=[];for(k=0;k<m.length;++k)D=m[k],q.push(D.match(/[^A-Za-z0-9_-]/)?
"xn--"+d.encode(D):D);this.hostname=q.join(".")}k=this.port?":"+this.port:"";this.host=(this.hostname||"")+k;this.href+=this.host;u&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!v[r])for(k=0,D=f.length;k<D;k++)u=f[k],m=encodeURIComponent(u),m===u&&(m=escape(u)),b=b.split(u).join(m);k=b.indexOf("#");-1!==k&&(this.hash=b.substr(k),b=b.slice(0,k));k=b.indexOf("?");-1!==k?(this.search=b.substr(k),this.query=b.substr(k+1),c&&(this.query=A.parse(this.query)),
b=b.slice(0,k)):c&&(this.search="",this.query={});b&&(this.pathname=b);t[r]&&this.hostname&&!this.pathname&&(this.pathname="/");if(this.pathname||this.search)k=this.pathname||"",D=this.search||"",this.path=k+D;this.href=this.format();return this};k.prototype.format=function(){var a=this.auth||"";a&&(a=encodeURIComponent(a),a=a.replace(/%3A/i,":"),a+="@");var c=this.protocol||"",e=this.pathname||"",d=this.hash||"",f=!1,g="";this.host?f=a+this.host:this.hostname&&(f=a+(-1===this.hostname.indexOf(":")?
this.hostname:"["+this.hostname+"]"),this.port&&(f+=":"+this.port));this.query&&b(this.query)&&Object.keys(this.query).length&&(g=A.stringify(this.query));a=this.search||g&&"?"+g||"";c&&":"!==c.substr(-1)&&(c+=":");this.slashes||(!c||t[c])&&!1!==f?(f="//"+(f||""),e&&"/"!==e.charAt(0)&&(e="/"+e)):f||(f="");d&&"#"!==d.charAt(0)&&(d="#"+d);a&&"?"!==a.charAt(0)&&(a="?"+a);e=e.replace(/[?#]/g,function(a){return encodeURIComponent(a)});a=a.replace("#","%23");return c+f+e+a+d};k.prototype.resolve=function(a){return this.resolveObject(r(a,
!1,!0)).format()};k.prototype.resolveObject=function(a){if("string"===typeof a){var b=new k;b.parse(a,!1,!0);a=b}var c=new k;Object.keys(this).forEach(function(a){c[a]=this[a]},this);c.hash=a.hash;if(""===a.href)return c.href=c.format(),c;if(a.slashes&&!a.protocol)return Object.keys(a).forEach(function(b){"protocol"!==b&&(c[b]=a[b])}),t[c.protocol]&&c.hostname&&!c.pathname&&(c.path=c.pathname="/"),c.href=c.format(),c;if(a.protocol&&a.protocol!==c.protocol){if(!t[a.protocol])return Object.keys(a).forEach(function(b){c[b]=
a[b]}),c.href=c.format(),c;c.protocol=a.protocol;if(a.host||n[a.protocol])c.pathname=a.pathname;else{for(var e=(a.pathname||"").split("/");e.length&&!(a.host=e.shift()););a.host||(a.host="");a.hostname||(a.hostname="");""!==e[0]&&e.unshift("");2>e.length&&e.unshift("");c.pathname=e.join("/")}c.search=a.search;c.query=a.query;c.host=a.host||"";c.auth=a.auth;c.hostname=a.hostname||a.host;c.port=a.port;if(c.pathname||c.search)c.path=(c.pathname||"")+(c.search||"");c.slashes=c.slashes||a.slashes;c.href=
c.format();return c}var b=c.pathname&&"/"===c.pathname.charAt(0),d=a.host||a.pathname&&"/"===a.pathname.charAt(0),f=b=d||b||c.host&&a.pathname,q=c.pathname&&c.pathname.split("/")||[],e=a.pathname&&a.pathname.split("/")||[],m=c.protocol&&!t[c.protocol];m&&(c.hostname="",c.port=null,c.host&&(""===q[0]?q[0]=c.host:q.unshift(c.host)),c.host="",a.protocol&&(a.hostname=null,a.port=null,a.host&&(""===e[0]?e[0]=a.host:e.unshift(a.host)),a.host=null),b=b&&(""===e[0]||""===q[0]));if(d)c.host=a.host||""===a.host?
a.host:c.host,c.hostname=a.hostname||""===a.hostname?a.hostname:c.hostname,c.search=a.search,c.query=a.query,q=e;else if(e.length)q||(q=[]),q.pop(),q=q.concat(e),c.search=a.search,c.query=a.query;else if(null!=a.search){m&&(c.hostname=c.host=q.shift(),m=c.host&&0<c.host.indexOf("@")?c.host.split("@"):!1)&&(c.auth=m.shift(),c.host=c.hostname=m.shift());c.search=a.search;c.query=a.query;if(null!==c.pathname||null!==c.search)c.path=(c.pathname?c.pathname:"")+(c.search?c.search:"");c.href=c.format();
return c}if(!q.length)return c.pathname=null,c.path=c.search?"/"+c.search:null,c.href=c.format(),c;for(var d=q.slice(-1)[0],e=(c.host||a.host)&&("."===d||".."===d)||""===d,g=0,h=q.length;0<=h;h--)d=q[h],"."==d?q.splice(h,1):".."===d?(q.splice(h,1),g++):g&&(q.splice(h,1),g--);if(!b&&!f)for(;g--;g)q.unshift("..");!b||""===q[0]||q[0]&&"/"===q[0].charAt(0)||q.unshift("");e&&"/"!==q.join("/").substr(-1)&&q.push("");f=""===q[0]||q[0]&&"/"===q[0].charAt(0);m&&(c.hostname=c.host=f?"":q.length?q.shift():"",
m=c.host&&0<c.host.indexOf("@")?c.host.split("@"):!1)&&(c.auth=m.shift(),c.host=c.hostname=m.shift());(b=b||c.host&&q.length)&&!f&&q.unshift("");q.length?c.pathname=q.join("/"):(c.pathname=null,c.path=null);if(null!==c.pathname||null!==c.search)c.path=(c.pathname?c.pathname:"")+(c.search?c.search:"");c.auth=a.auth||c.auth;c.slashes=c.slashes||a.slashes;c.href=c.format();return c};k.prototype.parseHost=function(){var a=this.host,b=c.exec(a);b&&(b=b[0],":"!==b&&(this.port=b.substr(1)),a=a.substr(0,
a.length-b.length));a&&(this.hostname=a)}},{punycode:37,querystring:13}],39:[function(u,x,y){x.exports=function(k){return k&&"object"===typeof k&&"function"===typeof k.copy&&"function"===typeof k.fill&&"function"===typeof k.readUInt8}},{}],40:[function(u,x,y){(function(k,r){function b(b,c){var e={seen:[],stylize:a};3<=arguments.length&&(e.depth=arguments[2]);4<=arguments.length&&(e.colors=arguments[3]);t(c)?e.showHidden=c:c&&y._extend(e,c);F(e.showHidden)&&(e.showHidden=!1);F(e.depth)&&(e.depth=2);
F(e.colors)&&(e.colors=!1);F(e.customInspect)&&(e.customInspect=!0);e.colors&&(e.stylize=d);return f(e,b,e.depth)}function d(a,c){var e=b.styles[c];return e?"\u001b["+b.colors[e][0]+"m"+a+"\u001b["+b.colors[e][1]+"m":a}function a(a,b){return a}function c(a){var b={};a.forEach(function(a,c){b[a]=!0});return b}function f(a,b,d){if(a.customInspect&&b&&q(b.inspect)&&b.inspect!==y.inspect&&(!b.constructor||b.constructor.prototype!==b)){var m=b.inspect(d,a);w(m)||(m=f(a,m,d));return m}if(m=g(a,b))return m;
var t=Object.keys(b),B=c(t);a.showHidden&&(t=Object.getOwnPropertyNames(b));if(x(b)&&(0<=t.indexOf("message")||0<=t.indexOf("description")))return e(b);if(0===t.length){if(q(b))return a.stylize("[Function"+(b.name?": "+b.name:"")+"]","special");if(H(b))return a.stylize(RegExp.prototype.toString.call(b),"regexp");if(I(b))return a.stylize(Date.prototype.toString.call(b),"date");if(x(b))return e(b)}var m="",C=!1,k=["{","}"];n(b)&&(C=!0,k=["[","]"]);q(b)&&(m=" [Function"+(b.name?": "+b.name:"")+"]");
H(b)&&(m=" "+RegExp.prototype.toString.call(b));I(b)&&(m=" "+Date.prototype.toUTCString.call(b));x(b)&&(m=" "+e(b));if(0===t.length&&(!C||0==b.length))return k[0]+m+k[1];if(0>d)return H(b)?a.stylize(RegExp.prototype.toString.call(b),"regexp"):a.stylize("[Object]","special");a.seen.push(b);t=C?h(a,b,d,B,t):t.map(function(c){return l(a,b,d,B,c,C)});a.seen.pop();return v(t,m,k)}function g(a,b){if(F(b))return a.stylize("undefined","undefined");if(w(b)){var c="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,
"\\'").replace(/\\"/g,'"')+"'";return a.stylize(c,"string")}if(A(b))return a.stylize(""+b,"number");if(t(b))return a.stylize(""+b,"boolean");if(null===b)return a.stylize("null","null")}function e(a){return"["+Error.prototype.toString.call(a)+"]"}function h(a,b,c,e,d){for(var f=[],m=0,q=b.length;m<q;++m)Object.prototype.hasOwnProperty.call(b,String(m))?f.push(l(a,b,c,e,String(m),!0)):f.push("");d.forEach(function(d){d.match(/^\d+$/)||f.push(l(a,b,c,e,d,!0))});return f}function l(a,b,c,e,d,m){var q,
g;b=Object.getOwnPropertyDescriptor(b,d)||{value:b[d]};b.get?g=b.set?a.stylize("[Getter/Setter]","special"):a.stylize("[Getter]","special"):b.set&&(g=a.stylize("[Setter]","special"));Object.prototype.hasOwnProperty.call(e,d)||(q="["+d+"]");g||(0>a.seen.indexOf(b.value)?(g=null===c?f(a,b.value,null):f(a,b.value,c-1),-1<g.indexOf("\n")&&(g=m?g.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+g.split("\n").map(function(a){return"   "+a}).join("\n"))):g=a.stylize("[Circular]","special"));
if(F(q)){if(m&&d.match(/^\d+$/))return g;q=JSON.stringify(""+d);q.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(q=q.substr(1,q.length-2),q=a.stylize(q,"name")):(q=q.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),q=a.stylize(q,"string"))}return q+": "+g}function v(a,b,c){var e=0;return 60<a.reduce(function(a,b){e++;0<=b.indexOf("\n")&&e++;return a+b.replace(/\u001b\[\d\d?m/g,"").length+1},0)?c[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+c[1]:c[0]+b+" "+a.join(", ")+" "+c[1]}function n(a){return Array.isArray(a)}
function t(a){return"boolean"===typeof a}function A(a){return"number"===typeof a}function w(a){return"string"===typeof a}function F(a){return void 0===a}function H(a){return D(a)&&"[object RegExp]"===Object.prototype.toString.call(a)}function D(a){return"object"===typeof a&&null!==a}function I(a){return D(a)&&"[object Date]"===Object.prototype.toString.call(a)}function x(a){return D(a)&&("[object Error]"===Object.prototype.toString.call(a)||a instanceof Error)}function q(a){return"function"===typeof a}
function m(a){return 10>a?"0"+a.toString(10):a.toString(10)}function B(){var a=new Date,b=[m(a.getHours()),m(a.getMinutes()),m(a.getSeconds())].join(":");return[a.getDate(),N[a.getMonth()],b].join(" ")}var C=/%[sdj%]/g;y.format=function(a){if(!w(a)){for(var c=[],e=0;e<arguments.length;e++)c.push(b(arguments[e]));return c.join(" ")}for(var e=1,d=arguments,f=d.length,c=String(a).replace(C,function(a){if("%%"===a)return"%";if(e>=f)return a;switch(a){case "%s":return String(d[e++]);case "%d":return Number(d[e++]);
case "%j":try{return JSON.stringify(d[e++])}catch(b){return"[Circular]"}default:return a}}),m=d[e];e<f;m=d[++e])c=null!==m&&D(m)?c+(" "+b(m)):c+(" "+m);return c};y.deprecate=function(a,b){if(F(r.process))return function(){return y.deprecate(a,b).apply(this,arguments)};if(!0===k.noDeprecation)return a;var c=!1;return function(){if(!c){if(k.throwDeprecation)throw Error(b);k.traceDeprecation?console.trace(b):console.error(b);c=!0}return a.apply(this,arguments)}};var z={},O;y.debuglog=function(a){F(O)&&
(O=k.env.NODE_DEBUG||"");a=a.toUpperCase();if(!z[a])if((new RegExp("\\b"+a+"\\b","i")).test(O)){var b=k.pid;z[a]=function(){var c=y.format.apply(y,arguments);console.error("%s %d: %s",a,b,c)}}else z[a]=function(){};return z[a]};y.inspect=b;b.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};b.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey",
"null":"bold",string:"green",date:"magenta",regexp:"red"};y.isArray=n;y.isBoolean=t;y.isNull=function(a){return null===a};y.isNullOrUndefined=function(a){return null==a};y.isNumber=A;y.isString=w;y.isSymbol=function(a){return"symbol"===typeof a};y.isUndefined=F;y.isRegExp=H;y.isObject=D;y.isDate=I;y.isError=x;y.isFunction=q;y.isPrimitive=function(a){return null===a||"boolean"===typeof a||"number"===typeof a||"string"===typeof a||"symbol"===typeof a||"undefined"===typeof a};y.isBuffer=u("./support/isBuffer");
var N="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");y.log=function(){console.log("%s - %s",B(),y.format.apply(y,arguments))};y.inherits=u("inherits");y._extend=function(a,b){if(!b||!D(b))return a;for(var c=Object.keys(b),e=c.length;e--;)a[c[e]]=b[c[e]];return a}}).call(this,u("7YKIPe"),"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./support/isBuffer":39,"7YKIPe":10,inherits:24}],41:[function(u,x,y){function k(a,b){this.name="NonSupportedSparqlFeatureError";
this.feature=a;this.message=b||"SPARQL feature "+a+" non supported"}function r(a){this.name=ParserError;this.message=a||"Error parsing SPARQL query"}var b=u("./parser"),d=u("./utils");k.prototype=Error();k.constructor=k;r.prototype=Error();r.constructor=r;AbstractQueryTree=function(){};AbstractQueryTree.prototype.parseQueryString=function(a){return b.parse(a)};AbstractQueryTree.prototype.parseExecutableUnit=function(a){if("select"===a.kind||"ask"===a.kind||"modify"===a.kind||"construct"===a.kind)return this.parseSelect(a);
if("insertdata"===a.kind||"deletedata"===a.kind)return this.parseInsertData(a);if("load"===a.kind||"clear"===a.kind||"drop"===a.kind||"create"===a.kind)return a;throw Error("unknown executable unit: "+a.kind);};AbstractQueryTree.prototype.parseSelect=function(a){if(null==a)return console.log("error parsing query"),null;a.pattern=this.build(a.pattern,{freshCounter:0});return a};AbstractQueryTree.prototype.parseInsertData=function(a){return null==a?(console.log("error parsing query"),null):a};AbstractQueryTree.prototype.build=
function(a,b){if("groupgraphpattern"===a.token)return this._buildGroupGraphPattern(a,b);if("basicgraphpattern"===a.token){var d={kind:"BGP",value:a.triplesContext};return d=AbstractQueryTree.translatePathExpressionsInBGP(d,b)}if("graphunionpattern"===a.token){var d=this.build(a.value[0],b),g=this.build(a.value[1],b);return{kind:"UNION",value:[d,g]}}if("graphgraphpattern"===a.token)return{kind:"GRAPH",value:this.build(a.value,b),graph:a.graph};if(null!=a.token)throw new k(a.token,"Non implemented SPARQL graph pattern: '"+
a.token+"'");throw new r("Error parsing graph pattern: '"+JSON.stringify(a)+"'");};AbstractQueryTree.translatePathExpressionsInBGP=function(a,b){var f,g=[],e,h;for(h=0;h<a.value.length;h++)if(a.value[h].predicate&&"path"===a.value[h].predicate.token){f=a.value[h];e=a.value.slice(h+1);var l=AbstractQueryTree.translatePathExpression(f,b);f=null;if("BGP"===l.kind)g=g.concat(l.value);else{if("ZERO_OR_MORE_PATH"===l.kind||"ONE_OR_MORE_PATH"===l.kind){h=0<g.length?{kind:"JOIN",lvalue:{kind:"BGP",value:g},
rvalue:l}:l;if("ZERO_OR_MORE_PATH"===l.kind)if("var"===l.y.token&&0===l.y.value.indexOf("fresh:")&&"var"===l.x.token&&0===l.x.value.indexOf("fresh:"))for(var v=0;v<a.value.length;v++)a.value[v].object&&"var"===a.value[v].object.token&&a.value[v].object.value===l.x.value&&(f=d.clone(a.value[v],!0),f.object=l.y);else if("var"===l.y.token&&0===l.y.value.indexOf("fresh:"))for(v=0;v<a.value.length;v++)a.value[v].subject&&"var"===a.value[v].subject.token&&a.value[v].subject.value===l.y.value&&(f=d.clone(a.value[v],
!0),f.subject=l.x);return 0<e.length?(l=AbstractQueryTree.translatePathExpressionsInBGP({kind:"BGP",value:e},b),null!=f?(g=g.concat([f]).concat(e),{kind:"UNION",value:[{kind:"JOIN",lvalue:h,rvalue:l},{kind:"BGP",value:g}]}):{kind:"JOIN",lvalue:h,rvalue:l}):h}return l}}else g.push(a.value[h]);a.value=g;return a};AbstractQueryTree.translatePathExpression=function(a,b){if("element"===a.predicate.kind){if("+"===a.predicate.modifier){a.predicate.modifier=null;var f=AbstractQueryTree.translatePathExpression(a,
b);return{kind:"ONE_OR_MORE_PATH",path:f,x:a.subject,y:a.object}}if("*"===a.predicate.modifier)return a.predicate.modifier=null,f=AbstractQueryTree.translatePathExpression(a,b),{kind:"ZERO_OR_MORE_PATH",path:f,x:a.subject,y:a.object};a.predicate=a.predicate.value;return{kind:"BGP",value:[a]}}if("sequence"===a.predicate.kind){for(var f=a.subject,g=a.object,e=a.graph,h,l,v=[],n=0;n<a.predicate.value.length;n++)n!=a.predicate.value.length-1?(h={token:"var",value:"fresh:"+b.freshCounter},b.freshCounter++):
h=g,l={subject:f,predicate:a.predicate.value[n],object:h},null!=e&&(l.graph=d.clone(e,!0)),v.push(l),n!=a.predicate.value.length-1&&(f=d.clone(h,!0));return AbstractQueryTree.translatePathExpressionsInBGP({kind:"BGP",value:v},b)}throw new k("Non supported path expression "+a.predicate.kind);};AbstractQueryTree.prototype._buildGroupGraphPattern=function(a,b){for(var d=a.filters||[],g=a.binds||[],e={kind:"EMPTY_PATTERN"},h=0;h<a.patterns.length;h++){var l=a.patterns[h];"optionalgraphpattern"===l.token?
(l=this.build(l.value,b),e="FILTER"===l.kind?{kind:"LEFT_JOIN",lvalue:e,rvalue:l.value,filter:l.filter}:{kind:"LEFT_JOIN",lvalue:e,rvalue:l,filter:!0}):(l=this.build(l,b),e="EMPTY_PATTERN"==e.kind?l:{kind:"JOIN",lvalue:e,rvalue:l})}e.binds=g;if(0!=d.length){if("EMPTY_PATTERN"===e.kind||"LEFT_JOIN"===e.kind&&!0===e.filter||"LEFT_JOIN"===e.kind||"JOIN"===e.kind||"UNION"===e.kind||"GRAPH"===e.kind||"BGP"===e.kind)return{kind:"FILTER",filter:d,value:e};throw Error("Unknow kind of algebra expression: "+
e.kind);}return e};AbstractQueryTree.prototype.collectBasicTriples=function(a,b){null==b&&(b=[]);if("select"===a.kind)b=this.collectBasicTriples(a.pattern,b);else if("BGP"===a.kind)b=b.concat(a.value);else if("ZERO_OR_MORE_PATH"===a.kind)b=this.collectBasicTriples(a.path);else if("UNION"===a.kind)b=this.collectBasicTriples(a.value[0],b),b=this.collectBasicTriples(a.value[1],b);else if("GRAPH"===a.kind)b=this.collectBasicTriples(a.value,b);else if("LEFT_JOIN"===a.kind||"JOIN"===a.kind)b=this.collectBasicTriples(a.lvalue,
b),b=this.collectBasicTriples(a.rvalue,b);else if("FILTER"===a.kind)b=this.collectBasicTriples(a.value,b);else if("construct"===a.kind)b=this.collectBasicTriples(a.pattern,b);else if("EMPTY_PATTERN"!==a.kind)throw"Unknown pattern: "+a.kind;return b};AbstractQueryTree.prototype.bind=function(a,b){null!=a.graph&&a.graph.token&&"var"===a.graph.token&&null!=b[a.graph.value]&&(a.graph=b[a.graph.value]);if(null!=a.filter){for(var d=[],g=0;g<a.filter.length;g++)a.filter[g].value=this._bindFilter(a.filter[g].value,
b),d.push(a.filter[g]);a.filter=d}if("select"===a.kind)a.pattern=this.bind(a.pattern,b);else if("BGP"===a.kind)a.value=this._bindTripleContext(a.value,b);else if("ZERO_OR_MORE_PATH"===a.kind)a.path=this._bindTripleContext(a.path,b),a.x&&"var"===a.x.token&&null!=b[a.x.value]&&(a.x=b[a.x.value]),a.y&&"var"===a.y.token&&null!=b[a.y.value]&&(a.y=b[a.y.value]);else if("UNION"===a.kind)a.value[0]=this.bind(a.value[0],b),a.value[1]=this.bind(a.value[1],b);else if("GRAPH"===a.kind)a.value=this.bind(a.value,
b);else if("LEFT_JOIN"===a.kind||"JOIN"===a.kind)a.lvalue=this.bind(a.lvalue,b),a.rvalue=this.bind(a.rvalue,b);else if("FILTER"===a.kind)a.filter=this._bindFilter(a.filter[g].value,b);else if("EMPTY_PATTERN"!==a.kind)throw"Unknown pattern: "+a.kind;return a};AbstractQueryTree.prototype._bindTripleContext=function(a,b){for(var d=0;d<a.length;d++){delete a[d].graph;delete a[d].variables;for(var g in a[d]){var e=a[d][g];"var"===e.token&&null!=b[e.value]&&(a[d][g]=b[e.value])}}return a};AbstractQueryTree.prototype._bindFilter=
function(a,b){if(null!=a.expressionType){var d=a.expressionType;if("relationalexpression"==d)a.op1=this._bindFilter(a.op1,b),a.op2=this._bindFilter(a.op2,b);else if("conditionalor"==d||"conditionaland"==d)for(d=0;d<a.operands.length;d++)a.operands[d]=this._bindFilter(a.operands[d],b);else if("additiveexpression"==d)for(a.summand=this._bindFilter(a.summand,b),d=0;d<a.summands.length;d++)a.summands[d].expression=this._bindFilter(a.summands[d].expression,b);else if("builtincall"==d)for(d=0;d<a.args.length;d++)a.args[d]=
this._bindFilter(a.args[d],b);else if("multiplicativeexpression"==d)for(a.factor=this._bindFilter(a.factor,b),d=0;d<a.factors.length;d++)a.factors[d].expression=this._bindFilter(a.factors[d].expression,b);else if("unaryexpression"==d)a.expression=this._bindFilter(a.expression,b);else if("irireforfunction"==d)for(d=0;d<a.factors.args;d++)a.args[d]=this._bindFilter(a.args[d],b);else"atomic"==d&&"var"==a.primaryexpression&&null!=b[a.value.value]&&(d=b[a.value.value],a.primaryexpression="uri"===d.token?
"iri":"literal",a.value=d)}return a};AbstractQueryTree.prototype.replace=function(a,b,f,g){null!=a.graph&&a.graph.token&&a.graph.token===b.token&&a.graph.value==b.value&&(a.graph=d.clone(f,!0));if(null!=a.filter){for(var e=[],h=0;h<a.filter.length;h++)a.filter[h].value=this._replaceFilter(a.filter[h].value,b,f,g),e.push(a.filter[h]);a.filter=e}if("select"===a.kind)a.pattern=this.replace(a.pattern,b,f,g);else if("BGP"===a.kind)a.value=this._replaceTripleContext(a.value,b,f,g);else if("ZERO_OR_MORE_PATH"===
a.kind)a.path=this._replaceTripleContext(a.path,b,f,g),a.x&&a.x.token===b.token&&a.value===b.value&&(a.x=d.clone(f,!0)),a.y&&a.y.token===b.token&&a.value===b.value&&(a.y=d.clone(f,!0));else if("UNION"===a.kind)a.value[0]=this.replace(a.value[0],b,f,g),a.value[1]=this.replace(a.value[1],b,f,g);else if("GRAPH"===a.kind)a.value=this.replace(a.value,b,f);else if("LEFT_JOIN"===a.kind||"JOIN"===a.kind)a.lvalue=this.replace(a.lvalue,b,f,g),a.rvalue=this.replace(a.rvalue,b,f,g);else if("FILTER"===a.kind)a.value=
this._replaceFilter(a.value,b,f,g);else if("EMPTY_PATTERN"!==a.kind)throw"Unknown pattern: "+a.kind;return a};AbstractQueryTree.prototype._replaceTripleContext=function(a,b,f,g){for(var e=0;e<a.length;e++)for(var h in a[e]){var l=a[e][h];"var"===l.token&&"var"===b.token&&l.value===b.value?a[e][h]=f:"blank"===l.token&&"blank"===b.token&&l.value===b.value?a[e][h]=f:"literal"!==l.token&&"uri"!==l.token||"literal"!==b.token&&"uri"!==b.token||l.token!==b.token||d.lexicalFormTerm(l,g)[l.token]!==d.lexicalFormTerm(b,
g)[l.token]||(a[e][h]=f)}return a};AbstractQueryTree.prototype._replaceFilter=function(a,b,d,g){if(null!=a.expressionType){var e=a.expressionType;if("relationalexpression"==e)a.op1=this._replaceFilter(a.op1,b,d,g),a.op2=this._replaceFilter(a.op2,b,d,g);else if("conditionalor"==e||"conditionaland"==e)for(e=0;e<a.operands.length;e++)a.operands[e]=this._replaceFilter(a.operands[e],b,d,g);else if("additiveexpression"==e)for(a.summand=this._replaceFilter(a.summand,b,d,g),e=0;e<a.summands.length;e++)a.summands[e].expression=
this._replaceFilter(a.summands[e].expression,b,d,g);else if("builtincall"==e)for(e=0;e<a.args.length;e++)a.args[e]=this._replaceFilter(a.args[e],b,d,g);else if("multiplicativeexpression"==e)for(a.factor=this._replaceFilter(a.factor,b,d,g),e=0;e<a.factors.length;e++)a.factors[e].expression=this._replaceFilter(a.factors[e].expression,b,d,g);else if("unaryexpression"==e)a.expression=this._replaceFilter(a.expression,b,d,g);else if("irireforfunction"==e)for(e=0;e<a.factors.args;e++)a.args[e]=this._replaceFilter(a.args[e],
b,d,g);else"atomic"==e&&(g=null,a.primaryexpression==b.token&&a.value==b.value?g=d.value:"iri"==a.primaryexpression&&"uri"==b.token&&a.value==b.value&&(g=d.value),null!=g&&(a.primaryexpression="uri"===d.token?"iri":d.token,a.value=g))}return a};AbstractQueryTree.prototype.treeWithUnion=function(a){if(null==a||null==a.kind)return!1;if("select"===a.kind)return this.treeWithUnion(a.pattern);if("BGP"===a.kind)return this.treeWithUnion(a.value);if("ZERO_OR_MORE_PATH"===a.kind)return!1;if("UNION"===a.kind)if(null!=
a.value[0].value&&null!=a.value[0].value.variables&&null!=a.value[1].value&&null!=a.value[1].value.variables){if(a.value[0].variables.join("/")===a.values[1].variables.join("/"))return this.treeWithUnion(a.value[0])?!0:this.treeWithUnion(a.value[1])}else return!0;else{if("GRAPH"===a.kind||"LEFT_JOIN"!==a.kind&&"JOIN"!==a.kind)return!1;if(this.treeWithUnion(a.lvalue))return!0;this.treeWithUnion(a.rvalue)}};x.exports={AbstractQueryTree:AbstractQueryTree,NonSupportedSparqlFeatureError:k,SparqlParserError:r}},
{"./parser":48,"./utils":59}],42:[function(u,x,y){var k=u("./utils"),r=k.nextTick,b=function(a,b){if(0!=arguments.length){this.order=a;this.root=this._allocateNode();this.root.isLeaf=!0;this.root.level=0;var d=this;this._diskWrite(this.root,function(a){d.root=a;d._updateRootNode(d.root,function(a){d.comparator=function(a,b){return a<b?-1:a>b?1:0};d.merger=null;null!=b&&b(d)})})}};b.prototype._allocateNode=function(){return new d};b.prototype._diskWrite=function(a,b){r(function(){b(a)})};b.prototype._diskRead=
function(a,b){r(function(){b(a)})};b.prototype._diskDelete=function(a,b){r(function(){b()})};b.prototype._updateRootNode=function(a,b){b(a)};b.prototype.search=function(a,b,d){this.__search(this,a,this.root,b,d)};b.prototype.__search=function(a,b,d,g,e){for(var h=0;h<d.numberActives&&1===a.comparator(b,d.keys[h].key);)h++;h<d.numberActives&&0===a.comparator(d.keys[h].key,b)?null!=e&&1==e?g(!0):g(d.keys[h].data):!0===d.isLeaf?g(null):a._diskRead(d.children[h],function(d){a.__search(a,b,d,g,e)})};b.prototype.walk=
function(a,b){this.__walk(this,this.root,a,b)};b.prototype.__walk=function(a,b,d,g){var e=b.numberActives,h=0;if(b.isLeaf){for(h=0;h<b.numberActives;h++)d(b.keys[h]);return g()}k.whilst(function(){return h<e},function(e){a._diskRead(b.children[h],function(g){a.__walk(a,g,d,function(){a._diskRead(b.keys[h],function(a){d(a);h++;e()})})})},function(){a._diskRead(b.children[e],function(b){a.__walk(a,b,d,function(){g()})})})};b.prototype.walkNodes=function(a){this.__walkNodes(this,root,a,function(){})};
b.prototype.__walkNodes=function(a,b,d,g){if(b.isLeaf)return d(b),g();d(b);var e=b.numberActives,h=0;k.whilst(function(){return h<e},function(e){a._diskRead(b.children[h],function(b){a.__walkNodes(a,b,d,function(){h++;e()})})},function(){a._diskRead(b.children[e],function(b){a.__walkNodes(a,b,d,function(){})})})};b.prototype._splitChild=function(a,b,d,g){var e=this._allocateNode();e.isLeaf=d.isLeaf;e.level=d.level;e.numberActives=this.order-1;var h=d.keys[this.order-1];d.keys[this.order-1]=null;for(var l=
0;l<this.order-1;l++)e.keys[l]=d.keys[l+this.order],d.keys[l+this.order]=null,d.isLeaf||(e.children[l]=d.children[l+this.order],d.children[l+this.order]=null);d.isLeaf||(e.children[l]=d.children[l+this.order],d.children[l+this.order]=null);d.numberActives=this.order-1;for(l=a.numberActives+1;l>b+1;l--)a.children[l]=a.children[l-1];a.children[b+1]=e;for(l=a.numberActives;l>b;l--)a.keys[l]=a.keys[l-1];a.keys[b]=h;a.numberActives++;var k=this;this._diskWrite(e,function(e){k._diskWrite(a,function(a){a.children[b+
1]=e;k._diskWrite(d,function(b){return g(a)})})})};b.prototype.insert=function(a,b,d){if(this.root.numberActives===2*this.order-1){var g=this._allocateNode();g.isLeaf=!1;g.level=this.root.level+1;g.numberActives=0;g.children[0]=this.root;var e=this;this._splitChild(g,0,this.root,function(h){g=h;e.root=g;e._updateRootNode(g,function(g){e._insertNonFull(g,a,b,d)})})}else this._insertNonFull(this.root,a,b,d)};b.prototype._insertNonFull=function(a,b,d,g){this.__insertNonFull(this,a,a.numberActives-1,
b,d,g)};b.prototype.__insertNonFull=function(a,b,d,g,e,h){if(b.isLeaf){for(;0<=d&&-1===a.comparator(g,b.keys[d].key);)b.keys[d+1]=b.keys[d],d--;0<=d&&0===a.comparator(g,b.keys[d].key)?b.keys[d]={key:g,data:e}:(b.keys[d+1]={key:g,data:e},b.numberActives++);a._diskWrite(b,function(a){return h(a)})}else{for(;0<=d&&-1===a.comparator(g,b.keys[d].key);)d--;d++;a._diskRead(b.children[d],function(l){l.numberActives===2*a.order-1?a._splitChild(b,d,l,function(){1===a.comparator(g,b.keys[d].key)&&d++;a._diskRead(b.children[d],
function(b){d=b.numberActives-1;a.__insertNonFull(a,b,d,g,e,h)})}):a._diskRead(b.children[d],function(b){d=b.numberActives-1;a.__insertNonFull(a,b,d,g,e,h)})})}};b.prototype["delete"]=function(a,c){b.prototype.__deleteSearchNode(this,a,this.root,c)};b.prototype.__deleteSearchNode=function(a,b,d,g){var e=0;if(0===d.numberActives)return g(!1);for(;e<d.numberActives&&1===a.comparator(b,d.keys[e].key);)e++;var h=e;if(e<d.numberActives&&0===a.comparator(b,d.keys[e].key))return a.__deleteNodeFound(a,h,
b,d,g);if(!0===d.isLeaf)return g(!1);a._diskRead(d.children[e],function(l){if(null===l)return g(!1);var k=!1,n=!1,t=null,A=null;h===d.numberActives?(n=!0,A=d.children[h-1],t=d.children[h-1]):0===h?(k=!0,t=d.children[1],A=d.children[1]):(A=d.children[h-1],t=d.children[h+1]);a._diskRead(A,function(h){a._diskRead(t,function(t){!0===n&&(t=null);!0===k&&(h=null);l.numberActives===a.order-1&&null!=d?null!=t&&t.numberActives>a.order-1?a._moveKey(d,e,-1,function(e){a.__deleteSearchNode(a,b,l,g)}):null!=h&&
h.numberActives>a.order-1?a._moveKey(d,e,1,function(e){a.__deleteSearchNode(a,b,l,g)}):null!=h&&h.numberActives===a.order-1?a._mergeSiblings(d,e,-1,function(e){a.__deleteSearchNode(a,b,e,g)}):null!=t&&t.numberActives===a.order-1&&a._mergeSiblings(d,e,1,function(e){a.__deleteSearchNode(a,b,e,g)}):a.__deleteSearchNode(a,b,l,g)})})})};b.prototype.__deleteNodeFound=function(a,b,d,g,e){if(g.isLeaf&&g.numberActives>a.order-1||g.isLeaf&&g===a.root)return a._deleteKeyFromNode(g,b,function(){e(!0)}),!0;!1===
g.isLeaf&&a._diskRead(g.children[b],function(h){h.numberActives>a.order-1?a._getMaxKeyPos(a,h,function(l){d=l.node.keys[l.index];g.keys[b]=d;a._diskWrite(g,function(b){b=h;d=d.key;a.__deleteSearchNode(a,d,b,e)})}):a._diskRead(g.children[b+1],function(l){l.numberActives>a.order-1?a._getMinKeyPos(a,l,function(h){d=h.node.keys[h.index];g.keys[b]=d;a._diskWrite(g,function(b){b=l;d=d.key;a.__deleteSearchNode(a,d,b,e)})}):h.numberActives===a.order-1&&l.numberActives===a.order-1&&a._mergeNodes(h,g.keys[b],
l,function(h){g.children[b]=h;b++;for(var n=b;n<g.numberActives;n++)g.children[n]=g.children[n+1],g.keys[n-1]=g.keys[n];g.children[n]=null;g.keys[n-1]=null;g.numberActives--;0===g.numberActives&&a.root===g&&(a.root=h);a._diskWrite(g,function(b){a.__deleteSearchNode(a,d,h,e)})})})});g.isLeaf&&g.numberActives>a.order-1&&a._deleteKeyFromNode(g,b,function(b){a.__deleteSearchNode(a,d,b,e)})};b.prototype._moveKey=function(a,b,d,g){1===d&&b--;var e=this;e._diskRead(a.children[b],function(h){e._diskRead(a.children[b+
1],function(l){if(-1==d){h.keys[h.numberActives]=a.keys[b];h.children[h.numberActives+1]=l.children[0];l.children[0]=null;h.numberActives++;a.keys[b]=l.keys[0];for(var k=1;k<l.numberActives;k++)l.keys[k-1]=l.keys[k],l.children[k-1]=l.children[k];l.children[l.numberActives-1]=l.children[l.numberActives];l.numberActives--}else{l.children[l.numberActives+1]=l.children[l.numberActives];for(k=l.numberActives;0<k;k--)l.children[k]=l.children[k-1],l.keys[k]=l.keys[k-1];l.keys[0]=null;l.children[0]=null;
l.children[0]=h.children[h.numberActives];l.keys[0]=a.keys[b];l.numberActives++;h.children[h.numberActives]=null;a.keys[b]=h.keys[h.numberActives-1];h.keys[h.numberActives-1]=null;h.numberActives--}e._diskWrite(h,function(b){e._diskWrite(l,function(b){e._diskWrite(a,function(a){return g(a)})})})})})};b.prototype._mergeSiblings=function(a,b,d,g){var e,h,l;b===a.numberActives?(b--,d=a.children[a.numberActives-1],l=a.children[a.numberActives]):(d=a.children[b],l=a.children[b+1]);var k=this;k._diskRead(d,
function(d){k._diskRead(l,function(f){var l=k._allocateNode();l.isLeaf=d.isLeaf;l.level=d.level;for(h=0;h<k.order-1;h++)l.keys[h]=d.keys[h],l.children[h]=d.children[h];l.keys[k.order-1]=a.keys[b];l.children[k.order-1]=d.children[k.order-1];for(h=0;h<k.order-1;h++)l.keys[h+k.order]=f.keys[h],l.children[h+k.order]=f.children[h];l.children[2*k.order-1]=f.children[k.order-1];a.children[b]=l;for(h=b;h<a.numberActives;h++)a.keys[h]=a.keys[h+1],a.children[h+1]=a.children[h+2];l.numberActives=d.numberActives+
f.numberActives+1;a.numberActives--;for(e=a.numberActives;e<2*k.order-1;e++)a.keys[e]=null;0===a.numberActives&&k.root===a&&(k.root=l,l.isLeaf=l.level?!1:!0);k._diskWrite(l,function(b){k._diskWrite(a,function(a){k._diskDelete(d,function(){k._diskDelete(f,function(){if(k.root===b)k._updateRootNode(k.root,function(){return g(b)});else return g(b)})})})})})})};b.prototype._deleteKeyFromNode=function(a,b,d){var g=2*this.order-1;a.numberActives<g&&(g=a.numberActives);if(!1===a.isLeaf)return!1;for(;b<g-
1;b++)a.keys[b]=a.keys[b+1];a.keys.pop();a.numberActives--;this._diskWrite(a,function(a){return d(a)})};b.prototype._mergeNodes=function(a,b,d,g){var e,h;e=this._allocateNode();e.isLeaf=!0;for(h=0;h<a.numberActives;h++)e.keys[h]=a.keys[h],e.children[h]=a.children[h];e.children[a.numberActives]=a.children[a.numberActives];e.keys[a.numberActives]=b;for(h=0;h<d.numberActives;h++)e.keys[h+a.numberActives+1]=d.keys[h],e.children[h+a.numberActives+1]=d.children[h];e.children[2*this.order-1]=d.children[d.numberActives];
e.numberActives=a.numberActives+d.numberActives+1;e.isLeaf=a.isLeaf;e.level=a.level;var l=this;this._diskWrite(e,function(b){l._diskDelete(a,function(){l._diskDelete(d,function(){return g(b)})})})};b.prototype.audit=function(a){var b=[],d=[],g=this,e=function(e){for(var h=0;h<d.length;h++)if(0===g.comparator(d[h],e)){var n=" !!! duplicated key "+e;!0===a&&console.log(n);b.push(n)}},h=null,g=this;this.walkNodes(function(l){!0===a&&(console.log("--- Node at "+l.level+" level"),console.log(" - leaf? "+
l.isLeaf),console.log(" - num actives? "+l.numberActives),console.log(" - keys: "));for(var k=l.numberActives;k<l.keys.length;k++)null!=l.keys[k]&&!0===a&&(console.log(" * warning : redundant key data"),b.push(" * warning : redundant key data"));for(k=l.numberActives+1;k<l.children.length;k++)null!=l.children[k]&&!0===a&&(console.log(" * warning : redundant children data"),b.push(" * warning : redundant key data"));if(!1===l.isLeaf)for(k=0;k<l.numberActives;k++){var n=this._diskRead(l.children[k]).keys[this._diskRead(l.children[k]).numberActives-
1].key,t=this._diskRead(l.children[k+1]).keys[0].key;!0===a&&console.log("   "+l.keys[k].key+"("+n+","+t+")");if(-1===g.comparator(l.keys[k].key,n)){var A=" !!! value max left "+n+" > key "+l.keys[k].key;!0===a&&console.log(A);b.push(A)}1===g.comparator(l.keys[k].key,t)&&(A=" !!! value min right "+t+" < key "+l.keys[k].key,!0===a&&console.log(A),b.push(A));e(l.keys[k].key);d.push(l.keys[k].key)}else for(null===h?h=l.level:h!=l.level&&(A=" !!! Leaf node with wrong level value",!0===a&&console.log(A),
b.push(A)),k=0;k<l.numberActives;k++)!0===a&&console.log(" "+l.keys[k].key),e(l.keys[k].key),d.push(l.keys[k].key);l!=g.root&&(l.numberActives>2*g.order-1&&(!0===a&&(A=" !!!! MAX num keys restriction violated "),console.log(A),b.push(A)),l.numberActives<g.order-1&&(!0===a&&(A=" !!!! MIN num keys restriction violated "),console.log(A),b.push(A)))});return b};b.prototype._getMaxKeyPos=function(a,b,d){var g={};if(null===b)return d(null);if(!0===b.isLeaf)return g.node=b,g.index=b.numberActives-1,d(g);
g.node=b;g.index=b.numberActives-1;a._diskRead(b.children[b.numberActives],function(b){return a._getMaxKeyPos(a,b,d)})};b.prototype._getMinKeyPos=function(a,b,d){var g={};null===b&&d(null);if(!0===b.isLeaf)return g.node=b,g.index=0,d(g);g.node=b;g.index=0;a._diskRead(b.children[0],function(b){return a._getMinKeyPos(a,b,d)})};var d=function(){this.numberActives=0;this.isLeaf=null;this.keys=[];this.children=[];this.level=0};x.exports={Tree:b,Node:d}},{"./utils":59}],43:[function(u,x,y){(function(k){var r=
u("./query_engine").QueryEngine,b=u("./quad_backend").QuadBackend,d=u("./persistent_quad_backend").QuadBackend,a=u("./lexicon").Lexicon,c=u("./persistent_lexicon").Lexicon,f=u("./rdf_model"),g=u("./utils");Store=function(e,f){var g=null,k=null;if(0==arguments.length)k={};else if(1==arguments.length)k={},g=e;else if(1<arguments.length)k=e,g=f;else throw"An optional argument map and a callback must be provided";null==k.treeOrder&&(k.treeOrder=15);var n=a,t=b;!0===k.persistent&&(n=c,t=d);this.functionMap=
{};var A=this;this.customFns={};new n(function(a){var b=function(){new t(k,function(b){var c=function(){k.backend=b;k.lexicon=a;A.engine=new r(k);g(null,A)};k.overwrite?b.clear(c):c()})};!0===k.overwrite?a.clear(b):b()},k.name)};Store.prototype.rdf=f.rdf;Store.prototype.rdf.api=f;Store.prototype.registerCustomFunction=function(a,b){this.customFns[a]=b;this.engine.setCustomFunctions(this.customFns)};Store.prototype.execute=function(){if(3===arguments.length)this.executeWithEnvironment(arguments[0],
arguments[1],arguments[2]);else if(4===arguments.length)this.executeWithEnvironment(arguments[0],arguments[1],arguments[2],arguments[3]);else{var a,b;1===arguments.length?(a=arguments[0],b=function(){}):2===arguments.length&&(a=arguments[0],b=arguments[1]);this.engine.execute(a,b)}};Store.prototype.executeWithEnvironment=function(){var a,b,c;if(3===arguments.length){a=arguments[0];var d=function(){};b=arguments[1];c=arguments[2]}else 4===arguments.length&&(a=arguments[0],d=arguments[3],b=arguments[1],
c=arguments[2]);b=g.map(b,function(a){return{token:"uri",value:a}});c=g.map(c,function(a){return{token:"uri",value:a}});this.engine.execute(a,d,b,c)};Store.prototype.graph=function(){var a=null,b=null;if(1===arguments.length)b=arguments[0]||function(){},a=this.engine.lexicon.defaultGraphUri;else if(2===arguments.length)b=arguments[1]||function(){},a=arguments[0];else throw"An optional graph URI and a callback function must be provided";null!=this.rdf.resolve(a)&&(a=this.rdf.resolve(a));this.engine.execute("CONSTRUCT { ?s ?p ?o } WHERE { GRAPH <"+
a+"> { ?s ?p ?o } }",b)};Store.prototype.node=function(){var a=null,b=null,c=null;if(2===arguments.length)c=arguments[0],b=arguments[1]||function(){},a=this.engine.lexicon.defaultGraphUri;else if(3===arguments.length)c=arguments[0],a=arguments[1],b=arguments[2]||function(){};else throw"An optional graph URI, node URI and a callback function must be provided";null!=this.rdf.resolve(a)&&(a=this.rdf.resolve(a));null!=this.rdf.resolve(c)&&(c=this.rdf.resolve(c));this.engine.execute("CONSTRUCT { <"+c+
"> ?p ?o } WHERE { GRAPH <"+a+"> { <"+c+"> ?p ?o } }",b)};Store.prototype.startObservingNode=function(){var a,b,c;2===arguments.length?(a=arguments[0],c=arguments[1],this.engine.callbacksBackend.observeNode(a,c,function(){})):3===arguments.length&&(a=arguments[0],b=arguments[1],c=arguments[2],this.engine.callbacksBackend.observeNode(a,b,c,function(){}))};Store.prototype.stopObservingNode=function(a){this.engine.callbacksBackend.stopObservingNode(a)};Store.prototype.startObservingQuery=function(a,
b,c){null!=c?this.engine.callbacksBackend.observeQuery(a,b,c):this.engine.callbacksBackend.observeQuery(a,b,function(){})};Store.prototype.stopObservingQuery=function(a){this.engine.callbacksBackend.stopObservingQuery(a)};Store.prototype.subscribe=function(a,b,c,d,n){var t=this,k=function(a,b){var c=[],d={blanks:{},outCache:{}},e=[];g.each(b,function(a){var b=f.buildRDFResource(a.subject,e,t.engine,d),m=f.buildRDFResource(a.predicate,e,t.engine,d);a=f.buildRDFResource(a.object,e,t.engine,d);null!=
b&&null!=m&&null!=a&&(a=new f.Triple(b,m,a),c.push(a))});n(a,c)};this.functionMap[n]=k;this.engine.callbacksBackend.subscribe(a,b,c,d,k,function(){})};Store.prototype.unsubscribe=function(a){this.engine.callbacksBackend.unsubscribe(this.functionMap[a]);delete this.functionMap[a]};Store.prototype.setPrefix=function(a,b){this.rdf.setPrefix(a,b)};Store.prototype.setDefaultPrefix=function(a){this.rdf.setDefaultPrefix(a)};Store.prototype.insert=function(){var a,b,c;if(1===arguments.length)b=arguments[0],
c=function(){};else if(2===arguments.length)b=arguments[0],c=arguments[1]||function(){};else if(3===arguments.length)b=arguments[0],a=this.rdf.createNamedNode(arguments[1]),c=arguments[2]||function(){};else throw"The triples to insert, an optional graph and callback must be provided";var d="",f=this;b.forEach(function(a){d=d+f._nodeToQuery(a.subject)+f._nodeToQuery(a.predicate)+f._nodeToQuery(a.object)+"."});d=null!=a?"INSERT DATA { GRAPH "+this._nodeToQuery(a)+" { "+d+" } }":"INSERT DATA { "+d+" }";
this.engine.execute(d,c)};Store.prototype._nodeToQuery=function(a){if("NamedNode"===a.interfaceName){var b=this.rdf.resolve(a.valueOf());return null!=b?"<"+b+">":"<"+a.valueOf()+">"}return a.toString()};Store.prototype["delete"]=function(){var a,b,c;if(1===arguments.length)b=arguments[0],c=function(){};else if(2===arguments.length)b=arguments[0],c=arguments[1]||function(){};else if(3===arguments.length)b=arguments[0],a=this.rdf.createNamedNode(arguments[1]),c=arguments[2]||function(){};else throw"The triples to delete, an optional graph and callback must be provided";
var d="",f=this;b.forEach(function(a){d=d+f._nodeToQuery(a.subject)+f._nodeToQuery(a.predicate)+f._nodeToQuery(a.object)+"."});d=null!=a?"DELETE DATA { GRAPH "+this._nodeToQuery(a)+" { "+d+" } }":"DELETE DATA { "+d+" }";this.engine.execute(d,c)};Store.prototype.clear=function(){var a,b;if(0===arguments.length)a=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),b=function(){};else if(1===arguments.length)a=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),b=arguments[0]||function(){};
else if(2===arguments.length)a=this.rdf.createNamedNode(arguments[0]),b=arguments[1]||function(){};else throw"The optional graph and a callback must be provided";a="CLEAR GRAPH "+this._nodeToQuery(a);this.engine.execute(a,b)};Store.prototype.setBatchLoadEvents=function(a){this.engine.eventsOnBatchLoad=a};Store.prototype.registerDefaultNamespace=function(a,b){this.rdf.prefixes.set(a,b);this.engine.registerDefaultNamespace(a,b)};Store.prototype.registerDefaultProfileNamespaces=function(){var a=this.rdf.prefixes.values(),
b;for(b in a)this.registerDefaultNamespace(b,a[b])};Store.prototype.load=function(){var a,b,c,d,f={};if(3===arguments.length)c=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),a=arguments[0],b=arguments[1],d=arguments[2]||function(){};else if(4===arguments.length)a=arguments[0],b=arguments[1],f=arguments[2],"string"===typeof f?(c=this.rdf.createNamedNode(f),f={}):(c=this.rdf.createNamedNode(f.graph||this.engine.lexicon.defaultGraphUri),delete f.graph),d=arguments[3]||function(){};else if(2===
arguments.length)throw"The mediaType of the parser, the data a callback and an optional graph must be provided";if("remote"===a)b=this.rdf.createNamedNode(b),this.engine.execute("LOAD <"+b.valueOf()+"> INTO GRAPH <"+c.valueOf()+">",d);else{var g=this,k=this.engine.rdfLoader.parsers[a];if(!k)return d(Error("Cannot find parser for the provided media type:"+a));a=[k,{token:"uri",value:c.valueOf()},b,f,function(a,b){a?d(a,b):g.engine.batchLoad(b,function(a){null!=a?d(null,a):d(Error("Erro batch-loading triples."))})}];
b&&"string"===typeof b&&0===b.indexOf("file://")?this.engine.rdfLoader.loadFromFile.apply(null,a):this.engine.rdfLoader.tryToParse.apply(null,a)}};Store.prototype.registerParser=function(a,b){this.engine.rdfLoader.registerParser(a,b)};Store.prototype.registeredGraphs=function(a){this.engine.lexicon.registeredGraphs(!0,function(b){b=g.map(b,function(a){return new f.NamedNode(a)});a(null,b)})};Store.prototype.getNetworkTransport=function(){return NetworkTransport};Store.prototype.setNetworkTransport=
function(a){NetworkTransport=a};Store.prototype.close=function(a){null==a&&(a=function(){});this.engine.close?this.engine.close(a):a()};Store.VERSION="0.9.10";Store.yieldFrequency=function(a){Utils.yieldFrequency(a)};x.exports.Store=Store;x.exports.create=function(){return 1==arguments.length?new Store(arguments[0]):2==arguments.length?new Store(arguments[0],arguments[1]):new Store};x.exports.connect=function(){(1==arguments.length?arguments[0]:2==arguments.length?arguments[1]:arguments[2])(Error("Store#connect is not supported in the 1.x series of the library"))}}).call(this,
"/")},{"./lexicon":46,"./persistent_lexicon":49,"./persistent_quad_backend":50,"./quad_backend":51,"./query_engine":53,"./rdf_model":57,"./utils":59}],44:[function(u,x,y){var k=u("./utils"),r=u("./utils");u("./quad_index");var b=u("./quad_index").Pattern,d=u("./rdf_model"),a=u("./abstract_query_tree").AbstractQueryTree;Callbacks={ANYTHING:{token:"var",value:"_"},added:"added",deleted:"deleted",eventsFlushed:"eventsFlushed",CallbacksBackend:function(b){this.aqt=new a;this.engine=b;this.indexMap={};
this.observersMap={};this.queriesIndexMap={};this.emptyNotificationsMap={};this.queriesList=[];this.pendingQueries=[];this.matchedQueries=[];this.updateInProgress=null;this.indices="SPOG GP OGS POG GSP OS".split(" ");this.componentOrders={SPOG:["subject","predicate","object","graph"],GP:["graph","predicate","subject","object"],OGS:["object","graph","subject","predicate"],POG:["predicate","object","graph","subject"],GSP:["graph","subject","predicate","object"],OS:["object","subject","predicate","graph"]};
this.callbackCounter=0;this.callbacksMap={};this.callbacksInverseMap={};this.queryCounter=0;this.queriesMap={};this.queriesCallbacksMap={};this.queriesInverseMap={};for(b=0;b<this.indices.length;b++){var d=this.indices[b];this.indexMap[d]={};this.queriesIndexMap[d]={}}}};Callbacks.CallbacksBackend.prototype.startGraphModification=function(){!0!==this.ongoingModification&&(this.pendingQueries=[].concat(this.queriesList),this.matchedQueries=[],null==this.updateInProgress&&(this.updateInProgress={},
this.updateInProgress[Callbacks.added]=[],this.updateInProgress[Callbacks.deleted]=[]))};Callbacks.CallbacksBackend.prototype.nextGraphModification=function(a,b){this.updateInProgress[a].push(b)};Callbacks.CallbacksBackend.prototype.endGraphModification=function(a){if(!0!==this.ongoingModification){var b=this;if(null!=this.updateInProgress){var d=b.updateInProgress;b.updateInProgress=null;this.sendNotification(Callbacks.deleted,d[Callbacks.deleted],function(){b.sendNotification(Callbacks.added,d[Callbacks.added],
function(){b.sendEmptyNotification(Callbacks.eventsFlushed,null,function(){b.dispatchQueries(function(){a(!0)})})})})}else a(!0)}else a(!0)};Callbacks.CallbacksBackend.prototype.cancelGraphModification=function(){!0!==this.ongoingModification&&(this.updateInProgress=null)};Callbacks.CallbacksBackend.prototype.sendNotification=function(a,b,d){for(var e={},h=0;h<b.length;h++){var l=b[h],k;for(k in this.indexMap){var n=this.indexMap[k],t=this.componentOrders[k];this._searchCallbacksInIndex(n,t,a,l,e);
0!=this.pendingQueries.length&&(n=this.queriesIndexMap[k],this._searchQueriesInIndex(n,t,l))}}this.dispatchNotifications(e);null!=d&&d(!0)};Callbacks.CallbacksBackend.prototype.sendEmptyNotification=function(a,b,d){for(var e=this.emptyNotificationsMap[a]||[],h=0;h<e.length;h++)e[h](a,b);d()};Callbacks.CallbacksBackend.prototype.dispatchNotifications=function(a){for(var b in a){var d=this.callbacksMap[b],e=a[b][Callbacks.deleted];if(null!=e)try{d(Callbacks.deleted,e)}catch(l){}for(var h in a[b])if(h!=
Callbacks.deleted)try{d(h,a[b][h])}catch(l){}}};Callbacks.CallbacksBackend.prototype._searchCallbacksInIndex=function(a,b,d,e,h){var l=e[1];e=e[0];for(var k=0;k<b.length+1;k++){for(var n=a._||[],t=[],A=0;A<n.length;A++){var w=n[A];null!=this.callbacksMap[w]&&(h[w]=h[w]||{},h[w][d]=h[w][d]||[],h[w][d].push(e),t.push(w))}a._=t;n=b[k];if(null!=a[""+l[n]])a=a[""+l[n]];else break}};Callbacks.CallbacksBackend.prototype.subscribeEmpty=function(a,b){var d=this.emptyNotificationsMap[a]||[];d.push(b);this.emptyNotificationsMap[a]=
d};Callbacks.CallbacksBackend.prototype.unsubscribeEmpty=function(a,b){var d=this.emptyNotificationsMap[a];null!=d&&(d=k.reject(d,function(a){return a===b}));this.emptyNotificationsMap[a]=d};Callbacks.CallbacksBackend.prototype.subscribe=function(a,d,g,e,h,l){a=this._tokenizeComponents(a,d,g,e);d={blanks:{},outCache:{}};this.engine.registerNsInEnvironment(null,d);var k=this;this.engine.normalizeQuad(a,d,!0,function(a){for(var c=new b(a),d=k._indexForPattern(c),c=k.componentOrders[d],d=k.indexMap[d],
e=0;e<c.length;e++){var f=a[c[e]];if("_"===f){null==d._&&(d._=[]);k.callbackCounter++;d._.push(k.callbackCounter);k.callbacksMap[k.callbackCounter]=h;k.callbacksInverseMap[h]=k.callbackCounter;break}else e===c.length-1?(d[f]=d[f]||{_:[]},k.callbackCounter++,d[f]._.push(k.callbackCounter),k.callbacksMap[k.callbackCounter]=h,k.callbacksInverseMap[h]=k.callbackCounter):(d[f]=d[f]||{},d=d[f])}null!=l&&l(!0)})};Callbacks.CallbacksBackend.prototype.unsubscribe=function(a){var b=this.callbacksInverseMap[a];
null!=b&&(delete this.callbacksInverseMap[a],delete this.callbacksMap[b])};Callbacks.CallbacksBackend.prototype._tokenizeComponents=function(a,b,d,e){var h={};null==a?h.subject=Callbacks.ANYTHING:0==a.indexOf("_:")?h.subject={token:"blank",value:a}:h.subject={token:"uri",value:a};h.predicate=null==b?Callbacks.ANYTHING:{token:"uri",value:b};h.object=null==d?Callbacks.ANYTHING:{token:"uri",value:d};h.graph=null==e?Callbacks.ANYTHING:{token:"uri",value:e};return h};Callbacks.CallbacksBackend.prototype._indexForPattern=
function(a){a=a.indexKey;for(var b=this.indices,d=0;d<b.length;d++)for(var e=b[d],h=this.componentOrders[e],l=0;l<h.length&&!1!==k.include(a,h[l]);l++)if(l==a.length-1)return e;return"SPOG"};Callbacks.CallbacksBackend.prototype.observeNode=function(){var a,b,g,e;4===arguments.length?(a=arguments[0],b=arguments[1],g=arguments[2],e=arguments[3]):(a=arguments[0],b=this.engine.lexicon.defaultGraphUri,g=arguments[1],e=arguments[2]);b="CONSTRUCT { <"+a+"> ?p ?o } WHERE { GRAPH <"+b+"> { <"+a+"> ?p ?o } }";
var h=this,l={blanks:{},outCache:{}};this.engine.registerNsInEnvironment(null,l);var k=[];this.engine.execute(b,function(b,f){if(b)e&&e(!1);else{var A=!1,w=function(a,b){if("eventsFlushed"===a&&A){A=!1;try{g(f)}catch(c){}}else if("eventsFlushed"!==a){A=!0;for(var e=0;e<b.length;e++){var n=b[e],w=d.buildRDFResource(n.subject,k,h.engine,l),q=d.buildRDFResource(n.predicate,k,h.engine,l),n=d.buildRDFResource(n.object,k,h.engine,l);null!=w&&null!=q&&null!=n&&(n=new d.Triple(w,q,n),a===Callbacks.added?
f.add(n):a===Callbacks.deleted&&f.remove(n))}}};h.observersMap[g]=w;h.subscribeEmpty(Callbacks.eventsFlushed,w);h.subscribe(a,null,null,null,w,function(){try{g(f)}catch(a){}e&&e(!0)})}})};Callbacks.CallbacksBackend.prototype.stopObservingNode=function(a){return(a=this.observersMap[a])?(this.unsubscribe(a),this.unsubscribeEmpty(Callbacks.eventsFlushed,a),!0):!1};Callbacks.CallbacksBackend.prototype.observeQuery=function(a,d,g){var e=this.aqt.parseQueryString(a),e=this.aqt.parseSelect(e.units[0]),e=
this.aqt.collectBasicTriples(e),h=this,l={blanks:{},outCache:{}};this.engine.registerNsInEnvironment(null,l);var k=this.queryCounter;this.queryCounter++;this.queriesMap[k]=a;this.queriesInverseMap[a]=k;this.queriesList.push(k);this.queriesCallbacksMap[k]=d;r.eachSeries(e,function(a,c){null==a.graph&&(a.graph=h.engine.lexicon.defaultGraphUriTerm);h.engine.normalizeQuad(a,l,!0,function(a){for(var d=new b(a),e=h._indexForPattern(d),d=h.componentOrders[e],e=h.queriesIndexMap[e],f=0;f<d.length;f++){var g=
a[d[f]];if("string"===typeof g){null==e._&&(e._=[]);e._.push(k);break}else f===d.length-1?(e[g]=e[g]||{_:[]},e[g]._.push(k)):(e[g]=e[g]||{},e=e[g])}c()})},function(){h.engine.execute(a,function(a,b){a?console.log("ERROR in query callback "+b):d(b)});null!=g&&g()})};Callbacks.CallbacksBackend.prototype.stopObservingQuery=function(a){var b=this.queriesInverseMap[a];null!=b&&(delete this.queriesInverseMap[a],delete this.queriesMap[b],this.queriesList=k.reject(this.queriesList,function(a){return a===
b}))};Callbacks.CallbacksBackend.prototype._searchQueriesInIndex=function(a,b,d){var e=d[1];d=d[0];for(d=0;d<b.length+1;d++){for(var h=a._||[],l=[],v=0;v<h.length;v++){var n=h[v];k.include(this.pendingQueries,n)&&(k.remove(this.pendingQueries,function(a){return a===n}),this.matchedQueries.push(n));null!=this.queriesMap[n]&&l.push(n)}a._=l;h=b[d];if(null!=a[""+e[h]])a=a[""+e[h]];else break}};Callbacks.CallbacksBackend.prototype.dispatchQueries=function(a){var b=this,d,e,h={};r.eachSeries(this.matchedQueries,
function(a,c){null==h[a]?(h[a]=!0,d=b.queriesMap[a],e=b.queriesCallbacksMap[a],b.engine.execute(d,function(a,b){if(!a)try{e(b)}catch(d){}c()})):c()},function(){a()})};Callbacks.CallbacksBackend.added=Callbacks.added;Callbacks.CallbacksBackend.deleted=Callbacks.deleted;Callbacks.CallbacksBackend.eventsFlushed=Callbacks.eventsFlushed;x.exports=Callbacks},{"./abstract_query_tree":41,"./quad_index":52,"./rdf_model":57,"./utils":59}],45:[function(u,x,y){var k=u("jsonld"),r=function(b,d,a){var c=null;k.normalize(b,
{},function(b,g){if(b)a(b);else{var e=function(a){if("blank node"===a.type)return{blank:a.value};if("IRI"===a.type)return{token:"uri",value:a.value};if("literal"===a.type)return null!==a.datatype?{literal:'"'+a.value+'"^^<'+a.datatype+">"}:null!=a.language?{literal:'"'+a.value+'"@'+a.language}:{literal:'"'+a.value+'"'}};c=[];var h=function(a,b,f){c.push({subject:e(a),predicate:e(b),object:e(f),graph:d})},l;for(l in g)for(var k=g[l],n=0;n<k.length;n++){var t=k[n];h(t.subject,t.predicate,t.object)}a(null,
c)}})};y.JSONLDParser={};u=y.JSONLDParser;u.parser={async:!0,parse:function(b,d,a,c){try{"string"===typeof b&&(b=JSON.parse(b)),r(b,d,c)}catch(f){c(f)}}};x.exports={JSONLDParser:u}},{jsonld:26}],46:[function(u,x,y){var k=u("./utils"),r=u("./btree").Tree;Lexicon=function(b){var d=this;this.defaultGraphOid=0;this.defaultGraphUri="https://github.com/antoniogarrote/rdfstore-js#default_graph";this.defaultGraphUriTerm={token:"uri",prefix:null,suffix:null,value:this.defaultGraphUri};this.oidCounter=1;k.seq(function(a){new r(2,
function(b){d.uris=b;a()})},function(a){new r(2,function(b){d.literals=b;a()})},function(a){new r(2,function(b){d.knownGraphs=b;a()})},function(a){new r(2,function(b){d.oidUris=b;a()})},function(a){new r(2,function(b){d.oidLiterals=b;a()})},function(a){new r(2,function(b){d.oidBlanks=b;a()})})(function(){null!=b&&b(d)})};Lexicon.prototype.registerGraph=function(b,d,a){b!=this.defaultGraphOid?this.knownGraphs.insert(b,d,function(){a()}):a()};Lexicon.prototype.registeredGraphs=function(b,d){var a=[];
this.knownGraphs.walk(function(c){!0===b?a.push(c.data):a.push(c.key)},function(){d(a)})};Lexicon.prototype.registerUri=function(b,d){var a=this;b===this.defaultGraphUri?d(this.defaultGraphOid):this.uris.search(b,function(c){if(null==c){var f=a.oidCounter,g="u"+f;a.oidCounter++;k.seq(function(c){a.uris.insert(b,[f,0],function(){c()})},function(c){a.oidUris.insert(g,b,function(){c()})})(function(){d(f)})}else f=c[0],c[1]+=1,d(f)})};Lexicon.prototype.resolveUri=function(b,d){b===this.defaultGraphUri?
d(this.defaultGraphOid):this.uris.search(b,function(a){null!=a?d(a[0]):d(-1)})};Lexicon.prototype.resolveUriCost=function(b,d){b===this.defaultGraphUri?d(0):this.uris.search(b,function(a){null!=a?d(a[1]):d(-1)})};Lexicon.prototype.registerBlank=function(b){var d=this.oidCounter;this.oidCounter++;var a=""+d;this.oidBlanks.insert(a,a,function(){b(d)})};Lexicon.prototype.resolveBlank=function(b,d){var a=this;this.oidBlanks.search(b,function(b){null!=b?d(b):(b=a.oidCounter,this.oidCounter++,d(""+b))})};
Lexicon.prototype.resolveBlankCost=function(b,d){d(0)};Lexicon.prototype.registerLiteral=function(b,d){var a=this;this.literals.search(b,function(c){if(null==c){var f=a.oidCounter,g="l"+f;a.oidCounter++;k.seq(function(c){a.literals.insert(b,[f,0],function(){c()})},function(c){a.oidLiterals.insert(g,b,function(){c()})})(function(){d(f)})}else f=c[0],c[1]+=1,d(f)})};Lexicon.prototype.resolveLiteral=function(b,d){this.literals.search(b,function(a){null!=a?d(a[0]):d(-1)})};Lexicon.prototype.resolveLiteralCost=
function(b,d){this.literals.search(b,function(a){null!=a?d(a[1]):d(-1)})};Lexicon.prototype.parseLiteral=function(b){var d=b.lastIndexOf("@");if(-1!=d&&'"'===b[d-1]&&null!=b.substring(d,b.length).match(/^@[a-zA-Z\-]+$/g)){var a=b.substring(1,d-1);b=b.substring(d+1,b.length);return{token:"literal",value:a,lang:b}}d=b.lastIndexOf("^^");if(-1!=d&&'"'===b[d-1]&&"<"===b[d+2]&&">"===b[b.length-1])return a=b.substring(1,d-1),b=b.substring(d+3,b.length-1),{token:"literal",value:a,type:b};a=b.substring(1,
b.length-1);return{token:"literal",value:a}};Lexicon.prototype.parseUri=function(b){return{token:"uri",value:b}};Lexicon.prototype.retrieve=function(b,d){var a=this;b===this.defaultGraphOid?d({token:"uri",value:this.defaultGraphUri,prefix:null,suffix:null,defaultGraph:!0}):k.seq(function(c,d){a.oidUris.search("u"+b,function(b){null!=b?d(null,a.parseUri(b)):d(null,null)})},function(c,d){null==c?a.oidLiterals.search("l"+b,function(b){null!=b?d(null,a.parseLiteral(b)):d(null,null)}):d(null,c)},function(c,
d){null==c?a.oidBlanks.search(""+b,function(a){null!=a?d(null,{token:"blank",value:"_:"+b}):d(null,null)}):d(null,c)})(null,function(a,b){d(b)})};Lexicon.prototype.clear=function(b){var d=this;this.defaultGraphOid=0;this.defaultGraphUri="https://github.com/antoniogarrote/rdfstore-js#default_graph";this.defaultGraphUriTerm={token:"uri",prefix:null,suffix:null,value:this.defaultGraphUri};this.oidCounter=1;k.seq(function(a){new r(2,function(b){d.uris=b;a()})},function(a){new r(2,function(b){d.literals=
b;a()})},function(a){new r(2,function(b){d.knownGraphs=b;a()})},function(a){new r(2,function(b){d.oidUris=b;a()})},function(a){new r(2,function(b){d.oidLiterals=b;a()})},function(a){new r(2,function(b){d.oidBlanks=b;a()})})(function(){null!=b&&b()})};Lexicon.prototype.unregister=function(b,d,a){var c=this;k.seq(function(a){c._unregisterTerm(b.subject.token,d.subject,a)},function(a){c._unregisterTerm(b.predicate.token,d.predicate,a)},function(a){c._unregisterTerm(b.object.token,d.object,a)},function(a){null!=
b.graph?c._unregisterTerm(b.graph.token,d.graph,a):a()})(function(){a(!0)})};Lexicon.prototype._unregisterTerm=function(b,d,a){var c=this;if("uri"===b)if(d!=this.defaultGraphOid){var f="u"+d;c.oidUris.search(f,function(b){c.uris.search(b,function(e){var h=e[1];""+e[0]===""+d?0===h?k.seq(function(a){c.oidUris["delete"](f,function(){a()})},function(a){c.uris["delete"](b,function(){a()})},function(a){c.knownGraphs["delete"](d,function(){a()})})(function(){a()}):c.uris.insert(b,[d,h-1],function(){a()}):
a()})})}else a();else"literal"===b?(this.oidCounter++,f="l"+d,c.oidLiterals.search(f,function(b){c.literals.search(b,function(e){var h=e[1];""+e[0]===""+d?0===h?k.seq(function(a){c.oidLiterals["delete"](f,function(){a()})},function(a){c.literals["delete"](b,function(){a()})})(function(){a()}):c.literals.insert(b,[d,h-1],function(){a()}):a()})})):"blank"===b?c.oidBlanks["delete"](""+d,function(){a()}):a()};x.exports={Lexicon:Lexicon}},{"./btree":42,"./utils":59}],47:[function(u,x,y){var k=u("http"),
r=u("https"),b=u("url");NetworkTransport={load:function(d,a,c,f){var g=null==f?3:f;d=b.parse(d,!0,!0);f={host:d.host,hostname:d.hostname,method:"GET",path:d.path,headers:{host:d.hostname,Accept:a}};var e=null;"http:"===d.protocol?(f.port=d.port||80,e=k):"https:"===d.protocol&&(f.port=d.port||443,e=r);d=e.request(f,function(b){var d=b.headers,e="";"2"==(""+b.statusCode)[0]?(b.on("end",function(){c(null,{headers:d,data:e})}),b.on("data",function(a){e+=a})):"3"==(""+b.statusCode)[0]?0==g?c(Error("Too many redirections")):
(b=d.Location||d.location,null!=b?NetworkTransport.load(b,a,c,g-1):c(Error("Redirection without location header"))):c(Error("HTTP error: "+b.statusCode))});d.on("error",c);d.end()}};x.exports={NetworkTransport:NetworkTransport}},{http:7,https:22,url:38}],48:[function(u,x,y){x.exports=function(){function k(r,b,d,a){this.message=r;this.expected=b;this.found=d;this.location=a;this.name="SyntaxError";"function"===typeof Error.captureStackTrace&&Error.captureStackTrace(this,k)}(function(k,b){function d(){this.constructor=
k}d.prototype=b.prototype;k.prototype=new d})(k,Error);return{SyntaxError:k,parse:function(r){function b(a){var b=A[a],c,d;if(!b){for(c=a-1;!A[c];)c--;b=A[c];for(b={line:b.line,column:b.column,seenCR:b.seenCR};c<a;)d=r.charAt(c),"\n"===d?(b.seenCR||b.line++,b.column=1,b.seenCR=!1):"\r"===d||"\u2028"===d||"\u2029"===d?(b.line++,b.column=1,b.seenCR=!0):(b.column++,b.seenCR=!1),c++;A[a]=b}return b}function d(a,c){var d=b(a),e=b(c);return{start:{offset:a,line:d.line,column:d.column},end:{offset:c,line:e.line,
column:e.column}}}function a(a){t<w||(t>w&&(w=t,F=[]),F.push(a))}function c(a){var b=Array(a.length),c;for(c=0;c<a.length;c++)b[c]=a.charCodeAt(c)-32;return b}function f(b){b=n[b];for(var c=0,d=[],g=b.length,h=[],k=[],l,w;;){for(;c<g;)switch(b[c]){case 0:k.push(v[b[c+1]]);c+=2;break;case 1:k.push(void 0);c++;break;case 2:k.push(null);c++;break;case 3:k.push(e);c++;break;case 4:k.push([]);c++;break;case 5:k.push(t);c++;break;case 6:k.pop();c++;break;case 7:t=k.pop();c++;break;case 8:k.length-=b[c+
1];c+=2;break;case 9:k.splice(-2,1);c++;break;case 10:k[k.length-2].push(k.pop());c++;break;case 11:k.push(k.splice(k.length-b[c+1],b[c+1]));c+=2;break;case 12:k.push(r.substring(k.pop(),t));c++;break;case 13:h.push(g);d.push(c+3+b[c+1]+b[c+2]);k[k.length-1]?(g=c+3+b[c+1],c+=3):(g=c+3+b[c+1]+b[c+2],c+=3+b[c+1]);break;case 14:h.push(g);d.push(c+3+b[c+1]+b[c+2]);k[k.length-1]===e?(g=c+3+b[c+1],c+=3):(g=c+3+b[c+1]+b[c+2],c+=3+b[c+1]);break;case 15:h.push(g);d.push(c+3+b[c+1]+b[c+2]);k[k.length-1]!==
e?(g=c+3+b[c+1],c+=3):(g=c+3+b[c+1]+b[c+2],c+=3+b[c+1]);break;case 16:k[k.length-1]!==e?(h.push(g),d.push(c),g=c+2+b[c+1],c+=2):c+=2+b[c+1];break;case 17:h.push(g);d.push(c+3+b[c+1]+b[c+2]);r.length>t?(g=c+3+b[c+1],c+=3):(g=c+3+b[c+1]+b[c+2],c+=3+b[c+1]);break;case 18:h.push(g);d.push(c+4+b[c+2]+b[c+3]);r.substr(t,v[b[c+1]].length)===v[b[c+1]]?(g=c+4+b[c+2],c+=4):(g=c+4+b[c+2]+b[c+3],c+=4+b[c+2]);break;case 19:h.push(g);d.push(c+4+b[c+2]+b[c+3]);r.substr(t,v[b[c+1]].length).toLowerCase()===v[b[c+
1]]?(g=c+4+b[c+2],c+=4):(g=c+4+b[c+2]+b[c+3],c+=4+b[c+2]);break;case 20:h.push(g);d.push(c+4+b[c+2]+b[c+3]);v[b[c+1]].test(r.charAt(t))?(g=c+4+b[c+2],c+=4):(g=c+4+b[c+2]+b[c+3],c+=4+b[c+2]);break;case 21:k.push(r.substr(t,b[c+1]));t+=b[c+1];c+=2;break;case 22:k.push(v[b[c+1]]);t+=v[b[c+1]].length;c+=2;break;case 23:k.push(e);0===u&&a(v[b[c+1]]);c+=2;break;case 24:c+=2;break;case 25:c++;break;case 26:l=b.slice(c+4,c+4+b[c+3]);for(w=0;w<b[c+3];w++)l[w]=k[k.length-1-l[w]];k.splice(k.length-b[c+2],b[c+
2],v[b[c+1]].apply(null,l));c+=4+b[c+3];break;case 27:k.push(f(b[c+1]));c+=2;break;case 28:u++;c++;break;case 29:u--;c++;break;default:throw Error("Invalid opcode: "+b[c]+".");}if(0<h.length)g=h.pop(),c=d.pop();else break}return k[0]}var g=1<arguments.length?arguments[1]:{},e={},h={DOCUMENT:0},l=0,v=[{type:"other",description:"[1] QueryUnit"},{type:"other",description:"[2] Query"},function(a,b,c){return{token:"query",kind:"query",prologue:a,units:[b],inlineData:c}},{type:"other",description:"[3] Prologue"},
function(a,b){return{token:"prologue",base:a,prefixes:b}},{type:"other",description:"[4] BaseDecl"},"BASE",{type:"literal",value:"BASE",description:'"BASE"'},"base",{type:"literal",value:"base",description:'"base"'},function(a){var b={token:"base"};b.value=a;return b},{type:"other",description:"[5] PrefixDecl"},"PREFIX",{type:"literal",value:"PREFIX",description:'"PREFIX"'},"prefix",{type:"literal",value:"prefix",description:'"prefix"'},function(a,b){var c={token:"prefix"};c.prefix=a;c.local=b;return c},
{type:"other",description:"[6] SelectQuery"},function(a,b,c,d){for(var e={named:[],implicit:[]},f=0;f<b.length;f++){var g=b[f];"default"===g.kind?e.implicit.push(g.graph):e.named.push(g.graph)}0===e.named.length&&0===e.implicit.length&&e.implicit.push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});b={kind:"select",token:"executableunit"};b.dataset=e;b.projection=a.vars;b.modifier=a.modifier;b.pattern=c;null!=d&&null!=d.limit&&(b.limit=d.limit);
null!=d&&null!=d.offset&&(b.offset=d.offset);null!=d&&null!=d.order&&""!=d.order&&(b.order=d.order);null!=d&&null!=d.group&&(b.group=d.group);return b},{type:"other",description:"[7] SubSelect"},function(a,b,c){var d={kind:"select",token:"subselect"};d.projection=a.vars;d.modifier=a.modifier;d.pattern=b;null!=c&&null!=c.limit&&(d.limit=c.limit);null!=c&&null!=c.offset&&(d.offset=c.offset);null!=c&&null!=c.order&&""!=c.order&&(d.order=c.order);null!=c&&null!=c.group&&(d.group=c.group);return d},{type:"other",
description:"[8] SelectClause"},"SELECT",{type:"literal",value:"SELECT",description:'"SELECT"'},"select",{type:"literal",value:"select",description:'"select"'},"DISTINCT",{type:"literal",value:"DISTINCT",description:'"DISTINCT"'},"distinct",{type:"literal",value:"distinct",description:'"distinct"'},"REDUCED",{type:"literal",value:"REDUCED",description:'"REDUCED"'},"reduced",{type:"literal",value:"reduced",description:'"reduced"'},"(",{type:"literal",value:"(",description:'"("'},"AS",{type:"literal",
value:"AS",description:'"AS"'},"as",{type:"literal",value:"as",description:'"as"'},")",{type:"literal",value:")",description:'")"'},"*",{type:"literal",value:"*",description:'"*"'},function(a,b){var c=[];if(3===b.length&&"*"===b[1])return{vars:[{token:"variable",kind:"*"}],modifier:y(a)};for(var d=0;d<b.length;d++){var e=b[d];3===e.length?c.push({token:"variable",kind:"var",value:e[1]}):c.push({token:"variable",kind:"aliased",expression:e[3],alias:e[7]})}return{vars:c,modifier:y(a)}},{type:"other",
description:"[9] ConstructQuery"},"CONSTRUCT",{type:"literal",value:"CONSTRUCT",description:'"CONSTRUCT"'},"construct",{type:"literal",value:"construct",description:'"construct"'},function(a,b,c,d){for(var e={named:[],implicit:[]},f=0;f<b.length;f++){var g=b[f];"default"===g.kind?e.implicit.push(g.graph):e.named.push(g.graph)}0===e.named.length&&0===e.implicit.length&&e.implicit.push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});b={kind:"construct",
token:"executableunit"};b.dataset=e;b.template=a;b.pattern=c;null!=d&&null!=d.limit&&(b.limit=d.limit);null!=d&&null!=d.offset&&(b.offset=d.offset);null!=d&&null!=d.order&&""!=d.order&&(b.order=d.order);return b},"WHERE",{type:"literal",value:"WHERE",description:'"WHERE"'},"where",{type:"literal",value:"where",description:'"where"'},"{",{type:"literal",value:"{",description:'"{"'},"}",{type:"literal",value:"}",description:'"}"'},function(a,b,c){for(var d={named:[],implicit:[]},e=0;e<a.length;e++){var f=
a[e];"default"===f.kind?d.implicit.push(f.graph):d.named.push(f.graph)}0===d.named.length&&0===d.implicit.length&&d.implicit.push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});a={kind:"construct",token:"executableunit"};a.dataset=d;a.template=b;a.pattern={token:"basicgraphpattern",triplesContext:b.triplesContext};null!=c&&null!=c.limit&&(a.limit=c.limit);null!=c&&null!=c.offset&&(a.offset=c.offset);null!=c&&null!=c.order&&""!=c.order&&(a.order=
c.order);return a},{type:"other",description:"[10] DescribeQuery"},"DESCRIBE",{type:"literal",value:"DESCRIBE",description:'"DESCRIBE"'},{type:"other",description:"[11] AskQuery"},"ASK",{type:"literal",value:"ASK",description:'"ASK"'},"ask",{type:"literal",value:"ask",description:'"ask"'},function(a,b){for(var c={named:[],implicit:[]},d=0;d<a.length;d++){var e=a[d];"implicit"===e.kind?c.implicit.push(e.graph):c.named.push(e.graph)}0===c.named.length&&0===c.implicit.length&&c.implicit.push({token:"uri",
prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});d={kind:"ask",token:"executableunit"};d.dataset=c;d.pattern=b;return d},{type:"other",description:"[12] DatasetClause"},"FROM",{type:"literal",value:"FROM",description:'"FROM"'},"from",{type:"literal",value:"from",description:'"from"'},function(a){return a},{type:"other",description:"[13] DefaultGraphClause"},function(a){return{graph:a,kind:"default",token:"graphClause"}},{type:"other",description:"[14] NamedGraphClause"},
"NAMED",{type:"literal",value:"NAMED",description:'"NAMED"'},"named",{type:"literal",value:"named",description:'"named"'},function(a){return{graph:a,kind:"named",token:"graphCluase"}},{type:"other",description:"[15] SourceSelector"},{type:"other",description:"[16] WhereClause"},function(a){return a},{type:"other",description:"[17] SolutionModifier"},function(a,b,c){var d={};null!=c&&(null!=c.limit&&(d.limit=c.limit),null!=c.offset&&(d.offset=c.offset));null!=a&&(d.group=a);d.order=b;return d},{type:"other",
description:"[18] GroupClause"},"GROUP",{type:"literal",value:"GROUP",description:'"GROUP"'},"group",{type:"literal",value:"group",description:'"group"'},"BY",{type:"literal",value:"BY",description:'"BY"'},"by",{type:"literal",value:"by",description:'"by"'},function(a){return a},{type:"other",description:"[19] GroupCondition"},function(a){return a},function(a){return a},function(a,b){return 0!=b.length?{token:"aliased_expression",expression:a,alias:b[2]}:a},function(a){return a},{type:"other",description:"[20] HavingClause"},
"HAVING",{type:"literal",value:"HAVING",description:'"HAVING"'},{type:"other",description:"[21] HavingCondition"},{type:"other",description:"[22] OrderClause"},"ORDER",{type:"literal",value:"ORDER",description:'"ORDER"'},"order",{type:"literal",value:"order",description:'"order"'},function(a){return a},{type:"other",description:"[23] OrderCondition"},"ASC",{type:"literal",value:"ASC",description:'"ASC"'},"asc",{type:"literal",value:"asc",description:'"asc"'},"DESC",{type:"literal",value:"DESC",description:'"DESC"'},
"desc",{type:"literal",value:"desc",description:'"desc"'},function(a,b){return{direction:a.toUpperCase(),expression:b}},function(a){"var"===a.token&&(a={token:"expression",expressionType:"atomic",primaryexpression:"var",value:a});return{direction:"ASC",expression:a}},{type:"other",description:"[24] LimitOffsetClauses"},function(a){for(var b={},c=0;c<a.length;c++){var d=a[c];null!=d&&null!=d.limit?b.limit=d.limit:null!=d&&null!=d.offset&&(b.offset=d.offset)}return b},{type:"other",description:"[25] LimitClause"},
"LIMIT",{type:"literal",value:"LIMIT",description:'"LIMIT"'},"limit",{type:"literal",value:"limit",description:'"limit"'},function(a){return{limit:parseInt(a.value)}},{type:"other",description:"[26] OffsetClause"},"OFFSET",{type:"literal",value:"OFFSET",description:'"OFFSET"'},"offset",{type:"literal",value:"offset",description:'"offset"'},function(a){return{offset:parseInt(a.value)}},{type:"other",description:"[27] BindingsClause"},"BINDINGS",{type:"literal",value:"BINDINGS",description:'"BINDINGS"'},
{type:"other",description:"[28] BindingValue"},"UNDEF",{type:"literal",value:"UNDEF",description:'"UNDEF"'},{type:"other",description:"[28]\tValuesClause\t  ::=\t( 'VALUES' DataBlock )?"},"VALUES",{type:"literal",value:"VALUES",description:'"VALUES"'},"values",{type:"literal",value:"values",description:'"values"'},function(a){return null!=a?a[1]:null},{type:"other",description:"[29] UpdateUnit"},{type:"other",description:"[30] Update"},";",{type:"literal",value:";",description:'";"'},function(a,b,
c){var d={token:"query",kind:"update"};d.prologue=a;a=[b];null!=c&&null!=c.length&&null!=c[3]&&null!=c[3].units&&(a=a.concat(c[3].units));d.units=a;return d},{type:"other",description:"[31] Update1"},{type:"other",description:"[32] Load"},"LOAD",{type:"literal",value:"LOAD",description:'"LOAD"'},"load",{type:"literal",value:"load",description:'"load"'},"INTO",{type:"literal",value:"INTO",description:'"INTO"'},"into",{type:"literal",value:"into",description:'"into"'},function(a,b){var c={kind:"load",
token:"executableunit"};c.sourceGraph=a;null!=b&&(c.destinyGraph=b[2]);return c},{type:"other",description:"[33] Clear"},"CLEAR",{type:"literal",value:"CLEAR",description:'"CLEAR"'},"clear",{type:"literal",value:"clear",description:'"clear"'},"SILENT",{type:"literal",value:"SILENT",description:'"SILENT"'},"silent",{type:"literal",value:"silent",description:'"silent"'},function(a){var b={kind:"clear",token:"executableunit"};b.destinyGraph=a;return b},{type:"other",description:"[34] Drop"},"DROP",{type:"literal",
value:"DROP",description:'"DROP"'},"drop",{type:"literal",value:"drop",description:'"drop"'},function(a){var b={kind:"drop",token:"executableunit"};b.destinyGraph=a;return b},{type:"other",description:"[35] Create"},"CREATE",{type:"literal",value:"CREATE",description:'"CREATE"'},"create",{type:"literal",value:"create",description:'"create"'},function(a){var b={kind:"create",token:"executableunit"};b.destinyGraph=a;return b},{type:"other",description:"[36] InsertData"},"INSERT",{type:"literal",value:"INSERT",
description:'"INSERT"'},"insert",{type:"literal",value:"insert",description:'"insert"'},"DATA",{type:"literal",value:"DATA",description:'"DATA"'},"data",{type:"literal",value:"data",description:'"data"'},function(a){var b={kind:"insertdata",token:"executableunit"};b.quads=a;return b},{type:"other",description:"[37] DeleteData"},"DELETE",{type:"literal",value:"DELETE",description:'"DELETE"'},"delete",{type:"literal",value:"delete",description:'"delete"'},function(a){var b={kind:"deletedata",token:"executableunit"};
b.quads=a;return b},{type:"other",description:"[38] DeleteWhere"},function(a){var b={kind:"modify"};b.pattern=a;b["with"]=null;b.using=null;var c=[];a=a.patterns[0];a=null==a.triplesContext&&null!=a.patterns?a.patterns[0].triplesContext:a.triplesContext;for(var d=0;d<a.length;d++){var e={},f=a[d];e.subject=f.subject;e.predicate=f.predicate;e.object=f.object;e.graph=f.graph;c.push(e)}b["delete"]=c;return b},{type:"other",description:"[39] Modify"},"WITH",{type:"literal",value:"WITH",description:'"WITH"'},
"with",{type:"literal",value:"with",description:'"with"'},function(a,b,c,d){var e={kind:"modify"};e["with"]=""!=a&&null!=a?a[2]:null;3!==b.length||""!==b[2]&&null!=b[2]?3===b.length&&null!=b[0].length&&null!=b[1].length&&null!=b[2].length?(e["delete"]=b[0],e.insert=b[2]):(e.insert=b,e["delete"]=null):(e["delete"]=b[0],e.insert=null);""!=c&&(e.using=c);e.pattern=d;return e},{type:"other",description:"[40] DeleteClause"},function(a){return a},{type:"other",description:"[41] InsertClause"},{type:"other",
description:"[42] UsingClause"},"USING",{type:"literal",value:"USING",description:'"USING"'},"using",{type:"literal",value:"using",description:'"using"'},function(a){return null!=a.length?{kind:"named",uri:a[2]}:{kind:"default",uri:a}},{type:"other",description:"[43] GraphRef"},"GRAPH",{type:"literal",value:"GRAPH",description:'"GRAPH"'},"graph",{type:"literal",value:"graph",description:'"graph"'},function(a){return a},{type:"other",description:"[44] GraphRefAll"},"DEFAULT",{type:"literal",value:"DEFAULT",
description:'"DEFAULT"'},"default",{type:"literal",value:"default",description:'"default"'},function(){return"default"},function(){return"named"},"ALL",{type:"literal",value:"ALL",description:'"ALL"'},"all",{type:"literal",value:"all",description:'"all"'},function(){return"all"},{type:"other",description:"[45] QuadPattern"},function(a){return a.quadsContext},{type:"other",description:"[46] QuadData"},{type:"other",description:"[47] Quads"},".",{type:"literal",value:".",description:'"."'},function(a,
b){var c=[];if(null!=a&&null!=a.triplesContext)for(var d=0;d<a.triplesContext.length;d++){var e=a.triplesContext[d];e.graph=null;c.push(e)}if(b&&0<b.length&&0<b[0].length&&(c=c.concat(b[0][0].quadsContext),null!=b[0][2]&&null!=b[0][2].triplesContext))for(d=0;d<b[0][2].triplesContext.length;d++)e=b[0][2].triplesContext[d],e.graph=null,c.push(e);return{token:"quads",quadsContext:c}},{type:"other",description:"[48] QuadsNotTriples"},function(a,b){var c=[];if(null!=b)for(var d=0;d<b.triplesContext.length;d++){var e=
b.triplesContext[d];e.graph=a;c.push(e)}return{token:"quadsnottriples",quadsContext:c}},{type:"other",description:"[49] TriplesTemplate"},function(a,b){var c=a.triplesContext;null!=b&&"object"===typeof b&&null!=b.length&&null!=b[3]&&null!=b[3].triplesContext&&(c=c.concat(b[3].triplesContext));return{token:"triplestemplate",triplesContext:c}},{type:"other",description:"[50] GroupGraphPattern"},function(a){return a},{type:"other",description:"[51] GroupGraphPatternSub"},function(a,b){var c=[];null!=
a&&a!=[]&&c.push(a);for(var d=0;d<b.length;d++)for(var e=0;e<b[d].length;e++)null!=b[d][e]&&null!=b[d][e].token&&c.push(b[d][e]);for(var f=[],g=[],n=[],h=[],d=0;d<c.length;d++)if("triplespattern"!==c[d].token&&"filter"!==c[d].token&&"bind"!==c[d].token){if(0!=g.length||0!=n.length){for(var k=[],e=0;e<g.length;e++)k=k.concat(g[e].triplesContext);0<k.length&&f.push({token:"basicgraphpattern",triplesContext:k});g=[]}f.push(c[d])}else"triplespattern"===c[d].token?g.push(c[d]):"bind"===c[d].token?h.push(c[d]):
n.push(c[d]);if(0!=g.length||0!=n.length){k=[];for(e=0;e<g.length;e++)k=k.concat(g[e].triplesContext);0<k.length&&f.push({token:"basicgraphpattern",triplesContext:k})}return{token:"groupgraphpattern",patterns:f,filters:n,binds:h}},{type:"other",description:"[54] TriplesBlock"},function(a,b){var c=a.triplesContext;null!=b&&"object"===typeof b&&null!=b&&null!=b.length&&null!=b[2]&&null!=b[2].triplesContext&&(c=c.concat(b[2].triplesContext));return{token:"triplespattern",triplesContext:c}},{type:"other",
description:"[53] GraphPatternNotTriples"},{type:"other",description:"[54] OptionalGraphPattern"},"OPTIONAL",{type:"literal",value:"OPTIONAL",description:'"OPTIONAL"'},"optional",{type:"literal",value:"optional",description:'"optional"'},function(a){return{token:"optionalgraphpattern",value:a}},{type:"other",description:"[55] GraphGraphPattern"},function(a,b){for(var c=0;c<b.patterns.length;c++)for(var d=b.patterns[c],e=0;e<d.triplesContext.length;e++)d.triplesContext[e].graph=a;b.token="groupgraphpattern";
return b},{type:"other",description:"[56] ServiceGraphPattern"},"SERVICE",{type:"literal",value:"SERVICE",description:'"SERVICE"'},function(a,b){return{token:"servicegraphpattern",status:"todo",value:[a,b]}},{type:"other",description:"[57] MinusGraphPattern"},"MINUS",{type:"literal",value:"MINUS",description:'"MINUS"'},"minus",{type:"literal",value:"minus",description:'"minus"'},function(a){return{token:"minusgraphpattern",status:"todo",value:a}},{type:"other",description:"[58] GroupOrUnionGraphPattern"},
"UNION",{type:"literal",value:"UNION",description:'"UNION"'},"union",{type:"literal",value:"union",description:'"union"'},function(a,b){if(0===b.length)return a;for(var c={token:"graphunionpattern",value:[a]},d=0;d<b.length;d++)d==b.length-1?c.value.push(b[d][3]):(c.value.push(b[d][3]),c={token:"graphunionpattern",value:[c]});return c},{type:"other",description:"[59] Filter"},"FILTER",{type:"literal",value:"FILTER",description:'"FILTER"'},"filter",{type:"literal",value:"filter",description:'"filter"'},
function(a){return{token:"filter",value:a}},{type:"other",description:"[60] Bind"},"BIND",{type:"literal",value:"BIND",description:'"BIND"'},"bind",{type:"literal",value:"bind",description:'"bind"'},function(a,b){return{token:"bind",expression:a,as:b}},{type:"other",description:"[60] Constraint"},{type:"other",description:"[61] InlineData"},function(a){return a},{type:"other",description:"[62] DataBlock"},{type:"other",description:"[63] InlineDataOneVar"},function(a,b){return{token:"inlineData",values:[{"var":a,
value:b}]}},{type:"other",description:"[64] InlineDataFull"},function(a,b){return{token:"inlineData",values:[],todo:!0}},{type:"other",description:"[65] DataBlockValue"},{type:"other",description:"[61] FunctionCall"},function(a,b){var c={token:"expression",expressionType:"irireforfunction"};c.iriref=a;c.args=b.value;return c},{type:"other",description:"[62] ArgList"},function(){return{token:"args",value:[]}},",",{type:"literal",value:",",description:'","'},function(a,b,c){for(var d=[],e=0;e<c.length;e++)d.push(c[e][1]);
c={token:"args"};c.value=[b].concat(d);null!=a&&"DISTINCT"===a.toUpperCase()?c.distinct=!0:c.distinct=!1;return c},{type:"other",description:"[63] ExpressionList"},function(a,b){for(var c=[],d=0;d<b.length;d++)c.push(b[d][1]);d={token:"args"};d.value=[a].concat(c);return d},{type:"other",description:"[64] ConstructTemplate"},function(a){return a},{type:"other",description:"[65] ConstructTriples"},function(a,b){var c=a.triplesContext;null!=b&&"object"===typeof b&&null!=b.length&&null!=b[3]&&null!=
b[3].triplesContext&&(c=c.concat(b[3].triplesContext));return{token:"triplestemplate",triplesContext:c}},{type:"other",description:"[66] TriplesSameSubject"},function(a,b){var c=b.triplesContext;if(b.pairs)for(var d=0;d<b.pairs.length;d++){var e=b.pairs[d],f=null;null!=e[1].length&&(e[1]=e[1][0]);a.token&&"triplesnodecollection"===a.token?(f={subject:a.chainSubject[0],predicate:e[0],object:e[1]},c.push(f),c=c.concat(a.triplesContext)):(f={subject:a,predicate:e[0],object:e[1]},c.push(f))}d={token:"triplessamesubject"};
d.triplesContext=c;d.chainSubject=a;return d},function(a,b){var c=a.triplesContext,d=a.chainSubject;if(b.pairs)for(var e=0;e<b.pairs.length;e++){var f=b.pairs[e];null!=f[1].length&&(f[1]=f[1][0]);if("triplesnodecollection"===a.token)for(var g=0;g<d.length;g++){var n=d[g];if(null!=n.triplesContext){var h={subject:n.chainSubject,predicate:f[0],object:f[1]};c.concat(n.triplesContext)}else h={subject:d[g],predicate:f[0],object:f[1]},c.push(h)}else h={subject:d,predicate:f[0],object:f[1]},c.push(h)}e=
{token:"triplessamesubject"};e.triplesContext=c;e.chainSubject=d;return e},{type:"other",description:"[83] PropertyListPathNotEmpty"},function(a,b,c){for(var d={token:"propertylist"},e=[],f=[],g=0;g<b.length;g++)null!=b[g].triplesContext?(e=e.concat(b[g].triplesContext),"triplesnodecollection"===b[g].token&&null!=b[g].chainSubject.length?f.push([a,b[g].chainSubject[0]]):f.push([a,b[g].chainSubject])):f.push([a,b[g]]);for(g=0;g<c.length;g++){b=c[g][3];a=b[0];b=b[2]||[];for(var n=0;n<b.length;n++)null!=
b[n].triplesContext?(e=e.concat(b[n].triplesContext),f.push([a,b[n].chainSubject])):f.push([a,b[n]])}d.pairs=f;d.triplesContext=e;return d},{type:"other",description:"[67] PropertyListNotEmpty"},function(a,b,c){for(var d={token:"propertylist"},e=[],f=[],g=0;g<b.length;g++)null!=b[g].triplesContext?(e=e.concat(b[g].triplesContext),"triplesnodecollection"===b[g].token&&null!=b[g].chainSubject.length?f.push([a,b[g].chainSubject[0]]):f.push([a,b[g].chainSubject])):f.push([a,b[g]]);for(g=0;g<c.length;g++){b=
c[g][3];a=b[0];b=b[2]||[];for(var n=0;n<b.length;n++)null!=b[n].triplesContext?(e=e.concat(b[n].triplesContext),f.push([a,b[n].chainSubject])):f.push([a,b[n]])}d.pairs=f;d.triplesContext=e;return d},{type:"other",description:"[68] PropertyList"},{type:"other",description:"[86] ObjectListPath"},function(a,b){var c=[];c.push(a);for(var d=0;d<b.length;d++)for(var e=0;e<b[d].length;e++)"object"==typeof b[d][e]&&null!=b[d][e].token&&c.push(b[d][e]);return c},{type:"other",description:"[69] ObjectList"},
function(a,b){var c=[];c.push(a);for(var d=0;d<b.length;d++)for(var e=0;e<b[d].length;e++)"object"==typeof b[d][e]&&null!=b[d][e].token&&c.push(b[d][e]);return c},{type:"other",description:"[87] ObjectPath"},{type:"other",description:"[70] Object"},{type:"other",description:"[71] Verb"},"a",{type:"literal",value:"a",description:'"a"'},function(){return{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"}},{type:"other",description:"[72] TriplesSameSubjectPath"},
function(a,b){var c=b.triplesContext;if(b.pairs)for(var d=0;d<b.pairs.length;d++){var e=b.pairs[d],f=null;null!=e[1].length&&(e[1]=e[1][0]);a.token&&"triplesnodecollection"===a.token?(f={subject:a.chainSubject[0],predicate:e[0],object:e[1]},"path"===f.predicate.token&&"element"===f.predicate.kind&&(f.predicate=f.predicate.value),c.push(f),c=c.concat(a.triplesContext)):(f={subject:a,predicate:e[0],object:e[1]},"path"===f.predicate.token&&"element"===f.predicate.kind&&(f.predicate=f.predicate.value),
c.push(f))}d={token:"triplessamesubject"};d.triplesContext=c;d.chainSubject=a;return d},function(a,b){var c=a.triplesContext,d=a.chainSubject;if(null!=b&&null!=b.pairs)for(var e=0;e<b.pairs.length;e++){var f=b.pairs[e];null!=f[1].length&&(f[1]=f[1][0]);if("triplesnodecollection"===a.token)for(var g=0;g<d.length;g++){var n=d[g];if(null!=n.triplesContext){var h={subject:n.chainSubject,predicate:f[0],object:f[1]};c.concat(n.triplesContext)}else h={subject:d[g],predicate:f[0],object:f[1]},c.push(h)}else h=
{subject:d,predicate:f[0],object:f[1]},c.push(h)}e={token:"triplessamesubject"};e.triplesContext=c;e.chainSubject=d;return e},{type:"other",description:"[73] PropertyListNotEmptyPath"},function(a,b,c){for(var d={token:"propertylist"},e=[],f=[],g=0;g<b.length;g++)null!=b[g].triplesContext?(e=e.concat(b[g].triplesContext),"triplesnodecollection"===b[g].token&&null!=b[g].chainSubject.length?f.push([a,b[g].chainSubject[0]]):f.push([a,b[g].chainSubject])):f.push([a,b[g]]);for(g=0;g<c.length;g++){b=c[g][3];
a=b[0];b=b[1]||[];for(var n=0;n<b.length;n++)null!=b[n].triplesContext?(e=e.concat(b[n].triplesContext),f.push([a,b[n].chainSubject])):f.push([a,b[n]])}d.pairs=f;d.triplesContext=e;return d},{type:"other",description:"[74] PropertyListPath"},{type:"other",description:"[75]"},function(a){return a},{type:"other",description:"[76] VerbSimple"},{type:"other",description:"[77] Path"},{type:"other",description:"[78] PathAlternative"},"|",{type:"literal",value:"|",description:'"|"'},function(a,b){if(null==
b||0===b.length)return a;for(var c=[],d=0;d<b.length;d++)c.push(b[1]);d={token:"path",kind:"alternative"};d.value=c;return d},{type:"other",description:"[79] PathSequence"},"/",{type:"literal",value:"/",description:'"/"'},function(a,b){if(null==b||0===b.length)return a;for(var c=[a],d=0;d<b.length;d++)c.push(b[d][1]);d={token:"path",kind:"sequence"};d.value=c;return d},{type:"other",description:"[88] PathElt"},function(a,b){if(a.token&&"path"!=a.token&&""==b)return a;if(a.token&&a.token!=c&&""!=b){var c=
{token:"path",kind:"element"};c.value=a;c.modifier=b;return c}a.modifier=b;return a},{type:"other",description:"[81] PathEltOrInverse"},"^",{type:"literal",value:"^",description:'"^"'},function(a){var b={token:"path",kind:"inversePath"};b.value=a;return b},{type:"other",description:"[82] PathMod"},"?",{type:"literal",value:"?",description:'"?"'},"+",{type:"literal",value:"+",description:'"+"'},{type:"other",description:"[83] PathPrimary"},"!",{type:"literal",value:"!",description:'"!"'},{type:"other",
description:"[85] PathOneInPropertySet"},{type:"other",description:"[86] Integer"},{type:"other",description:"[100] TriplesNodePath"},function(a){for(var b=[],c=[],d=null,e=0;e<a.length;e++)I++,d=null,null==a[e].chainSubject&&null==a[e].triplesContext?d=a[e]:(d=a[e].chainSubject,b=b.concat(a[e].triplesContext)),d={subject:{token:"blank",value:"_:"+I},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first"},object:d},0==e&&c.push(d.subject),b.push(d),
d=e===a.length-1?{subject:{token:"blank",value:"_:"+I},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}}:{subject:{token:"blank",value:"_:"+I},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"blank",value:"_:"+(I+1)}},b.push(d);return{token:"triplesnodecollection",triplesContext:b,
chainSubject:c}},{type:"other",description:"[87] TriplesNode"},function(a){for(var b=[],c=[],d=null,e=0;e<a.length;e++)I++,d=null,null==a[e].chainSubject&&null==a[e].triplesContext?d=a[e]:(d=a[e].chainSubject,b=b.concat(d.triplesContext)),d={subject:{token:"blank",value:"_:"+I},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first"},object:d},0==e&&c.push(d.subject),b.push(d),d=e===a.length-1?{subject:{token:"blank",value:"_:"+I},predicate:{token:"uri",
prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}}:{subject:{token:"blank",value:"_:"+I},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"blank",value:"_:"+(I+1)}},b.push(d);return{token:"triplesnodecollection",triplesContext:b,chainSubject:c}},{type:"other",description:"[101] BlankNodePropertyListPath"},
"[",{type:"literal",value:"[",description:'"["'},"]",{type:"literal",value:"]",description:'"]"'},function(a){I++;for(var b={token:"blank",value:"_:"+I},c=[],d=0;d<a.pairs.length;d++){var e=a.pairs[d],f={};f.subject=b;f.predicate=e[0];null!=e[1].length&&(e[1]=e[1][0]);f.object=e[1];c.push(f)}return{token:"triplesnode",kind:"blanknodepropertylist",triplesContext:a.triplesContext.concat(c),chainSubject:b}},{type:"other",description:"[88] BlankNodePropertyList"},function(a){I++;for(var b={token:"blank",
value:"_:"+I},c=[],d=0;d<a.pairs.length;d++){var e=a.pairs[d],f={};f.subject=b;f.predicate=e[0];null!=e[1].length&&(e[1]=e[1][0]);f.object=e[1];c.push(f)}return{token:"triplesnode",kind:"blanknodepropertylist",triplesContext:a.triplesContext.concat(c),chainSubject:b}},{type:"other",description:"[103] CollectionPath"},function(a){return a},{type:"other",description:"[89] Collection"},{type:"other",description:"[105] GraphNodePath"},function(a){return a[1]},{type:"other",description:"[90] GraphNode"},
{type:"other",description:"[91] VarOrTerm"},{type:"other",description:"[92] VarOrIRIref"},{type:"other",description:"[93] Var"},function(a){var b={token:"var"};b.value=a;return b},{type:"other",description:"[94] GraphTerm"},{type:"other",description:"[95] Expression"},{type:"other",description:"[96] ConditionalOrExpression"},"||",{type:"literal",value:"||",description:'"||"'},function(a,b){if(0===b.length)return a;for(var c={token:"expression",expressionType:"conditionalor"},d=[a],e=0;e<b.length;e++)d.push(b[e][3]);
c.operands=d;return c},{type:"other",description:"[97] ConditionalAndExpression"},"&&",{type:"literal",value:"&&",description:'"&&"'},function(a,b){if(0===b.length)return a;for(var c={token:"expression",expressionType:"conditionaland"},d=[a],e=0;e<b.length;e++)d.push(b[e][3]);c.operands=d;return c},{type:"other",description:"[98] ValueLogical"},{type:"other",description:"[99] RelationalExpression"},"=",{type:"literal",value:"=",description:'"="'},"!=",{type:"literal",value:"!=",description:'"!="'},
"<",{type:"literal",value:"<",description:'"<"'},">",{type:"literal",value:">",description:'">"'},"<=",{type:"literal",value:"<=",description:'"<="'},">=",{type:"literal",value:">=",description:'">="'},"I",{type:"literal",value:"I",description:'"I"'},"i",{type:"literal",value:"i",description:'"i"'},"N",{type:"literal",value:"N",description:'"N"'},"n",{type:"literal",value:"n",description:'"n"'},"O",{type:"literal",value:"O",description:'"O"'},"o",{type:"literal",value:"o",description:'"o"'},"T",{type:"literal",
value:"T",description:'"T"'},"t",{type:"literal",value:"t",description:'"t"'},function(a,b){if(0===b.length)return a;if("i"===b[0][1]||"I"===b[0][1]||"n"===b[0][1]||"N"===b[0][1]){var c={};if("i"===b[0][1]||"I"===b[0][1]){var d="=";c.expressionType="conditionalor"}else d="!=",c.expressionType="conditionaland";for(var e=[],f=0;f<b[0].length;f++)if("args"===b[0][f].token){e=b[0][f].value;break}c.token="expression";c.operands=[];for(f=0;f<e.length;f++){var g={token:"expression",expressionType:"relationalexpression"};
g.operator=d;g.op1=a;g.op2=e[f];c.operands.push(g)}}else c={expressionType:"relationalexpression"},c.operator=b[0][1],c.op1=a,c.op2=b[0][3],c.token="expression";return c},{type:"other",description:"[100] NumericExpression"},{type:"other",description:"[101] AdditiveExpression"},"-",{type:"literal",value:"-",description:'"-"'},function(a,b){if(0===b.length)return a;var c={token:"expression",expressionType:"additiveexpression"};c.summand=a;c.summands=[];for(var d=0;d<b.length;d++){var e=b[d],f={};if(4==
e.length&&"string"===typeof e[1])f.operator=e[1],f.expression=e[3];else{var e={},g=f[0],n=f[1][1],h=f[1][3],n=null;0>g.value?(f.operator="-",g.value=-g.value):f.operator="+";e.token="expression";e.expressionType="multiplicativeexpression";e.operator=g;e.factors=[{operator:n,expression:h}];f.expression=e}c.summands.push(f)}return c},{type:"other",description:"[102] MultiplicativeExpression"},function(a,b){if(0===b.length)return a;var c={token:"expression",expressionType:"multiplicativeexpression"};
c.factor=a;c.factors=[];for(var d=0;d<b.length;d++){var e=b[d],f={};f.operator=e[1];f.expression=e[3];c.factors.push(f)}return c},{type:"other",description:"[103] UnaryExpression"},function(a){var b={token:"expression",expressionType:"unaryexpression",unaryexpression:"!"};b.expression=a;return b},function(a){var b={token:"expression",expressionType:"unaryexpression",unaryexpression:"+"};b.expression=a;return b},function(a){var b={token:"expression",expressionType:"unaryexpression",unaryexpression:"-"};
b.expression=a;return b},{type:"other",description:"[104] PrimaryExpression"},function(a){var b={token:"expression",expressionType:"atomic",primaryexpression:"rdfliteral"};b.value=a;return b},function(a){var b={token:"expression",expressionType:"atomic",primaryexpression:"numericliteral"};b.value=a;return b},function(a){var b={token:"expression",expressionType:"atomic",primaryexpression:"booleanliteral"};b.value=a;return b},function(a){var b={token:"expression",expressionType:"atomic",primaryexpression:"var"};
b.value=a;return b},{type:"other",description:"[105] BrackettedExpression"},function(a){return a},{type:"other",description:"[106] BuiltInCall"},"STR",{type:"literal",value:"STR",description:'"STR"'},"str",{type:"literal",value:"str",description:'"str"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"str"};b.args=[a];return b},"LANG",{type:"literal",value:"LANG",description:'"LANG"'},"lang",{type:"literal",value:"lang",description:'"lang"'},function(a){var b={token:"expression",
expressionType:"builtincall",builtincall:"lang"};b.args=[a];return b},"LANGMATCHES",{type:"literal",value:"LANGMATCHES",description:'"LANGMATCHES"'},"langmatches",{type:"literal",value:"langmatches",description:'"langmatches"'},function(a,b){var c={token:"expression",expressionType:"builtincall",builtincall:"langmatches"};c.args=[a,b];return c},"DATATYPE",{type:"literal",value:"DATATYPE",description:'"DATATYPE"'},"datatype",{type:"literal",value:"datatype",description:'"datatype"'},function(a){var b=
{token:"expression",expressionType:"builtincall",builtincall:"datatype"};b.args=[a];return b},"BOUND",{type:"literal",value:"BOUND",description:'"BOUND"'},"bound",{type:"literal",value:"bound",description:'"bound"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"bound"};b.args=[a];return b},"IRI",{type:"literal",value:"IRI",description:'"IRI"'},"iri",{type:"literal",value:"iri",description:'"iri"'},function(a){var b={token:"expression",expressionType:"builtincall",
builtincall:"iri"};b.args=[a];return b},"URI",{type:"literal",value:"URI",description:'"URI"'},"uri",{type:"literal",value:"uri",description:'"uri"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"uri"};b.args=[a];return b},"BNODE",{type:"literal",value:"BNODE",description:'"BNODE"'},"bnode",{type:"literal",value:"bnode",description:'"bnode"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"bnode"};b.args=5===a.length?[a[2]]:null;return b},
"COALESCE",{type:"literal",value:"COALESCE",description:'"COALESCE"'},"coalesce",{type:"literal",value:"coalesce",description:'"coalesce"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"coalesce"};b.args=a;return b},"IF",{type:"literal",value:"IF",description:'"IF"'},"if",{type:"literal",value:"if",description:'"if"'},function(a,b,c){var d={token:"expression",expressionType:"builtincall",builtincall:"if"};d.args=[a,b,c];return d},"ISLITERAL",{type:"literal",value:"ISLITERAL",
description:'"ISLITERAL"'},"isliteral",{type:"literal",value:"isliteral",description:'"isliteral"'},"isLITERAL",{type:"literal",value:"isLITERAL",description:'"isLITERAL"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"isliteral"};b.args=[a];return b},"ISBLANK",{type:"literal",value:"ISBLANK",description:'"ISBLANK"'},"isblank",{type:"literal",value:"isblank",description:'"isblank"'},"isBLANK",{type:"literal",value:"isBLANK",description:'"isBLANK"'},function(a){var b=
{token:"expression",expressionType:"builtincall",builtincall:"isblank"};b.args=[a];return b},"SAMETERM",{type:"literal",value:"SAMETERM",description:'"SAMETERM"'},"sameterm",{type:"literal",value:"sameterm",description:'"sameterm"'},function(a,b){var c={token:"expression",expressionType:"builtincall",builtincall:"sameterm"};c.args=[a,b];return c},"ISURI",{type:"literal",value:"ISURI",description:'"ISURI"'},"isuri",{type:"literal",value:"isuri",description:'"isuri"'},"isURI",{type:"literal",value:"isURI",
description:'"isURI"'},"ISIRI",{type:"literal",value:"ISIRI",description:'"ISIRI"'},"isiri",{type:"literal",value:"isiri",description:'"isiri"'},"isIRI",{type:"literal",value:"isIRI",description:'"isIRI"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"isuri"};b.args=[a];return b},"custom:",{type:"literal",value:"custom:",description:'"custom:"'},"CUSTOM:",{type:"literal",value:"CUSTOM:",description:'"CUSTOM:"'},/^[a-zA-Z0-9_]/,{type:"class",value:"[a-zA-Z0-9_]",description:"[a-zA-Z0-9_]"},
function(a,b,c){var d={token:"expression",expressionType:"custom"};d.name=a.join("");a=[];for(var e=0;e<b.length;e++)a.push(b[e][1]);a.push(c);d.args=a;return d},{type:"other",description:"[107] RegexExpression"},"REGEX",{type:"literal",value:"REGEX",description:'"REGEX"'},"regex",{type:"literal",value:"regex",description:'"regex"'},function(a,b,c){var d={token:"expression",expressionType:"regex"};d.text=a;d.pattern=b;d.flags=c[2];return d},{type:"other",description:"[108] ExistsFunc"},"EXISTS",{type:"literal",
value:"EXISTS",description:'"EXISTS"'},"exists",{type:"literal",value:"exists",description:'"exists"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"exists"};b.args=[a];return b},{type:"other",description:"[109] NotExistsFunc"},"NOT",{type:"literal",value:"NOT",description:'"NOT"'},"not",{type:"literal",value:"not",description:'"not"'},function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"notexists"};b.args=[a];return b},{type:"other",description:"[110] Aggregate"},
"COUNT",{type:"literal",value:"COUNT",description:'"COUNT"'},"count",{type:"literal",value:"count",description:'"count"'},function(a,b){var c={token:"expression",expressionType:"aggregate",aggregateType:"count"};c.distinct=""!=a?"DISTINCT":a;c.expression=b;return c},"GROUP_CONCAT",{type:"literal",value:"GROUP_CONCAT",description:'"GROUP_CONCAT"'},"group_concat",{type:"literal",value:"group_concat",description:'"group_concat"'},"SEPARATOR",{type:"literal",value:"SEPARATOR",description:'"SEPARATOR"'},
function(a,b,c){var d={token:"expression",expressionType:"aggregate",aggregateType:"group_concat"};d.distinct=""!=a?"DISTINCT":a;d.expression=b;d.separator=c;return d},"SUM",{type:"literal",value:"SUM",description:'"SUM"'},"sum",{type:"literal",value:"sum",description:'"sum"'},function(a,b){var c={token:"expression",expressionType:"aggregate",aggregateType:"sum"};c.distinct=""!=a?"DISTINCT":a;c.expression=b;return c},"MIN",{type:"literal",value:"MIN",description:'"MIN"'},"min",{type:"literal",value:"min",
description:'"min"'},function(a,b){var c={token:"expression",expressionType:"aggregate",aggregateType:"min"};c.distinct=""!=a?"DISTINCT":a;c.expression=b;return c},"MAX",{type:"literal",value:"MAX",description:'"MAX"'},"max",{type:"literal",value:"max",description:'"max"'},function(a,b){var c={token:"expression",expressionType:"aggregate",aggregateType:"max"};c.distinct=""!=a?"DISTINCT":a;c.expression=b;return c},"AVG",{type:"literal",value:"AVG",description:'"AVG"'},"avg",{type:"literal",value:"avg",
description:'"avg"'},function(a,b){var c={token:"expression",expressionType:"aggregate",aggregateType:"avg"};c.distinct=""!=a?"DISTINCT":a;c.expression=b;return c},{type:"other",description:"[117] IRIrefOrFunction"},function(a,b){var c={token:"expression",expressionType:"irireforfunction"};c.iriref=a;c.args=b.value;return c},{type:"other",description:"[112] RDFLiteral"},"^^",{type:"literal",value:"^^",description:'"^^"'},function(a,b){return"string"===typeof b&&0<b.length?{token:"literal",value:a.value,
lang:b.slice(1),type:null}:null!=b&&"object"===typeof b?(b.shift(),{token:"literal",value:a.value,lang:null,type:b[0]}):{token:"literal",value:a.value,lang:null,type:null}},{type:"other",description:"[113] NumericLiteral"},{type:"other",description:"[114] NumericLiteralUnsigned"},{type:"other",description:"[115] NumericLiteralPositive"},{type:"other",description:"[116] NumericLiteralNegative"},{type:"other",description:"[117] BooleanLiteral"},"TRUE",{type:"literal",value:"TRUE",description:'"TRUE"'},
"true",{type:"literal",value:"true",description:'"true"'},function(){return{token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#boolean",value:!0}},"FALSE",{type:"literal",value:"FALSE",description:'"FALSE"'},"false",{type:"literal",value:"false",description:'"false"'},function(){return{token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#boolean",value:!1}},{type:"other",description:"[118] String"},function(a){return{token:"string",value:a}},{type:"other",description:"[119] IRIref"},
function(a){return{token:"uri",prefix:null,suffix:null,value:a}},function(a){return a},{type:"other",description:"[120] PrefixedName"},function(a){return{token:"uri",prefix:a[0],suffix:a[1],value:null}},function(a){return{token:"uri",prefix:a,suffix:"",value:null}},{type:"other",description:"[121] BlankNode"},function(a){return{token:"blank",value:a}},function(){I++;return{token:"blank",value:"_:"+I}},{type:"other",description:"[122] IRI_REF"},/^[^<>"{}|\^`\\]/,{type:"class",value:'[^<>\\"\\{\\}|^`\\\\]',
description:'[^<>\\"\\{\\}|^`\\\\]'},function(a){return a.join("")},{type:"other",description:"[123] PNAME_NS"},":",{type:"literal",value:":",description:'":"'},{type:"other",description:"[124] PNAME_LN"},function(a,b){return[a,b]},{type:"other",description:"[125] BLANK_NODE_LABEL"},"_:",{type:"literal",value:"_:",description:'"_:"'},function(a){return a},{type:"other",description:"[126] VAR1"},function(a){return a},{type:"other",description:"[127] VAR2"},"$",{type:"literal",value:"$",description:'"$"'},
{type:"other",description:"[128] LANGTAG"},"@",{type:"literal",value:"@",description:'"@"'},/^[a-zA-Z]/,{type:"class",value:"[a-zA-Z]",description:"[a-zA-Z]"},/^[a-zA-Z0-9]/,{type:"class",value:"[a-zA-Z0-9]",description:"[a-zA-Z0-9]"},function(a,b){return 0===b.length?("@"+a.join("")).toLowerCase():("@"+a.join("")+"-"+b[0][1].join("")).toLowerCase()},{type:"other",description:"[129] INTEGER"},/^[0-9]/,{type:"class",value:"[0-9]",description:"[0-9]"},function(a){var b={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#integer"};
b.value=D(a);return b},{type:"other",description:"[130] DECIMAL"},function(a,b,c){var d={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#decimal"};d.value=D([a,b,c]);return d},function(a,b){var c={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#decimal"};c.value=D([a,b]);return c},{type:"other",description:"[131] DOUBLE"},function(a,b,c,d){var e={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};e.value=D([a,b,c,d]);return e},function(a,b,
c){var d={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};d.value=D([a,b,c]);return d},function(a,b){var c={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};c.value=D([a,b]);return c},{type:"other",description:"[132] INTEGER_POSITIVE"},function(a){a.value="+"+a.value;return a},{type:"other",description:"[133] DECIMAL_POSITIVE"},function(a){a.value="+"+a.value;return a},{type:"other",description:"[134] DOUBLE_POSITIVE"},{type:"other",description:"[135] INTEGER_NEGATIVE"},
function(a){a.value="-"+a.value;return a},{type:"other",description:"[136] DECIMAL_NEGATIVE"},{type:"other",description:"[137] DOUBLE_NEGATIVE"},{type:"other",description:"[138] EXPONENT"},/^[eE]/,{type:"class",value:"[eE]",description:"[eE]"},/^[+\-]/,{type:"class",value:"[+-]",description:"[+-]"},function(a,b,c){return D([a,b,c])},{type:"other",description:"[139] STRING_LITERAL1"},"'",{type:"literal",value:"'",description:'"\'"'},/^[^'\\\n\r]/,{type:"class",value:"[^\\u0027\\u005C\\u000A\\u000D]",
description:"[^\\u0027\\u005C\\u000A\\u000D]"},function(a){return D(a)},{type:"other",description:"[140] STRING_LITERAL2"},'"',{type:"literal",value:'"',description:'"\\""'},/^[^"\\\n\r]/,{type:"class",value:"[^\\u0022\\u005C\\u000A\\u000D]",description:"[^\\u0022\\u005C\\u000A\\u000D]"},{type:"other",description:"[141] STRING_LITERAL_LONG1"},"'''",{type:"literal",value:"'''",description:"\"'''\""},/^[^'\\]/,{type:"class",value:"[^\\'\\\\]",description:"[^\\'\\\\]"},{type:"other",description:"[142] STRING_LITERAL_LONG2"},
'"""',{type:"literal",value:'"""',description:'"\\"\\"\\""'},/^[^"\\]/,{type:"class",value:'[^\\"\\\\]',description:'[^\\"\\\\]'},{type:"other",description:"[143] ECHAR"},"\\",{type:"literal",value:"\\",description:'"\\\\"'},/^[tbnrf"']/,{type:"class",value:"[tbnrf\\\"\\']",description:"[tbnrf\\\"\\']"},{type:"other",description:"[144] NIL"},function(){return{token:"triplesnodecollection",triplesContext:[],chainSubject:[{token:"uri",value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}]}},{type:"other",
description:"[145] WS"},/^[ ]/,{type:"class",value:"[\\u0020]",description:"[\\u0020]"},/^[\t]/,{type:"class",value:"[\\u0009]",description:"[\\u0009]"},/^[\r]/,{type:"class",value:"[\\u000D]",description:"[\\u000D]"},/^[\n]/,{type:"class",value:"[\\u000A]",description:"[\\u000A]"},{type:"other",description:" COMMENT"},"#",{type:"literal",value:"#",description:'"#"'},/^[^\n\r]/,{type:"class",value:"[^\\u000A\\u000D]",description:"[^\\u000A\\u000D]"},{type:"other",description:"[146] ANON"},{type:"other",
description:"[147] PN_CHARS_BASE"},/^[A-Z]/,{type:"class",value:"[A-Z]",description:"[A-Z]"},/^[a-z]/,{type:"class",value:"[a-z]",description:"[a-z]"},/^[\xC0-\xD6]/,{type:"class",value:"[\\u00C0-\\u00D6]",description:"[\\u00C0-\\u00D6]"},/^[\xD8-\xF6]/,{type:"class",value:"[\\u00D8-\\u00F6]",description:"[\\u00D8-\\u00F6]"},/^[\xF8-\u02FF]/,{type:"class",value:"[\\u00F8-\\u02FF]",description:"[\\u00F8-\\u02FF]"},/^[\u0370-\u037D]/,{type:"class",value:"[\\u0370-\\u037D]",description:"[\\u0370-\\u037D]"},
/^[\u037F-\u1FFF]/,{type:"class",value:"[\\u037F-\\u1FFF]",description:"[\\u037F-\\u1FFF]"},/^[\u200C-\u200D]/,{type:"class",value:"[\\u200C-\\u200D]",description:"[\\u200C-\\u200D]"},/^[\u2070-\u218F]/,{type:"class",value:"[\\u2070-\\u218F]",description:"[\\u2070-\\u218F]"},/^[\u2C00-\u2FEF]/,{type:"class",value:"[\\u2C00-\\u2FEF]",description:"[\\u2C00-\\u2FEF]"},/^[\u3001-\uD7FF]/,{type:"class",value:"[\\u3001-\\uD7FF]",description:"[\\u3001-\\uD7FF]"},/^[\uF900-\uFDCF]/,{type:"class",value:"[\\uF900-\\uFDCF]",
description:"[\\uF900-\\uFDCF]"},/^[\uFDF0-\uFFFD]/,{type:"class",value:"[\\uFDF0-\\uFFFD]",description:"[\\uFDF0-\\uFFFD]"},/^[\u1000-\uEFFF]/,{type:"class",value:"[\\u1000-\\uEFFF]",description:"[\\u1000-\\uEFFF]"},{type:"other",description:"[148] PN_CHARS_U"},"_",{type:"literal",value:"_",description:'"_"'},{type:"other",description:"[149] VARNAME"},/^[\xB7]/,{type:"class",value:"[\\u00B7]",description:"[\\u00B7]"},/^[\u0300-\u036F]/,{type:"class",value:"[\\u0300-\\u036F]",description:"[\\u0300-\\u036F]"},
/^[\u203F-\u2040]/,{type:"class",value:"[\\u203F-\\u2040]",description:"[\\u203F-\\u2040]"},function(a,b){return a+b.join("")},{type:"other",description:"[150] PN_CHARS"},{type:"other",description:"[151] PN_PREFIX"},function(a,b){if("."==b[b.length-1])throw Error("Wrong PN_PREFIX, cannot finish with '.'");return a+b.join("")},{type:"other",description:"[152] PN_LOCAL"},function(a,b){return a+(b||[]).join("")},{type:"other",description:"[170] PLX"},{type:"other",description:"[171] PERCENT"},"%",{type:"literal",
value:"%",description:'"%"'},function(a){return a.join("")},{type:"other",description:"[172] HEX"},/^[A-F]/,{type:"class",value:"[A-F]",description:"[A-F]"},/^[a-f]/,{type:"class",value:"[a-f]",description:"[a-f]"},{type:"other",description:"[173] PN_LOCAL_ESC"},"~",{type:"literal",value:"~",description:'"~"'},"&",{type:"literal",value:"&",description:'"&"'},function(a){return"\\"+a}],n=[c(";!"),c(';".# &;?'),c('<;#=." 7 '),c("<%;$/N#;'./ &;*.) &;+.# &;,/3$;>/*$8#:\"##\"! )(#'#(\"'#&'#=.\" 7!"),c('<%;%." &"/I#$;\u00c00#*;\u00c0&/9$$;&0#*;&&/)$8#:$#"" )(#\'#("\'#&\'#=." 7#'),
c('<%$;\u00c00#*;\u00c0&/\\#2&""6&7\'.) &2(""6(7)/A$$;\u00c00#*;\u00c0&/1$;\u00a9/($8$:*$! )($\'#(#\'#("\'#&\'#=." 7%'),c('<%$;\u00c00#*;\u00c0&/v#2,""6,7-.) &2.""6.7//[$$;\u00c00#*;\u00c0&/K$;\u00aa/B$$;\u00c00#*;\u00c0&/2$;\u00a9/)$8&:0&"" )(&\'#(%\'#($\'#(#\'#("\'#&\'#=." 7+'),c("<%;)/\u0096#$;\u00c00#*;\u00c0&/\u0086$$;-0#*;-&/v$$;\u00c00#*;\u00c0&/f$;1/]$$;\u00c00#*;\u00c0&/M$;2/D$$;\u00c00#*;\u00c0&/4$;</+$8):2)$(&$\")()'#(('#(''#(&'#(%'#($'#(#'#(\"'#&'#=.\" 71"),c("<%;)/<#;1/3$;2/*$8#:4##\"! )(#'#(\"'#&'#=.\" 73"),
c('<%$;\u00c00#*;\u00c0&/\u02a0#26""6677.) &28""6879/\u0285$$;\u00c00#*;\u00c0&/\u0275$2:""6:7;.) &2<""6<7=.5 &2>""6>7?.) &2@""6@7A." &"/\u023d$$;\u00c00#*;\u00c0&/\u022d$$%$;\u00c00#*;\u00c0&/<#;\u008c/3$$;\u00c00#*;\u00c0&/#$+#)(#\'#("\'#&\'#.\u00cf &%$;\u00c00#*;\u00c0&/\u00be#2B""6B7C/\u00af$$;\u00c00#*;\u00c0&/\u009f$;\u008e/\u0096$$;\u00c00#*;\u00c0&/\u0086$2D""6D7E.) &2F""6F7G/k$$;\u00c00#*;\u00c0&/[$;\u008c/R$$;\u00c00#*;\u00c0&/B$2H""6H7I/3$$;\u00c00#*;\u00c0&/#$++)(+\'#(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#/\u0102#0\u00ff*%$;\u00c00#*;\u00c0&/<#;\u008c/3$$;\u00c00#*;\u00c0&/#$+#)(#\'#("\'#&\'#.\u00cf &%$;\u00c00#*;\u00c0&/\u00be#2B""6B7C/\u00af$$;\u00c00#*;\u00c0&/\u009f$;\u008e/\u0096$$;\u00c00#*;\u00c0&/\u0086$2D""6D7E.) &2F""6F7G/k$$;\u00c00#*;\u00c0&/[$;\u008c/R$$;\u00c00#*;\u00c0&/B$2H""6H7I/3$$;\u00c00#*;\u00c0&/#$++)(+\'#(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#&&&#.S &%$;\u00c00#*;\u00c0&/B#2J""6J7K/3$$;\u00c00#*;\u00c0&/#$+#)(#\'#("\'#&\'#/)$8&:L&"" )(&\'#(%\'#($\'#(#\'#("\'#&\'#=." 75'),
c("<%$;\u00c00#*;\u00c0&/\u00b1#2N\"\"6N7O.) &2P\"\"6P7Q/\u0096$$;\u00c00#*;\u00c0&/\u0086$;h/}$$;\u00c00#*;\u00c0&/m$$;-0#*;-&/]$$;\u00c00#*;\u00c0&/M$;1/D$$;\u00c00#*;\u00c0&/4$;2/+$8*:R*$&$\" )(*'#()'#(('#(''#(&'#(%'#($'#(#'#(\"'#&'#.\u0116 &%$;\u00c00#*;\u00c0&/\u0105#2N\"\"6N7O.) &2P\"\"6P7Q/\u00ea$$;\u00c00#*;\u00c0&/\u00da$$;-0#*;-&/\u00ca$$;\u00c00#*;\u00c0&/\u00ba$2S\"\"6S7T.) &2U\"\"6U7V/\u009f$$;\u00c00#*;\u00c0&/\u008f$2W\"\"6W7X/\u0080$$;\u00c00#*;\u00c0&/p$;S.\" &\"/b$$;\u00c00#*;\u00c0&/R$2Y\"\"6Y7Z/C$$;\u00c00#*;\u00c0&/3$;2/*$8.:[.#*$ )(.'#(-'#(,'#(+'#(*'#()'#(('#(''#(&'#(%'#($'#(#'#(\"'#&'#=.\" 7M"),
c('<%2]""6]7^/l#$;\u008b/&#0#*;\u008b&&&#.) &2J""6J7K/J$$;-0#*;-&/:$;1." &"/,$;2/#$+%)(%\'#($\'#(#\'#("\'#&\'#=." 7\\'),c('<%$;\u00c00#*;\u00c0&/}#2`""6`7a.) &2b""6b7c/b$$;\u00c00#*;\u00c0&/R$$;-0#*;-&/B$$;\u00c00#*;\u00c0&/2$;1/)$8&:d&"" )(&\'#(%\'#($\'#(#\'#("\'#&\'#=." 7_'),c('<%2f""6f7g.) &2h""6h7i/W#$;\u00c00#*;\u00c0&/G$;..# &;//8$$;\u00c00#*;\u00c0&/($8$:j$!!)($\'#(#\'#("\'#&\'#=." 7e'),c('<%$;\u00c00#*;\u00c0&/1#;0/($8":l"! )("\'#&\'#=." 7k'),c('<%2n""6n7o.) &2p""6p7q/A#$;\u00c00#*;\u00c0&/1$;0/($8#:r#! )(#\'#("\'#&\'#=." 7m'),
c('<;\u00a6=." 7s'),c('<%2S""6S7T.) &2U""6U7V." &"/Q#$;\u00c00#*;\u00c0&/A$;T/8$$;\u00c00#*;\u00c0&/($8$:u$!!)($\'#(#\'#("\'#&\'#=." 7t'),c('<%;3." &"/T#;5." &"/F$;7." &"/8$;9." &"/*$8$:w$##! )($\'#(#\'#("\'#&\'#=." 7v'),c('<%2y""6y7z.) &2{""6{7|/y#$;\u00c00#*;\u00c0&/i$2}""6}7~.) &2\u007f""6\u007f7\u0080/N$$;\u00c00#*;\u00c0&/>$$;4/&#0#*;4&&&#/($8%:\u0081%! )(%\'#($\'#(#\'#("\'#&\'#=." 7x'),c("<%$;\u00c00#*;\u00c0&/A#;\u0099/8$$;\u00c00#*;\u00c0&/($8#:\u0083#!!)(#'#(\"'#&'#.\u014e &%$;\u00c00#*;\u00c0&/A#;e/8$$;\u00c00#*;\u00c0&/($8#:\u0084#!!)(#'#(\"'#&'#.\u0119 &%$;\u00c00#*;\u00c0&/\u00d3#2B\"\"6B7C/\u00c4$$;\u00c00#*;\u00c0&/\u00b4$;\u008e/\u00ab$$;\u00c00#*;\u00c0&/\u009b$%2D\"\"6D7E.) &2F\"\"6F7G/<#$;\u00c00#*;\u00c0&/,$;\u008c/#$+#)(#'#(\"'#&'#.\" &\"/X$$;\u00c00#*;\u00c0&/H$2H\"\"6H7I/9$$;\u00c00#*;\u00c0&/)$8):\u0085)\"%#)()'#(('#(''#(&'#(%'#($'#(#'#(\"'#&'#.R &%$;\u00c00#*;\u00c0&/A#;\u008c/8$$;\u00c00#*;\u00c0&/($8#:\u0086#!!)(#'#(\"'#&'#=.\" 7\u0082"),
c('<%2\u0088""6\u00887\u0089/9#$;6/&#0#*;6&&&#/#$+")("\'#&\'#=." 7\u0087'),c('<;_=." 7\u008a'),c('<%2\u008c""6\u008c7\u008d.) &2\u008e""6\u008e7\u008f/\u0089#$;\u00c00#*;\u00c0&/y$2}""6}7~.) &2\u007f""6\u007f7\u0080/^$$;\u00c00#*;\u00c0&/N$$;8/&#0#*;8&&&#/8$$;\u00c00#*;\u00c0&/($8&:\u0090&!!)(&\'#(%\'#($\'#(#\'#("\'#&\'#=." 7\u008b'),c('<%2\u0092""6\u00927\u0093.A &2\u0094""6\u00947\u0095.5 &2\u0096""6\u00967\u0097.) &2\u0098""6\u00987\u0099/R#$;\u00c00#*;\u00c0&/B$;\u0098/9$$;\u00c00#*;\u00c0&/)$8$:\u009a$"#!)($\'#(#\'#("\'#&\'#.H &%;_.# &;\u008c/8#$;\u00c00#*;\u00c0&/($8":\u009b"!!)("\'#&\'#=." 7\u0091'),
c('<%%;:/1#;;." &"/#$+")("\'#&\'#.; &%;;/1#;:." &"/#$+")("\'#&\'#/\' 8!:\u009d!! )=." 7\u009c'),c('<%2\u009f""6\u009f7\u00a0.) &2\u00a1""6\u00a17\u00a2/Q#$;\u00c00#*;\u00c0&/A$;\u00b0/8$$;\u00c00#*;\u00c0&/($8$:\u00a3$!!)($\'#(#\'#("\'#&\'#=." 7\u009e'),c('<%2\u00a5""6\u00a57\u00a6.) &2\u00a7""6\u00a77\u00a8/Q#$;\u00c00#*;\u00c0&/A$;\u00b0/8$$;\u00c00#*;\u00c0&/($8$:\u00a9$!!)($\'#(#\'#("\'#&\'#=." 7\u00a4'),c('<%2\u00ab""6\u00ab7\u00ac/\u00d7#$;\u008c0#*;\u008c&/\u00c7$2W""6W7X/\u00b8$$%2B""6B7C/H#$;=/&#0#*;=&&&#/2$2H""6H7I/#$+#)(#\'#("\'#&\'#.# &;\u00bf0^*%2B""6B7C/H#$;=/&#0#*;=&&&#/2$2H""6H7I/#$+#)(#\'#("\'#&\'#.# &;\u00bf&/2$2Y""6Y7Z/#$+%)(%\'#($\'#(#\'#("\'#&\'#." &"=." 7\u00aa'),
c('<;\u00a6.; &;\u009f.5 &;\u00a0./ &;\u00a4.) &2\u00ae""6\u00ae7\u00af=." 7\u00ad'),c('<%%2\u00b1""6\u00b17\u00b2.) &2\u00b3""6\u00b37\u00b4/,#;a/#$+")("\'#&\'#." &"/\' 8!:\u00b5!! )=." 7\u00b0'),c('<;@=." 7\u00b6'),c('<%;$/\u008f#$;\u00c00#*;\u00c0&/\u007f$;A/v$%$;\u00c00#*;\u00c0&/P#2\u00b8""6\u00b87\u00b9/A$$;\u00c00#*;\u00c0&/1$;@." &"/#$+$)($\'#(#\'#("\'#&\'#." &"/*$8$:\u00ba$##! )($\'#(#\'#("\'#&\'#=." 7\u00b7'),c('<;B.G &;C.A &;D.; &;E.5 &;F./ &;G.) &;H.# &;I=." 7\u00bb'),c('<%2\u00bd""6\u00bd7\u00be.) &2\u00bf""6\u00bf7\u00c0/\u0095#$;\u00c00#*;\u00c0&/\u0085$;\u00a6/|$$;\u00c00#*;\u00c0&/l$%2\u00c1""6\u00c17\u00c2.) &2\u00c3""6\u00c37\u00c4/<#$;\u00c00#*;\u00c0&/,$;M/#$+#)(#\'#("\'#&\'#." &"/)$8%:\u00c5%"" )(%\'#($\'#(#\'#("\'#&\'#=." 7\u00bc'),
c('<%2\u00c7""6\u00c77\u00c8.) &2\u00c9""6\u00c97\u00ca/q#$;\u00c00#*;\u00c0&/a$2\u00cb""6\u00cb7\u00cc.) &2\u00cd""6\u00cd7\u00ce." &"/A$$;\u00c00#*;\u00c0&/1$;N/($8%:\u00cf%! )(%\'#($\'#(#\'#("\'#&\'#=." 7\u00c6'),c('<%2\u00d1""6\u00d17\u00d2.) &2\u00d3""6\u00d37\u00d4/q#$;\u00c00#*;\u00c0&/a$2\u00cb""6\u00cb7\u00cc.) &2\u00cd""6\u00cd7\u00ce." &"/A$$;\u00c00#*;\u00c0&/1$;N/($8%:\u00d5%! )(%\'#($\'#(#\'#("\'#&\'#=." 7\u00d0'),c('<%2\u00d7""6\u00d77\u00d8.) &2\u00d9""6\u00d97\u00da/q#$;\u00c00#*;\u00c0&/a$2\u00cb""6\u00cb7\u00cc.) &2\u00cd""6\u00cd7\u00ce." &"/A$$;\u00c00#*;\u00c0&/1$;M/($8%:\u00db%! )(%\'#($\'#(#\'#("\'#&\'#=." 7\u00d6'),
c('<%2\u00dd""6\u00dd7\u00de.) &2\u00df""6\u00df7\u00e0/l#$;\u00c00#*;\u00c0&/\\$2\u00e1""6\u00e17\u00e2.) &2\u00e3""6\u00e37\u00e4/A$$;\u00c00#*;\u00c0&/1$;P/($8%:\u00e5%! )(%\'#($\'#(#\'#("\'#&\'#=." 7\u00dc'),c('<%2\u00e7""6\u00e77\u00e8.) &2\u00e9""6\u00e97\u00ea/\\#$;\u00c00#*;\u00c0&/L$2\u00e1""6\u00e17\u00e2.) &2\u00e3""6\u00e37\u00e4/1$;P/($8$:\u00eb$! )($\'#(#\'#("\'#&\'#=." 7\u00e6'),c('<%2\u00e7""6\u00e77\u00e8.) &2\u00e9""6\u00e97\u00ea/l#$;\u00c00#*;\u00c0&/\\$2S""6S7T.) &2U""6U7V/A$$;\u00c00#*;\u00c0&/1$;T/($8%:\u00ed%! )(%\'#($\'#(#\'#("\'#&\'#=." 7\u00ec'),
c("<%%2\u00ef\"\"6\u00ef7\u00f0.) &2\u00f1\"\"6\u00f17\u00f2/<#$;\u00c00#*;\u00c0&/,$;\u00a6/#$+#)(#'#(\"'#&'#.\" &\"/\u00e6#$;\u00c00#*;\u00c0&/\u00d6$%;J/A#$;\u00c00#*;\u00c0&/1$;K.\" &\"/#$+#)(#'#(\"'#&'#.# &;K/\u009f$$;\u00c00#*;\u00c0&/\u008f$$;L0#*;L&/\u007f$$;\u00c00#*;\u00c0&/o$2S\"\"6S7T.) &2U\"\"6U7V/T$$;\u00c00#*;\u00c0&/D$;T/;$$;\u00c00#*;\u00c0&/+$8*:\u00f3*$)'%!)(*'#()'#(('#(''#(&'#(%'#($'#(#'#(\"'#&'#=.\" 7\u00ee"),c('<%2\u00e7""6\u00e77\u00e8.) &2\u00e9""6\u00e97\u00ea/1#;O/($8":\u00f5"! )("\'#&\'#=." 7\u00f4'),
c('<%2\u00dd""6\u00dd7\u00de.) &2\u00df""6\u00df7\u00e0/1#;O/($8":\u00f5"! )("\'#&\'#=." 7\u00f6'),c('<%$;\u00c00#*;\u00c0&/\u0097#2\u00f8""6\u00f87\u00f9.) &2\u00fa""6\u00fa7\u00fb/|$$;\u00c00#*;\u00c0&/l$;\u00a6.X &%2n""6n7o.) &2p""6p7q/<#$;\u00c00#*;\u00c0&/,$;\u00a6/#$+#)(#\'#("\'#&\'#/($8$:\u00fc$! )($\'#(#\'#("\'#&\'#=." 7\u00f7'),c('<%2\u00fe""6\u00fe7\u00ff.) &2\u0100""6\u01007\u0101/A#$;\u00c00#*;\u00c0&/1$;\u00a6/($8#:\u0102#! )(#\'#("\'#&\'#=." 7\u00fd'),c('<%;M/\' 8!:u!! ).\u0086 &%2\u0104""6\u01047\u0105.) &2\u0106""6\u01067\u0107/& 8!:\u0108! ).c &%2n""6n7o.) &2p""6p7q/& 8!:\u0109! ).@ &%2\u010a""6\u010a7\u010b.) &2\u010c""6\u010c7\u010d/& 8!:\u010e! )=." 7\u0103'),
c("<%$;\u00c00#*;\u00c0&/\u007f#2W\"\"6W7X/p$$;\u00c00#*;\u00c0&/`$;Q/W$$;\u00c00#*;\u00c0&/G$2Y\"\"6Y7Z/8$$;\u00c00#*;\u00c0&/($8':\u0110'!#)(''#(&'#(%'#($'#(#'#(\"'#&'#=.\" 7\u010f"),c("<%$;\u00c00#*;\u00c0&/\u007f#2W\"\"6W7X/p$$;\u00c00#*;\u00c0&/`$;Q/W$$;\u00c00#*;\u00c0&/G$2Y\"\"6Y7Z/8$$;\u00c00#*;\u00c0&/($8':\u0110'!#)(''#(&'#(%'#($'#(#'#(\"'#&'#=.\" 7\u0111"),c('<%;S." &"/\u0091#$%;R/E#2\u0113""6\u01137\u0114." &"/1$;S." &"/#$+#)(#\'#("\'#&\'#0O*%;R/E#2\u0113""6\u01137\u0114." &"/1$;S." &"/#$+#)(#\'#("\'#&\'#&/)$8":\u0115""! )("\'#&\'#=." 7\u0112'),
c("<%$;\u00c00#*;\u00c0&/\u00c9#2\u00fe\"\"6\u00fe7\u00ff.) &2\u0100\"\"6\u01007\u0101/\u00ae$$;\u00c00#*;\u00c0&/\u009e$;\u008b/\u0095$$;\u00c00#*;\u00c0&/\u0085$2W\"\"6W7X/v$$;\u00c00#*;\u00c0&/f$;S.\" &\"/X$$;\u00c00#*;\u00c0&/H$2Y\"\"6Y7Z/9$$;\u00c00#*;\u00c0&/)$8+:\u0117+\"'#)(+'#(*'#()'#(('#(''#(&'#(%'#($'#(#'#(\"'#&'#=.\" 7\u0116"),c('<%;j/u#%$;\u00c00#*;\u00c0&/P#2\u0113""6\u01137\u0114/A$$;\u00c00#*;\u00c0&/1$;S." &"/#$+$)($\'#(#\'#("\'#&\'#." &"/)$8":\u0119""! )("\'#&\'#=." 7\u0118'),c('<%2W""6W7X/`#$;\u00c00#*;\u00c0&/P$;(/G$$;\u00c00#*;\u00c0&/7$2Y""6Y7Z/($8%:\u011b%!")(%\'#($\'#(#\'#("\'#&\'#.p &%2W""6W7X/`#$;\u00c00#*;\u00c0&/P$;U/G$$;\u00c00#*;\u00c0&/7$2Y""6Y7Z/($8%:\u011b%!")(%\'#($\'#(#\'#("\'#&\'#=." 7\u011a'),
c('<%;V." &"/\u00e1#$;\u00c00#*;\u00c0&/\u00d1$$%;W/e#$;\u00c00#*;\u00c0&/U$2\u0113""6\u01137\u0114." &"/A$$;\u00c00#*;\u00c0&/1$;V." &"/#$+%)(%\'#($\'#(#\'#("\'#&\'#0o*%;W/e#$;\u00c00#*;\u00c0&/U$2\u0113""6\u01137\u0114." &"/A$$;\u00c00#*;\u00c0&/1$;V." &"/#$+%)(%\'#($\'#(#\'#("\'#&\'#&/)$8#:\u011d#"" )(#\'#("\'#&\'#=." 7\u011c'),c('<%;s/e#%$;\u00c00#*;\u00c0&/@#2\u0113""6\u01137\u0114/1$;V." &"/#$+#)(#\'#("\'#&\'#." &"/)$8":\u011f""! )("\'#&\'#=." 7\u011e'),c('<;\\.G &;X.A &;[.; &;Y.5 &;Z./ &;].) &;^.# &;`=." 7\u0120'),
c('<%$;\u00c00#*;\u00c0&/\\#2\u0122""6\u01227\u0123.) &2\u0124""6\u01247\u0125/A$$;\u00c00#*;\u00c0&/1$;T/($8$:\u0126$! )($\'#(#\'#("\'#&\'#=." 7\u0121'),c('<%$;\u00c00#*;\u00c0&/v#2\u00fe""6\u00fe7\u00ff.) &2\u0100""6\u01007\u0101/[$$;\u00c00#*;\u00c0&/K$;\u008b/B$$;\u00c00#*;\u00c0&/2$;T/)$8&:\u0128&"" )(&\'#(%\'#($\'#(#\'#("\'#&\'#=." 7\u0127'),c('<%2\u012a""6\u012a7\u012b/;#;\u008b/2$;T/)$8#:\u012c#"! )(#\'#("\'#&\'#=." 7\u0129'),c('<%2\u012e""6\u012e7\u012f.) &2\u0130""6\u01307\u0131/A#$;\u00c00#*;\u00c0&/1$;T/($8#:\u0132#! )(#\'#("\'#&\'#=." 7\u012d'),
c('<%;T/\u00c3#$%$;\u00c00#*;\u00c0&/W#2\u0134""6\u01347\u0135.) &2\u0136""6\u01367\u0137/<$$;\u00c00#*;\u00c0&/,$;T/#$+$)($\'#(#\'#("\'#&\'#0h*%$;\u00c00#*;\u00c0&/W#2\u0134""6\u01347\u0135.) &2\u0136""6\u01367\u0137/<$$;\u00c00#*;\u00c0&/,$;T/#$+$)($\'#(#\'#("\'#&\'#&/)$8":\u0138""! )("\'#&\'#=." 7\u0133'),c('<%$;\u00c00#*;\u00c0&/\\#2\u013a""6\u013a7\u013b.) &2\u013c""6\u013c7\u013d/A$$;\u00c00#*;\u00c0&/1$;_/($8$:\u013e$! )($\'#(#\'#("\'#&\'#=." 7\u0139'),c('<%$;\u00c00#*;\u00c0&/\u00df#2\u0140""6\u01407\u0141.) &2\u0142""6\u01427\u0143/\u00c4$$;\u00c00#*;\u00c0&/\u00b4$2B""6B7C/\u00a5$$;\u00c00#*;\u00c0&/\u0095$;\u008e/\u008c$$;\u00c00#*;\u00c0&/|$2F""6F7G.) &2D""6D7E/a$$;\u00c00#*;\u00c0&/Q$;\u008c/H$$;\u00c00#*;\u00c0&/8$2H""6H7I/)$8,:\u0144,"&")(,\'#(+\'#(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#=." 7\u013f'),
c('<;\u0098.) &;\u0099.# &;e=." 7\u0145'),c('<%$;\u00c00#*;\u00c0&/\\#2\u00b1""6\u00b17\u00b2.) &2\u00b3""6\u00b37\u00b4/A$$;\u00c00#*;\u00c0&/1$;a/($8$:\u0147$! )($\'#(#\'#("\'#&\'#=." 7\u0146'),c('<;b.# &;c=." 7\u0148'),c("<%$;\u00c00#*;\u00c0&/\u0080#;\u008c/w$$;\u00c00#*;\u00c0&/g$2W\"\"6W7X/X$$;\u00c00#*;\u00c0&/H$$;d0#*;d&/8$2Y\"\"6Y7Z/)$8':\u014a'\"%!)(''#(&'#(%'#($'#(#'#(\"'#&'#=.\" 7\u0149"),c("<%$;\u00c00#*;\u00c0&/\u01cf#;\u00bf.r &%2B\"\"6B7C/b#$;\u00c00#*;\u00c0&/R$$;\u008c0#*;\u008c&/B$$;\u00c00#*;\u00c0&/2$2H\"\"6H7I/#$+%)(%'#($'#(#'#(\"'#&'#/\u0171$$;\u00c00#*;\u00c0&/\u0161$2W\"\"6W7X/\u0152$$;\u00c00#*;\u00c0&/\u0142$$%$;\u00c00#*;\u00c0&/\u0081#2B\"\"6B7C/r$$;\u00c00#*;\u00c0&/b$$;d0#*;d&/R$$;\u00c00#*;\u00c0&/B$2H\"\"6H7I/3$$;\u00c00#*;\u00c0&/#$+')(''#(&'#(%'#($'#(#'#(\"'#&'#.# &;\u00bf0\u0098*%$;\u00c00#*;\u00c0&/\u0081#2B\"\"6B7C/r$$;\u00c00#*;\u00c0&/b$$;d0#*;d&/R$$;\u00c00#*;\u00c0&/B$2H\"\"6H7I/3$$;\u00c00#*;\u00c0&/#$+')(''#(&'#(%'#($'#(#'#(\"'#&'#.# &;\u00bf&/H$$;\u00c00#*;\u00c0&/8$2Y\"\"6Y7Z/)$8(:\u014c(\"&\")(('#(''#(&'#(%'#($'#(#'#(\"'#&'#=.\" 7\u014b"),
c('<%$;\u00c00#*;\u00c0&/_#;\u00a9.; &;\u009f.5 &;\u00a0./ &;\u00a4.) &2\u00ae""6\u00ae7\u00af/8$$;\u00c00#*;\u00c0&/($8#:\u0086#!!)(#\'#("\'#&\'#=." 7\u014d'),c('<%;\u00a6/2#;f/)$8":\u014f""! )("\'#&\'#=." 7\u014e'),c('<%;\u00bf/& 8!:\u0151! ).\u00b4 &%2B""6B7C/\u00a4#2:""6:7;.) &2<""6<7=." &"/\u0084$;\u008e/{$$%2\u0152""6\u01527\u0153/,#;\u008e/#$+")("\'#&\'#0<*%2\u0152""6\u01527\u0153/,#;\u008e/#$+")("\'#&\'#&/9$2H""6H7I/*$8%:\u0154%##"!)(%\'#($\'#(#\'#("\'#&\'#=." 7\u0150'),c('<%;\u00bf/& 8!:\u0151! ).\u00a5 &%2B""6B7C/\u0095#;\u00a6.# &;\u008e/\u0086$$%2\u0152""6\u01527\u0153/2#;\u00a6.# &;\u008e/#$+")("\'#&\'#0B*%2\u0152""6\u01527\u0153/2#;\u00a6.# &;\u008e/#$+")("\'#&\'#&/8$2H""6H7I/)$8$:\u0156$""!)($\'#(#\'#("\'#&\'#=." 7\u0155'),
c('<%2W""6W7X/e#$;\u00c00#*;\u00c0&/U$;i." &"/G$$;\u00c00#*;\u00c0&/7$2Y""6Y7Z/($8%:\u0158%!")(%\'#($\'#(#\'#("\'#&\'#=." 7\u0157'),c('<%;j/u#%$;\u00c00#*;\u00c0&/P#2\u0113""6\u01137\u0114/A$$;\u00c00#*;\u00c0&/1$;i." &"/#$+$)($\'#(#\'#("\'#&\'#." &"/)$8":\u015a""! )("\'#&\'#=." 7\u0159'),c("<%$;\u00c00#*;\u00c0&/K#;\u008a/B$$;\u00c00#*;\u00c0&/2$;l/)$8$:\u015c$\"\" )($'#(#'#(\"'#&'#.\\ &%$;\u00c00#*;\u00c0&/K#;\u0083/B$$;\u00c00#*;\u00c0&/2$;m/)$8$:\u015d$\"\" )($'#(#'#(\"'#&'#=.\" 7\u015b"),c("<%;v.# &;w/\u0121#$;\u00c00#*;\u00c0&/\u0111$;n/\u0108$$%$;\u00c00#*;\u00c0&/y#2\u00b8\"\"6\u00b87\u00b9/j$$;\u00c00#*;\u00c0&/Z$%;v.# &;w/<#$;\u00c00#*;\u00c0&/,$;o/#$+#)(#'#(\"'#&'#.\" &\"/#$+$)($'#(#'#(\"'#&'#0\u008a*%$;\u00c00#*;\u00c0&/y#2\u00b8\"\"6\u00b87\u00b9/j$$;\u00c00#*;\u00c0&/Z$%;v.# &;w/<#$;\u00c00#*;\u00c0&/,$;o/#$+#)(#'#(\"'#&'#.\" &\"/#$+$)($'#(#'#(\"'#&'#&/*$8$:\u015f$##! )($'#(#'#(\"'#&'#=.\" 7\u015e"),
c("<%;r/\u0115#$;\u00c00#*;\u00c0&/\u0105$;o/\u00fc$$%$;\u00c00#*;\u00c0&/s#2\u00b8\"\"6\u00b87\u00b9/d$$;\u00c00#*;\u00c0&/T$%;r/<#$;\u00c00#*;\u00c0&/,$;o/#$+#)(#'#(\"'#&'#.\" &\"/#$+$)($'#(#'#(\"'#&'#0\u0084*%$;\u00c00#*;\u00c0&/s#2\u00b8\"\"6\u00b87\u00b9/d$$;\u00c00#*;\u00c0&/T$%;r/<#$;\u00c00#*;\u00c0&/,$;o/#$+#)(#'#(\"'#&'#.\" &\"/#$+$)($'#(#'#(\"'#&'#&/*$8$:\u0161$##! )($'#(#'#(\"'#&'#=.\" 7\u0160"),c('<;l." &"=." 7\u0162'),c('<%;p/\u009b#$;\u00c00#*;\u00c0&/\u008b$$%2\u0152""6\u01527\u0153/<#$;\u00c00#*;\u00c0&/,$;p/#$+#)(#\'#("\'#&\'#0L*%2\u0152""6\u01527\u0153/<#$;\u00c00#*;\u00c0&/,$;p/#$+#)(#\'#("\'#&\'#&/)$8#:\u0164#"" )(#\'#("\'#&\'#=." 7\u0163'),
c('<%;q/\u009b#$;\u00c00#*;\u00c0&/\u008b$$%2\u0152""6\u01527\u0153/<#$;\u00c00#*;\u00c0&/,$;q/#$+#)(#\'#("\'#&\'#0L*%2\u0152""6\u01527\u0153/<#$;\u00c00#*;\u00c0&/,$;q/#$+#)(#\'#("\'#&\'#&/)$8#:\u0166#"" )(#\'#("\'#&\'#=." 7\u0165'),c('<;\u0088=." 7\u0167'),c('<;\u0089=." 7\u0168'),c('<;\u008b.4 &%2\u016a""6\u016a7\u016b/& 8!:\u016c! )=." 7\u0169'),c("<%$;\u00c00#*;\u00c0&/K#;\u008a/B$$;\u00c00#*;\u00c0&/2$;t/)$8$:\u016e$\"\" )($'#(#'#(\"'#&'#.\\ &%$;\u00c00#*;\u00c0&/K#;\u0082/B$$;\u00c00#*;\u00c0&/2$;u/)$8$:\u016f$\"\" )($'#(#'#(\"'#&'#=.\" 7\u016d"),
c("<%;v.# &;w/\u0101#$;\u00c00#*;\u00c0&/\u00f1$;n/\u00e8$$%$;\u00c00#*;\u00c0&/i#2\u00b8\"\"6\u00b87\u00b9/Z$$;\u00c00#*;\u00c0&/J$%;v.# &;w/,#;o/#$+\")(\"'#&'#.\" &\"/#$+$)($'#(#'#(\"'#&'#0z*%$;\u00c00#*;\u00c0&/i#2\u00b8\"\"6\u00b87\u00b9/Z$$;\u00c00#*;\u00c0&/J$%;v.# &;w/,#;o/#$+\")(\"'#&'#.\" &\"/#$+$)($'#(#'#(\"'#&'#&/*$8$:\u0171$##! )($'#(#'#(\"'#&'#=.\" 7\u0170"),c('<;k." &"=." 7\u0172'),c("<%;x/' 8!:\u0174!! )=.\" 7\u0173"),c('<;\u008c=." 7\u0175'),c('<;y=." 7\u0176'),c('<%;z/k#$%2\u0178""6\u01787\u0179/,#;z/#$+")("\'#&\'#0<*%2\u0178""6\u01787\u0179/,#;z/#$+")("\'#&\'#&/)$8":\u017a""! )("\'#&\'#=." 7\u0177'),
c('<%;|/k#$%2\u017c""6\u017c7\u017d/,#;|/#$+")("\'#&\'#0<*%2\u017c""6\u017c7\u017d/,#;|/#$+")("\'#&\'#&/)$8":\u017e""! )("\'#&\'#=." 7\u017b'),c('<%;~/7#;}." &"/)$8":\u0180""! )("\'#&\'#=." 7\u017f'),c('<;{.A &%2\u0182""6\u01827\u0183/1#;{/($8":\u0184"! )("\'#&\'#=." 7\u0181'),c('<2J""6J7K.\u00df &2\u0186""6\u01867\u0187.\u00d3 &2\u0188""6\u01887\u0189.\u00c7 &%2W""6W7X/\u00b7#%;\u0081/v#%2\u0152""6\u01527\u0153/Q#2Y""6Y7Z.< &%;\u0081/2#2Y""6Y7Z/#$+")("\'#&\'#/#$+")("\'#&\'#.) &2Y""6Y7Z/#$+")("\'#&\'#.K &%2\u0152""6\u01527\u0153/;#;\u0081/2$2Y""6Y7Z/#$+#)(#\'#("\'#&\'#/#$+")("\'#&\'#=." 7\u0185'),
c('<;\u00a6.\u0086 &%2\u016a""6\u016a7\u016b/& 8!:\u016c! ).o &%2\u018b""6\u018b7\u018c/,#;\u007f/#$+")("\'#&\'#.P &%2B""6B7C/@#;x/7$2H""6H7I/($8#:\u011b#!!)(#\'#("\'#&\'#=." 7\u018a'),c(';\u0080.\u009c &%2B""6B7C/\u008c#%;\u0080/e#$%2\u0178""6\u01787\u0179/,#;\u0080/#$+")("\'#&\'#0<*%2\u0178""6\u01787\u0179/,#;\u0080/#$+")("\'#&\'#&/#$+")("\'#&\'#." &"/2$2H""6H7I/#$+#)(#\'#("\'#&\'#'),c('<;\u00a6.T &2\u016a""6\u016a7\u016b.H &%2\u0182""6\u01827\u0183/8#;\u00a6.) &2\u016a""6\u016a7\u016b/#$+")("\'#&\'#=." 7\u018d'),
c('<;\u00b0=." 7\u018e'),c("<%;\u0086/' 8!:\u0190!! ).# &;\u0084=.\" 7\u018f"),c("<%;\u0087/' 8!:\u0192!! ).# &;\u0085=.\" 7\u0191"),c('<%$;\u00c00#*;\u00c0&/o#2\u0194""6\u01947\u0195/`$$;\u00c00#*;\u00c0&/P$;t/G$2\u0196""6\u01967\u0197/8$$;\u00c00#*;\u00c0&/($8&:\u0198&!")(&\'#(%\'#($\'#(#\'#("\'#&\'#=." 7\u0193'),c("<%$;\u00c00#*;\u00c0&/\u007f#2\u0194\"\"6\u01947\u0195/p$$;\u00c00#*;\u00c0&/`$;l/W$$;\u00c00#*;\u00c0&/G$2\u0196\"\"6\u01967\u0197/8$$;\u00c00#*;\u00c0&/($8':\u019a'!#)(''#(&'#(%'#($'#(#'#(\"'#&'#=.\" 7\u0199"),
c("<%$;\u00c00#*;\u00c0&/\u008c#2B\"\"6B7C/}$$;\u00c00#*;\u00c0&/m$$;\u0088/&#0#*;\u0088&&&#/W$$;\u00c00#*;\u00c0&/G$2H\"\"6H7I/8$$;\u00c00#*;\u00c0&/($8':\u019c'!#)(''#(&'#(%'#($'#(#'#(\"'#&'#=.\" 7\u019b"),c("<%$;\u00c00#*;\u00c0&/\u008c#2B\"\"6B7C/}$$;\u00c00#*;\u00c0&/m$$;\u0089/&#0#*;\u0089&&&#/W$$;\u00c00#*;\u00c0&/G$2H\"\"6H7I/8$$;\u00c00#*;\u00c0&/($8':\u019c'!#)(''#(&'#(%'#($'#(#'#(\"'#&'#=.\" 7\u019d"),c("<%%$;\u00c00#*;\u00c0&/<#;\u008a/3$$;\u00c00#*;\u00c0&/#$+#)(#'#(\"'#&'#.M &%$;\u00c00#*;\u00c0&/<#;\u0082/3$$;\u00c00#*;\u00c0&/#$+#)(#'#(\"'#&'#/' 8!:\u019f!! )=.\" 7\u019e"),
c("<%%$;\u00c00#*;\u00c0&/<#;\u008a/3$$;\u00c00#*;\u00c0&/#$+#)(#'#(\"'#&'#.M &%$;\u00c00#*;\u00c0&/<#;\u0083/3$$;\u00c00#*;\u00c0&/#$+#)(#'#(\"'#&'#/' 8!:\u019f!! )=.\" 7\u01a0"),c('<;\u008c.# &;\u008d=." 7\u01a1'),c('<;\u008c.# &;\u00a6=." 7\u01a2'),c("<%$;\u00c00#*;\u00c0&/G#;\u00ad.# &;\u00ae/8$$;\u00c00#*;\u00c0&/($8#:\u01a4#!!)(#'#(\"'#&'#=.\" 7\u01a3"),c('<;\u00a6.; &;\u009f.5 &;\u00a0./ &;\u00a4.) &;\u00a8.# &;\u00bf=." 7\u01a5'),c('<;\u008f=." 7\u01a6'),c('<%;\u0090/\u00ab#$%$;\u00c00#*;\u00c0&/K#2\u01a8""6\u01a87\u01a9/<$$;\u00c00#*;\u00c0&/,$;\u0090/#$+$)($\'#(#\'#("\'#&\'#0\\*%$;\u00c00#*;\u00c0&/K#2\u01a8""6\u01a87\u01a9/<$$;\u00c00#*;\u00c0&/,$;\u0090/#$+$)($\'#(#\'#("\'#&\'#&/)$8":\u01aa""! )("\'#&\'#=." 7\u01a7'),
c('<%;\u0091/\u00ab#$%$;\u00c00#*;\u00c0&/K#2\u01ac""6\u01ac7\u01ad/<$$;\u00c00#*;\u00c0&/,$;\u0091/#$+$)($\'#(#\'#("\'#&\'#0\\*%$;\u00c00#*;\u00c0&/K#2\u01ac""6\u01ac7\u01ad/<$$;\u00c00#*;\u00c0&/,$;\u0091/#$+$)($\'#(#\'#("\'#&\'#&/)$8":\u01ae""! )("\'#&\'#=." 7\u01ab'),c('<;\u0092=." 7\u01af'),c('<%;\u0093/\u057b#$%$;\u00c00#*;\u00c0&/K#2\u01b1""6\u01b17\u01b2/<$$;\u00c00#*;\u00c0&/,$;\u0093/#$+$)($\'#(#\'#("\'#&\'#.\u0285 &%$;\u00c00#*;\u00c0&/K#2\u01b3""6\u01b37\u01b4/<$$;\u00c00#*;\u00c0&/,$;\u0093/#$+$)($\'#(#\'#("\'#&\'#.\u0246 &%$;\u00c00#*;\u00c0&/K#2\u01b5""6\u01b57\u01b6/<$$;\u00c00#*;\u00c0&/,$;\u0093/#$+$)($\'#(#\'#("\'#&\'#.\u0207 &%$;\u00c00#*;\u00c0&/K#2\u01b7""6\u01b77\u01b8/<$$;\u00c00#*;\u00c0&/,$;\u0093/#$+$)($\'#(#\'#("\'#&\'#.\u01c8 &%$;\u00c00#*;\u00c0&/K#2\u01b9""6\u01b97\u01ba/<$$;\u00c00#*;\u00c0&/,$;\u0093/#$+$)($\'#(#\'#("\'#&\'#.\u0189 &%$;\u00c00#*;\u00c0&/K#2\u01bb""6\u01bb7\u01bc/<$$;\u00c00#*;\u00c0&/,$;\u0093/#$+$)($\'#(#\'#("\'#&\'#.\u014a &%$;\u00c00#*;\u00c0&/r#2\u01bd""6\u01bd7\u01be.) &2\u01bf""6\u01bf7\u01c0/W$2\u01c1""6\u01c17\u01c2.) &2\u01c3""6\u01c37\u01c4/<$$;\u00c00#*;\u00c0&/,$;g/#$+%)(%\'#($\'#(#\'#("\'#&\'#.\u00e4 &%$;\u00c00#*;\u00c0&/\u00d3#2\u01c1""6\u01c17\u01c2.) &2\u01c3""6\u01c37\u01c4/\u00b8$2\u01c5""6\u01c57\u01c6.) &2\u01c7""6\u01c77\u01c8/\u009d$2\u01c9""6\u01c97\u01ca.) &2\u01cb""6\u01cb7\u01cc/\u0082$$;\u00c00#*;\u00c0&/r$2\u01bd""6\u01bd7\u01be.) &2\u01bf""6\u01bf7\u01c0/W$2\u01c1""6\u01c17\u01c2.) &2\u01c3""6\u01c37\u01c4/<$$;\u00c00#*;\u00c0&/,$;g/#$+))()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#0\u02c4*%$;\u00c00#*;\u00c0&/K#2\u01b1""6\u01b17\u01b2/<$$;\u00c00#*;\u00c0&/,$;\u0093/#$+$)($\'#(#\'#("\'#&\'#.\u0285 &%$;\u00c00#*;\u00c0&/K#2\u01b3""6\u01b37\u01b4/<$$;\u00c00#*;\u00c0&/,$;\u0093/#$+$)($\'#(#\'#("\'#&\'#.\u0246 &%$;\u00c00#*;\u00c0&/K#2\u01b5""6\u01b57\u01b6/<$$;\u00c00#*;\u00c0&/,$;\u0093/#$+$)($\'#(#\'#("\'#&\'#.\u0207 &%$;\u00c00#*;\u00c0&/K#2\u01b7""6\u01b77\u01b8/<$$;\u00c00#*;\u00c0&/,$;\u0093/#$+$)($\'#(#\'#("\'#&\'#.\u01c8 &%$;\u00c00#*;\u00c0&/K#2\u01b9""6\u01b97\u01ba/<$$;\u00c00#*;\u00c0&/,$;\u0093/#$+$)($\'#(#\'#("\'#&\'#.\u0189 &%$;\u00c00#*;\u00c0&/K#2\u01bb""6\u01bb7\u01bc/<$$;\u00c00#*;\u00c0&/,$;\u0093/#$+$)($\'#(#\'#("\'#&\'#.\u014a &%$;\u00c00#*;\u00c0&/r#2\u01bd""6\u01bd7\u01be.) &2\u01bf""6\u01bf7\u01c0/W$2\u01c1""6\u01c17\u01c2.) &2\u01c3""6\u01c37\u01c4/<$$;\u00c00#*;\u00c0&/,$;g/#$+%)(%\'#($\'#(#\'#("\'#&\'#.\u00e4 &%$;\u00c00#*;\u00c0&/\u00d3#2\u01c1""6\u01c17\u01c2.) &2\u01c3""6\u01c37\u01c4/\u00b8$2\u01c5""6\u01c57\u01c6.) &2\u01c7""6\u01c77\u01c8/\u009d$2\u01c9""6\u01c97\u01ca.) &2\u01cb""6\u01cb7\u01cc/\u0082$$;\u00c00#*;\u00c0&/r$2\u01bd""6\u01bd7\u01be.) &2\u01bf""6\u01bf7\u01c0/W$2\u01c1""6\u01c17\u01c2.) &2\u01c3""6\u01c37\u01c4/<$$;\u00c00#*;\u00c0&/,$;g/#$+))()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#&/)$8":\u01cd""! )("\'#&\'#=." 7\u01b0'),
c('<;\u0094=." 7\u01ce'),c("<%;\u0095/\u0261#$%$;\u00c00#*;\u00c0&/K#2\u0188\"\"6\u01887\u0189/<$$;\u00c00#*;\u00c0&/,$;\u0095/#$+$)($'#(#'#(\"'#&'#.\u00f8 &%$;\u00c00#*;\u00c0&/K#2\u01d0\"\"6\u01d07\u01d1/<$$;\u00c00#*;\u00c0&/,$;\u0095/#$+$)($'#(#'#(\"'#&'#.\u00b9 &%;\u00a3.# &;\u00a3/\u00a9#%$;\u00c00#*;\u00c0&/K#2J\"\"6J7K/<$$;\u00c00#*;\u00c0&/,$;\u0096/#$+$)($'#(#'#(\"'#&'#.\\ &%$;\u00c00#*;\u00c0&/K#2\u017c\"\"6\u017c7\u017d/<$$;\u00c00#*;\u00c0&/,$;\u0096/#$+$)($'#(#'#(\"'#&'#.\" &\"/#$+\")(\"'#&'#0\u0137*%$;\u00c00#*;\u00c0&/K#2\u0188\"\"6\u01887\u0189/<$$;\u00c00#*;\u00c0&/,$;\u0095/#$+$)($'#(#'#(\"'#&'#.\u00f8 &%$;\u00c00#*;\u00c0&/K#2\u01d0\"\"6\u01d07\u01d1/<$$;\u00c00#*;\u00c0&/,$;\u0095/#$+$)($'#(#'#(\"'#&'#.\u00b9 &%;\u00a3.# &;\u00a3/\u00a9#%$;\u00c00#*;\u00c0&/K#2J\"\"6J7K/<$$;\u00c00#*;\u00c0&/,$;\u0096/#$+$)($'#(#'#(\"'#&'#.\\ &%$;\u00c00#*;\u00c0&/K#2\u017c\"\"6\u017c7\u017d/<$$;\u00c00#*;\u00c0&/,$;\u0096/#$+$)($'#(#'#(\"'#&'#.\" &\"/#$+\")(\"'#&'#&/)$8\":\u01d2\"\"! )(\"'#&'#=.\" 7\u01cf"),
c("<%;\u0096/\u0129#$%$;\u00c00#*;\u00c0&/K#2J\"\"6J7K/<$$;\u00c00#*;\u00c0&/,$;\u0096/#$+$)($'#(#'#(\"'#&'#.\\ &%$;\u00c00#*;\u00c0&/K#2\u017c\"\"6\u017c7\u017d/<$$;\u00c00#*;\u00c0&/,$;\u0096/#$+$)($'#(#'#(\"'#&'#0\u009b*%$;\u00c00#*;\u00c0&/K#2J\"\"6J7K/<$$;\u00c00#*;\u00c0&/,$;\u0096/#$+$)($'#(#'#(\"'#&'#.\\ &%$;\u00c00#*;\u00c0&/K#2\u017c\"\"6\u017c7\u017d/<$$;\u00c00#*;\u00c0&/,$;\u0096/#$+$)($'#(#'#(\"'#&'#&/)$8\":\u01d4\"\"! )(\"'#&'#=.\" 7\u01d3"),c('<%2\u018b""6\u018b7\u018c/A#$;\u00c00#*;\u00c0&/1$;\u0097/($8#:\u01d6#! )(#\'#("\'#&\'#.\u008b &%2\u0188""6\u01887\u0189/A#$;\u00c00#*;\u00c0&/1$;\u0097/($8#:\u01d7#! )(#\'#("\'#&\'#.W &%2\u01d0""6\u01d07\u01d1/A#$;\u00c00#*;\u00c0&/1$;\u0097/($8#:\u01d8#! )(#\'#("\'#&\'#.# &;\u0097=." 7\u01d5'),
c("<;\u0098.w &;\u0099.q &;\u009e.k &%;\u009f/' 8!:\u01da!! ).Y &%;\u00a0/' 8!:\u01db!! ).G &%;\u00a4/' 8!:\u01dc!! ).5 &;\u009d./ &%;\u008c/' 8!:\u01dd!! )=.\" 7\u01d9"),c('<%2B""6B7C/`#$;\u00c00#*;\u00c0&/P$;\u008e/G$$;\u00c00#*;\u00c0&/7$2H""6H7I/($8%:\u01df%!")(%\'#($\'#(#\'#("\'#&\'#=." 7\u01de'),c('<%2\u01e1""6\u01e17\u01e2.) &2\u01e3""6\u01e37\u01e4/\u007f#$;\u00c00#*;\u00c0&/o$2B""6B7C/`$$;\u00c00#*;\u00c0&/P$;\u008e/G$$;\u00c00#*;\u00c0&/7$2H""6H7I/($8\':\u01e5\'!")(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u0897 &%2\u01e6""6\u01e67\u01e7.) &2\u01e8""6\u01e87\u01e9/\u007f#$;\u00c00#*;\u00c0&/o$2B""6B7C/`$$;\u00c00#*;\u00c0&/P$;\u008e/G$$;\u00c00#*;\u00c0&/7$2H""6H7I/($8\':\u01ea\'!")(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u0819 &%2\u01eb""6\u01eb7\u01ec.) &2\u01ed""6\u01ed7\u01ee/\u00b8#$;\u00c00#*;\u00c0&/\u00a8$2B""6B7C/\u0099$$;\u00c00#*;\u00c0&/\u0089$;\u008e/\u0080$$;\u00c00#*;\u00c0&/p$2\u0152""6\u01527\u0153/a$$;\u00c00#*;\u00c0&/Q$;\u008e/H$$;\u00c00#*;\u00c0&/8$2H""6H7I/)$8+:\u01ef+"&")(+\'#(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u0762 &%2\u01f0""6\u01f07\u01f1.) &2\u01f2""6\u01f27\u01f3/\u007f#$;\u00c00#*;\u00c0&/o$2B""6B7C/`$$;\u00c00#*;\u00c0&/P$;\u008e/G$$;\u00c00#*;\u00c0&/7$2H""6H7I/($8\':\u01f4\'!")(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u06e4 &%2\u01f5""6\u01f57\u01f6.) &2\u01f7""6\u01f77\u01f8/\u007f#$;\u00c00#*;\u00c0&/o$2B""6B7C/`$$;\u00c00#*;\u00c0&/P$;\u008c/G$$;\u00c00#*;\u00c0&/7$2H""6H7I/($8\':\u01f9\'!")(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u0666 &%2\u01fa""6\u01fa7\u01fb.) &2\u01fc""6\u01fc7\u01fd/\u007f#$;\u00c00#*;\u00c0&/o$2B""6B7C/`$$;\u00c00#*;\u00c0&/P$;\u008e/G$$;\u00c00#*;\u00c0&/7$2H""6H7I/($8\':\u01fe\'!")(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u05e8 &%2\u01ff""6\u01ff7\u0200.) &2\u0201""6\u02017\u0202/\u007f#$;\u00c00#*;\u00c0&/o$2B""6B7C/`$$;\u00c00#*;\u00c0&/P$;\u008e/G$$;\u00c00#*;\u00c0&/7$2H""6H7I/($8\':\u0203\'!")(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u056a &%2\u0204""6\u02047\u0205.) &2\u0206""6\u02067\u0207/\u008f#$;\u00c00#*;\u00c0&/\u007f$%2B""6B7C/[#$;\u00c00#*;\u00c0&/K$;\u008e/B$$;\u00c00#*;\u00c0&/2$2H""6H7I/#$+%)(%\'#($\'#(#\'#("\'#&\'#.# &;\u00bf/($8#:\u0208#! )(#\'#("\'#&\'#.\u04dc &%2\u0209""6\u02097\u020a.) &2\u020b""6\u020b7\u020c/A#$;\u00c00#*;\u00c0&/1$;g/($8#:\u020d#! )(#\'#("\'#&\'#.\u049c &%2\u020e""6\u020e7\u020f.) &2\u0210""6\u02107\u0211/\u00f1#$;\u00c00#*;\u00c0&/\u00e1$2B""6B7C/\u00d2$$;\u00c00#*;\u00c0&/\u00c2$;\u008e/\u00b9$$;\u00c00#*;\u00c0&/\u00a9$2\u0152""6\u01527\u0153/\u009a$$;\u00c00#*;\u00c0&/\u008a$;\u008e/\u0081$$;\u00c00#*;\u00c0&/q$2\u0152""6\u01527\u0153/b$$;\u00c00#*;\u00c0&/R$;\u008e/I$$;\u00c00#*;\u00c0&/9$2H""6H7I/*$8/:\u0212/#*&")(/\'#(.\'#(-\'#(,\'#(+\'#(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u03ac &%2\u0213""6\u02137\u0214.5 &2\u0215""6\u02157\u0216.) &2\u0217""6\u02177\u0218/\u007f#$;\u00c00#*;\u00c0&/o$2B""6B7C/`$$;\u00c00#*;\u00c0&/P$;\u008e/G$$;\u00c00#*;\u00c0&/7$2H""6H7I/($8\':\u0219\'!")(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u0322 &%2\u021a""6\u021a7\u021b.5 &2\u021c""6\u021c7\u021d.) &2\u021e""6\u021e7\u021f/\u007f#$;\u00c00#*;\u00c0&/o$2B""6B7C/`$$;\u00c00#*;\u00c0&/P$;\u008e/G$$;\u00c00#*;\u00c0&/7$2H""6H7I/($8\':\u0220\'!")(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u0298 &%2\u0221""6\u02217\u0222.) &2\u0223""6\u02237\u0224/\u00b8#$;\u00c00#*;\u00c0&/\u00a8$2B""6B7C/\u0099$$;\u00c00#*;\u00c0&/\u0089$;\u008e/\u0080$$;\u00c00#*;\u00c0&/p$2\u0152""6\u01527\u0153/a$$;\u00c00#*;\u00c0&/Q$;\u008e/H$$;\u00c00#*;\u00c0&/8$2H""6H7I/)$8+:\u0225+"&")(+\'#(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u01e1 &%2\u0226""6\u02267\u0227.Y &2\u0228""6\u02287\u0229.M &2\u022a""6\u022a7\u022b.A &2\u022c""6\u022c7\u022d.5 &2\u022e""6\u022e7\u022f.) &2\u0230""6\u02307\u0231/\u007f#$;\u00c00#*;\u00c0&/o$2B""6B7C/`$$;\u00c00#*;\u00c0&/P$;\u008e/G$$;\u00c00#*;\u00c0&/7$2H""6H7I/($8\':\u0232\'!")(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u0133 &%2\u0233""6\u02337\u0234.) &2\u0235""6\u02357\u0236/\u0105#$4\u0237""5!7\u0238/,#0)*4\u0237""5!7\u0238&&&#/\u00e3$$;\u00c00#*;\u00c0&/\u00d3$2B""6B7C/\u00c4$$%$;\u00c00#*;\u00c0&/;#;\u008e/2$2\u0152""6\u01527\u0153/#$+#)(#\'#("\'#&\'#0L*%$;\u00c00#*;\u00c0&/;#;\u008e/2$2\u0152""6\u01527\u0153/#$+#)(#\'#("\'#&\'#&/b$$;\u00c00#*;\u00c0&/R$;\u008e/I$$;\u00c00#*;\u00c0&/9$2H""6H7I/*$8):\u0239)#\'$")()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#./ &;\u009a.) &;\u009b.# &;\u009c=." 7\u01e0'),
c('<%2\u023b""6\u023b7\u023c.) &2\u023d""6\u023d7\u023e/\u0100#$;\u00c00#*;\u00c0&/\u00f0$2B""6B7C/\u00e1$$;\u00c00#*;\u00c0&/\u00d1$;\u008e/\u00c8$$;\u00c00#*;\u00c0&/\u00b8$2\u0152""6\u01527\u0153/\u00a9$$;\u00c00#*;\u00c0&/\u0099$;\u008e/\u0090$$;\u00c00#*;\u00c0&/\u0080$%2\u0152""6\u01527\u0153/<#$;\u00c00#*;\u00c0&/,$;\u008e/#$+#)(#\'#("\'#&\'#." &"/I$$;\u00c00#*;\u00c0&/9$2H""6H7I/*$8-:\u023f-#($")(-\'#(,\'#(+\'#(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#=." 7\u023a'),c('<%2\u0241""6\u02417\u0242.) &2\u0243""6\u02437\u0244/A#$;\u00c00#*;\u00c0&/1$;T/($8#:\u0245#! )(#\'#("\'#&\'#=." 7\u0240'),
c('<%2\u0247""6\u02477\u0248.) &2\u0249""6\u02497\u024a/l#$;\u00c00#*;\u00c0&/\\$2\u0241""6\u02417\u0242.) &2\u0243""6\u02437\u0244/A$$;\u00c00#*;\u00c0&/1$;T/($8%:\u024b%! )(%\'#($\'#(#\'#("\'#&\'#=." 7\u0246'),c('<%2\u024d""6\u024d7\u024e.) &2\u024f""6\u024f7\u0250/\u00cc#$;\u00c00#*;\u00c0&/\u00bc$2B""6B7C/\u00ad$$;\u00c00#*;\u00c0&/\u009d$2:""6:7;.) &2<""6<7=." &"/}$$;\u00c00#*;\u00c0&/m$2J""6J7K.# &;\u008e/X$$;\u00c00#*;\u00c0&/H$2H""6H7I/9$$;\u00c00#*;\u00c0&/)$8*:\u0251*"%#)(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u044e &%2\u0252""6\u02527\u0253.) &2\u0254""6\u02547\u0255/\u0136#$;\u00c00#*;\u00c0&/\u0126$2B""6B7C/\u0117$$;\u00c00#*;\u00c0&/\u0107$2:""6:7;.) &2<""6<7=." &"/\u00e7$$;\u00c00#*;\u00c0&/\u00d7$;\u008e/\u00ce$%2\u00b8""6\u00b87\u00b9/\u008a#$;\u00c00#*;\u00c0&/z$2\u0256""6\u02567\u0257/k$$;\u00c00#*;\u00c0&/[$2\u01b1""6\u01b17\u01b2/L$$;\u00c00#*;\u00c0&/<$;\u00a5/3$$;\u00c00#*;\u00c0&/#$+()((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#." &"/I$2H""6H7I/:$$;\u00c00#*;\u00c0&/*$8*:\u0258*#%#")(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u0319 &%2\u0259""6\u02597\u025a.) &2\u025b""6\u025b7\u025c/\u00c0#$;\u00c00#*;\u00c0&/\u00b0$2B""6B7C/\u00a1$$;\u00c00#*;\u00c0&/\u0091$2:""6:7;.) &2<""6<7=." &"/q$$;\u00c00#*;\u00c0&/a$;\u008e/X$$;\u00c00#*;\u00c0&/H$2H""6H7I/9$$;\u00c00#*;\u00c0&/)$8*:\u025d*"%#)(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u025a &%2\u025e""6\u025e7\u025f.) &2\u0260""6\u02607\u0261/\u00c0#$;\u00c00#*;\u00c0&/\u00b0$2B""6B7C/\u00a1$$;\u00c00#*;\u00c0&/\u0091$2:""6:7;.) &2<""6<7=." &"/q$$;\u00c00#*;\u00c0&/a$;\u008e/X$$;\u00c00#*;\u00c0&/H$2H""6H7I/9$$;\u00c00#*;\u00c0&/)$8*:\u0262*"%#)(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u019b &%2\u0263""6\u02637\u0264.) &2\u0265""6\u02657\u0266/\u00c0#$;\u00c00#*;\u00c0&/\u00b0$2B""6B7C/\u00a1$$;\u00c00#*;\u00c0&/\u0091$2:""6:7;.) &2<""6<7=." &"/q$$;\u00c00#*;\u00c0&/a$;\u008e/X$$;\u00c00#*;\u00c0&/H$2H""6H7I/9$$;\u00c00#*;\u00c0&/)$8*:\u0267*"%#)(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u00dc &%2\u0268""6\u02687\u0269.) &2\u026a""6\u026a7\u026b/\u00c0#$;\u00c00#*;\u00c0&/\u00b0$2B""6B7C/\u00a1$$;\u00c00#*;\u00c0&/\u0091$2:""6:7;.) &2<""6<7=." &"/q$$;\u00c00#*;\u00c0&/a$;\u008e/X$$;\u00c00#*;\u00c0&/H$2H""6H7I/9$$;\u00c00#*;\u00c0&/)$8*:\u026c*"%#)(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#=." 7\u024c'),
c('<%;\u00a6/7#;f." &"/)$8":\u026e""! )("\'#&\'#=." 7\u026d'),c('<%;\u00a5/V#;\u00af.< &%2\u0270""6\u02707\u0271/,#;\u00a6/#$+")("\'#&\'#." &"/)$8":\u0272""! )("\'#&\'#=." 7\u026f'),c('<;\u00a1.) &;\u00a2.# &;\u00a3=." 7\u0273'),c('<;\u00b2.) &;\u00b1.# &;\u00b0=." 7\u0274'),c('<;\u00b5.) &;\u00b4.# &;\u00b3=." 7\u0275'),c('<;\u00b8.) &;\u00b7.# &;\u00b6=." 7\u0276'),c('<%2\u0278""6\u02787\u0279.) &2\u027a""6\u027a7\u027b/& 8!:\u027c! ).@ &%2\u027d""6\u027d7\u027e.) &2\u027f""6\u027f7\u0280/& 8!:\u0281! )=." 7\u0277'),
c("<%;\u00bc/' 8!:\u0283!! ).S &%;\u00bd/' 8!:\u0283!! ).A &%;\u00ba/' 8!:\u0283!! )./ &%;\u00bb/' 8!:\u0283!! )=.\" 7\u0282"),c("<%;\u00a9/' 8!:\u0285!! )./ &%;\u00a7/' 8!:\u0286!! )=.\" 7\u0284"),c("<%;\u00ab/' 8!:\u0288!! )./ &%;\u00aa/' 8!:\u0289!! )=.\" 7\u0287"),c("<%;\u00ac/' 8!:\u028b!! ).. &%;\u00c2/& 8!:\u028c! )=.\" 7\u028a"),c('<%2\u01b5""6\u01b57\u01b6/S#$4\u028e""5!7\u028f0)*4\u028e""5!7\u028f&/7$2\u01b7""6\u01b77\u01b8/($8#:\u0290#!!)(#\'#("\'#&\'#=." 7\u028d'),c('<%;\u00c7." &"/7#2\u0292""6\u02927\u0293/($8":\u0286"!!)("\'#&\'#=." 7\u0291'),
c('<%;\u00aa/2#;\u00c8/)$8":\u0295""! )("\'#&\'#=." 7\u0294'),c('<%2\u0297""6\u02977\u0298/1#;\u00c8/($8":\u0299"! )("\'#&\'#=." 7\u0296'),c('<%2\u0186""6\u01867\u0187/1#;\u00c5/($8":\u029b"! )("\'#&\'#=." 7\u029a'),c('<%2\u029d""6\u029d7\u029e/1#;\u00c5/($8":\u029b"! )("\'#&\'#=." 7\u029c'),c('<%2\u02a0""6\u02a07\u02a1/\u00bf#$4\u02a2""5!7\u02a3/,#0)*4\u02a2""5!7\u02a3&&&#/\u009d$$%2\u01d0""6\u01d07\u01d1/E#$4\u02a4""5!7\u02a5/,#0)*4\u02a4""5!7\u02a5&&&#/#$+")("\'#&\'#0U*%2\u01d0""6\u01d07\u01d1/E#$4\u02a4""5!7\u02a5/,#0)*4\u02a4""5!7\u02a5&&&#/#$+")("\'#&\'#&/)$8#:\u02a6#"! )(#\'#("\'#&\'#=." 7\u029f'),
c('<%$4\u02a8""5!7\u02a9/,#0)*4\u02a8""5!7\u02a9&&&#/\' 8!:\u02aa!! )=." 7\u02a7'),c('<%$4\u02a8""5!7\u02a9/,#0)*4\u02a8""5!7\u02a9&&&#/U#2\u0113""6\u01137\u0114/F$$4\u02a8""5!7\u02a90)*4\u02a8""5!7\u02a9&/*$8#:\u02ac##"! )(#\'#("\'#&\'#.[ &%2\u0113""6\u01137\u0114/K#$4\u02a8""5!7\u02a9/,#0)*4\u02a8""5!7\u02a9&&&#/)$8":\u02ad""! )("\'#&\'#=." 7\u02ab'),c('<%$4\u02a8""5!7\u02a9/,#0)*4\u02a8""5!7\u02a9&&&#/_#2\u0113""6\u01137\u0114/P$$4\u02a8""5!7\u02a90)*4\u02a8""5!7\u02a9&/4$;\u00b9/+$8$:\u02af$$#"! )($\'#(#\'#("\'#&\'#.\u009d &%2\u0113""6\u01137\u0114/U#$4\u02a8""5!7\u02a9/,#0)*4\u02a8""5!7\u02a9&&&#/3$;\u00b9/*$8#:\u02b0##"! )(#\'#("\'#&\'#.U &%$4\u02a8""5!7\u02a9/,#0)*4\u02a8""5!7\u02a9&&&#/2#;\u00b9/)$8":\u02b1""! )("\'#&\'#=." 7\u02ae'),
c('<%2\u0188""6\u01887\u0189/1#;\u00b0/($8":\u02b3"! )("\'#&\'#=." 7\u02b2'),c('<%2\u0188""6\u01887\u0189/1#;\u00b1/($8":\u02b5"! )("\'#&\'#=." 7\u02b4'),c('<%2\u0188""6\u01887\u0189/1#;\u00b2/($8":\u02b5"! )("\'#&\'#=." 7\u02b6'),c('<%2\u01d0""6\u01d07\u01d1/1#;\u00b0/($8":\u02b8"! )("\'#&\'#=." 7\u02b7'),c('<%2\u01d0""6\u01d07\u01d1/1#;\u00b1/($8":\u02b8"! )("\'#&\'#=." 7\u02b9'),c('<%2\u01d0""6\u01d07\u01d1/1#;\u00b2/($8":\u02b8"! )("\'#&\'#=." 7\u02ba'),c('<%4\u02bc""5!7\u02bd/`#4\u02be""5!7\u02bf." &"/L$$4\u02a8""5!7\u02a9/,#0)*4\u02a8""5!7\u02a9&&&#/*$8#:\u02c0##"! )(#\'#("\'#&\'#=." 7\u02bb'),
c('<%2\u02c2""6\u02c27\u02c3/_#$4\u02c4""5!7\u02c5.# &;\u00be0/*4\u02c4""5!7\u02c5.# &;\u00be&/7$2\u02c2""6\u02c27\u02c3/($8#:\u02c6#!!)(#\'#("\'#&\'#=." 7\u02c1'),c('<%2\u02c8""6\u02c87\u02c9/_#$4\u02ca""5!7\u02cb.# &;\u00be0/*4\u02ca""5!7\u02cb.# &;\u00be&/7$2\u02c8""6\u02c87\u02c9/($8#:\u02c6#!!)(#\'#("\'#&\'#=." 7\u02c7'),c('<%2\u02cd""6\u02cd7\u02ce/_#$4\u02cf""5!7\u02d0.# &;\u00be0/*4\u02cf""5!7\u02d0.# &;\u00be&/7$2\u02cd""6\u02cd7\u02ce/($8#:\u02c6#!!)(#\'#("\'#&\'#=." 7\u02cc'),c('<%2\u02d2""6\u02d27\u02d3/_#$4\u02d4""5!7\u02d5.# &;\u00be0/*4\u02d4""5!7\u02d5.# &;\u00be&/7$2\u02d2""6\u02d27\u02d3/($8#:\u02c6#!!)(#\'#("\'#&\'#=." 7\u02d1'),
c('<%2\u02d7""6\u02d77\u02d8/2#4\u02d9""5!7\u02da/#$+")("\'#&\'#=." 7\u02d6'),c('<%2B""6B7C/F#$;\u00c00#*;\u00c0&/6$2H""6H7I/\'$8#:\u02dc# )(#\'#("\'#&\'#=." 7\u02db'),c('<4\u02de""5!7\u02df.G &4\u02e0""5!7\u02e1.; &4\u02e2""5!7\u02e3./ &4\u02e4""5!7\u02e5.# &;\u00c1=." 7\u02dd'),c('<%2\u02e7""6\u02e77\u02e8/?#$4\u02e9""5!7\u02ea0)*4\u02e9""5!7\u02ea&/#$+")("\'#&\'#=." 7\u02e6'),c('<%2\u0194""6\u01947\u0195/B#$;\u00c00#*;\u00c0&/2$2\u0196""6\u01967\u0197/#$+#)(#\'#("\'#&\'#=." 7\u02eb'),c('<4\u02ed""5!7\u02ee.\u00b9 &4\u02ef""5!7\u02f0.\u00ad &4\u02f1""5!7\u02f2.\u00a1 &4\u02f3""5!7\u02f4.\u0095 &4\u02f5""5!7\u02f6.\u0089 &4\u02f7""5!7\u02f8.} &4\u02f9""5!7\u02fa.q &4\u02fb""5!7\u02fc.e &4\u02fd""5!7\u02fe.Y &4\u02ff""5!7\u0300.M &4\u0301""5!7\u0302.A &4\u0303""5!7\u0304.5 &4\u0305""5!7\u0306.) &4\u0307""5!7\u0308=." 7\u02ec'),
c('<;\u00c3.) &2\u030a""6\u030a7\u030b=." 7\u0309'),c('<%;\u00c4.) &4\u02a8""5!7\u02a9/\u0099#$;\u00c4.M &4\u02a8""5!7\u02a9.A &4\u030d""5!7\u030e.5 &4\u030f""5!7\u0310.) &4\u0311""5!7\u03120S*;\u00c4.M &4\u02a8""5!7\u02a9.A &4\u030d""5!7\u030e.5 &4\u030f""5!7\u0310.) &4\u0311""5!7\u0312&/)$8":\u0313""! )("\'#&\'#=." 7\u030c'),c('<;\u00c4.Y &2\u01d0""6\u01d07\u01d1.M &4\u02a8""5!7\u02a9.A &4\u030d""5!7\u030e.5 &4\u030f""5!7\u0310.) &4\u0311""5!7\u0312=." 7\u0314'),c('<%;\u00c3/Q#$;\u00c6.) &2\u0113""6\u01137\u01140/*;\u00c6.) &2\u0113""6\u01137\u0114&/)$8":\u0316""! )("\'#&\'#=." 7\u0315'),
c('<%;\u00c4.; &4\u02a8""5!7\u02a9./ &2\u0292""6\u02927\u0293.# &;\u00c9/u#$;\u00c6.; &2\u0113""6\u01137\u0114./ &2\u0292""6\u02927\u0293.# &;\u00c90A*;\u00c6.; &2\u0113""6\u01137\u0114./ &2\u0292""6\u02927\u0293.# &;\u00c9&/)$8":\u0318""! )("\'#&\'#=." 7\u0317'),c('<;\u00ca.# &;\u00cc=." 7\u0319'),c("<%%2\u031b\"\"6\u031b7\u031c/5#;\u00cb/,$;\u00cb/#$+#)(#'#(\"'#&'#/' 8!:\u031d!! )=.\" 7\u031a"),c('<4\u02a8""5!7\u02a9.5 &4\u031f""5!7\u0320.) &4\u0321""5!7\u0322=." 7\u031e'),c('<%2\u02d7""6\u02d77\u02d8/\u0127#2\u030a""6\u030a7\u030b.\u010d &2\u0324""6\u03247\u0325.\u0101 &2\u0113""6\u01137\u0114.\u00f5 &2\u01d0""6\u01d07\u01d1.\u00e9 &2\u018b""6\u018b7\u018c.\u00dd &2\u029d""6\u029d7\u029e.\u00d1 &2\u0326""6\u03267\u0327.\u00c5 &2\u02c2""6\u02c27\u02c3.\u00b9 &2B""6B7C.\u00ad &2H""6H7I.\u00a1 &2J""6J7K.\u0095 &2\u0188""6\u01887\u0189.\u0089 &2\u0152""6\u01527\u0153.} &2\u00b8""6\u00b87\u00b9.q &2\u0292""6\u02927\u0293.e &2\u01b1""6\u01b17\u01b2.Y &2\u017c""6\u017c7\u017d.M &2\u0186""6\u01867\u0187.A &2\u02e7""6\u02e77\u02e8.5 &2\u02a0""6\u02a07\u02a1.) &2\u031b""6\u031b7\u031c/($8":\u0328"! )("\'#&\'#=." 7\u0323')],
t=0,A=[{line:1,column:1,seenCR:!1}],w=0,F=[],u=0;if("startRule"in g){if(!(g.startRule in h))throw Error("Can't start parsing from rule \""+g.startRule+'".');l=h[g.startRule]}var D=function(a){for(var b="",c=0;c<a.length;c++)b="string"===typeof a[c]?b+a[c]:b+a[c].join("");return b},I=0,y=function(a){var b="";if(null==a)return null;for(var c=0;c<a.length;c++)b+=a[c];return b.toUpperCase()},g=f(l);if(g!==e&&t===r.length)return g;g!==e&&t<r.length&&a({type:"end",description:"end of input"});throw function(a,
b,c,d){function e(a){var b=1;for(a.sort(function(a,b){return a.description<b.description?-1:a.description>b.description?1:0});b<a.length;)a[b-1]===a[b]?a.splice(b,1):b++}function f(a,b){function c(a){function b(a){return a.charCodeAt(0).toString(16).toUpperCase()}return a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(a){return"\\x0"+b(a)}).replace(/[\x10-\x1F\x80-\xFF]/g,
function(a){return"\\x"+b(a)}).replace(/[\u0100-\u0FFF]/g,function(a){return"\\u0"+b(a)}).replace(/[\u1000-\uFFFF]/g,function(a){return"\\u"+b(a)})}var d=Array(a.length),e;for(e=0;e<a.length;e++)d[e]=a[e].description;d=1<a.length?d.slice(0,-1).join(", ")+" or "+d[a.length-1]:d[0];e=b?'"'+c(b)+'"':"end of input";return"Expected "+d+" but "+e+" found."}null!==b&&e(b);return new k(null!==a?a:f(b,c),b,c,d)}(null,F,w<r.length?r.charAt(w):null,w<r.length?d(w,w+1):d(w,w));}}}()},{}],49:[function(u,x,y){u("./btree");
var k=u("./utils"),r=u("./lexicon").Lexicon;Lexicon=function(b,d){var a=this;k.registerIndexedDB(a);this.defaultGraphOid=0;this.defaultGraphUri="https://github.com/antoniogarrote/rdfstore-js#default_graph";this.defaultGraphUriTerm={token:"uri",prefix:null,suffix:null,value:this.defaultGraphUri};this.oidCounter=1;a.dbName=d||"rdfstorejs";var c=a.indexedDB.open(this.dbName+"_lexicon",1);c.onerror=function(a){b(null,Error("Error opening IndexedDB: "+a.target.errorCode))};c.onsuccess=function(c){a.db=
c.target.result;b(a)};c.onupgradeneeded=function(b){a.db=b.target.result;a.db.createObjectStore("knownGraphs",{keyPath:"oid"}).createIndex("uriToken","uriToken",{unique:!0});a.db.createObjectStore("uris",{keyPath:"id",autoIncrement:!0}).createIndex("uri","uri",{unique:!0});a.db.createObjectStore("blanks",{keyPath:"id",autoIncrement:!0}).createIndex("label","label",{unique:!0});a.db.createObjectStore("literals",{keyPath:"id",autoIncrement:!0}).createIndex("literal","literal",{unique:!0})}};Lexicon.prototype.registerGraph=
function(b,d,a){if(b!=this.defaultGraphOid){var c=this.db.transaction(["knownGraphs"],"readwrite");c.onerror=function(b){a(null,Error(b.target.statusCode))};c.objectStore("knownGraphs").add({oid:b,uriToken:d}).onsuccess=function(b){a(!0)}}else a()};Lexicon.prototype.registeredGraphs=function(b,d){var a=[],c=this.db.transaction(["knownGraphs"],"readwrite").objectStore("knownGraphs").openCursor();c.onsuccess=function(c){(c=c.target.result)?(!0===b?a.push(c.value.uriToken):a.push(c.value.oid),c["continue"]()):
d(a)};c.onerror=function(a){d(null,Error("Error retrieving data from the cursor: "+a.target.errorCode))}};Lexicon.prototype.registerUri=function(b,d){if(b===this.defaultGraphUri)d(this.defaultGraphOid);else{var a=this.db.transaction(["uris"],"readwrite").objectStore("uris"),c=a.index("uri").get(b);c.onsuccess=function(c){if(c=c.target.result){c.counter++;var g=c.id;c=a.put(c);c.onsuccess=function(a){d(g)};c.onerror=function(a){d(null,Error("Error updating the URI data"+a.target.errorCode))}}else c=
a.add({uri:b,counter:0}),c.onsuccess=function(a){d(a.target.result)},c.onerror=function(a){d(null,Error("Error inserting the URI data"+a.target.errorCode))}};c.onerror=function(a){d(null,Error("Error retrieving the URI data"+a.target.errorCode))}}};Lexicon.prototype.resolveUri=function(b,d){if(b===this.defaultGraphUri)d(this.defaultGraphOid);else{var a=this.db.transaction(["uris"]).objectStore("uris").index("uri").get(b);a.onsuccess=function(a){null!=a.target.result?d(a.target.result.id):d(-1)};a.onerror=
function(a){d(null,Error("Error retrieving uri data "+a.target.errorCode))}}};Lexicon.prototype.resolveUriCost=function(b,d){if(b===this.defaultGraphUri)d(0);else{var a=that.db.transaction(["uris"]).objectStore("uris").index("uri").get(b);a.onsuccess=function(a){null!=a.target.result?d(a.target.result.cost):d(-1)};a.onerror=function(a){d(null,Error("Error retrieving uri data "+a.target.errorCode))}}};Lexicon.prototype.registerBlank=function(b){var d=guid(),d=this.db.transaction(["blanks"],"readwrite").objectStore("blanks").add({label:d,
counter:0});d.onsuccess=function(a){b(a.target.result)};d.onerror=function(a){b(null,Error("Error inserting the URI data"+a.target.errorCode))}};Lexicon.prototype.resolveBlankCost=function(b,d){d(0)};Lexicon.prototype.registerLiteral=function(b,d){var a=this.db.transaction(["literals"],"readwrite").objectStore("literals"),c=a.index("literal").get(b);c.onsuccess=function(c){if(c=c.target.result){c.counter++;var g=c.id;c=a.put(c);c.onsuccess=function(a){d(g)};c.onerror=function(a){d(null,Error("Error updating the literal data"+
a.target.errorCode))}}else c=a.add({literal:b,counter:0}),c.onsuccess=function(a){d(a.target.result)},c.onerror=function(a){d(null,Error("Error inserting the literal data"+a.target.errorCode))}};c.onerror=function(a){d(null,Error("Error retrieving the literal data"+a.target.errorCode))}};Lexicon.prototype.resolveLiteral=function(b,d){var a=that.db.transaction(["literals"]).objectStore("literals").index("literal").get(b);a.onsuccess=function(a){null!=a.target.result?d(a.target.result.id):d(-1)};a.onerror=
function(a){d(null,Error("Error retrieving literal data "+a.target.errorCode))}};Lexicon.prototype.resolveLiteralCost=function(b,d){var a=that.db.transaction(["literals"]).objectStore("literals").index("literal").get(b);a.onsuccess=function(a){null!=a.target.result?d(a.target.result.cost):d(-1)};a.onerror=function(a){d(null,Error("Error retrieving literal data "+a.target.errorCode))}};Lexicon.prototype.parseLiteral=function(b){return r.prototype.parseLiteral(b)};Lexicon.prototype.parseUri=function(b){return r.prototype.parseUri(b)};
Lexicon.prototype.retrieve=function(b,d){var a=this;if(b===this.defaultGraphOid)d({token:"uri",value:this.defaultGraphUri,prefix:null,suffix:null,defaultGraph:!0});else{var c=a.db.transaction(["uris","literals","blanks"]);k.seq(function(d,g){var e=c.objectStore("uris").get(b);e.onsuccess=function(b){null!=b.target.result?g(null,a.parseUri(b.target.result.uri)):g(null,null)};e.onerror=function(a){g(Error("Error searching in URIs data "+a.target.errorCode))}},function(d,g){if(null==d){var e=c.objectStore("literals").get(b);
e.onsuccess=function(b){null!=b.target.result?g(null,a.parseLiteral(b.target.result.literal)):g(null,null)};e.onerror=function(a){g(Error("Error searching in Literals data "+a.target.errorCode))}}else g(null,d)},function(d,g){if(null==d){var e=c.objectStore("blanks").get(b);e.onsuccess=function(b){null!=b.target.result?g(null,a.parseLiteral({token:"blank",value:"_:"+b.target.result.id})):g(null,null)};e.onerror=function(a){g(Error("Error searching in blanks data "+a.target.errorCode))}}else g(null,
d)})(null,function(a,b){a?d(null,a):d(b)})}};Lexicon.prototype.clear=function(b){this.defaultGraphOid=0;this.defaultGraphUri="https://github.com/antoniogarrote/rdfstore-js#default_graph";this.defaultGraphUriTerm={token:"uri",prefix:null,suffix:null,value:this.defaultGraphUri};var d=this.db.transaction(["uris","literals","blanks"],"readwrite"),a,c=d.objectStore("uris"),f=d.objectStore("literals"),g=d.objectStore("blanks"),e=function(){null!=b&&b()};a=c.clear();a.onsuccess=function(){a=f.clear();a.onsuccess=
function(){a=g.clear();a.onsuccess=e;a.onerror=e};a.onerror=e};a.onerror=e};Lexicon.prototype.unregister=function(b,d,a){var c=this;k.seq(function(a){c._unregisterTerm(b.subject.token,d.subject,a)},function(a){c._unregisterTerm(b.predicate.token,d.predicate,a)},function(a){c._unregisterTerm(b.object.token,d.object,a)},function(a){null!=b.graph?c._unregisterTerm(b.graph.token,d.graph,a):a()})(function(){a(!0)})};Lexicon.prototype._unregisterTerm=function(b,d,a){var c=this.db.transaction(["uris","literals",
"blanks","knownGraphs"],"readwrite");"uri"===b?d!=this.defaultGraphOid?(b=c.objectStore("uris")["delete"](d),b.onsuccess=function(){c.objectStore("knownGraphs")["delete"](d).onsuccess=function(){a()}}()):a():"literal"===b?(b=c.objectStore("literals")["delete"](d),b.onsuccess=function(){a()}):"blank"===b?(b=c.objectStore("blanks")["delete"](d),b.onsuccess=function(){a()}):a()};x.exports={Lexicon:Lexicon}},{"./btree":42,"./lexicon":46,"./utils":59}],50:[function(u,x,y){var k=u("./utils");QuadBackend=
function(r,b){var d=this;if(0!==arguments){k.registerIndexedDB(d);this.indexMap={};this.indices="SPOG GP OGS POG GSP OS".split(" ");this.componentOrders={SPOG:["subject","predicate","object","graph"],GP:["graph","predicate","subject","object"],OGS:["object","graph","subject","predicate"],POG:["predicate","object","graph","subject"],GSP:["graph","subject","predicate","object"],OS:["object","subject","predicate","graph"]};d.dbName=r.name||"rdfstorejs";var a=d.indexedDB.open(this.dbName+"_db",1);a.onerror=
function(a){b(null,Error("Error opening IndexedDB: "+a.target.errorCode))};a.onsuccess=function(a){d.db=a.target.result;b(d)};a.onupgradeneeded=function(a){var b=a.target.result.createObjectStore(d.dbName,{keyPath:"SPOG"});k.each(d.indices,function(a){"SPOG"!==a&&b.createIndex(a,a,{unique:!1})})}}};QuadBackend.prototype.index=function(r,b){var d=this;k.each(this.indices,function(a){r[a]=d._genMinIndexKey(r,a)});var a=d.db.transaction([d.dbName],"readwrite");a.oncomplete=function(a){};a.onerror=function(a){b(null,
Error(a.target.statusCode))};a.objectStore(d.dbName).add(r).onsuccess=function(a){b(!0)}};QuadBackend.prototype.range=function(k,b){var d=this.db.transaction([this.dbName]).objectStore(this.dbName),a=this._indexForPattern(k),c=this._genMinIndexKey(k,a),f=this._genMaxIndexKey(k,a),c=this.IDBKeyRange.bound(c,f,!1,!1),g=[];("SPOG"===a?d:d.index(a)).openCursor(c).onsuccess=function(a){(a=a.target.result)?(g.push(a.value),a["continue"]()):b(g)}};QuadBackend.prototype.search=function(k,b){var d=this.db.transaction([this.dbName]).objectStore(this.dbName),
a=this._genMinIndexKey(k,"SPOG"),d=d.get(a);d.onerror=function(a){b(null,Error(a.target.statusCode))};d.onsuccess=function(a){b(null!=a.target.result)}};QuadBackend.prototype["delete"]=function(k,b){var d=this._genMinIndexKey(k,"SPOG"),d=this.db.transaction([this.dbName],"readwrite").objectStore(this.dbName)["delete"](d);d.onsuccess=function(){b(!0)};d.onerror=function(a){b(null,Error(a.target.statusCode))}};QuadBackend.prototype._genMinIndexKey=function(r,b){return k.map(this.componentOrders[b],
function(b){return"string"===typeof r[b]||null==r[b]?"-1":""+r[b]}).join(".")};QuadBackend.prototype._genMaxIndexKey=function(r,b){for(var d=this.componentOrders[b],a=[],c=!1,f=0;f<d.length;f++){var g=r[d[f]];"string"===typeof g?(!1===c&&(c=!0,0<=f-1&&(a[f-1]+=1)),a[f]=-1):a[f]=g}return k.map(a,function(a){return""+a}).join(".")};QuadBackend.prototype._indexForPattern=function(r){r=r.indexKey;for(var b=0;b<this.indices.length;b++)for(var d=this.indices[b],a=this.componentOrders[d],c=0;c<a.length&&
!1!==k.include(r,a[c]);c++)if(c==r.length-1)return d;return"SPOG"};QuadBackend.prototype.clear=function(k){var b;b=this.db.transaction([this.dbName],"readwrite").objectStore(this.dbName).clear();b.onsuccess=function(){k()};b.onerror=function(){k()}};x.exports.QuadBackend=QuadBackend},{"./utils":59}],51:[function(u,x,y){var k=u("./quad_index").QuadIndex,r=u("./utils"),b=u("./utils");QuadBackend=function(b,a){if(0!==arguments){this.indexMap={};this.treeOrder=b.treeOrder;this.indices="SPOG GP OGS POG GSP OS".split(" ");
this.componentOrders={SPOG:["subject","predicate","object","graph"],GP:["graph","predicate","subject","object"],OGS:["object","graph","subject","predicate"],POG:["predicate","object","graph","subject"],GSP:["graph","subject","predicate","object"],OS:["object","subject","predicate","graph"]};var c=this;r.eachSeries(this.indices,function(a,b){new k({order:c.treeOrder,componentOrder:c.componentOrders[a]},function(d){c.indexMap[a]=d;b()})},function(){a(c)})}};QuadBackend.prototype._indexForPattern=function(d){d=
d.indexKey;for(var a=0;a<this.indices.length;a++)for(var c=this.indices[a],f=this.componentOrders[c],g=0;g<f.length&&!1!==b.include(d,f[g]);g++)if(g==d.length-1)return c;return"SPOG"};QuadBackend.prototype.index=function(b,a){var c=this;r.eachSeries(this.indices,function(a,g){c.indexMap[a].insert(b,function(){g()})},function(){a(c)})};QuadBackend.prototype.range=function(b,a){var c=this._indexForPattern(b);this.indexMap[c].range(b,function(b){a(b)})};QuadBackend.prototype.search=function(b,a){this.indexMap.SPOG.search(b,
function(b){a(null!=b)})};QuadBackend.prototype["delete"]=function(b,a){var c=this;r.eachSeries(this.indices,function(a,g){c.indexMap[a]["delete"](b,function(){g()})},function(){a(c)})};QuadBackend.prototype.clear=function(b){var a=this;r.eachSeries(this.indices,function(b,d){new k({order:a.treeOrder,componentOrder:a.componentOrders[b]},function(g){a.indexMap[b]=g;d()})},function(){b(a)})};x.exports.QuadBackend=QuadBackend},{"./quad_index":52,"./utils":59}],52:[function(u,x,y){var k=u("./btree").Tree,
r=u("./utils"),b=u("./utils");NodeKey=function(b,a){this.subject=b.subject;this.predicate=b.predicate;this.object=b.object;this.graph=b.graph;this.order=a};NodeKey.prototype.comparator=function(b){for(var a=0;a<this.order.length;a++){var c=this.order[a];if(null==b[c])break;else{if(this[c]<b[c])return-1;if(this[c]>b[c])return 1}}return 0};Pattern=function(b){this.subject=b.subject;this.predicate=b.predicate;this.object=b.object;this.graph=b.graph;this.indexKey=[];this.keyComponents={};var a=[],c=[],
f=this;r.forEach(["subject","predicate","object","graph"],function(b){"string"===typeof f[b]?(c.push(b),f.keyComponents[b]=null):(a.push(b),f.keyComponents[b]=f[b],f.indexKey.push(b))});this.order=a.concat(c);this.key=new NodeKey(this.keyComponents,this.order)};QuadIndex=function(b,a){0!=arguments&&(this.componentOrder=b.componentOrder,k.call(this,b.order,function(b){b.comparator=function(a,d){for(var e=0;e<b.componentOrder.length;e++){var h=b.componentOrder[e],k=a[h],h=d[h];if(k<h)return-1;if(k>
h)return 1}return 0};b.rangeComparator=function(a,d){for(var e=0;e<b.componentOrder.length;e++){var h=b.componentOrder[e];if(null==d[h]||null==a[h])break;else{if(a[h]<d[h])return-1;if(a[h]>d[h])return 1}}return 0};a(b)}))};QuadIndex.prototype=r.create(k.prototype,{constructor:k});QuadIndex.prototype.insert=function(b,a){k.prototype.insert.call(this,b,null,function(b){a(b)})};QuadIndex.prototype.search=function(b,a){k.prototype.search.call(this,b,function(b){a(b)},!0)};QuadIndex.prototype.range=function(b,
a){this._rangeTraverse(this,this.root,b,a)};QuadIndex.prototype._rangeTraverse=function(d,a,c,f){var g=c.key,e=[],h=[a];b.whilst(function(){return 0<h.length},function(a){for(var c=h.shift(),f=0;f<c.numberActives&&-1===d.rangeComparator(c.keys[f].key,g);)f++;if(!0===c.isLeaf){for(var k=f;k<c.numberActives&&0===d.rangeComparator(c.keys[k].key,g);)e.push(c.keys[k].key),k++;a()}else d._diskRead(c.children[f],function(k){h.push(k);var t=f;b.whilst(function(){return t<c.numberActives&&0===d.rangeComparator(c.keys[t].key,
g)},function(a){e.push(c.keys[t].key);t++;d._diskRead(c.children[t],function(b){h.push(b);a()})},function(){a()})})},function(){f(e)})};x.exports={QuadIndex:QuadIndex,Pattern:Pattern,NodeKey:NodeKey}},{"./btree":42,"./utils":59}],53:[function(u,x,y){function k(a,b,c){this.name="BindExpressionError";this.bind=b;this.error=c;this.message=a}var r=u("./abstract_query_tree").AbstractQueryTree,b=u("./abstract_query_tree").NonSupportedSparqlFeatureError,d=u("./utils"),a=u("./quad_index"),c=u("./query_plan").QueryPlan,
f=u("./query_filters").QueryFilters,g=u("./rdf_model"),e=u("./rdf_loader").RDFLoader,h=u("./graph_callbacks").CallbacksBackend,l=u("./utils"),v=u("./utils");k.prototype=Error();k.constructor=k;QueryEngine=function(a){0!=arguments.length&&(this.backend=a.backend,this.lexicon=a.lexicon,this.eventsOnBatchLoad=a.eventsOnBatchLoad||!1,this.defaultPrefixes={},this.abstractQueryTree=new r,this.rdfLoader=new e(a.communication),this.callbacksBackend=new h(this),this.customFns=a.customFns||{})};QueryEngine.prototype.setCustomFunctions=
function(a){this.customFns=a};QueryEngine.prototype.registerNsInEnvironment=function(a,b){var c=[];null!=a&&null!=a.prefixes&&(c=a.prefixes);var d={},e;for(e in this.defaultPrefixes)d[e]=this.defaultPrefixes[e];for(e=0;e<c.length;e++){var f=c[e];"prefix"===f.token&&(d[f.prefix]=f.local)}b.namespaces=d;b.base=null!=a&&a.base&&"object"===typeof a.base?a.base.value:null};QueryEngine.prototype.applyModifier=function(a,b){if("DISTINCT"==a){for(var c={},d=[],e=0;e<b.length;e++){var f=b[e],g="",h;for(h in f){var k=
f[h];null==k?g=g+h+"null":"literal"==k.token?(null!=k.value&&(g+=k.value),null!=k.lang&&(g+=k.lang),null!=k.type&&(g+=k.type)):g=k.value?g+h+k.value:g+h+k}null==c[g]&&(d.push(f),c[g]=!0)}return d}return b};QueryEngine.prototype.applyLimitOffset=function(a,b,c){if(null==b&&null==a)return c;null==a&&(a=0);b=null==b?c.length:a+b;return c.slice(a,b)};QueryEngine.prototype.applySingleOrderBy=function(a,b,c,d,e){var g=[],h=this;l.eachSeries(a,function(a,e){f.collect(a.expression,[b],c,d,h,function(a){g.push(a[0].value);
e()})},function(){e({binding:b,value:g})})};QueryEngine.prototype.applyOrderBy=function(a,b,c,d,e){var f=this,g=[];null!=a&&0<a.length?l.eachSeries(b,function(b,e){f.applySingleOrderBy(a,b,c,d,function(a){g.push(a);e()})},function(){g.sort(function(b,c){return f.compareFilteredBindings(b,c,a,d)});for(var b=[],c=0;c<g.length;c++)b.push(g[c].binding);e(b)}):e(b)};QueryEngine.prototype.compareFilteredBindings=function(a,b,c,d){for(var e=0;;){if(e==a.value.length)return 0;var g=c[e].direction;if(null==
a.value[e]&&null==b.value[e])e++;else{if(null==a.value[e])a={value:!1};else if(null==b.value[e])a={value:!0};else if("blank"===a.value[e].token&&"blank"===b.value[e].token){e++;continue}else if("blank"===a.value[e].token)a={value:!1};else if("blank"===b.value[e].token)a={value:!0};else if("uri"===a.value[e].token&&"uri"===b.value[e].token)if(1==f.runEqualityFunction(a.value[e],b.value[e],[],this,d).value){e++;continue}else a=f.runTotalGtFunction(a.value[e],b.value[e],[]);else if("uri"===a.value[e].token)a=
{value:!1};else if("uri"===b.value[e].token)a={value:!0};else if("literal"===a.value[e].token&&"literal"===b.value[e].token&&null==a.value[e].type&&null==b.value[e].type)if(1==f.runEqualityFunction(a.value[e],b.value[e],[],this,d).value){e++;continue}else a=f.runTotalGtFunction(a.value[e],b.value[e],[]);else if("literal"===a.value[e].token&&null==a.value[e].type)a={value:!1};else if("literal"===b.value[e].token&&null==b.value[e].type)a={value:!0};else if(1==f.runEqualityFunction(a.value[e],b.value[e],
[],this,d).value){e++;continue}else a=f.runTotalGtFunction(a.value[e],b.value[e],[]);return 1==a.value?"ASC"===g?1:-1:"ASC"===g?-1:1}}};QueryEngine.prototype.removeDefaultGraphBindings=function(a,b){for(var c=[],d={},e=0;e<b.named.length;e++)d[b.named[e].oid]=!0;for(e=0;e<b.implicit.length;e++)null==d[b.implicit[e].oid]&&c.push(b.implicit[e].oid);c=[];for(e=0;e<a.length;e++){var f=a[e],g=!1,h;for(h in f){for(var k=0;k<d.length;k++)if(f[h]===d[k]){g=!0;break}if(g)break}g||c.push(f)}return c};QueryEngine.prototype.aggregateBindings=
function(a,b,c,d,e){this.copyDenormalizedBindings(b,d.outCache,function(b){for(var g={},h=0;h<a.length;h++){var k=f.runAggregator(a[h],b,this,c,d);a[h].alias?g[a[h].alias.value]=k:g[a[h].value.value]=k}e(g)})};QueryEngine.prototype.projectBindings=function(a,b,c){if("*"===a[0].kind)return b;for(var d=[],e=0;e<b.length;e++){for(var g=b[e],h={},k=!0,l=0;l<a.length;l++)if("variable"==a[l].token&&"aliased"!=a[l].kind)h[a[l].value.value]=g[a[l].value.value];else if("variable"==a[l].token&&"aliased"==a[l].kind){var q=
f.runFilter(a[l].expression,g,this,c,{blanks:{},outCache:{}});if(f.isEbvError(q)){k=!1;break}else h[a[l].alias.value]=q}!0===k&&d.push(h)}return d};QueryEngine.prototype.resolveNsInEnvironment=function(a,b){return b.namespaces[a]};QueryEngine.prototype.normalizeTerm=function(a,b,c,e){if("uri"===a.token)a=d.lexicalFormBaseUri(a,b),null==a?e(null):c?this.lexicon.registerUri(a,e):this.lexicon.resolveUri(a,e);else if("literal"===a.token)a=d.lexicalFormLiteral(a,b),c?this.lexicon.registerLiteral(a,e):
this.lexicon.resolveLiteral(a,e);else if("blank"===a.token){var f=a.value;a=b.blanks[f];null!=a?e(a):c?this.lexicon.registerBlank(function(a){b.blanks[f]=a;e(a)}):this.lexicon.resolveBlank(function(a){b.blanks[f]=a;e(a)})}else"var"===a.token?e(a.value):e(null)};QueryEngine.prototype.normalizeDatasets=function(a,b,c){var d=this;l.eachSeries(a,function(a,c){a.value===d.lexicon.defaultGraphUri?(a.oid=d.lexicon.defaultGraphOid,c()):d.normalizeTerm(a,b,!1,function(b){null!=b&&(a.oid=b);c()})},function(){c(!0)})};
QueryEngine.prototype.normalizeQuad=function(a,b,c,e){var f=null,g=null,h=null,k=null,v=this,q=!1;l.seq(function(e){if(null==a.graph||a.graph.value===v.lexicon.defaultGraphUri)k=0,e();else{var f=d.lexicalFormBaseUri(a.graph,b);v.normalizeTerm(a.graph,b,c,function(b){null!=b?(k=b,!0===c&&"var"!=a.graph.token?v.lexicon.registerGraph(b,f,function(){e()}):e()):(q=!0,e())})}},function(d){!1===q?v.normalizeTerm(a.subject,b,c,function(a){null!=a?f=a:q=!0;d()}):d()},function(d){!1===q?v.normalizeTerm(a.predicate,
b,c,function(a){null!=a?g=a:q=!0;d()}):d()},function(d){!1===q?v.normalizeTerm(a.object,b,c,function(a){null!=a?h=a:q=!0;d()}):d()})(function(){!0===q?e(null):e({subject:f,predicate:g,object:h,graph:k})})};QueryEngine.prototype.denormalizeBindingsList=function(a,b,c){var d=this,e=[];l.eachSeries(a,function(a,c){d.denormalizeBindings(a,b,function(a){e.push(a);c()})},function(){c(e)})};QueryEngine.prototype.copyDenormalizedBindings=function(a,b,c){var d=this,e=[];l.eachSeries(a,function(a,c){var f=
{},g=v.keys(a);l.eachSeries(g,function(c,e){var g=a[c];if(null==g)f[c]=null,e();else if("object"===typeof g)f[c]=g,e();else{var h=b[g];null!=h?(f[c]=h,e()):d.lexicon.retrieve(g,function(a){b[g]=a;f[c]=a;e()})}},function(){e.push(f);c()})},function(){c(e)})};QueryEngine.prototype.denormalizeBindings=function(a,b,c){var d=v.keys(a),e=b.outCache,f=this;l.eachSeries(d,function(c,d){var g=a[c];null==g?(a[c]=null,d()):"object"===typeof g?d():null!=e[g]?(a[c]=e[g],d()):f.lexicon.retrieve(g,function(e){a[c]=
e;"blank"===e.token&&(b.blanks[e.value]=g);d()})},function(){c(a)})};QueryEngine.prototype.execute=function(a,b,c,e){a=d.normalizeUnicodeLiterals(a);a=this.abstractQueryTree.parseQueryString(a);if(null==a)b(!1,"Error parsing query string");else if("query"===a.token&&"update"==a.kind){this.callbacksBackend.startGraphModification();var f=this;this.executeUpdate(a,function(a,c){f.lexicon.updateAfterWrite&&f.lexicon.updateAfterWrite();a?(f.callbacksBackend.cancelGraphModification(),b(a,c)):f.callbacksBackend.endGraphModification(function(){b(a,
c)})})}else"query"===a.token&&"query"==a.kind&&this.executeQuery(a,b,c,e)};QueryEngine.prototype.executeQuery=function(a,b,c,d){var e=a.units,f=this,h={blanks:{},outCache:{}};this.registerNsInEnvironment(a.prologue,h);var k=f.abstractQueryTree.parseExecutableUnit(e[0]);"select"===k.kind?this.executeSelect(k,h,c,d,function(a,c){null==a?"object"===typeof c&&!0===c.denorm?b(null,c.bindings):f.denormalizeBindingsList(c,h,function(a){b(null,a)}):b(a)}):"ask"===k.kind?(k.projection=[{token:"variable",kind:"*"}],
this.executeSelect(k,h,c,d,function(a,c){null==a?0<c.length?b(null,!0):b(null,!1):b(a)})):"construct"===k.kind&&(k.projection=[{token:"variable",kind:"*"}],f=this,this.executeSelect(k,h,c,d,function(a,c){null==a?f.denormalizeBindingsList(c,h,function(a){if(null!=a){var c=new g.Graph;null==k.template&&(k.template={triplesContext:k.pattern});for(var d=1,e=[],n=0;n<a.length;n++){for(var l=a[n],q=0;q<e.length;q++)delete e[q].valuetmp;for(q=0;q<k.template.triplesContext.length;q++){for(var w=["subject",
"predicate","object"],A=k.template.triplesContext[q],v=0;v<w.length;v++){var r=w[v];if("blank"===A[r].token&&(!A[r].valuetmp||null==A[r].valuetmp)){var u="_:b"+d;d++;A[r].valuetmp=u;e.push(A[r])}}w=g.buildRDFResource(A.subject,l,f,h);v=g.buildRDFResource(A.predicate,l,f,h);A=g.buildRDFResource(A.object,l,f,h);null!=w&&null!=v&&null!=A&&(v=new g.Triple(w,v,A),c.add(v))}}b(null,c)}else b(Error("Error denormalizing bindings."))}):b(a)}))};QueryEngine.prototype.executeSelect=function(a,b,c,d,e){if("select"===
a.kind||"ask"===a.kind||"construct"===a.kind||"modify"===a.kind){var f=a.projection,g=a.dataset,h=a.modifier,k=a.limit,q=a.offset,m=a.order,v=this;if(null!=c||null!=d)g.implicit=c||[],g.named=d||[];null!=g.implicit&&0===g.implicit.length&&null!=g.named&&0===g.named.length&&g.implicit.push(this.lexicon.defaultGraphUriTerm);v.normalizeDatasets(g.implicit.concat(g.named),b,function(){try{v.executeSelectUnit(f,g,a.pattern,b,function(c){if(null!=c){if(null!=a.group&&""===a.group){for(var d=!1,w=0;w<a.projection.length;w++)if(null!=
a.projection[w].expression&&"aggregate"===a.projection[w].expression.expressionType){d=!0;break}!0===d&&(a.group="singleGroup")}a.group&&""!=a.group?v.checkGroupSemantics(a.group,f)?v.groupSolution(c,a.group,g,b,function(a){var c=[];l.eachSeries(a,function(a,d){v.aggregateBindings(f,a,g,b,function(a){c.push(a);d()})},function(){e(null,{bindings:c,denorm:!0})})}):e(Error("Incompatible Group and Projection variables")):v.applyOrderBy(m,c,g,b,function(a){a=v.projectBindings(f,a,g);a=v.applyModifier(h,
a);a=v.applyLimitOffset(q,k,a);a=v.removeDefaultGraphBindings(a,g);e(null,a)})}else e(Error("Error executing SELECT query."))})}catch(c){e(c)}})}else e(Error("Cannot execute "+a.kind+" query as a select query"))};QueryEngine.prototype.groupSolution=function(a,b,c,d,e){var g=[],h=[],k=!1,v=this;"singleGroup"===b?e([a]):l.eachSeries(a,function(a,e){var n=!0;l.eachSeries(b,function(b,e){var h=null;if("var"===b.token)h=b.value,0==k&&g.push(h),e();else if("aliased_expression"===b.token){h=b.alias.value;
0==k&&g.push(h);if("var"===b.expression.primaryexpression)a[b.alias.value]=a[b.expression.value.value];else{var l=v.copyDenormalizedBindings([a],d.outCache),l=f.runFilter(b.expression,l[0],v,c,d);f.isEbvError(l)?n=!1:(null!=l.value&&(l.value=""+l.value),a[b.alias.value]=l)}e()}else v.copyDenormalizedBindings([a],d.outCache,function(c){c=f.runFilter(b,c[0],v,d);f.isEbvError(c)?n=!1:(a["groupCondition"+env._i]=c,h="groupCondition"+env._i,0==k&&g.push(h));e()})},function(){0==k&&(k=!0);!0===n&&h.push(a);
e()})},function(){for(var a={},b=0;b<h.length;b++){for(var c=h[b],d="",f=0;f<g.length;f++)var k=c[g[f]],d="object"===typeof k?d+k.value:d+k;null==a[d]?a[d]=[c]:a[d].push(c)}var b=[],n;for(n in a)b.push(a[n]);e(b)})};QueryEngine.prototype.executeSelectUnit=function(a,c,d,e,g){if("BGP"===d.kind)this.executeAndBGP(a,c,d,e,g);else if("UNION"===d.kind)this.executeUNION(a,c,d.value,e,g);else if("JOIN"===d.kind)this.executeJOIN(a,c,d,e,g);else if("LEFT_JOIN"===d.kind)this.executeLEFT_JOIN(a,c,d,e,g);else if("FILTER"===
d.kind){var h=this;this.executeSelectUnit(a,c,d.value,e,function(a){null!=a?f.checkFilters(d,a,!1,c,e,h,g):g([])})}else if("EMPTY_PATTERN"===d.kind)g([]);else throw new b(d.kind);};QueryEngine.prototype.executeUNION=function(a,b,d,e,g){var h=d[0],v=d[1],r=null,u,q;if(2!=d.length)throw"SPARQL algebra UNION with more than two components";var m=this;l.seq(function(c){try{m.executeSelectUnit(a,b,h,e,function(a){u=a;c()})}catch(d){r=d,c()}},function(c){if(null==r)try{m.executeSelectUnit(a,b,v,e,function(a){q=
a;c()})}catch(d){r=d,c()}else c()})(function(){if(null!=r)g(r);else{var a=c.unionBindings(u,q);m.runBinds(d.binds,a,b,e,function(a,c){if(null!=a)throw new k("Error processing bind expressions",d.binds,a);f.checkFilters(d,c,!1,b,e,m,g)})}})};QueryEngine.prototype.executeAndBGP=function(a,b,d,e,g){var h=this;c.executeAndBGPsDPSize(d.value,b,this,e,function(a){null!=a?h.runBinds(d.binds,a,b,e,function(a,c){if(null!=a)throw new k("Error processing bind expressions",d.binds,a);f.checkFilters(d,c,!1,b,
e,h,g)}):g(null)})};QueryEngine.prototype.executeLEFT_JOIN=function(a,b,d,e,g){var h=d.lvalue,v=d.rvalue,r=null,u=null,q=null,m=this,y,x;l.seq(function(c){try{m.executeSelectUnit(a,b,h,e,function(a){r=a;c()})}catch(d){q=d,c()}},function(c){if(null!=q)c();else try{m.executeSelectUnit(a,b,v,e,function(a){u=a;c()})}catch(d){q=d,c()}})(function(){if(null!=q)g(q);else{var a=c.leftOuterJoinBindings(r,u);m.runBinds(d.binds,a,b,e,function(c,h){if(null!=c)throw new k("Error processing bind expressions",d.binds,
c);f.checkFilters(d,a,!0,b,e,m,function(a){if(1<r.length&&1<u.length){var b=[],c={},d;for(d in r[0])c[d]=!0;for(d in u[0])1!=c[d]&&b.push(d);y=[];x={};for(c=0;c<a.length;c++)if(!0===a[c].__nullify__){for(var e=0;e<b.length;e++)a[c].bindings[b[e]]=null;var e=[],f=[];for(d in a[c].bindings)null!=a[c].bindings[d]&&(e.push(d+a[c].bindings[d]),e.sort(),f.push(e.join("")));if(null==x[e.join("")]){for(e=0;e<f.length;e++)x[f[e]]=!0;y.push(a[c].bindings)}}else for(d in y.push(a[c]),e=[],a[c])e.push(d+a[c][d]),
e.sort(),x[e.join("")]=!0;g(y)}else g(a)})})}})};QueryEngine.prototype.executeJOIN=function(a,b,d,e,g){var h=d.lvalue,v=d.rvalue,r=null,u=null,q=null,m=this;l.seq(function(c){try{m.executeSelectUnit(a,b,h,e,function(a){r=a;c()})}catch(d){q=d,c()}},function(c){if(null!=q)c();else try{m.executeSelectUnit(a,b,v,e,function(a){u=a;c()})}catch(d){q=d,c()}})(function(){var a=null;if(null!=q)g(q);else if(0===r.length||0===u.length)g([]);else{var a={},n=[],l;for(l in r[0])a[l]=!1;for(l in u[0])!1===a[l]&&
n.push(l);a=0==n.length?c.joinBindings(r,u):m.abstractQueryTree.treeWithUnion(h)||m.abstractQueryTree.treeWithUnion(v)?c.joinBindings(r,u):c.joinBindings2(n,r,u);m.runBinds(d.binds,a,b,e,function(a,c){if(null!=a)throw new k("Error processing bind expressions",d.binds,a);f.checkFilters(d,c,!1,b,e,m,g)})}})};QueryEngine.prototype.rangeQuery=function(b,c,d){var e=this;e.normalizeQuad(b,c,!1,function(b){null!=b?e.backend.range(new a.Pattern(b),function(a){null==a||0==a.length?d([]):d(a)}):d(null)})};
QueryEngine.prototype.executeUpdate=function(a,b){var c=a.units,e=this,f={blanks:{},outCache:{}};this.registerNsInEnvironment(a.prologue,f);for(var g=0;g<c.length;g++){var h=e.abstractQueryTree.parseExecutableUnit(c[g]);if("insertdata"===h.kind){var k=null;l.eachSeries(h.quads,function(a,b){null===k?e._executeQuadInsert(a,f,function(a){null!=a&&(k=a);b()}):b()},function(){null===k?b(null,!0):b(k)})}else if("deletedata"===h.kind)k=null,l.eachSeries(h.quads,function(a,b){null===k?e._executeQuadDelete(a,
f,function(a){null!=a&&(k=a);b()}):b()},function(){null===k?b(null,!0):b(k)});else if("modify"===h.kind)this._executeModifyQuery(h,f,b);else if("create"===h.kind)b(!0);else if("load"===h.kind){var v={uri:d.lexicalFormBaseUri(h.sourceGraph,f)};null!=h.destinyGraph&&(v={uri:d.lexicalFormBaseUri(h.destinyGraph,f)});e=this;this.rdfLoader.load(h.sourceGraph.value,v,function(a,c){a?b(Error("error batch loading quads")):e.batchLoad(c,function(a){null!==a?b(null,a):b(Error("Error batch loading quads"))})})}else if("drop"===
h.kind)this._executeClearGraph(h.destinyGraph,f,b);else if("clear"===h.kind)this._executeClearGraph(h.destinyGraph,f,b);else throw Error("not supported execution unit");}};QueryEngine.prototype.batchLoad=function(b,c){var d=0,e={},f=this;this.eventsOnBatchLoad&&this.callbacksBackend.startGraphModification();var g=function(a,b,c,d){var g;if(a[b].uri||"uri"===a[b].token){var h=a[b].uri||a[b].value;f.lexicon.registerUri(h,function(e){var g=function(){null!=a[b].uri&&(a[b]={token:"uri",value:a[b].uri},
delete a[b].uri);c[b]=e;d()};"graph"===b?f.lexicon.registerGraph(e,h,function(){g()}):g()})}else a[b].literal||"literal"===a[b].token?f.lexicon.registerLiteral(a[b].literal||a[b].value,function(e){null!=a[b].literal&&(a[b]=f.lexicon.parseLiteral(a[b].literal),delete a[b].literal);c[b]=e;d()}):(g=e[a[b].blank||a[b].value],null==g?f.lexicon.registerBlank(function(f){e[a[b].blank||a[b].value]=f;null==a[b].token&&(a[b].token="blank",a[b].value=a[b].blank,delete a[b].blank);c[b]=f;d()}):(null==a[b].token&&
(a[b].token="blank",a[b].value=a[b].blank,delete a[b].blank),c[b]=g,d()))};l.eachSeries(b,function(b,c){var e={};l.eachSeries(["subject","predicate","object","graph"],function(a,c){g(b,a,e,c)},function(){var g=b;b=e;var k=new a.NodeKey(b);f.backend.search(k,function(a){a?c():f.backend.index(k,function(a){a&&(f.eventsOnBatchLoad&&f.callbacksBackend.nextGraphModification(h.added,[g,b]),d+=1);c()})})})},function(){null!=f.lexicon.updateAfterWrite&&f.lexicon.updateAfterWrite();var a=function(){c(d)};
f.eventsOnBatchLoad?f.callbacksBackend.endGraphModification(a()):a()})};QueryEngine.prototype._executeModifyQuery=function(a,b,c){var d=this,e=!0,f=Error("Error executing modify query"),g=null,h=["subject","predicate","object","graph"];a.insert=null==a.insert?[]:a.insert;a["delete"]=null==a["delete"]?[]:a["delete"];l.seq(function(c){var h=[],k=[];null!=a["with"]&&h.push(a["with"]);if(null!=a.using)for(var k=[],l=0;l<a.using.length;l++){var v=a.using[l];"named"===v.kind?k.push(v.uri):h.push(v.uri)}a.dataset=
{};a.projection=[{token:"variable",kind:"*"}];d.executeSelect(a,b,h,k,function(a,h){if(a)return f=a,e=!1,c();d.denormalizeBindingsList(h,b,function(a){null!=a?g=a:(f=Error("Error denormalizing bindings list"),e=!1);c()})})},function(c){var f=a["with"];if(e){for(var k=[],v=0;v<a["delete"].length;v++)for(var r=a["delete"][v],u=0;u<g.length;u++){for(var A={},y=g[u],x=0;x<h.length;x++){var H=h[x];"graph"==H&&null==r[H]?A.graph=f:A[H]="var"===r[H].token?y[r[H].value]:r[H]}k.push(A)}l.eachSeries(k,function(a,
c){d._executeQuadDelete(a,b,function(){c()})},function(){c()})}else c()},function(c){var f=a["with"];if(e){for(var k=[],v=0;v<a.insert.length;v++)for(var r=a.insert[v],u=0;u<g.length;u++){for(var A={},y=g[u],x=0;x<h.length;x++){var H=h[x];"graph"==H&&null==r[H]?A.graph=f:A[H]="var"===r[H].token?y[r[H].value]:r[H]}k.push(A)}l.eachSeries(k,function(a,c){d._executeQuadInsert(a,b,function(){c()})},function(){c()})}else c()})(function(){e?c(null):c(f)})};QueryEngine.prototype._executeQuadInsert=function(b,
c,d){var e=this,f,g=!1,k=null;l.seq(function(a){e.normalizeQuad(b,c,!0,function(b){null!=b?f=b:(g=!0,k="Error normalizing quad.");a()})},function(c){if(!1===g){var d=new a.NodeKey(f);e.backend.search(d,function(a){!0===a?c():e.backend.index(d,function(){e.callbacksBackend.nextGraphModification(h.added,[b,f]);c()})})}else c()})(function(){g?d(Error(k)):d(null,!0)})};QueryEngine.prototype._executeQuadDelete=function(b,c,d){var e=this,f,g=!1,k,v;l.seq(function(a){e.normalizeQuad(b,c,!0,function(b){null!=
b?f=b:(g=!0,k="Error normalizing quad.");a()})},function(b){!1===g?(v=new a.NodeKey(f),e.backend["delete"](v,function(){b()})):b()},function(a){!1===g?e.lexicon.unregister(b,v,function(){e.callbacksBackend.nextGraphModification(h.deleted,[b,f]);a()}):a()})(function(){g?d(Error(k)):d(null,!0)})};QueryEngine.prototype._executeClearGraph=function(a,b,c){var e=this;"default"===a?this.execute("DELETE { ?s ?p ?o } WHERE { ?s ?p ?o }",c):"named"===a?e.lexicon.registeredGraphs(!0,function(a){if(null!=a){var b=
!1;l.eachSeries(a,function(a,c){b?c():e.execute("DELETE { GRAPH <"+a+"> { ?s ?p ?o } } WHERE { GRAPH <"+a+"> { ?s ?p ?o } }",function(a,d){b=!a;c()})},function(){c(!b)})}else c(!1,"Error deleting named graphs")}):"all"===a?(e=this,this.execute("CLEAR DEFAULT",function(a,b){a?c(!1,b):e.execute("CLEAR NAMED",c)})):"uri"==a.token?(a=d.lexicalFormBaseUri(a,b),null!=a?(this.callbacksBackend.ongoingModification=!0,this.execute("DELETE { GRAPH <"+a+"> { ?s ?p ?o } } WHERE { GRAPH <"+a+"> { ?s ?p ?o } }",
function(a){e.callbacksBackend.ongoingModification=!1;c(a)})):c(!1,"wrong graph URI")):c(!1,"wrong graph URI")};QueryEngine.prototype.checkGroupSemantics=function(a,b){if("singleGroup"===a)return!0;for(var c={},d=0;d<a.length;d++){var e=a[d];"var"===e.token?c[e.value]=!0:"aliased_expression"===e.token&&(c[e.alias.value]=!0)}for(d=0;d<b.length;d++)if(e=b[d],"var"===e.kind){if(null==c[e.value.value])return!1}else if("aliased"===e.kind&&e.expression&&"var"===e.expression.primaryexpression&&null==c[e.expression.value.value])return!1;
return!0};QueryEngine.prototype.runBinds=function(a,b,c,d,e){var g=this;null!=a&&0<a.length?g.copyDenormalizedBindings(b,d.outCache,function(h){for(var k=0;k<b.length;k++)for(var l=0;l<a.length;l++){var q=a[l],m=f.runFilter(q.expression,h[k],g,c,d);f.isEbvError(m)?e(m):b[k][q.as.value]=m}e(null,b)}):e(null,b)};QueryEngine.prototype.computeCosts=function(a,b,c){for(var d=0;d<a.length;d++)a[d]._cost=this.quadCost(a[d],b);c(a)};QueryEngine.prototype.quadCost=function(a,b){return 1};QueryEngine.prototype.registerDefaultNamespace=
function(a,b){this.defaultPrefixes[a]=b};x.exports={QueryEngine:QueryEngine}},{"./abstract_query_tree":41,"./graph_callbacks":44,"./quad_index":52,"./query_filters":54,"./query_plan":55,"./rdf_loader":56,"./rdf_model":57,"./utils":59}],54:[function(u,x,y){var k=u("./utils"),r=u("./utils");QueryFilters={checkFilters:function(b,d,a,c,f,g,e){var h=[];b.filter&&"function"!==typeof b.filter&&(h=b.filter);var k=[];if(null==h||0===h.length||null!=b.length)return e(d);r.eachSeries(h,function(b,e){QueryFilters.run(b.value,
d,a,c,f,g,function(a){var b=[];r.eachSeries(a,function(a,c){null!=a.__nullify__?k.push(a):b.push(a);c()},function(){d=b;e()})})},function(){e(d.concat(k))})},boundVars:function(b){if(null!=b.expressionType){var d=b.expressionType;if("relationalexpression"==d)return d=b.op2,QueryFilters.boundVars(b.op1)+QueryFilters.boundVars(d);if("conditionalor"==d||"conditionaland"==d){for(var a=[],d=0;d<b.operands;d++)a=a.concat(QueryFilters.boundVars(b.operands[d]));return a}if("builtincall"==d){if(null==b.args)return[];
a=[];for(d=0;d<b.args.length;d++)a=a.concat(QueryFilters.boundVars(b.args[d]));return a}if("multiplicativeexpression"==d){a=QueryFilters.boundVars(b.factor);for(d=0;d<b.factors.length;d++)a=a.concat(QueryFilters.boundVars(b.factors[d].expression));return a}if("additiveexpression"==d){a=QueryFilters.boundVars(b.summand);for(d=0;d<b.summands.length;d++)a=a.concat(QueryFilters.boundVars(b.summands[d].expression));return a}if("regex"==d)return a=QueryFilters.boundVars(b.expression1),a.concat(QueryFilters.boundVars(b.expression2));
if("unaryexpression"==d)return QueryFilters.boundVars(b.expression);if("atomic"==d)return"var"==b.primaryexpression?[b.value]:[]}else throw console.log("ERROR"),console.log(b),"Cannot find bound expressions in a no expression token";},run:function(b,d,a,c,f,g,e){g.copyDenormalizedBindings(d,f.outCache,function(h){for(var k=[],v=0;v<d.length;v++){var n=QueryFilters.runFilter(b,h[v],g,c,f),n=QueryFilters.ebv(n);QueryFilters.isEbvError(n)?a&&(n={__nullify__:!0,bindings:d[v]},k.push(n)):!0===n?k.push(d[v]):
a&&(n={__nullify__:!0,bindings:d[v]},k.push(n))}e(k)})},collect:function(b,d,a,c,f,g){f.copyDenormalizedBindings(d,c.outCache,function(e){for(var h=[],k=0;k<e.length;k++){var v=QueryFilters.runFilter(b,e[k],f,a,c);h.push({binding:d[k],value:v})}return g(h)})},runDistinct:function(b,d){},runAggregator:function(b,d,a,c,f){if(null==d||0===d.length)return QueryFilters.ebvError();if("variable"===b.token&&"var"==b.kind)return d[0][b.value.value];if("variable"===b.token&&"aliased"===b.kind){if("atomic"===
b.expression.expressionType&&"var"===b.expression.primaryexpression)return d[0][b.expression.value.value];if("aggregate"===b.expression.expressionType){if("max"===b.expression.aggregateType){for(var g=null,e=0;e<d.length;e++){var h=d[e],h=QueryFilters.runFilter(b.expression.expression,h,a,c,f);QueryFilters.isEbvError(h)||(null===g?g=h:!0===QueryFilters.runLtFunction(g,h).value&&(g=h))}return null===g?QueryFilters.ebvError():g}if("min"===b.expression.aggregateType){g=null;for(e=0;e<d.length;e++)h=
d[e],h=QueryFilters.runFilter(b.expression.expression,h,a,c,f),QueryFilters.isEbvError(h)||(null===g?g=h:!0===QueryFilters.runGtFunction(g,h).value&&(g=h));return null===g?QueryFilters.ebvError():g}if("count"===b.expression.aggregateType){var g={},l=0;if("*"===b.expression.expression)if(null!=b.expression.distinct&&""!=b.expression.distinct)for(e=0;e<d.length;e++){var h=d[e],v=k.hashTerm(h);null==g[v]&&(g[v]=!0,l++)}else l=d.length;else for(e=0;e<d.length;e++)h=d[e],h=QueryFilters.runFilter(b.expression.expression,
h,a,c,f),QueryFilters.isEbvError(h)||(null!=b.expression.distinct&&""!=b.expression.distinct?(v=k.hashTerm(h),null==g[v]&&(g[v]=!0,l++)):l++);return{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:""+l}}if("avg"===b.expression.aggregateType){for(var g={},n={token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:"0"},e=l=0;e<d.length;e++)h=d[e],h=QueryFilters.runFilter(b.expression.expression,h,a,c,f),QueryFilters.isEbvError(h)||(null!=b.expression.distinct&&""!=
b.expression.distinct?(v=k.hashTerm(h),null==g[v]&&(g[v]=!0,QueryFilters.isNumeric(h)&&(n=QueryFilters.runSumFunction(n,h),l++))):QueryFilters.isNumeric(h)&&(n=QueryFilters.runSumFunction(n,h),l++));b=QueryFilters.runDivFunction(n,{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:""+l});b.value=""+b.value;return b}if("sum"===b.expression.aggregateType){g={};n={token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:"0"};for(e=0;e<d.length;e++)h=d[e],h=QueryFilters.runFilter(b.expression.expression,
h,a,c,f),QueryFilters.isEbvError(h)||(null!=b.expression.distinct&&""!=b.expression.distinct?(v=k.hashTerm(h),null==g[v]&&(g[v]=!0,QueryFilters.isNumeric(h)&&(n=QueryFilters.runSumFunction(n,h)))):QueryFilters.isNumeric(h)&&(n=QueryFilters.runSumFunction(n,h)));n.value=""+n.value;return n}return h=QueryFilters.runFilter(aggregate.expression,d[0],c,{blanks:{},outCache:{}})}}},runFilter:function(b,d,a,c,f){if(null!=b.expressionType){var g=b.expressionType;if("relationalexpression"==g){var g=QueryFilters.runFilter(b.op1,
d,a,c,f),e=QueryFilters.runFilter(b.op2,d,a,c,f);return QueryFilters.runRelationalFilter(b,g,e,d,a,c,f)}if("conditionalor"==g)return QueryFilters.runOrFunction(b,d,a,c,f);if("conditionaland"==g)return QueryFilters.runAndFunction(b,d,a,c,f);if("additiveexpression"==g)return QueryFilters.runAddition(b.summand,b.summands,d,a,c,f);if("builtincall"==g)return QueryFilters.runBuiltInCall(b.builtincall,b.args,d,a,c,f);if("multiplicativeexpression"==g)return QueryFilters.runMultiplication(b.factor,b.factors,
d,a,c,f);if("unaryexpression"==g)return QueryFilters.runUnaryExpression(b.unaryexpression,b.expression,d,a,c,f);if("irireforfunction"==g)return QueryFilters.runIriRefOrFunction(b.iriref,b.args,d,a,c,f);if("regex"==g)return QueryFilters.runRegex(b.text,b.pattern,b.flags,d,a,c,f);if("custom"==g)return QueryFilters.runBuiltInCall(b.name,b.args,d,a,c,f);if("atomic"==g){if("var"==b.primaryexpression)return d[b.value.value];"object"==typeof b.value&&null!=b.value.type&&"object"==typeof b.value.type&&(b.value.type=
k.lexicalFormBaseUri(b.value.type,f));return b.value}throw"Unknown filter expression type";}throw"Cannot find bound expressions in a no expression token";},isRDFTerm:function(b){return null==b?!1:b.token&&"literal"==b.token||b.token&&"uri"==b.token||b.token&&"blank"==b.token?!0:!1},RDFTermEquality:function(b,d,a,c){return"literal"===b.token&&"literal"===d.token?b.lang==d.lang&&b.type==d.type&&b.value==d.value?!0:null!=b.type&&null!=d.type?QueryFilters.ebvError():QueryFilters.isSimpleLiteral(b)&&null!=
d.type?QueryFilters.ebvError():QueryFilters.isSimpleLiteral(d)&&null!=b.type?QueryFilters.ebvError():!1:"uri"===b.token&&"uri"===d.token?k.lexicalFormBaseUri(b,c)==k.lexicalFormBaseUri(d,c):"blank"===b.token&&"blank"===d.token?b.value==d.value:!1},isInteger:function(b){return null==b?!1:"literal"===b.token?"http://www.w3.org/2001/XMLSchema#integer"==b.type||"http://www.w3.org/2001/XMLSchema#decimal"==b.type||"http://www.w3.org/2001/XMLSchema#double"==b.type||"http://www.w3.org/2001/XMLSchema#nonPositiveInteger"==
b.type||"http://www.w3.org/2001/XMLSchema#negativeInteger"==b.type||"http://www.w3.org/2001/XMLSchema#long"==b.type||"http://www.w3.org/2001/XMLSchema#int"==b.type||"http://www.w3.org/2001/XMLSchema#short"==b.type||"http://www.w3.org/2001/XMLSchema#byte"==b.type||"http://www.w3.org/2001/XMLSchema#nonNegativeInteger"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedLong"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedInt"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedShort"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedByte"==
b.type||"http://www.w3.org/2001/XMLSchema#positiveInteger"==b.type?!0:!1:!1},isFloat:function(b){return null==b?!1:"literal"===b.token?"http://www.w3.org/2001/XMLSchema#float"==b.type?!0:!1:!1},isDecimal:function(b){return null==b?!1:"literal"===b.token?"http://www.w3.org/2001/XMLSchema#decimal"==b.type?!0:!1:!1},isDouble:function(b){return null==b?!1:"literal"===b.token?"http://www.w3.org/2001/XMLSchema#double"==b.type?!0:!1:!1},isNumeric:function(b){return null==b?!1:"literal"===b.token?"http://www.w3.org/2001/XMLSchema#integer"==
b.type||"http://www.w3.org/2001/XMLSchema#decimal"==b.type||"http://www.w3.org/2001/XMLSchema#float"==b.type||"http://www.w3.org/2001/XMLSchema#double"==b.type||"http://www.w3.org/2001/XMLSchema#nonPositiveInteger"==b.type||"http://www.w3.org/2001/XMLSchema#negativeInteger"==b.type||"http://www.w3.org/2001/XMLSchema#long"==b.type||"http://www.w3.org/2001/XMLSchema#int"==b.type||"http://www.w3.org/2001/XMLSchema#short"==b.type||"http://www.w3.org/2001/XMLSchema#byte"==b.type||"http://www.w3.org/2001/XMLSchema#nonNegativeInteger"==
b.type||"http://www.w3.org/2001/XMLSchema#unsignedLong"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedInt"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedShort"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedByte"==b.type||"http://www.w3.org/2001/XMLSchema#positiveInteger"==b.type?!0:!1:!1},isSimpleLiteral:function(b){return b&&"literal"==b.token?null==b.type&&null==b.lang?!0:!1:!1},isXsdType:function(b,d){return d&&"literal"==d.token?d.type=="http://www.w3.org/2001/XMLSchema#"+b:!1},
ebv:function(b){if(null==b||QueryFilters.isEbvError(b))return QueryFilters.ebvError();if(b.token&&"literal"===b.token){if("http://www.w3.org/2001/XMLSchema#integer"==b.type||"http://www.w3.org/2001/XMLSchema#decimal"==b.type||"http://www.w3.org/2001/XMLSchema#double"==b.type||"http://www.w3.org/2001/XMLSchema#nonPositiveInteger"==b.type||"http://www.w3.org/2001/XMLSchema#negativeInteger"==b.type||"http://www.w3.org/2001/XMLSchema#long"==b.type||"http://www.w3.org/2001/XMLSchema#int"==b.type||"http://www.w3.org/2001/XMLSchema#short"==
b.type||"http://www.w3.org/2001/XMLSchema#byte"==b.type||"http://www.w3.org/2001/XMLSchema#nonNegativeInteger"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedLong"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedInt"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedShort"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedByte"==b.type||"http://www.w3.org/2001/XMLSchema#positiveInteger"==b.type){var d=parseFloat(b.value);return isNaN(d)?!1:0!=parseFloat(b.value)}return"http://www.w3.org/2001/XMLSchema#boolean"===
b.type?"true"===b.value||!0===b.value||"True"===b.value:"http://www.w3.org/2001/XMLSchema#string"===b.type?""!=b.value:"http://www.w3.org/2001/XMLSchema#dateTime"===b.type?!0:QueryFilters.isEbvError(b)?b:null==b.type?""!=b.value?!0:!1:QueryFilters.ebvError()}return!0===b.value}};QueryFilters.effectiveBooleanValue=QueryFilters.ebv;QueryFilters.ebvTrue=function(){return{token:"literal",type:"http://www.w3.org/2001/XMLSchema#boolean",value:!0}};QueryFilters.ebvFalse=function(){return{token:"literal",
type:"http://www.w3.org/2001/XMLSchema#boolean",value:!1}};QueryFilters.ebvError=function(){return{token:"literal",type:"https://github.com/antoniogarrote/js-tools/types#error",value:null}};QueryFilters.isEbvError=function(b){return"object"==typeof b&&null!=b?"https://github.com/antoniogarrote/js-tools/types#error"===b.type:!1};QueryFilters.ebvBoolean=function(b){return QueryFilters.isEbvError(b)?b:!0===b?QueryFilters.ebvTrue():QueryFilters.ebvFalse()};QueryFilters.runRelationalFilter=function(b,
d,a,c,f,g,e){b=b.operator;if("="===b)return QueryFilters.runEqualityFunction(d,a,c,f,g,e);if("!="===b)return d=QueryFilters.runEqualityFunction(d,a,c,f,g,e),QueryFilters.isEbvError(d)||(d.value=!d.value),d;if("<"===b)return QueryFilters.runLtFunction(d,a,c);if(">"===b)return QueryFilters.runGtFunction(d,a,c);if("<="===b)return QueryFilters.runLtEqFunction(d,a,c);if(">="===b)return QueryFilters.runGtEqFunction(d,a,c);throw"Error applying relational filter, unknown operator";};QueryFilters.effectiveTypeValue=
function(b){if("literal"==b.token){if("http://www.w3.org/2001/XMLSchema#integer"==b.type)return b=parseInt(b.value);if("http://www.w3.org/2001/XMLSchema#decimal"==b.type||"http://www.w3.org/2001/XMLSchema#float"==b.type||"http://www.w3.org/2001/XMLSchema#double"==b.type||"http://www.w3.org/2001/XMLSchema#nonPositiveInteger"==b.type)return b=parseFloat(b.value);if("http://www.w3.org/2001/XMLSchema#negativeInteger"==b.type||"http://www.w3.org/2001/XMLSchema#long"==b.type||"http://www.w3.org/2001/XMLSchema#int"==
b.type||"http://www.w3.org/2001/XMLSchema#short"==b.type||"http://www.w3.org/2001/XMLSchema#byte"==b.type||"http://www.w3.org/2001/XMLSchema#nonNegativeInteger"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedLong"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedInt"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedShort"==b.type||"http://www.w3.org/2001/XMLSchema#unsignedByte"==b.type||"http://www.w3.org/2001/XMLSchema#positiveInteger"==b.type)return b=parseInt(b.value);if("http://www.w3.org/2001/XMLSchema#date"==
b.type||"http://www.w3.org/2001/XMLSchema#dateTime"==b.type)try{return k.parseISO8601(b.value)}catch(d){return null}else return"http://www.w3.org/2001/XMLSchema#boolean"==b.type?!0===b.value||"true"===b.value||"1"===b.value||1===b.value||!0===b.value?!0:!1===b.value||"false"===b.value||"0"===b.value||0===b.value||!1===b.value?!1:void 0:"http://www.w3.org/2001/XMLSchema#string"==b.type?null===b.value||void 0===b.value?void 0:""+b.value:b.value}else throw console.log("not implemented yet"),console.log(b),
"value not supported in operations yet";};QueryFilters.runOrFunction=function(b,d,a,c,f){for(var g=null,e=0;e<b.operands.length;e++){var h=QueryFilters.runFilter(b.operands[e],d,a,c,f);0==QueryFilters.isEbvError(h)&&(h=QueryFilters.ebv(h));null==g?g=h:QueryFilters.isEbvError(h)?g=QueryFilters.isEbvError(g)?QueryFilters.ebvError():!0===g?!0:QueryFilters.ebvError():!0===h?g=!0:QueryFilters.isEbvError(g)&&(g=QueryFilters.ebvError())}return QueryFilters.ebvBoolean(g)};QueryFilters.runAndFunction=function(b,
d,a,c,f){for(var g=null,e=0;e<b.operands.length;e++){var h=QueryFilters.runFilter(b.operands[e],d,a,c,f);0==QueryFilters.isEbvError(h)&&(h=QueryFilters.ebv(h));null==g?g=h:QueryFilters.isEbvError(h)?g=QueryFilters.isEbvError(g)?QueryFilters.ebvError():!0===g?QueryFilters.ebvError():!1:!0===h?QueryFilters.isEbvError(g)&&(g=QueryFilters.ebvError()):g=!1}return QueryFilters.ebvBoolean(g)};QueryFilters.runEqualityFunction=function(b,d,a,c,f,g){if(QueryFilters.isEbvError(b)||QueryFilters.isEbvError(d))return QueryFilters.ebvError();
if(QueryFilters.isNumeric(b)&&QueryFilters.isNumeric(d))return a=QueryFilters.effectiveTypeValue(b),f=QueryFilters.effectiveTypeValue(d),isNaN(a)||isNaN(f)?QueryFilters.ebvBoolean(QueryFilters.RDFTermEquality(b,d,c,g)):QueryFilters.ebvBoolean(a==f);if((QueryFilters.isSimpleLiteral(b)||QueryFilters.isXsdType("string",b))&&(QueryFilters.isSimpleLiteral(d)||QueryFilters.isXsdType("string",d))||QueryFilters.isXsdType("boolean",b)&&QueryFilters.isXsdType("boolean",d))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(b)==
QueryFilters.effectiveTypeValue(d));if((QueryFilters.isXsdType("dateTime",b)||QueryFilters.isXsdType("date",b))&&(QueryFilters.isXsdType("dateTime",d)||QueryFilters.isXsdType("date",d))){if(QueryFilters.isXsdType("dateTime",b)&&QueryFilters.isXsdType("date",d)||QueryFilters.isXsdType("date",b)&&QueryFilters.isXsdType("dateTime",d))return QueryFilters.ebvFalse();b=k.compareDateComponents(b.value,d.value);return null!=b?0==b?QueryFilters.ebvTrue():QueryFilters.ebvFalse():QueryFilters.ebvError()}return QueryFilters.isRDFTerm(b)&&
QueryFilters.isRDFTerm(d)?QueryFilters.ebvBoolean(QueryFilters.RDFTermEquality(b,d,c,g)):QueryFilters.ebvFalse()};QueryFilters.runGtFunction=function(b,d,a){if(QueryFilters.isEbvError(b)||QueryFilters.isEbvError(d))return QueryFilters.ebvError();if(QueryFilters.isNumeric(b)&&QueryFilters.isNumeric(d)||QueryFilters.isSimpleLiteral(b)&&QueryFilters.isSimpleLiteral(d)||QueryFilters.isXsdType("string",b)&&QueryFilters.isXsdType("string",d)||QueryFilters.isXsdType("boolean",b)&&QueryFilters.isXsdType("boolean",
d))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(b)>QueryFilters.effectiveTypeValue(d));if((QueryFilters.isXsdType("dateTime",b)||QueryFilters.isXsdType("date",b))&&(QueryFilters.isXsdType("dateTime",d)||QueryFilters.isXsdType("date",d))){if(QueryFilters.isXsdType("dateTime",b)&&QueryFilters.isXsdType("date",d)||QueryFilters.isXsdType("date",b)&&QueryFilters.isXsdType("dateTime",d))return QueryFilters.ebvFalse();b=k.compareDateComponents(b.value,d.value);return null!=b?1==b?QueryFilters.ebvTrue():
QueryFilters.ebvFalse():QueryFilters.ebvError()}return QueryFilters.ebvFalse()};QueryFilters.runTotalGtFunction=function(b,d){return QueryFilters.isEbvError(b)||QueryFilters.isEbvError(d)?QueryFilters.ebvError():QueryFilters.isNumeric(b)&&QueryFilters.isNumeric(d)||QueryFilters.isSimpleLiteral(b)&&QueryFilters.isSimpleLiteral(d)||QueryFilters.isXsdType("string",b)&&QueryFilters.isSimpleLiteral("string",d)||QueryFilters.isXsdType("boolean",b)&&QueryFilters.isSimpleLiteral("boolean",d)||QueryFilters.isXsdType("dateTime",
b)&&QueryFilters.isSimpleLiteral("dateTime",d)?QueryFilters.runGtFunction(b,d,[]):b.token&&"uri"===b.token&&d.token&&"uri"===d.token?QueryFilters.ebvBoolean(b.value>d.value):b.token&&"literal"===b.token&&d.token&&"literal"===d.token?QueryFilters.ebvBoolean(""+b.value+b.type+b.lang>""+d.value+d.type+d.lang):b.token&&"blank"===b.token&&d.token&&"blank"===d.token?QueryFilters.ebvBoolean(b.value>d.value):b.value&&d.value?QueryFilters.ebvBoolean(b.value>d.value):QueryFilters.ebvTrue()};QueryFilters.runLtFunction=
function(b,d,a){if(QueryFilters.isEbvError(b)||QueryFilters.isEbvError(d))return QueryFilters.ebvError();if(QueryFilters.isNumeric(b)&&QueryFilters.isNumeric(d)||QueryFilters.isSimpleLiteral(b)&&QueryFilters.isSimpleLiteral(d)||QueryFilters.isXsdType("string",b)&&QueryFilters.isXsdType("string",d)||QueryFilters.isXsdType("boolean",b)&&QueryFilters.isXsdType("boolean",d))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(b)<QueryFilters.effectiveTypeValue(d));if((QueryFilters.isXsdType("dateTime",
b)||QueryFilters.isXsdType("date",b))&&(QueryFilters.isXsdType("dateTime",d)||QueryFilters.isXsdType("date",d))){if(QueryFilters.isXsdType("dateTime",b)&&QueryFilters.isXsdType("date",d)||QueryFilters.isXsdType("date",b)&&QueryFilters.isXsdType("dateTime",d))return QueryFilters.ebvFalse();b=k.compareDateComponents(b.value,d.value);return null!=b?-1==b?QueryFilters.ebvTrue():QueryFilters.ebvFalse():QueryFilters.ebvError()}return QueryFilters.ebvFalse()};QueryFilters.runGtEqFunction=function(b,d,a){if(QueryFilters.isEbvError(b)||
QueryFilters.isEbvError(d))return QueryFilters.ebvError();if(QueryFilters.isNumeric(b)&&QueryFilters.isNumeric(d)||QueryFilters.isSimpleLiteral(b)&&QueryFilters.isSimpleLiteral(d)||QueryFilters.isXsdType("string",b)&&QueryFilters.isXsdType("string",d)||QueryFilters.isXsdType("boolean",b)&&QueryFilters.isXsdType("boolean",d))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(b)>=QueryFilters.effectiveTypeValue(d));if((QueryFilters.isXsdType("dateTime",b)||QueryFilters.isXsdType("date",
b))&&(QueryFilters.isXsdType("dateTime",d)||QueryFilters.isXsdType("date",d))){if(QueryFilters.isXsdType("dateTime",b)&&QueryFilters.isXsdType("date",d)||QueryFilters.isXsdType("date",b)&&QueryFilters.isXsdType("dateTime",d))return QueryFilters.ebvFalse();b=k.compareDateComponents(b.value,d.value);return null!=b?-1!=b?QueryFilters.ebvTrue():QueryFilters.ebvFalse():QueryFilters.ebvError()}return QueryFilters.ebvFalse()};QueryFilters.runLtEqFunction=function(b,d,a){if(QueryFilters.isEbvError(b)||QueryFilters.isEbvError(d))return QueryFilters.ebvError();
if(QueryFilters.isNumeric(b)&&QueryFilters.isNumeric(d)||QueryFilters.isSimpleLiteral(b)&&QueryFilters.isSimpleLiteral(d)||QueryFilters.isXsdType("string",b)&&QueryFilters.isXsdType("string",d)||QueryFilters.isXsdType("boolean",b)&&QueryFilters.isXsdType("boolean",d))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(b)<=QueryFilters.effectiveTypeValue(d));if((QueryFilters.isXsdType("dateTime",b)||QueryFilters.isXsdType("date",b))&&(QueryFilters.isXsdType("dateTime",d)||QueryFilters.isXsdType("date",
d))){if(QueryFilters.isXsdType("dateTime",b)&&QueryFilters.isXsdType("date",d)||QueryFilters.isXsdType("date",b)&&QueryFilters.isXsdType("dateTime",d))return QueryFilters.ebvFalse();b=k.compareDateComponents(b.value,d.value);return null!=b?1!=b?QueryFilters.ebvTrue():QueryFilters.ebvFalse():QueryFilters.ebvError()}return QueryFilters.ebvFalse()};QueryFilters.runAddition=function(b,d,a,c,f,g){var e=QueryFilters.runFilter(b,a,c,f,g);if(QueryFilters.isEbvError(e))return QueryFilters.ebvError();b=e;if(QueryFilters.isNumeric(e)){for(e=
0;e<d.length;e++){var h=QueryFilters.runFilter(d[e].expression,a,c,f,g);if(QueryFilters.isNumeric(h))"+"===d[e].operator?b=QueryFilters.runSumFunction(b,h):"-"===d[e].operator&&(b=QueryFilters.runSubFunction(b,h));else return QueryFilters.ebvFalse()}return b}return QueryFilters.ebvFalse()};QueryFilters.runSumFunction=function(b,d){if(QueryFilters.isEbvError(b)||QueryFilters.isEbvError(d))return QueryFilters.ebvError();var a=QueryFilters.effectiveTypeValue(b)+QueryFilters.effectiveTypeValue(d);return QueryFilters.isDouble(b)||
QueryFilters.isDouble(d)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:a}:QueryFilters.isFloat(b)||QueryFilters.isFloat(d)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",value:a}:QueryFilters.isDecimal(b)||QueryFilters.isDecimal(d)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",value:a}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:a}};QueryFilters.runSubFunction=function(b,d){if(QueryFilters.isEbvError(b)||QueryFilters.isEbvError(d))return QueryFilters.ebvError();
var a=QueryFilters.effectiveTypeValue(b)-QueryFilters.effectiveTypeValue(d);return QueryFilters.isDouble(b)||QueryFilters.isDouble(d)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:a}:QueryFilters.isFloat(b)||QueryFilters.isFloat(d)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",value:a}:QueryFilters.isDecimal(b)||QueryFilters.isDecimal(d)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",value:a}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",
value:a}};QueryFilters.runMultiplication=function(b,d,a,c,f,g){b=QueryFilters.runFilter(b,a,c,f,g);if(QueryFilters.isEbvError(b))return b;var e=b;if(QueryFilters.isNumeric(b)){for(var h=0;h<d.length;h++){var k=QueryFilters.runFilter(d[h].expression,a,c,f,g);if(QueryFilters.isEbvError(k))return b;if(QueryFilters.isNumeric(k))"*"===d[h].operator?e=QueryFilters.runMulFunction(e,k):"/"===d[h].operator&&(e=QueryFilters.runDivFunction(e,k));else return QueryFilters.ebvFalse()}return e}return QueryFilters.ebvFalse()};
QueryFilters.runMulFunction=function(b,d){if(QueryFilters.isEbvError(b)||QueryFilters.isEbvError(d))return QueryFilters.ebvError();var a=QueryFilters.effectiveTypeValue(b)*QueryFilters.effectiveTypeValue(d);return QueryFilters.isDouble(b)||QueryFilters.isDouble(d)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:a}:QueryFilters.isFloat(b)||QueryFilters.isFloat(d)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",value:a}:QueryFilters.isDecimal(b)||QueryFilters.isDecimal(d)?
{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",value:a}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:a}};QueryFilters.runDivFunction=function(b,d){if(QueryFilters.isEbvError(b)||QueryFilters.isEbvError(d))return QueryFilters.ebvError();var a=QueryFilters.effectiveTypeValue(b)/QueryFilters.effectiveTypeValue(d);return QueryFilters.isDouble(b)||QueryFilters.isDouble(d)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:a}:QueryFilters.isFloat(b)||
QueryFilters.isFloat(d)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",value:a}:QueryFilters.isDecimal(b)||QueryFilters.isDecimal(d)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",value:a}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:a}};QueryFilters.runBuiltInCall=function(b,d,a,c,f,g){if("notexists"===b||"exists"===b){var e=k.clone(d[0],!0),e=c.abstractQueryTree.parseSelect({pattern:e},a),e=c.abstractQueryTree.bind(e.pattern,a);a=c.executeSelectUnit([{kind:"*"}],
f,e,g);return"exists"===b?QueryFilters.ebvBoolean(0!==a.length):QueryFilters.ebvBoolean(0===a.length)}for(var e=[],h=0;h<d.length;h++)if("var"===d[h].token)e.push(d[h]);else{var l=QueryFilters.runFilter(d[h],a,c,f,g);if(QueryFilters.isEbvError(l))return l;e.push(l)}if("str"===b)return"literal"===e[0].token?{token:"literal",type:null,value:""+e[0].value}:"uri"===e[0].token?{token:"literal",type:null,value:e[0].value}:QueryFilters.ebvFalse();if("lang"===b)return"literal"===e[0].token?null!=e[0].lang?
{token:"literal",value:""+e[0].lang}:{token:"literal",value:""}:QueryFilters.ebvError();if("datatype"===b)return"literal"===e[0].token?(b=e[0],null!=b.type?"string"===typeof b.type?{token:"uri",value:b.type,prefix:null,suffix:null}:b.type:null==b.lang?{token:"uri",value:"http://www.w3.org/2001/XMLSchema#string",prefix:null,suffix:null}:QueryFilters.ebvError()):QueryFilters.ebvError();if("isliteral"===b)return"literal"===e[0].token?QueryFilters.ebvTrue():QueryFilters.ebvFalse();if("isblank"===b)return"blank"===
e[0].token?QueryFilters.ebvTrue():QueryFilters.ebvFalse();if("isuri"===b||"isiri"===b)return"uri"===e[0].token?QueryFilters.ebvTrue():QueryFilters.ebvFalse();if("sameterm"===b)return b=QueryFilters.RDFTermEquality(e[0],e[1],c,g),QueryFilters.isEbvError(b)&&(b=!1),QueryFilters.ebvBoolean(b);if("langmatches"===b)return b=e[0],a=e[1],"literal"===b.token&&"literal"===a.token?"*"===a.value&&""!=b.value?QueryFilters.ebvTrue():QueryFilters.ebvBoolean(0===b.value.toLowerCase().indexOf(a.value.toLowerCase())):
QueryFilters.ebvError();if("bound"===b)return b=e[0].value,null==b?QueryFilters.ebvError():null!=a[b]?QueryFilters.ebvTrue():QueryFilters.ebvFalse();if(null!=c.customFns[b])return c.customFns[b](QueryFilters,e);throw"Builtin call "+b+" not implemented yet";};QueryFilters.runUnaryExpression=function(b,d,a,c,f,g){d=QueryFilters.runFilter(d,a,c,f,g);if(QueryFilters.isEbvError(d))return d;if("!"===b){var e=QueryFilters.ebv(d);return QueryFilters.isEbvError(e)?QueryFilters.ebvFalse():QueryFilters.ebvBoolean(!e)}if("+"===
b)return QueryFilters.isNumeric(d)?d:QueryFilters.ebvError();if("-"===b){if(QueryFilters.isNumeric(d)){b={};for(e in d)b[e]=d[e];b.value=-b.value;return b}return QueryFilters.ebvError()}};QueryFilters.runRegex=function(b,d,a,c,f,g,e){if(null!=b)b=QueryFilters.runFilter(b,c,f,g,e);else return QueryFilters.ebvError();if(null!=d)d=QueryFilters.runFilter(d,c,f,g,e);else return QueryFilters.ebvError();null!=a&&(a=QueryFilters.runFilter(a,c,f,g,e));if(null==d||"literal"!==d.token||null!=a&&"literal"!==
a.token)return QueryFilters.ebvError();d=d.value;a=null==a?null:a.value;if(null!=b&&"var"==b.token)if(null!=c[b.value])b=c[b.value];else return QueryFilters.ebvError();else if(null!=b&&"literal"===b.token)if(null==b.type||QueryFilters.isXsdType("string",b))b=b.value;else return QueryFilters.ebvError();else return QueryFilters.ebvError();return(null==a?new RegExp(d):new RegExp(d,a.toLowerCase())).exec(b)?QueryFilters.ebvTrue():QueryFilters.ebvFalse()};QueryFilters.normalizeLiteralDatatype=function(b,
d,a){null!=b.value.type&&"object"==typeof b.value.type&&(b.value.type=k.lexicalFormBaseUri(b.value.type,a));return b};QueryFilters.runIriRefOrFunction=function(b,d,a,c,f,g){if(null==d)return b;for(var e=[],h=0;h<d.length;h++)e.push(QueryFilters.runFilter(d[h],a,c,f,g));b=k.lexicalFormBaseUri(b,g);if("http://www.w3.org/2001/XMLSchema#integer"==b||"http://www.w3.org/2001/XMLSchema#decimal"==b||"http://www.w3.org/2001/XMLSchema#double"==b||"http://www.w3.org/2001/XMLSchema#nonPositiveInteger"==b||"http://www.w3.org/2001/XMLSchema#negativeInteger"==
b||"http://www.w3.org/2001/XMLSchema#long"==b||"http://www.w3.org/2001/XMLSchema#int"==b||"http://www.w3.org/2001/XMLSchema#short"==b||"http://www.w3.org/2001/XMLSchema#byte"==b||"http://www.w3.org/2001/XMLSchema#nonNegativeInteger"==b||"http://www.w3.org/2001/XMLSchema#unsignedLong"==b||"http://www.w3.org/2001/XMLSchema#unsignedInt"==b||"http://www.w3.org/2001/XMLSchema#unsignedShort"==b||"http://www.w3.org/2001/XMLSchema#unsignedByte"==b||"http://www.w3.org/2001/XMLSchema#positiveInteger"==b)if(e=
e[0],"literal"===e.token){e=QueryFilters.normalizeLiteralDatatype(e,c,g);if("http://www.w3.org/2001/XMLSchema#integer"==e.type||"http://www.w3.org/2001/XMLSchema#decimal"==e.type||"http://www.w3.org/2001/XMLSchema#double"==e.type||"http://www.w3.org/2001/XMLSchema#nonPositiveInteger"==e.type||"http://www.w3.org/2001/XMLSchema#negativeInteger"==e.type||"http://www.w3.org/2001/XMLSchema#long"==e.type||"http://www.w3.org/2001/XMLSchema#int"==e.type||"http://www.w3.org/2001/XMLSchema#short"==e.type||
"http://www.w3.org/2001/XMLSchema#byte"==e.type||"http://www.w3.org/2001/XMLSchema#nonNegativeInteger"==e.type||"http://www.w3.org/2001/XMLSchema#unsignedLong"==e.type||"http://www.w3.org/2001/XMLSchema#unsignedInt"==e.type||"http://www.w3.org/2001/XMLSchema#unsignedShort"==e.type||"http://www.w3.org/2001/XMLSchema#unsignedByte"==e.type||"http://www.w3.org/2001/XMLSchema#positiveInteger"==e.type)return e.type=b,e;if("http://www.w3.org/2001/XMLSchema#boolean"==e.type)return 1==QueryFilters.ebv(e)?
(e.type=b,e.value=1):(e.type=b,e.value=0),e;if("http://www.w3.org/2001/XMLSchema#float"==e.type||"http://www.w3.org/2001/XMLSchema#double"==e.type)return e.type=b,e.value=parseInt(e.value),e;if("http://www.w3.org/2001/XMLSchema#string"==e.type||null==e.type){if(2<e.value.split(".").length||2<e.value.split("-").length||2<e.value.split("/").length||2<e.value.split("+").length||"http://www.w3.org/2001/XMLSchema#decimal"==b&&(-1!=e.value.indexOf("e")||-1!=e.value.indexOf("E")))return QueryFilters.ebvError();
if("http://www.w3.org/2001/XMLSchema#int"==b||"http://www.w3.org/2001/XMLSchema#integer"==b)if(-1!=e.value.indexOf("e")||-1!=e.value.indexOf("E")||-1!=e.value.indexOf("."))return QueryFilters.ebvError();try{e.value=parseInt(parseFloat(e.value));if(isNaN(e.value))return QueryFilters.ebvError();e.type=b;return e}catch(l){return QueryFilters.ebvError()}}else return QueryFilters.ebvError()}else return QueryFilters.ebvError();else{if("http://www.w3.org/2001/XMLSchema#boolean"==b)return e=e[0],"literal"===
e.token&&null==e.type?"true"===e.value||"1"===e.value?QueryFilters.ebvTrue():"false"===e.value||"0"===e.value?QueryFilters.ebvFalse():QueryFilters.ebvError():"literal"===e.token?QueryFilters.isEbvError(e)?e:QueryFilters.ebvBoolean(e):QueryFilters.ebvError();if("http://www.w3.org/2001/XMLSchema#string"==b)return e=e[0],"literal"===e.token?(e=QueryFilters.normalizeLiteralDatatype(e,c,g),"http://www.w3.org/2001/XMLSchema#integer"==e.type||"http://www.w3.org/2001/XMLSchema#decimal"==e.type||"http://www.w3.org/2001/XMLSchema#double"==
e.type||"http://www.w3.org/2001/XMLSchema#nonPositiveInteger"==e.type||"http://www.w3.org/2001/XMLSchema#negativeInteger"==e.type||"http://www.w3.org/2001/XMLSchema#long"==e.type||"http://www.w3.org/2001/XMLSchema#int"==e.type||"http://www.w3.org/2001/XMLSchema#short"==e.type||"http://www.w3.org/2001/XMLSchema#byte"==e.type||"http://www.w3.org/2001/XMLSchema#nonNegativeInteger"==e.type||"http://www.w3.org/2001/XMLSchema#unsignedLong"==e.type||"http://www.w3.org/2001/XMLSchema#unsignedInt"==e.type||
"http://www.w3.org/2001/XMLSchema#unsignedShort"==e.type||"http://www.w3.org/2001/XMLSchema#unsignedByte"==e.type||"http://www.w3.org/2001/XMLSchema#positiveInteger"==e.type||"http://www.w3.org/2001/XMLSchema#float"==e.type?(e.type=b,e.value=""+e.value,e):"http://www.w3.org/2001/XMLSchema#string"==e.type?e:"http://www.w3.org/2001/XMLSchema#boolean"==e.type?(QueryFilters.ebv(e)?(e.type=b,e.value="true"):(e.type=b,e.value="false"),e):"http://www.w3.org/2001/XMLSchema#dateTime"==e.type||"http://www.w3.org/2001/XMLSchema#date"==
e.type?(e.type=b,"string"!=typeof e.value&&(e.value=k.iso8601(e.value)),e):null==e.type?(e.value=""+e.value,e.type=b,e):QueryFilters.ebvError()):"uri"===e.token?{token:"literal",value:k.lexicalFormBaseUri(e,g),type:b,lang:null}:QueryFilters.ebvError();if("http://www.w3.org/2001/XMLSchema#dateTime"==b||"http://www.w3.org/2001/XMLSchema#date"==b){e=e[0];if("http://www.w3.org/2001/XMLSchema#dateTime"==e.type||"http://www.w3.org/2001/XMLSchema#date"==e.type)return e;if("http://www.w3.org/2001/XMLSchema#string"==
e.type||null==e.type)try{return e.value=k.iso8601(k.parseISO8601(e.value)),e.type=b,e}catch(l){return QueryFilters.ebvError()}else return QueryFilters.ebvError()}else if("http://www.w3.org/2001/XMLSchema#float"==b)if(e=e[0],"literal"===e.token){e=QueryFilters.normalizeLiteralDatatype(e,c,g);if("http://www.w3.org/2001/XMLSchema#decimal"==e.type||"http://www.w3.org/2001/XMLSchema#int"==e.type)return e.type=b,e.value=parseFloat(e.value),e;if("http://www.w3.org/2001/XMLSchema#boolean"==e.type)return 1==
QueryFilters.ebv(e)?(e.type=b,e.value=1):(e.type=b,e.value=0),e;if("http://www.w3.org/2001/XMLSchema#float"==e.type||"http://www.w3.org/2001/XMLSchema#double"==e.type)return e.type=b,e.value=parseFloat(e.value),e;if("http://www.w3.org/2001/XMLSchema#string"==e.type)try{e.value=parseFloat(e.value);if(isNaN(e.value))return QueryFilters.ebvError();e.type=b;return e}catch(l){return QueryFilters.ebvError()}else if(null==e.type){if(2<e.value.split(".").length||2<e.value.split("-").length||2<e.value.split("/").length||
2<e.value.split("+").length)return QueryFilters.ebvError();try{e.value=parseFloat(e.value);if(isNaN(e.value))return QueryFilters.ebvError();e.type=b;return e}catch(l){return QueryFilters.ebvError()}}else return QueryFilters.ebvError()}else return QueryFilters.ebvError();else return QueryFilters.ebvError()}};x.exports={QueryFilters:QueryFilters}},{"./utils":59}],55:[function(u,x,y){var k=u("./utils"),r=u("./utils"),b={variablesInBGP:function(b){var a=b.variables;if(a)return a;var c=b.value||b,a=[],
f;for(f in c)c[f]&&"var"===c[f].token?a.push(c[f].value):c[f]&&"blank"===c[f].token&&a.push("blank:"+c[f].value);return b.variables=a},connected:function(b,a){for(var c="/"+b.vars.join("/")+"/",f=0;f<a.vars.length;f++)if(-1!=c.indexOf("/"+a.vars[f]+"/"))return!0;return!1},variablesIntersectionBGP:function(d,a){for(var c=b.variablesInBGP(d),f=b.variablesInBGP(a),g={},e=0;e<c.lenght;e++)g[c[e]]=1;for(e=0;e<f.length;e++)c=g[f[e]]||0,c++,g[f[e]]=c;var f=[],h;for(h in g)2==g[h]&&f.push(g[h]);return f},
executeAndBGPsGroups:function(d){for(var a={},c={},f=0,g=function(a,b){for(var c=0;c<a.length;c++)if(-1!=b.indexOf("/"+a[c]+"/"))return!0;return!1},e=function(b,d,e,f){var g=[],h="",k="",l;for(l in d)h+=l,g=g.concat(a[l]),k+=c[l];k=k+t.join("/")+"/";g.push(b);e[h]=g;f[h]=k},h=0;h<d.length;h++){var l=d[h],v={},n={},t=b.variablesInBGP(l),r={},w;for(w in c)g(t,c[w])?r[w]=!0:(v[w]=a[w],n[w]=c[w]);0===k.size(r)?(v["g"+f]=[l],n["g"+f]="/"+t.join("/")+"/",f++):e(l,r,v,n);a=v;c=n}return k.values(a)},intersectionSize:function(b,
a){for(var c=a.i.split("_"),f=0;f<c.length;f++)if(""!=c[f]&&-1!=b.i.indexOf("_"+c[f]+"_"))return 1;return 0},createJoinTree:function(b,a){for(var c="/"+b.vars.join("/")+"/",f=b.vars.concat([]),g=[],e=0;e<a.vars.length;e++)-1!=c.indexOf("/"+a.vars[e]+"/")?0==a.vars[e].indexOf("_:")?g.push("blank:"+a.vars[e]):g.push(a.vars[e]):f.push(a.vars[e]);for(var c=a.i.split("_"),h=b.i.split("_"),l={},e=0;e<c.length;e++)""!=c[e]&&(l[c[e]]=!0);for(e=0;e<h.length;e++)""!=h[e]&&(l[h[e]]=!0);e=k.keys(l);return{left:b,
right:a,cost:b.cost+a.cost,i:"_"+e.sort().join("_")+"_",vars:f,join:g}},executeBushyTree:function(d,a,c,f,g){null==d.left?b.executeEmptyJoinBGP(d.right,a,c,f,g):null==d.right?b.executeEmptyJoinBGP(d.left,a,c,f,g):b.executeBushyTree(d.left,a,c,f,function(e){null!=e?b.executeBushyTree(d.right,a,c,f,function(a){null!=a?g(b.joinBindings2(d.join,e,a)):g(null)}):g(null)})},executeAndBGPsDPSize:function(d,a,c,f,g){d=b.executeAndBGPsGroups(d);var e=[];r.eachSeries(d,function(a,d){c.computeCosts(a,f,function(a){var c=
{},f={},g={},h=1,k=null,r={};g["1"]=[];for(var u=0;u<a.length;u++){h=[];delete a[u].variables;for(var x in a[u])"_cost"!=x&&("var"===a[u][x].token?h.push(a[u][x].value):"blank"===a[u][x].token&&h.push(a[u][x].value));f["_"+u+"_"]={left:a[u],right:null,cost:a[u]._cost,i:"_"+u+"_",vars:h};h={left:a[u],right:null,cost:a[u]._cost,i:"_"+u+"_",vars:h};c["_"+u+"_"]=h;delete a[u]._cost;r["_"+u+"_"]=!0;g["1"].push("_"+u+"_");if(null==k||k.cost>h.cost)k=h}for(x=2;x<=a.length;x++)for(var y=1;y<x;y++)for(var q=
g[""+y]||[],m=g[""+(x-y)]||[],u=0;u<q.length;u++)for(var B=0;B<m.length;B++)if(q[u]!==m[B]){var C=f[q[u]],z=f[m[B]];if(0==b.intersectionSize(C,z)&&b.connected(C,z)&&(h=x,C=b.createJoinTree(c[C.i],c[z.i]),!r[C.i])){r[C.i]=!0;z=C.cost+1;null!=c[C.i]&&(z=c[C.i].cost);var O=g[x]||[];O.push(C.i);f[C.i]=C;g[x]=O;z>C.cost&&(h===x&&(k=C),c[C.i]=C)}}e.push(k);d()})},function(){var d=null;r.eachSeries(e,function(e,g){b.executeBushyTree(e,a,c,f,function(a){a?(d=null==d?a:b.crossProductBindings(d,a),g()):g("Error executing bushy tree")})},
function(a){a?g(null,a):g(d)})})},executeEmptyJoinBGP:function(d,a,c,f,g){return b.executeBGPDatasets(d,a,c,f,g)},executeBGPDatasets:function(d,a,c,f,g){var e={};if(null==d.graph){var h=[];r.eachSeries(a.implicit,function(a,g){null==e[a.oid]?(e[a.oid]=!0,d.graph=a,c.rangeQuery(d,f,function(a){a=b.buildBindingsFromRange(a,d);h.push(a);g()})):g()},function(){var a=b.unionManyBindings(h);g(a)})}else if("var"===d.graph.token){var k=d.graph.value,h=[];r.eachSeries(a.named,function(a,g){null==e[a.oid]&&
(e[a.oid]=!0,d.graph=a,null!=h?c.rangeQuery(d,f,function(c){if(null!=c){c=b.buildBindingsFromRange(c,d);for(var e=0;e<c.length;e++)c[e][k]=a.oid;h.push(c)}else h=null;g()}):g())},function(){if(null==h)g(null);else{var a=b.unionManyBindings(h);g(a)}})}else c.rangeQuery(d,f,function(a){null!=a?(a=b.buildBindingsFromRange(a,d),g(a)):g(null)})},buildBindingsFromRange:function(d,a){b.variablesInBGP(a);var c=a.value||a,f={};for(r in c)c[r]&&"var"===c[r].token?f[r]=c[r].value:c[r]&&"blank"===c[r].token&&
(f[r]="blank:"+c[r].value);c=[];if(null!=d)for(var g=0;g<d.length;g++){var e={},h=d[g],k=!1,r;for(r in f){var n=h[r];if(null==e[f[r]]||e[f[r]]===n)e[f[r]]=n;else{k=!0;break}}k||c.push(e)}return c},areCompatibleBindings:function(b,a){for(var c in b)if(null!=a[c]&&a[c]!=b[c])return!1;return!0},mergeBindings:function(b,a){var c={},f;for(f in b)c[f]=b[f];for(f in a)c[f]=a[f];return c},joinBindings2:function(d,a,c){for(var f={},g,e,h,k,r=[],n=0;n<a.length;n++){g=a[n];k=f;for(var t=0;t<d.length;t++)e=d[t],
e=g[e],t==d.length-1?(h=k[e]||[],h.push(g),k[e]=h):(h=k[e]||{},k=k[e]=h)}for(n=0;n<c.length;n++)for(g=c[n],k=f,t=0;t<d.length;t++)if(e=d[t],e=g[e],null!=k[e])if(t==d.length-1)for(a=0;a<k[e].length;a++)r.push(b.mergeBindings(k[e][a],g));else k=k[e];return r},joinBindings:function(d,a){for(var c=[],f=0;f<d.length;f++)for(var g=d[f],e=0;e<a.length;e++){var h=a[e];b.areCompatibleBindings(g,h)&&c.push(b.mergeBindings(g,h))}return c},augmentMissingBindings:function(b,a){for(var c in a)null==b[c]&&(b[c]=
null);return b},leftOuterJoinBindings:function(d,a){for(var c=[],f=0;f<d.length;f++){for(var g=d[f],e=!1,h=0;h<a.length;h++){var k=a[h];b.areCompatibleBindings(g,k)&&(e=!0,c.push(b.mergeBindings(g,k)))}!1===e&&(b.augmentMissingBindings(g,k),c.push(g))}return c},crossProductBindings:function(d,a){for(var c=[],f=0;f<d.length;f++)for(var g=d[f],e=0;e<a.length;e++)c.push(b.mergeBindings(g,a[e]));return c},unionBindings:function(b,a){return b.concat(a)},unionManyBindings:function(d){for(var a=[],c=0;c<
d.length;c++)a=b.unionBindings(a,d[c]);return a}};x.exports={QueryPlan:b}},{"./utils":59}],56:[function(u,x,y){var k=u("./network_transport").NetworkTransport,r=u("./rvn3_parser").RVN3Parser,b=u("./jsonld_parser").JSONLDParser,d=u("./utils");y=function(a){this.precedences=["text/turtle","text/n3","application/ld+json","application/json"];this.parsers={"text/turtle":r.parser,"text/n3":r.parser,"application/ld+json":b.parser,"application/json":b.parser};"undefined"!==typeof RDFXMLParser&&(this.precedences.push("application/rdf+xml"),
this.parsers["application/rdf+xml"]=RDFXMLParser.parser);if(null!=a)for(var c in a.parsers)this.parsers[c]=a.parsers[c];if(a&&null!=a.precedences)for(c in this.precedences=a.precedences,a.parsers)d.include(this.precedences,c)||this.precedences.push(c);this.acceptHeaderValue="";for(a=0;a<this.precedences.length;a++)this.acceptHeaderValue=0!=a?this.acceptHeaderValue+","+this.precedences[a]:this.acceptHeaderValue+this.precedences[a]};y.prototype.registerParser=function(a,b){this.parsers[a]=b;this.precedences.push(a)};
y.prototype.unregisterParser=function(a){delete this.parsers[a];for(var b=[],d=0;d<this.precedences.length;d++)this.precedences[d]!=a&&b.push(this.precedences[d]);this.precedences=b};y.prototype.setAcceptHeaderPrecedence=function(a){this.precedences=a};y.prototype.load=function(a,b,d){var g=this;k.load(a,this.acceptHeaderValue,function(e,h){if(e)d(e);else{var k=h.headers["Content-Type"]||h.headers["content-type"],r=h.data;if(null!=k){var k=k.split(";")[0],n;for(n in g.parsers)if(-1!=n.indexOf("/")){var t=
n.split("/");if("*"===t[1]){if(-1!=k.indexOf(t[0]))return g.tryToParse(g.parsers[n],b,r,{documentURI:a},d)}else if(-1!=k.indexOf(n)||-1!=k.indexOf(t[1]))return g.tryToParse(g.parsers[n],b,r,{documentURI:a},d)}else if(-1!=k.indexOf(n))return g.tryToParse(g.parsers[n],b,r,{documentURI:a},d);d(Error("Unknown media type : "+k))}else d(Error("Uknown media type"))}})};y.prototype.loadFromFile=function(a,b,d,g){try{var e=this;u("fs").readFile(d.split("file:/")[1],function(h,k){h?g(h):(k=k.toString("utf8"),
e.tryToParse(a,b,k,{documentURI:d},g))})}catch(h){g(h)}};y.prototype.tryToParse=function(a,b,f,g,e){try{"string"===typeof f&&(f=d.normalizeUnicodeLiterals(f)),a.parse(f,b,g,e)}catch(h){console.log(h.message),console.log(h.stack),e(h)}};x.exports={RDFLoader:y}},{"./jsonld_parser":45,"./network_transport":47,"./rvn3_parser":58,"./utils":59,fs:5}],57:[function(u,x,y){var k=u("./utils"),r=u("./query_filters").QueryFilters;RDFModel={defaultContext:{rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",
owl:"http://www.w3.org/2002/07/owl#",xsd:"http://www.w3.org/2001/XMLSchema#",dcterms:"http://purl.org/dc/terms/",foaf:"http://xmlns.com/foaf/0.1/",cal:"http://www.w3.org/2002/12/cal/ical#",vcard:"http://www.w3.org/2006/vcard/ns# ",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",cc:"http://creativecommons.org/ns#",sioc:"http://rdfs.org/sioc/ns#",doap:"http://usefulinc.com/ns/doap#",com:"http://purl.org/commerce#",ps:"http://purl.org/payswarm#",gr:"http://purl.org/goodrelations/v1#",sig:"http://purl.org/signature#",
ccard:"http://purl.org/commerce/creditcard#",ldp:"http://www.w3.org/ns/ldp#"},UrisMap:function(){this.defaultNs="";this.interfaceProperties="get remove set setDefault addAll resolve shrink".split(" ")}};RDFModel.UrisMap.prototype.values=function(){var b={},d;for(d in this)k.include(this.interfaceProperties,d)||"function"===typeof this[d]||"defaultNs"===d||"interfaceProperties"===d||(b[d]=this[d]);return b};RDFModel.UrisMap.prototype.get=function(b){if(-1!=b.indexOf(" "))throw"Prefix must not contain any whitespaces";
return this[b]};RDFModel.UrisMap.prototype.remove=function(b){if(-1!=b.indexOf(" "))throw"Prefix must not contain any whitespaces";delete this[b];return null};RDFModel.UrisMap.prototype.set=function(b,d){if(-1!=b.indexOf(" "))throw"Prefix must not contain any whitespaces";this[b]=d};RDFModel.UrisMap.prototype.setDefault=function(b){this.defaultNs=b};RDFModel.UrisMap.prototype.addAll=function(b,d){for(var a in b)k.include(this.interfaceProperties,a)||(null!=this[a]?!0===d&&(this[a]=b[a]):this[a]=b[a]);
return this};RDFModel.UrisMap.prototype.resolve=function(b){var d=b.split(":");b=d[0];d=d[1];return""===b?null==this.defaultNs?null:this.defaultNs+d:null!=this[b]?this[b]+d:null};RDFModel.UrisMap.prototype.shrink=function(b){for(var d in this){var a=this[d];if(0===b.indexOf(a)&&""!==a&&"defaultNs"!=d)return b=b.split(a)[1],d+":"+b}return b};RDFModel.Profile=function(){this.prefixes=new RDFModel.UrisMap;this.terms=new RDFModel.UrisMap};RDFModel.Profile.prototype.importProfile=function(b,d){this.prefixes.addAll(b.prefixes,
d);this.terms.addAll(b.terms,d)};RDFModel.Profile.prototype.resolve=function(b){return-1!=b.indexOf(":")?this.prefixes.resolve(b):null!=this.terms[b]?this.terms.resolve(b):null};RDFModel.Profile.prototype.setDefaultPrefix=function(b){this.prefixes.setDefault(b)};RDFModel.Profile.prototype.setDefaultVocabulary=function(b){this.terms.setDefault(b)};RDFModel.Profile.prototype.setPrefix=function(b,d){this.prefixes.set(b,d)};RDFModel.Profile.prototype.setTerm=function(b,d){this.terms.set(b,d)};RDFModel.RDFEnvironment=
function(){RDFModel.Profile.call(this);this.blankNodeCounter=0;var b=this;this.filters={s:function(a){return function(b){return b.subject.equals(a)}},p:function(a){return function(b){return b.predicate.equals(a)}},o:function(a){return function(b){return b.object.equals(a)}},sp:function(a,b){return function(d){return d.subject.equals(a)&&d.predicate.equals(b)}},so:function(a,b){return function(d){return d.subject.equals(a)&&d.object.equals(b)}},po:function(a,b){return function(d){return d.predicate.equals(a)&&
d.object.equals(b)}},spo:function(a,b,d){return function(g){return g.subject.equals(a)&&g.predicate.equals(b)&&g.object.equals(d)}},describes:function(a){return function(b){return b.subject.equals(a)||b.object.equals(a)}},type:function(a){var c=b.resolve("rdf:type");return function(b){return b.predicate.equals(c)&&b.object.equals(a)}}};for(var d in RDFModel.defaultContext)this.prefixes.set(d,RDFModel.defaultContext[d])};RDFModel.RDFEnvironment.prototype=k.create(RDFModel.Profile.prototype,{constructor:RDFModel.RDFEnvironment});
RDFModel.RDFEnvironment.prototype.createBlankNode=function(){var b=new RDFModel.BlankNode(this.blankNodeCounter);this.blankNodeCounter++;return b};RDFModel.RDFEnvironment.prototype.createNamedNode=function(b){var d=this.resolve(b);return null!=d?new RDFModel.NamedNode(d):new RDFModel.NamedNode(b)};RDFModel.RDFEnvironment.prototype.createLiteral=function(b,d,a){return null!=a?new RDFModel.Literal(b,d,a.toString()):new RDFModel.Literal(b,d,a)};RDFModel.RDFEnvironment.prototype.createTriple=function(b,
d,a){return new RDFModel.Triple(b,d,a)};RDFModel.RDFEnvironment.prototype.createGraph=function(b){var d=new RDFModel.Graph;if(null!=b)for(var a=0;a<b.length;a++)d.add(b[a]);return d};RDFModel.RDFEnvironment.prototype.createAction=function(b,d){return function(a){return b(a)?d(a):a}};RDFModel.RDFEnvironment.prototype.createProfile=function(b){if(!0===b)return new RDFModel.RDFEnvironment.Profile;b=new RDFModel.RDFEnvironment.Profile;b.importProfile(this);return b};RDFModel.RDFEnvironment.prototype.createTermMap=
function(b){if(!0===b)return new RDFModel.UrisMap;b=this.terms.values();var d=new RDFModel.UrisMap,a;for(a in b)d[a]=b[a];return d};RDFModel.RDFEnvironment.prototype.createPrefixMap=function(b){if(!0===b)return new RDFModel.UrisMap;b=this.prefixes.values();var d=new RDFModel.UrisMap,a;for(a in b)d[a]=b[a];return d};RDFModel.RDFNode=function(b){this.interfaceName=b;this.attributes=["interfaceName","nominalValue"]};RDFModel.RDFNode.prototype.equals=function(b){if(null==b.interfaceName)return this.valueOf()==
b;for(var d in this.attributes){var a=this.attributes[d];if(this[a]!=b[a])return!1}return!0};RDFModel.BlankNode=function(b){RDFModel.RDFNode.call(this,"BlankNode");this.nominalValue="_:"+b;this.bnodeId=b};RDFModel.BlankNode.prototype=k.create(RDFModel.RDFNode.prototype,{constructor:RDFModel.BlankNode});RDFModel.BlankNode.prototype.toString=function(){return this.nominalValue};RDFModel.BlankNode.prototype.toNT=function(){return this.nominalValue};RDFModel.BlankNode.prototype.valueOf=function(){return this.nominalValue};
RDFModel.Literal=function(b,d,a){RDFModel.RDFNode.call(this,"Literal");this.nominalValue=b;null!=d?this.language=d:null!=a&&(this.datatype=a)};RDFModel.Literal.prototype=k.create(RDFModel.RDFNode.prototype,{constructor:RDFModel.Literal});RDFModel.Literal.prototype.toString=function(){var b='"'+this.nominalValue+'"';if(null!=this.language)b=b+"@"+this.language;else if(null!=this.datatype||this.type)b=b+"^^<"+(this.datatype||this.type)+">";return b};RDFModel.Literal.prototype.toNT=function(){return this.toString()};
RDFModel.Literal.prototype.valueOf=function(){return r.effectiveTypeValue({token:"literal",type:this.type||this.datatype,value:this.nominalValue,language:this.language})};RDFModel.NamedNode=function(b){RDFModel.RDFNode.call(this,"NamedNode");this.nominalValue=null!=b.value?b.value:b};RDFModel.NamedNode.prototype=k.create(RDFModel.RDFNode.prototype,{constructor:RDFModel.NamedNode});RDFModel.NamedNode.prototype.toString=function(){return this.nominalValue};RDFModel.NamedNode.prototype.toNT=function(){return"<"+
this.toString()+">"};RDFModel.NamedNode.prototype.valueOf=function(){return this.nominalValue};RDFModel.Triple=function(b,d,a){this.subject=b;this.predicate=d;this.object=a};RDFModel.Triple.prototype.equals=function(b){return this.subject.equals(b.subject)&&this.predicate.equals(b.predicate)&&this.object.equals(b.object)};RDFModel.Triple.prototype.toString=function(){return this.subject.toNT()+" "+this.predicate.toNT()+" "+this.object.toNT()+" . \r\n"};RDFModel.Graph=function(){this.triples=[];this.duplicates=
{};this.actions=[];this.length=0};RDFModel.Graph.prototype.add=function(b){for(var d=0;d<this.actions.length;d++)b=this.actions[d](b);d=b.subject.toString()+b.predicate.toString()+b.object.toString();this.duplicates[d]||(this.duplicates[d]=!0,this.triples.push(b));this.length=this.triples.length;return this};RDFModel.Graph.prototype.addAction=function(b,d){this.actions.push(b);if(1==d)for(var a=0;a<this.triples.length;a++)this.triples[a]=b(this.triples[a]);return this};RDFModel.Graph.prototype.addAll=
function(b){b=b.toArray();for(var d=0;d<b.length;d++)this.add(b[d]);this.length=this.triples.length;return this};RDFModel.Graph.prototype.remove=function(b){for(var d=null,a=0;a<this.triples.length;a++)if(this.triples[a].equals(b)){delete this.duplicates[b.subject.toString()+b.predicate.toString()+b.object.toString()];d=a;break}null!=d&&this.triples.splice(d,1);this.length=this.triples.length;return this};RDFModel.Graph.prototype.toArray=function(){return this.triples};RDFModel.Graph.prototype.some=
function(b){for(var d=0;d<this.triples.length;d++)if(!0===b(this.triples[d],this))return!0;return!1};RDFModel.Graph.prototype.every=function(b){for(var d=0;d<this.triples.length;d++)if(!1===b(this.triples[d],this))return!1;return!0};RDFModel.Graph.prototype.filter=function(b){for(var d=new RDFModel.Graph,a=0;a<this.triples.length;a++)!0===b(this.triples[a],this)&&d.add(this.triples[a]);return d};RDFModel.Graph.prototype.forEach=function(b){for(var d=0;d<this.triples.length;d++)b(this.triples[d],this)};
RDFModel.Graph.prototype.merge=function(b){b=new RDFModel.Graph;for(var d=0;d<this.triples.length;d++)b.add(this.triples[d]);return b};RDFModel.Graph.prototype.match=function(b,d,a,c){for(var f=new RDFModel.Graph,g=0,e=0;e<this.triples.length;e++){var h=this.triples[e];if(null==b||h.subject.equals(b))if(null==d||h.predicate.equals(d))if(null==a||h.object.equals(a))if(null==c||g<c)g++,f.add(h);else break}return f};RDFModel.Graph.prototype.removeMatches=function(b,d,a){for(var c=[],f=0;f<this.triples.length;f++){var g=
this.triples[f];if(null==b||g.subject.equals(b))null!=d&&!g.predicate.equals(d)||null!=a&&!g.object.equals(a)||c.push(g)}for(f=0;f<c.length;f++)this.remove(c[f]);return this};RDFModel.Graph.prototype.toNT=function(){var b="";this.forEach(function(d){b+=d.toString()});return b};RDFModel.buildRDFResource=function(b,d,a,c){return"blank"===b.token?RDFModel.buildBlankNode(b,d,a,c):"literal"===b.token?RDFModel.buildLiteral(b,d,a,c):"uri"===b.token?RDFModel.buildNamedNode(b,d,a,c):"var"===b.token?(b=d[b.value],
null!=b?RDFModel.buildRDFResource(b,d,a,c):null):null};RDFModel.buildBlankNode=function(b,d,a,c){null!=b.valuetmp&&(b.value=b.valuetmp);0===b.value.indexOf("_:")&&(b.value=b.value.split("_:")[1]);return new RDFModel.BlankNode(b.value)};RDFModel.buildLiteral=function(b,d,a,c){return new RDFModel.Literal(b.value,b.lang,b.type)};RDFModel.buildNamedNode=function(b,d,a,c){null==b.value&&null!=b.prefix&&(d=a.resolveNsInEnvironment(b.prefix,c),b.value=d+b.suffix);return new RDFModel.NamedNode(b)};RDFModel.rdf=
new RDFModel.RDFEnvironment;x.exports=RDFModel},{"./query_filters":54,"./utils":59}],58:[function(u,x,y){function k(b){switch(b[0]){case '"':return 0<b.indexOf("^^")?(b=b.split("^^"),{literal:b[0]+"^^<"+b[1]+">"}):{literal:b};case "_":return{blank:b.replace("b","")};default:return{token:"uri",value:b,prefix:null,suffix:null}}}var r=u("n3").Parser;x.exports={RVN3Parser:{parser:{async:!0,parse:function(b,d,a,c){c||(c=a,a=d,d=null);d&&"string"===typeof d&&(d={token:"uri",value:d,prefix:null,suffix:null});
a&&a.baseURI&&(a.documentIRI=a.baseURI);var f=[];(new r(a)).parse(b,function(a,b){a?c(a):b?f.push({subject:k(b.subject),predicate:k(b.predicate),object:k(b.object),graph:d}):c(!1,f)})},resetBlankNodeIds:function(){r._resetBlankNodeIds()}}}}},{n3:27}],59:[function(u,x,y){(function(k){var r=function(){return"undefined"!==typeof k&&k.nextTick?k.nextTick:"undefined"!==typeof window&&window.setImmediate?window.setImmediate:function(a){setTimeout(a,0)}}(),b=0,d=100,a=function(a){b++;b<d?a():(b=0,r(a))},
c=function(a){try{if(null==a)return"";if("uri"===a.token)return"u"+a.value;if("blank"===a.token)return"b"+a.value;if("literal"===a.token){var b="l"+a.value,b=b+(a.type||"");return b+=a.lang||""}}catch(c){if("object"===typeof a){b="";for(p in a)b=b+p+a[p];return b}return a}};parseISO8601=function(a){return Date.parse(a)};Date.prototype.toISOString||function(){function a(b){return 10>b?"0"+b:b}Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+
"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"."+(this.getUTCMilliseconds()/1E3).toFixed(3).slice(2,5)+"Z"}}();iso8601=function(a){return a.toISOString()};compareDateComponents=function(a,b){var c=parseISO8601(a),d=parseISO8601(b);return c==d?0:c<d?-1:1};lexicalFormLiteral=function(a,b){var c=a.value,d=a.lang,e=a.type,f=null;null!=c&&null!=e&&"string"!=typeof e?(c=e.value,null==c&&(c=e.suffix,e=b.namespaces[e.prefix],a.type=e+c,c=e+c),f=-1!=c.indexOf("hexBinary")?
'"'+a.value.toLowerCase()+'"^^<'+c+">":'"'+a.value+'"^^<'+c+">"):f=null==d&&null==e?'"'+c+'"':null==e?'"'+c+'"@'+d:-1!=e.indexOf("hexBinary")?'"'+a.value.toLowerCase()+'"^^<'+e+">":'"'+a.value+'"^^<'+e+">";return f};normalizeUnicodeLiterals=function(a){for(var b=a.match(/\\u[0-9abcdefABCDEF]{4,4}/g)||[],c={},d=0;d<b.length;d++)null==c[b[d]]&&(c[b[d]]=!0,a=a.replace(new RegExp("\\"+b[d],"g"),eval("'"+b[d]+"'")));return a};registerIndexedDB=function(a){if("undefined"===typeof window){var b=u("sqlite3"),
c=u("indexeddb-js"),b=new b.Database(":memory:"),c=c.makeScope("sqlite3",b);a.indexedDB=c.indexedDB;a.IDBKeyRange=c.IDBKeyRange}else window.indexedDB=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,window.IDBKeyRange=window.IDBKeyRange||window.webkitIDBKeyRange||window.msIDBKeyRange,window.indexedDB?(a.indexedDB=window.indexedDB,a.IDBKeyRange=window.IDBKeyRange):callback(null,Error("The browser does not support IndexDB."))};guid=function(){function a(){return Math.floor(65536*
(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()};var c=function(a){try{if(null==a)return"";if("uri"===a.token)return"u"+a.value;if("blank"===a.token)return"b"+a.value;if("literal"===a.token){var b="l"+a.value,b=b+(a.type||"");return b+=a.lang||""}}catch(c){if("object"===typeof a){b="";for(p in a)b=b+p+a[p];return b}return a}},f=function(a,b){for(var c=[],d=0;d<a.length;d++)b(a[d])&&c.push(a[d]);return c},g=function(a,b){if(a.forEach)a.forEach(b);
else for(var c=0;c<a.length;c++)b(a[c])};clone=function(a){return JSON.parse(JSON.stringify(a))};var e=function(){function a(){}return function(b){var c=typeof b;if("function"==c||b&&"object"==c){a.prototype=b;var d=new a;a.prototype=null}return d||void 0}}(),h=function(a,b,c){a()?b(function(d){if(d)return c(d);h(a,b,c)}):c()},l=function(b,c,d){d=d||function(){};if(!b.length)return d();var e=0,f=function(){c(b[e],function(c){c?(d(c),d=function(){}):(e+=1,e>=b.length?d():a(f))})};f()},v=function(a,
b,c,d){l(a,function(a,d){c(b,a,function(a,c){b=c;d(a)})},function(a){d(a,b)})};x.exports={nextTick:a,hasTerm:c,lexicalFormBaseUri:function(a,b){var c=null;b=b||{};if(null==a.value)var c=a.prefix,d=a.suffix,e=b.namespaces[c],c=null!=e?e+d:c+":"+d;else c=a.value;if(null===c)return null;-1==c.indexOf(":")&&(c=(b.base||"")+c);return c},parseISO8601:parseISO8601,compareDateComponents:compareDateComponents,iso8601:iso8601,normalizeUnicodeLiterals:normalizeUnicodeLiterals,lexicalFormLiteral:lexicalFormLiteral,
registerIndexedDB:registerIndexedDB,guid:guid,hashTerm:c,keys:function(a){var b=[],c;for(c in a)b.push(c);return b},values:function(a){var b=[],c;for(c in a)b.push(a[c]);return b},size:function(a){if(a.length)return a.length;var b=0,c;for(c in a)b++;return b},map:function(a,b){if(a.map)return a.map(b);for(var c=[],d=0;d<a.length;d++)c[d]=b(a[d]);return c},each:g,forEach:g,include:function(a,b){for(var c=0;c<a.length;c++)if(a[c]===b)return!0;return!1},reject:f,remove:f,clone:clone,create:e,whilst:h,
eachSeries:l,seq:function(){var a=arguments;return function(){var b=this,c=Array.prototype.slice.call(arguments),d=c.pop();v(a,c,function(a,c,d){c.apply(b,a.concat([function(){var a=arguments[0],b=Array.prototype.slice.call(arguments,1);d(a,b)}]))},function(a,c){d.apply(b,[a].concat(c))})}},yieldFrequency:function(a){d=a}}}).call(this,u("7YKIPe"))},{"7YKIPe":10}]},{},[43])(43)});
